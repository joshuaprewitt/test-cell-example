"use strict";
// National Instruments Copyright 2014
// National Instruments Copyright 2014
!function(){const e=Object.freeze({UNINITIALIZED:"UNINITIALIZED",READY:"READY",ERROR:"ERROR"}),t=Object.freeze({NATIVE:"NATIVE",VIREO:"VIREO"}),n=Object.freeze({IDE_EDIT:"IDE_EDIT",IDE_RUN:"IDE_RUN",BROWSER:"BROWSER"}),i=NationalInstruments.HtmlVI.NISupport,a=function(){const e=document.createElement("div");e.classList.add("ni-execution-buttons-box");const t=document.createElement("button");t.textContent="Start",t.type="button",t.classList.add("ni-execution-button","ni-start-button","disabled");const n=document.createElement("button");n.textContent="Abort",n.type="button",n.classList.add("ni-execution-button","ni-abort-button","disabled"),e.appendChild(t),e.appendChild(n);return{uiControls:e,startButton:t,abortButton:n,enableButtons:function(e,i){e?t.classList.remove("disabled"):t.classList.add("disabled"),i?n.classList.remove("disabled"):n.classList.add("disabled")}}},r=function(e,t){"READY"===t?e.enableButtons(!0,!1):"RUNNING"===t||"CONNECTING"===t||"CONNECTED"===t||"LISTENING"===t?e.enableButtons(!1,!0):e.enableButtons(!1,!1)},s=function(e){"CONNECTED"===e?i.info("CONNECTED"):i.info("CONNECTING")};class l extends NationalInstruments.HtmlVI.Elements.NIElement{addAllProperties(t){super.addAllProperties(t);const n=l.prototype;n.addProperty(t,{propertyName:"engine",defaultValue:""}),n.addProperty(t,{propertyName:"location",defaultValue:""}),n.addProperty(t,{propertyName:"vireoSource",defaultValue:""}),n.addProperty(t,{propertyName:"remoteAddress",defaultValue:""}),n.addProperty(t,{propertyName:"testMode",defaultValue:!1}),n.addProperty(t,{propertyName:"disableAutoStart",defaultValue:!1}),n.addProperty(t,{propertyName:"serviceState",defaultValue:e.UNINITIALIZED,fireEvent:!0}),n.addProperty(t,{propertyName:"maximumErrorMessageCount",defaultValue:100})}createdCallback(){super.createdCallback(),this._enableConnectionDialog=!1,this._frontEndElements=void 0,this.serviceState=e.UNINITIALIZED}attachedCallback(){const e=super.attachedCallback(),t=this;let n;return i.logVerbose("ni-web-application attachedCallback() firstCall="+e+" disableAutoStart="+t.disableAutoStart+" engine="+t.engine+" location="+t.location),NationalInstruments.HtmlVI.webApplicationModelsService.register(t),!0===e&&(!1===t.disableAutoStart&&"NATIVE"===t.engine&&"BROWSER"===t.location&&(t._enableConnectionDialog=!0,s(t.serviceState)),!0===t.disableAutoStart&&((n=a()).startButton.addEventListener("click",function(){!1===n.startButton.classList.contains("disabled")&&t.start()}),n.abortButton.addEventListener("click",function(){!1===n.abortButton.classList.contains("disabled")&&t.stop()}),t._frontEndElements=n,r(t._frontEndElements,t.serviceState),t.appendChild(n.uiControls))),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"serviceState":!0===this._enableConnectionDialog&&s(this.serviceState),!0===this.disableAutoStart&&r(this._frontEndElements,this.serviceState)}}detachedCallback(){NationalInstruments.HtmlVI.webApplicationModelsService.unregister(this)}start(){this.dispatchEvent(new CustomEvent("requested-start",{bubbles:!0,cancelable:!0,detail:{element:this}}))}stop(){this.dispatchEvent(new CustomEvent("requested-stop",{bubbles:!0,cancelable:!0,detail:{element:this}}))}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(l.prototype,"ni-web-application","HTMLNIWebApplication"),NationalInstruments.HtmlVI.Elements.WebApplication=l,NationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum=e,NationalInstruments.HtmlVI.Elements.WebApplication.PanelEngineEnum=t,NationalInstruments.HtmlVI.Elements.WebApplication.PanelLocationEnum=n}(),
// National Instruments Copyright 2014
function(){class e extends NationalInstruments.HtmlVI.Elements.NIElement{addAllProperties(t){super.addAllProperties(t);const n=e.prototype;n.addProperty(t,{propertyName:"viName",defaultValue:""}),n.addProperty(t,{propertyName:"viRef",defaultValue:""})}attachedCallback(){const e=super.attachedCallback();return NationalInstruments.HtmlVI.viReferenceService.registerVIElement(this),e}detachedCallback(){NationalInstruments.HtmlVI.viReferenceService.unregisterVIElement(this)}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(e.prototype,"ni-virtual-instrument","HTMLNIVirtualInstrument"),NationalInstruments.HtmlVI.Elements.VirtualInstrument=e}(),
// National Instruments Copyright 2014
function(){class e extends NationalInstruments.HtmlVI.Elements.NIElement{addAllProperties(t){super.addAllProperties(t),e.prototype.addProperty(t,{propertyName:"disabled",defaultValue:!1})}createdCallback(){super.createdCallback(),this._latestSize={width:void 0,height:void 0},this._temporaryModelSettingsHolder=void 0}attachedCallback(){const e=super.attachedCallback(),t=this;return e&&t.addEventListener("resizeEventHack",function(e){const n=parseInt(e.detail.width),i=parseInt(e.detail.height);t._latestSize.width===n&&t._latestSize.height===i||(t._latestSize.height=i,t._latestSize.width=n,t.forceResize(t._latestSize))}),e}forceResize(e){}}NationalInstruments.HtmlVI.Elements.VisualComponent=e}(),
// National Instruments Copyright 2014
function(){class e extends NationalInstruments.HtmlVI.Elements.VisualComponent{addAllProperties(t){super.addAllProperties(t),e.prototype.addProperty(t,{propertyName:"readOnly",defaultValue:!1})}isTextEditFocusable(){return!1}setFont(e,t,n,i,a){this.style.fontSize=e,this.style.fontFamily=t,this.style.fontWeight=n,this.style.fontStyle=i,this.style.textDecoration=a}}NationalInstruments.HtmlVI.Elements.Visual=e}(),
// National Instruments Copyright 2015
function(e,t){const n=NationalInstruments.HtmlVI.NISupport;class i extends NationalInstruments.HtmlVI.Elements.Visual{addAllProperties(e){super.addAllProperties(e);const t=i.prototype;t.addProperty(e,{propertyName:"text",defaultValue:"",fireEvent:!0,addNonSignalingProperty:!0}),t.addProperty(e,{propertyName:"acceptsReturn",defaultValue:!1}),t.addProperty(e,{propertyName:"typeToReplace",defaultValue:!1}),t.addProperty(e,{propertyName:"wordWrap",defaultValue:!1}),n.setValuePropertyDescriptor(e,"text","text","textNonSignaling","text-changed")}isTextEditFocusable(){return!0}attachedCallback(){const e=super.attachedCallback();let t;const n=this;let i=!1;return!0===e&&((t=document.createElement("textarea")).classList.add("ni-text-field"),t.value=this.text,t.readOnly=this.readOnly,t.disabled=this.disabled,t.wrap=this.wordWrap?"soft":"off",t.addEventListener("change",function(){const e=t.value;n.text!==e&&(n.text=e)}),t.addEventListener("click",function(){n.typeToReplace&&!i&&(i=!0,t.focus(),t.select())}),t.addEventListener("blur",function(){const e=t.value;i=!1,n.text!==e&&(n.text=e)}),t.addEventListener("keydown",function(e){if((!1===n.acceptsReturn||!0===e.ctrlKey)&&13===e.keyCode)return t.blur(),!1}),this.innerHTML="",this.appendChild(t)),e}propertyUpdated(e){super.propertyUpdated(e);const t=this.firstElementChild;switch(e){case"readOnly":t.readOnly=this.readOnly;break;case"text":t.value=this.text;break;case"wordWrap":t.wrap=this.wordWrap?"soft":"off";break;case"disabled":t.disabled=this.disabled}}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(i.prototype,"ni-string-control","HTMLNIStringControl"),NationalInstruments.HtmlVI.Elements.StringControl=i}(),
// National Instruments Copyright 2018
function(){const e=Object.freeze({ABSOLUTE:"absolute",FLEXIBLE:"flexible"});class t extends NationalInstruments.HtmlVI.Elements.Visual{static get LayoutsEnum(){return e}addAllProperties(e){super.addAllProperties(e),t.prototype.addProperty(e,{propertyName:"layout",defaultValue:n.ABSOLUTE})}}NationalInstruments.HtmlVI.Elements.LayoutControl=t;const n=NationalInstruments.HtmlVI.Elements.LayoutControl.LayoutsEnum}(),JQX("ni-hyperlink",class extends JQX.BaseElement{static get properties(){return{href:{value:"",type:"string"},content:{value:"",type:"string"}}}template(){return"<a></a>"}ready(){const e=this;super.ready();const t=e.firstElementChild;e.disabled||t.setAttribute("href",e.href),t.textContent=e.content}propertyChangedHandler(e,t,n){const i=this;super.propertyChangedHandler(e,t,n);const a=i.firstElementChild;switch(e){case"href":i.disabled||a.setAttribute("href",i.href);break;case"content":a.textContent=i.content;break;case"disabled":i.disabled?a.removeAttribute("href"):a.setAttribute("href",i.href)}}}),
// National Instruments Copyright 2015
function(){class e extends NationalInstruments.HtmlVI.Elements.Visual{addAllProperties(t){super.addAllProperties(t),e.prototype.addProperty(t,{propertyName:"text",defaultValue:""})}attachedCallback(){const e=super.attachedCallback();let t;return!0===e&&((t=document.createElement("div")).textContent=this.text,this.appendChild(t)),e}propertyUpdated(e){super.propertyUpdated(e);const t=this.firstElementChild;switch(e){case"text":t.textContent=this.text}}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(e.prototype,"ni-text","HTMLNIText"),NationalInstruments.HtmlVI.Elements.Text=e}(),
// National Instruments Copyright 2015
function(){class e extends NationalInstruments.HtmlVI.Elements.Visual{addAllProperties(t){super.addAllProperties(t);const n=e.prototype;n.addProperty(t,{propertyName:"text",defaultValue:""}),n.addProperty(t,{propertyName:"controlId",defaultValue:""})}attachedCallback(){const e=super.attachedCallback();if(!0===e){const e=document.createElement("label");this.appendChild(e),e.textContent=this.text}return e}propertyUpdated(e){super.propertyUpdated(e);const t=this.firstElementChild;switch(e){case"text":t.textContent=this.text}}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(e.prototype,"ni-label","HTMLNILabel"),NationalInstruments.HtmlVI.Elements.Label=e}(),
// National Instruments Copyright 2015
function(){const e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery,n=Object.freeze({ABSOLUTE:"absolute",RELATIVE:"relative"}),i=function(e){const n=t(e.firstElementChild),i=t(e._popoverTag);if(!0===e.popupEnabled){const e=n.find(".jqx-path-control-button");i.jqxPopover({selector:e,position:"right",animationOpenDelay:0,animationCloseDelay:0})}else i.jqxPopover("destroy")},a=function(e){return 0!==e.length},r=function(e){let t,i=e.split("/");return t=0===i[0].length?n.ABSOLUTE:n.RELATIVE,{components:i=i.filter(a),type:t}},s=function(e){if(void 0===(e=JSON.parse(e))||void 0===e.components)return"";let t=e.components.join("/");return e.type===n.ABSOLUTE&&(t="/"+t,1===e.components.length&&(t+="/")),t};class l extends NationalInstruments.HtmlVI.Elements.Visual{addAllProperties(t){super.addAllProperties(t);const i=l.prototype;i.addProperty(t,{propertyName:"path",defaultValue:JSON.stringify({components:[],type:n.ABSOLUTE}),fireEvent:!0,addNonSignalingProperty:!0}),i.addProperty(t,{propertyName:"format",defaultValue:"windows"}),i.addProperty(t,{propertyName:"popupEnabled",defaultValue:!1}),e.setValuePropertyDescriptor(t,"path","path","pathNonSignaling","path-changed")}isTextEditFocusable(){return!0}setPath(e){this.isNotAPath()&&""===e||(this.path=JSON.stringify(r(e)))}setNotAPath(){this.path=JSON.stringify({components:[],type:n.ABSOLUTE})}isNotAPath(){const e=JSON.parse(this.path);return null==e||void 0===e.components||0===e.components.length&&e.type===n.ABSOLUTE}createdCallback(){super.createdCallback(),this._popoverTag=void 0}attachedCallback(){const n=super.attachedCallback(),a=this;let r,l,o,d;return!0===n&&((r={}).readOnly=this.readOnly,r.pathFormat=this.format,r.accept=".*",(l=document.createElement("div")).classList.add("ni-path-box"),this.appendChild(l),(o=t(l)).jqxPathControl(r),o.jqxPathControl("val",s(this.path)),this._popoverTag=document.createElement("div"),(d=document.createElement("button")).classList.add("ni-path-selector","ni-not-a-path-reset-button"),d.type="button",d.textContent=e.i18n("msg_SET_TO_NOT_A_PATH"),d.addEventListener("click",function(){t(a._popoverTag).jqxPopover("close"),a.setNotAPath()}),this._popoverTag.appendChild(d),i(this),o.on("change",function(){a.setPath(o.val("unix"))})),n}forceResize(e){super.forceResize(e),t(this.firstElementChild).jqxPathControl(e)}propertyUpdated(e){super.propertyUpdated(e);const n=this.firstElementChild,a=t(n);switch(e){case"readOnly":a.jqxPathControl({readOnly:this.readOnly});break;case"path":this.isNotAPath()?a.jqxPathControl("clear"):a.jqxPathControl("val",s(this.path));break;case"format":a.jqxPathControl({pathFormat:this.format});break;case"popupEnabled":i(this)}}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(l.prototype,"ni-path-selector","HTMLNIPathSelector"),NationalInstruments.HtmlVI.Elements.PathSelector=l,NationalInstruments.HtmlVI.Elements.PathSelector.PathTypeEnum=n}(),
// National Instruments Copyright 2015
function(){const e=NationalInstruments.HtmlVI.NISupport,t=Object.freeze({NONE:"none",UNIFORM:"uniform",UNIFORM_TO_FILL:"uniformtofill",FILL:"fill"}),n=function(e){const n=e,i=document.createElement("div");i.classList.add("ni-image-box"),i.style.width="100%",i.style.height="100%",""!==n.source&&(i.style.backgroundImage="url("+n.source+")"),""!==n.stretch&&n.stretch!==t.NONE&&i.classList.add("ni-stretch-"+n.stretch),i.title=n.alternate,n.innerHTML="",n.appendChild(i)};class i extends NationalInstruments.HtmlVI.Elements.Visual{addAllProperties(n){super.addAllProperties(n);const a=i.prototype;a.addProperty(n,{propertyName:"source",defaultValue:"",fireEvent:!0,addNonSignalingProperty:!0}),a.addProperty(n,{propertyName:"alternate",defaultValue:""}),a.addProperty(n,{propertyName:"stretch",defaultValue:t.UNIFORM}),e.setValuePropertyDescriptor(n,"source","source","sourceNonSignaling","source-changed")}attachedCallback(){const e=super.attachedCallback();return!0===e&&n(this),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"source":case"alternate":case"stretch":n(this)}}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(i.prototype,"ni-url-image","HTMLNIUrlImage"),NationalInstruments.HtmlVI.Elements.UrlImage=i,NationalInstruments.HtmlVI.Elements.UrlImage.StretchEnum=t}(),
//National Instruments Copyright 2014
function(){const e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.HtmlVI.ValueConverters.ElementValueConverter,n=NationalInstruments.HtmlVI.ValueConverters.DeepCopyValueConverter,i=window.NIType,a=function(e,n){const i=e[n];return t.convertBack(e,i)},r=function(e,n,i){const a=t.convert(e,i);e[n]=a},s=function(e){let t,n={};if(null!==e)try{"object"==typeof(t=JSON.parse(e))&&null!==t&&(n=t)}catch(e){}return n},l=function(t){let n={},i={},a={};const r=function(e,t){return{labelElement:e,controlMeta:t}},s=function(){if(void 0===t._niTypeInstance)return!1;const n=t._niTypeInstance.getFields();let a,r,s,l;for(a=0;a<n.length;a++){if(r=n[a],void 0===(s=i[r])||void 0===s.controlMeta)return e.infoVerbose("Cluster ("+t.niControlId+") has invalid cache: either label or control missing for field: "+r),!1;if((l=s.controlMeta.controlElement).parentElement!==t)return e.infoVerbose("Cluster ("+t.niControlId+") has invalid cache: child control ("+l.niControlId+") not attached for field: "+r),!1;if(void 0===t._clusterValue[r])return e.infoVerbose("Cluster ("+t.niControlId+") has invalid cache: cluster value missing for field: "+r),!1}return!0};return{updateCacheIfNeededAndValidate:function(){let e=s();if(e)return!0;!function(){let e,t;for(e in n)n.hasOwnProperty(e)&&void 0!==(t=n[e]).listener&&(t.controlElement.removeEventListener(t.controlElement.valuePropertyDescriptor.eventName,t.listener),t.listener=void 0)}(),n={},i={},a={};let l,o,d,u=0;for(u=0;u<t.childNodes.length;u++)void 0!==(d=t.childNodes[u]).labelId&&(""===d.labelId?(void 0===(l=a[d.niControlId])?(l=r(d,void 0),a[d.niControlId]=l):l.labelElement=d,i[d.text]=l):(o={controlElement:d,listener:void 0},n[d.niControlId]=o,void 0===(l=a[d.labelId])?(l=r(void 0,o),a[d.labelId]=l):l.controlMeta=o));return(e=s())?(function(){const e=t._niTypeInstance.getFields();let n,a;for(n=0;n<e.length;n++)(a=i[e[n]].controlMeta).listener=t.childChanged.bind(t,a.controlElement),a.controlElement.addEventListener(a.controlElement.valuePropertyDescriptor.eventName,a.listener)}(),!0):(n={},i={},a={},!1)},getChildByFieldName:function(e){const t=i[e];if(void 0!==t&&void 0!==t.controlMeta)return t.controlMeta.controlElement}}};class o extends NationalInstruments.HtmlVI.Elements.LayoutControl{addAllProperties(t){super.addAllProperties(t);const i=o.prototype;Object.defineProperty(i,"value",{get:function(){return n.deepCopy(this._clusterValue)},set:function(e){const t=this._clusterValue;n.isDeepEqual(t,e)||(this._clusterValue=n.deepCopy(e),this.dispatchEvent(new CustomEvent("value-changed",{bubbles:!0,cancelable:!1,detail:{newValue:e,oldValue:t}})),!1===this._childValueChanging&&this.updateChildValues())},configurable:!1,enumerable:!0}),Object.defineProperty(i,"valueNonSignaling",{get:function(){return n.deepCopy(this._clusterValue)},set:function(e){n.isDeepEqual(this._clusterValue,e)||(this._clusterValue=n.deepCopy(e),!1===this._childValueChanging&&this.updateChildValues())},configurable:!1,enumerable:!1}),i.addProperty(t,{propertyName:"niType",defaultValue:'{"name":"Cluster","fields":[],"subtype":[]}'}),e.setValuePropertyDescriptor(t,"value","value","valueNonSignaling","value-changed")}makeValueObj(){const e=this._niTypeInstance.getFields(),t={};let n,i,r;for(n=0;n<e.length;n++)r=e[n],i=this._childCache.getChildByFieldName(r),t[r]=a(i,i.valuePropertyDescriptor.propertyName);return t}childChanged(e,t){if(e===t.target&&!1===this._childValueChanging){const e=this.makeValueObj();this._childValueChanging=!0,this.value=e,this._childValueChanging=!1}}disableChildren(){const t=this;this.childNodes.forEach(function(n){e.isElement(n)&&(n.disabled=t.disabled)})}createdCallback(){super.createdCallback(),this._childValueChanging=!1,this._clusterValue=void 0,this._niTypeInstance=void 0,this._childCache=l(this),this._updateChildValuesQueued=!1}connectedCallback(){this._clusterValue=s(this.getAttribute("value")),this._niTypeInstance=new i(this.niType),super.connectedCallback()}attachedCallback(){const e=super.attachedCallback();return e&&(this._niTypeInstance=new i(this.niType),this.queueUpdateChildValues()),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"niType":this._niTypeInstance=new i(this.niType),this.queueUpdateChildValues();break;case"disabled":this.disableChildren()}}queueUpdateChildValues(){const e=this;let t;!1===e._updateChildValuesQueued&&((t=e.updateChildValues())?e.disableChildren():(e._updateChildValuesQueued=!0,window.requestAnimationFrame(function(){e._updateChildValuesQueued=!1,e.queueUpdateChildValues()})))}updateChildValues(){if(!1===this._childCache.updateCacheIfNeededAndValidate())return!1;const e=this._niTypeInstance.getFields(),t=n.deepCopy(this._clusterValue);let i,a,s=0;for(s=0;s<e.length;s++)i=e[s],a=this._childCache.getChildByFieldName(i),this._childValueChanging=!0,r(a,a.valuePropertyDescriptor.propertyNameNonSignaling,t[i]),this._childValueChanging=!1;return!0}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(o.prototype,"ni-cluster","HTMLNICluster"),NationalInstruments.HtmlVI.Elements.Cluster=o}(),JQX("ni-flexible-layout-container",class extends JQX.BaseElement{static get properties(){return{direction:{value:"row",type:"string",defaultReflectToAttribute:!0},horizontalContentAlignment:{value:"flex-start",type:"string",defaultReflectToAttribute:!0},verticalContentAlignment:{value:"flex-start",type:"string",defaultReflectToAttribute:!0}}}template(){return""}}),JQX("ni-flexible-layout-group",class extends JQX.BaseElement{template(){return""}}),JQX("ni-flexible-layout-component",class extends JQX.BaseElement{template(){return""}}),JQX("ni-flexible-layout-wrapper",class extends JQX.BaseElement{template(){return""}}),
// National Instruments Copyright 2018
function(){class e extends NationalInstruments.HtmlVI.Elements.LayoutControl{}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(e.prototype,"ni-front-panel","HTMLNIFrontPanel"),NationalInstruments.HtmlVI.Elements.FrontPanel=e}(),
// National Instruments Copyright 2014
function(){const e=NationalInstruments.Globals.jQuery,t=NationalInstruments.HtmlVI.NISupport,n=NationalInstruments.HtmlVI.ValueConverters.ElementValueConverter,i=window.NIType,a=NationalInstruments.HtmlVI.ValueConverters.DeepCopyValueConverter,r="ni-rethemed",s=Symbol("niArrayElementChange"),l=function(e,t,n){let i=e.tagName;const a=e.parentElement;let r,s,l;if(a instanceof NationalInstruments.HtmlVI.Elements.Cluster){for(s=1,r=0;r<a.childNodes.length&&(l=a.childNodes[r])!==e;r++)l.tagName===e.tagName&&s++;i=i+":nth-of-type("+s+")"}return t||void 0===e.niControlId||(i=i+"[ni-control-id='"+e.niControlId+"']"),e instanceof NationalInstruments.HtmlVI.Elements.ArrayViewer&&!0!==n&&(t?i+=" > div > div > div > div > table > tbody > tr > td > div.jqx-array-element":i=i+" div.jqx-array-element-"+e.childElement.id),i},o=function(e,t){const n=[];let i,a=t;for(;a!==e&&null!==a;)n.push(a),a=a.parentElement;if(null===a)return null;for(i=l(e,!1,0===n.length);n.length>0;)a=n.pop(),i=i.concat(" > ",l(a,!0,0===n.length));return i},d=function(e,t,n){if(!0===e._settingArrayValue||!0===e._clearingArrayValue||!0===e._creatingArrayValue)return;let i;if(e._settingArrayValue=!0,e._arrayValue=null!==t?t:[],n){if(void 0===e._oldArrayValue)throw new Error("Expected _oldArrayValue to already be set when responding to user update to array");i=e._oldArrayValue,e._oldArrayValue=void 0,e.dispatchEvent(new CustomEvent("value-changed",{bubbles:!0,cancelable:!1,detail:{newValue:t,oldValue:i}}))}else e._jqxArrayInitialized&&e.jqref.jqxArray({value:e._arrayValue});e._settingArrayValue=!1},u=function(e){let t,n=[];if(null!==e)try{t=JSON.parse(e),Array.isArray(t)&&(n=t)}catch(e){}return n},c=function(e,t){const n=e.mutationObserver;null!==n&&void 0!==n.observe&&n.observe(e,{childList:!0,attributes:!1,subtree:t})},h=function(e){null!==e.mutationObserver&&"function"==typeof e.mutationObserver.disconnect&&e.mutationObserver.disconnect()},p=function(e){let t=0,n=e.getSubtype(),i=[];if(!1===n.isVoid())for(i.push(n);i.length>0;)((n=i.shift()).isCluster()||n.isArray())&&(i=i.concat(n.getSubtype())),t+=1;return t},m=function(e){return t.isElement(e)&&null!==e.niControlId&&"NI-LABEL"!==e.tagName},f=function(e){const n=e;let i=0,a=0,r=0,s=!1,l=null;n.mutationObserver=new window.MutationObserver(function(o){o.forEach(function(a){if("childList"===a.type){for(a.target===n&&(a.addedNodes.length>0&&m(a.addedNodes[0])?l=a.addedNodes[0]:a.removedNodes.length>0&&t.isElement(a.removedNodes[0])&&(l=null,s=!0),e._expectedChildrenCount=p(n._niTypeInstance)),r=0;r<a.addedNodes.length;r+=1){const e=a.addedNodes[r];m(e)&&(i+=1)}for(r=0;r<a.removedNodes.length;r+=1){const e=a.removedNodes[r];m(e)&&(i-=1)}}}),n.templateControl===l&&0!==i||0!==a||(a=window.requestAnimationFrame(function(){s&&n.clearArrayType(!0),null!==l&&n.createArray(l),a=0,s=!1}))})},g=function(e){return(({left:e,top:t,width:n,height:i})=>({left:e,top:t,width:n,height:i}))(window.getComputedStyle(e))};class y extends NationalInstruments.HtmlVI.Elements.Visual{addAllProperties(e){super.addAllProperties(e);const n=y.prototype;Object.defineProperty(n,"value",{get:function(){return a.deepCopy(this._arrayValue)},set:function(e){d(this,e,!0)},configurable:!1,enumerable:!0}),Object.defineProperty(n,"valueNonSignaling",{get:function(){return a.deepCopy(this._arrayValue)},set:function(e){d(this,e,!1)},configurable:!1,enumerable:!1}),n.addProperty(e,{propertyName:"niType",defaultValue:'{"name":"Array","rank":1,"subtype":"Void"}'}),n.addProperty(e,{propertyName:"dimensions",defaultValue:1}),n.addProperty(e,{propertyName:"orientation",defaultValue:"horizontal"}),n.addProperty(e,{propertyName:"indexEditorWidth",defaultValue:53}),n.addProperty(e,{propertyName:"indexVisibility",defaultValue:!1}),n.addProperty(e,{propertyName:"verticalScrollbarVisibility",defaultValue:!1}),n.addProperty(e,{propertyName:"horizontalScrollbarVisibility",defaultValue:!1}),n.addProperty(e,{propertyName:"focusedCell",defaultValue:""}),n.addProperty(e,{propertyName:"rowsAndColumns",defaultValue:"1,1"}),n.addProperty(e,{propertyName:"isEmpty",defaultValue:!1}),t.setValuePropertyDescriptor(e,"value","value","valueNonSignaling","value-changed")}getFullCssSelectorForNIVisual(e){return o(this,e)}arrayElementSizeChanged(e){let t,n;const i=e.width,a=e.height;if(i===this._elementWidth&&a===this._elementHeight)return;this._elementWidth=i,this._elementHeight=a;const r=i+"px",s=a+"px";null!==this.templateControl&&(this.nodeCss[this.templateControl.niControlId].width=r,this.nodeCss[this.templateControl.niControlId].height=s),this.jqref.jqxArray("resizeElement",i,a);const o=document.querySelectorAll(l(this,!1));for(t=0;t<o.length;t++)(n=o[t].firstElementChild).style.width=r,n.style.height=s,void 0!==n.forceResize&&n.forceResize({width:i,height:a})}createdCallback(){const e=this;super.createdCallback(),this.childElement=null,this.jqref=null,this.nodeCss={},this.templateControl=null,this.mutationObserver=null,this.attributeMutationObserver=null,Object.defineProperty(this,"elementSize",{configurable:!1,enumerable:!0,get:function(){return{width:this._elementWidth,height:this._elementHeight}},set:function(t){e.arrayElementSizeChanged(t)}}),this.rows=1,this.columns=1,this._userUpdate=!1,this._settingArrayValue=!1,this._useAttributeMutationObserver=!0,this._elementWidth=0,this._elementHeight=0,this._nodeLabelMap=[],this._clearingArrayValue=!1,this._creatingArrayValue=!1,this._settingElementValue=!1,this._arrayValue=[],this._niTypeInstance=void 0,this._oldArrayValue=void 0}connectedCallback(){this._arrayValue=u(this.getAttribute("value")),super.connectedCallback()}clearArrayType(e){h(this),this.templateControl=null,this._clearingArrayValue=!0;const t={type:"none",dimensions:this.dimensions,indexerWidth:this.indexEditorWidth,showIndexDisplay:this.indexVisibility,showHorizontalScrollbar:this.horizontalScrollbarVisibility,showVerticalScrollbar:this.verticalScrollbarVisibility,disabled:this.disabled,theme:r};e?this.jqref.jqxArray(t):(t.width=this.style.width,t.height=this.style.height,this.jqref.jqxArray(t),this.updateIndexerTheme()),this._jqxArrayInitialized=!0,this.isEmpty=!0,this._clearingArrayValue=!1,c(this,!0)}forceResize(e){super.forceResize(e),null===this.templateControl&&this.jqref.jqxArray({width:e.width+"px",height:e.height+"px"}),this.style.height=e.height+"px",this.style.width=e.width+"px",this.jqref.find("div.jqx-array-scrollbar-horizontal, div.jqx-array-scrollbar-vertical").jqxScrollBar("refresh")}attachedCallback(){const t=super.attachedCallback();if(t){let t,n=null;const a=this;for(this.parseRowsAndColumns(),t=0;t<this.childNodes.length;t++)if("NI-LABEL"!==this.childNodes[t].tagName){n=this.childNodes[t];break}this.childElement=document.createElement("div"),this.appendChild(this.childElement),this.jqref=e(this.childElement),this._niTypeInstance=new i(this.niType),this._expectedChildrenCount=p(this._niTypeInstance),f(this),null!==n?NationalInstruments.HtmlVI.Elements.NIElement.addNIEventListener("attached",function(){a.createArray(n)}):this.clearArrayType(!1),this.jqref.on("change",function(e){e.target!==a.childElement||void 0!==e.detail&&"api"===e.detail.changeType||(a.value=a.jqref.val())}),this.jqref.on("scroll",function(){const e={bubbles:!0,cancelable:!0,detail:{indices:a.jqref.jqxArray("getIndexerValue"),originalSource:this.childElement}};a.dispatchEvent(new CustomEvent("scroll-changed",e))})}return t}detachedCallback(){super.detachedCallback(),h(this),this.mutationObserver=null,this.templateControl=null}updateFromTemplate(e,n,i){e.niControlId=t.uniqueId(),e._preventModelCreation=!0,e.visible=!0;let a=this.nodeCss[n.niControlId];void 0===a&&(a=g(n),this.nodeCss[n.niControlId]=a),e.style.width=a.width,e.style.height=a.height,e.style.display="",i?(e.style.left=a.left,e.style.top=a.top):(e.style.left="",e.style.top="");let r,s=0;for(r=0;r<n.childNodes.length;r++)t.isElement(n.childNodes[r])&&void 0!==e.childNodes[s]&&(this.updateFromTemplate(e.childNodes[s],n.childNodes[r],!0),"NI-LABEL"===n.childNodes[r].tagName&&(this._nodeLabelMap[n.childNodes[r].niControlId]=e.childNodes[s].niControlId),s++)}updateLabelIds(e){let n,i;if(!t.isElement(e))return null;for(n=0;n<e.childNodes.length;n++)"NI-LABEL"!==e.childNodes[n].tagName&&(void 0===(i=this._nodeLabelMap[e.childNodes[n].labelId])&&(i=""),e.childNodes[n].labelId=i,this.updateLabelIds(e.childNodes[n]))}copyNIElement(e){if(!t.isElement(e)||NationalInstruments.JQXElement.isJQXElementSubPart(e))return null;const n=t.cloneControlElement(e),i=t.getTemplateId(e);if(void 0!==i?t.setTemplateId(n,i):t.setTemplateId(n,e.niControlId),e.childNodes.length>0)for(let t=0;t<e.childNodes.length;t++){const i=this.copyNIElement(e.childNodes[t]);null!==i&&n.appendChild(i)}return n}updateTemplateCss(e){this.nodeCss[e.niControlId]=g(e)}recreateCells(t){let n,i,a;const r=this;if(null===r.templateControl||void 0===r.templateControl)return;const s=function(t,n){let i,s;if(null!=(a=r.jqref.jqxArray("getElement",t,n))){for(s=e(a),i=r.jqref.jqxArray("getElementValue",s,{x:n,y:t});a.hasChildNodes();)a.removeChild(a.lastChild);r.jqref.jqxArray("elementTemplate",s),r.jqref.jqxArray("setElementValue",i,s,{x:n,y:t})}};if(t)for(n=0;n<this.rows;n++)for(i=0;i<this.columns;i++)s(n,i);else void 0!==this._focusedColumn&&void 0!==this._focusedRow&&s(this._focusedRow,this._focusedColumn);window.requestAnimationFrame(function(){r.updateFocusedCell()})}setDefaultValue(e){this.jqref.jqxArray("setDefaultValue",e)}createArray(t){const i=this;h(this),this._creatingArrayValue=!0;const l=t.valuePropertyDescriptor.propertyName,o=t.valuePropertyDescriptor.eventName,d=t.valuePropertyDescriptor.propertyNameNonSignaling;let u=t[l];t.classList.add("array-template"),t.style.left="0px",t.style.top="0px",t.style.display="none",t.labelId="",this.templateControl=t,void 0!==u&&(u=n.convertBack(t,u)),this.nodeCss={};const p=g(t);this.nodeCss[t.niControlId]=p,this._elementWidth=parseInt(p.width),this._elementHeight=parseInt(p.height),this.jqref.jqxArray({elementWidth:this._elementWidth,elementHeight:this._elementHeight,elementTemplate:function(n){i._nodeLabelMap=[];const r=i.copyNIElement(t);e(r).removeClass("array-template");const l=n[0],d=i.nodeCss[t.niControlId];i.updateFromTemplate(r,t,!1),i.updateLabelIds(r),r.disabled=i.disabled,l.style.width=d.width,l.style.height=d.height,n.on("change",function(e){void 0!==e.detail&&!0===e.detail[s]||e.stopImmediatePropagation()}),l.appendChild(r),void 0!==r.forceResize&&(r.connectedCallback(),r.forceResize({width:i._elementWidth,height:i._elementHeight}));e(r).on(o,function(t){if(!i._settingElementValue&&void 0!==t.detail&&"api"!==t.detail.changeType&&t.originalEvent.target===r&&!n.supressChange){if(void 0!==i._oldArrayValue)throw new Error("Expected _oldArrayValue to be undefined when starting a user change of the array");!1===i._settingArrayValue&&!1===i._clearingArrayValue&&!1===i._creatingArrayValue&&function(t){const n=e(t).data(),a=n.col,r=n.row,s=i.jqref.jqxArray("_getValueInCell",r,a),l=i.jqref.jqxArray("_getElementValue",t,{x:a,y:r},!0);return i.jqref.jqxArray("_areDifferent",l,s)}(n)&&(i._oldArrayValue=a.deepCopy(i._arrayValue)),n.trigger(e.Event("change",{detail:{[s]:!0}}))}})},changeProperty:function(e,t,n){"width"===e?n.css({width:t}):"height"===e?n.css({height:t}):"disabled"===e&&n.css({disabled:t})},getElementValue:function(e,t){const i=e[0].firstElementChild,a=i[l];if(void 0!==a)try{return n.convertBack(i,a)}catch(e){return a}return a},setElementValue:function(e,t,a){if(void 0!==e){const a=t[0].firstElementChild;try{i._settingElementValue=!0,a[d]=n.convert(a,e),i._settingElementValue=!1}catch(e){}}},type:"custom",dimensions:this.dimensions,indexerWidth:this.indexEditorWidth,showIndexDisplay:this.indexVisibility,customWidgetDefaultValue:u,showHorizontalScrollbar:this.horizontalScrollbarVisibility,showVerticalScrollbar:this.verticalScrollbarVisibility,disabled:this.disabled,theme:r,value:i._arrayValue}),this._jqxArrayInitialized=!0,e.data(this.childElement).jqxArray.instance._tdBorder-=2,this.jqref.jqxArray({rows:this.rows,columns:this.columns}),this.jqref.jqxArray({showHorizontalScrollbar:this.horizontalScrollbarVisibility,showVerticalScrollbar:this.verticalScrollbarVisibility}),this.isEmpty=!1,this.jqref.addClass("ni-array-viewer-box"),this.jqref.find(" .jqx-array-indexer").addClass("ni-indexer-box"),this.jqref.find(" .jqx-input-content").addClass("ni-text-field"),this.jqref.find(" .jqx-input.jqx-rc-r").addClass("ni-spins-box"),this.jqref.find(" .jqx-action-button").addClass("ni-spin-button"),this.jqref.find(" .jqx-icon-arrow-up").addClass("ni-increment-icon"),this.jqref.find(" .jqx-icon-arrow-down").addClass("ni-decrement-icon"),this.updateIndexerTheme(),this.updateScrollbarTheme(),this.updateFocusedCell(),this._creatingArrayValue=!1,c(this,!1)}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"dimensions":if(this._jqxArrayInitialized){const e={dimensions:this.dimensions};null!==this.templateControl&&(e.rows=this.rows,e.columns=this.columns),this.jqref.jqxArray(e),this.updateIndexerFont(),this.updateIndexerTheme()}break;case"indexEditorWidth":this.jqref.jqxArray({indexerWidth:this.indexEditorWidth});break;case"indexVisibility":this.jqref.jqxArray({showIndexDisplay:this.indexVisibility});break;case"verticalScrollbarVisibility":this.jqref.jqxArray({showVerticalScrollbar:this.verticalScrollbarVisibility}),this.updateScrollbarTheme();break;case"horizontalScrollbarVisibility":this.jqref.jqxArray({showHorizontalScrollbar:this.horizontalScrollbarVisibility}),this.updateScrollbarTheme();break;case"focusedCell":this.updateFocusedCell();break;case"rowsAndColumns":this.updateRowsAndColumns();break;case"niType":this._niTypeInstance=new i(this.niType),this._expectedChildrenCount=p(this._niTypeInstance);break;case"disabled":this.jqref.jqxArray({disabled:this.disabled}),this.setDisabledOnChildElements(this.disabled),this.setDisabledOnScrollBars(this.disabled)}}setDisabledOnChildElements(e){const t=this.getFullCssSelectorForNIVisual(this.templateControl),n=document.querySelectorAll(t);this.templateControl.disabled=this.disabled,n.forEach(t=>{t.disabled=e})}setDisabledOnScrollBars(t){this.querySelectorAll(" div.jqx-scrollbar").forEach(n=>{e(n).jqxScrollBar({disabled:t})})}updateFocusedCell(){let e,n,i,a,r,s,l;if(null!==this.templateControl)if("string"==typeof this.focusedCell&&this.focusedCell.length>0&&2===(e=this.focusedCell.split(",")).length){if(s=parseInt(e[0]),l=parseInt(e[1]),this._focusedRow=s,this._focusedColumn=l,null==(i=this.jqref.jqxArray("getElement",s,l)))return;for(a=i.querySelectorAll("[ni-control-id]"),n=0;n<a.length;n++){const e=t.getTemplateId(a[n]);void 0!==e&&null!==(r=document.querySelector("[ni-control-id='"+e+"']"))&&(r._niFocusedCloneId=a[n].niControlId)}}else for(this._focusedRow=void 0,this._focusedColumn=void 0,(a=Array.prototype.slice.call(this.templateControl.querySelectorAll("[ni-control-id]"))).push(this.templateControl),n=0;n<a.length;n++)a[n]._niFocusedCloneId=void 0}parseRowsAndColumns(){let e;"string"==typeof this.rowsAndColumns&&this.rowsAndColumns.length>0&&2===(e=this.rowsAndColumns.split(",")).length&&(this.rows=parseInt(e[0]),this.columns=parseInt(e[1]))}updateRowsAndColumns(){if(this.parseRowsAndColumns(),null===this.templateControl)return;const e=this.jqref.jqxArray("rows"),t=this.jqref.jqxArray("columns");this.rows===e&&this.columns===t||(null===this.jqref.val()&&this.jqref.jqxArray({value:[]}),this.jqref.jqxArray({rows:this.rows,columns:this.columns}));const n=this.jqref.find(".jqx-array-big-container"),i=parseInt(window.getComputedStyle(n[0]).padding),a=this.childElement,r={bubbles:!0,cancelable:!0,detail:{height:parseInt(a.style.height)+2*i,width:parseInt(a.style.width)+2*i,originalSource:this.childElement}};this.dispatchEvent(new CustomEvent("array-size-changed",r)),this.updateFocusedCell()}setFont(t,n,i,a,r){super.setFont(t,n,i,a,r);const s=this.jqref.find(" .jqx-array-indexer"),l={"font-size":t,"font-family":n,"font-weight":i,"font-style":a};e(s).css(l),this.jqref.trigger("refresh")}updateIndexerFont(){let t=this.jqref.find(" .jqx-array-indexer").last();const n=e(t).css(["font-size","font-family","font-weight","font-style"]);t=this.jqref.find(" .jqx-array-indexer"),e(t).css(n)}updateIndexerTheme(){this.jqref.find(".jqx-array-indexer").jqxNumberInput({theme:r})}updateScrollbarTheme(){let t;const n=this.jqref.find("div.jqx-array-scrollbar-horizontal, div.jqx-array-scrollbar-vertical");for(t=0;t<n.length;t++){const i=e(n[t]),a=i.jqxScrollBar("touchMode");void 0!==a&&!1!==a&&i.jqxScrollBar({touchMode:!1})}}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(y.prototype,"ni-array-viewer","HTMLNIArrayViewer"),NationalInstruments.HtmlVI.Elements.ArrayViewer=y}(),
// National Instruments Copyright 2014
function(){const e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery,n=NationalInstruments.HtmlVI.NINumerics.Helpers,i=NationalInstruments.HtmlVI.ValueConverters.JQXNumericValueConverter,a=NationalInstruments.HtmlVI.ValueConverters.DropDownValueConverter,r=NationalInstruments.HtmlVI.ValueConverters.DeepCopyValueConverter,s=window.NIType,l=22,o="_id",d=new t.jqx.math,u={},c=function(){return!1},h=function(e){if(e.length>0){const t=e[0];if("none"!==t.style.display&&"hidden"!==t.style.visibility)return t.offsetHeight}return 0},p=function(e){let t,n=[];if(null!==e)try{t=JSON.parse(e),Array.isArray(t)&&(n=t)}catch(e){}return n},m=function(e,t){return{altstep:t,altstart:-e+Math.floor(2*e/(t+1))*(t+1)}},f=function(t,n){n.columntype="custom",n.createwidget=function(n,i,a,r){!t._validState&&t._refreshRequested||function(t,n,i,a,r){if(!r.firstElementChild){const s="number"==typeof n?n:n.visibleindex,l="string"==typeof i?i:i.datafield,o=t.columns[l],d=o.firstElementChild,c=d.nodeName,h=u[c],p=e.cloneControlElement(d);p.clearExtensionProperties(),e.setTemplateId(p,d.niControlId),p._dataGridRow=s,p._dataGridColumn=l,p._preventModelCreation=!0,p.visible=!0,p.style.width="100%",p.style.height="100%",p.disabled=t.disabled,h.setWidgetValue(p,a,d),r.appendChild(p),"function"==typeof h.configureWidget&&h.configureWidget(t,p,r),"function"==typeof h.resize&&h.resize(p,{width:o.width,height:t.coercedRowHeight})}}(t,n,i,a,r)},n.initwidget=function(e,n,i,a){!t._validState&&t._refreshRequested||function(e,t,n,i,a){const r="number"==typeof t?t:t.visibleindex,s="string"==typeof n?n:n.datafield,l=a.firstElementChild;l._dataGridRow=r,l._dataGridColumn=s,u[l.nodeName].setWidgetValue(l,i)}(0,e,n,i,a)},n.cellbeginedit=c},g=function(i,a,r){let s=!0,l="";void 0!==i.horizontalAlignment&&(l=" style='text-align:"+i.horizontalAlignment+"'");let o="<div class='ni-aggregate-box'"+l+">";return r&&t.each(a,function(t,a){const r=i.items[t];let l=e.escapeHtml(r.label);void 0===l&&(l=""),s?s=!1:o+="<br />",o+="<strong>"+l+":</strong> "+function(e,t){const i=n.coerceDisplayDigits(e.significantDigits,e.precisionDigits);if("exponential"===e.format)return d.getDecimalNotation(t,e.format,i.precisionDigits,i.significantDigits);if(void 0!==i.significantDigits)return Number(t.toPrecision(i.significantDigits)).toString();if(void 0!==i.precisionDigits)return t.toFixed(i.precisionDigits);throw new Error("Unexpected significantDigits / precisionDigits for column aggregate")}(r,a)}),o+="</div>"},y=function(e,t){e.dispatchEvent(new CustomEvent("value-changed",{bubbles:!0,cancelable:!1,detail:{newValue:e.value,oldValue:t}}))},b=function(e,t){const n=t.firstElementChild;if(null===n)return;const i=u[n.nodeName],a=new window.MutationObserver(function(n){let a,r;void 0!==i.templateControlAttributeChanged&&(a=[],r=0,n.forEach(function(e){const t=e.attributeName;null!==t&&(a[r]=t,r++)}),i.templateControlAttributeChanged(e,t,a))}),r={attributes:!0};t._niColumnTemplateControlObserver=a,"function"==typeof a.observe&&a.observe(n,r)},C=function(e){const t=e._niColumnTemplateControlObserver;void 0!==t&&"function"==typeof t.disconnect&&(t.disconnect(),e._niColumnTemplateControlObserver=void 0)},I=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},v=function(t,n,i){const a=n.index.toString(),r=n.firstElementChild;let s;if(null===r)return;const l={},o={};let d,u,c;for(s=0;s<i.length;s++)d=i[s],r.hasAttribute(d)?l[d]=r.getAttribute(d):e.isJQXElement(r)&&void 0!==r[u=I(d)]&&(o[u]=r[u]);const h=t.jqref[0].querySelectorAll(r.tagName);let p;for(p=0;p<h.length;p++)if((c=h[p])._dataGridColumn===a)for(s=0;s<i.length;s++)d=i[s],u=I(d),void 0!==l[d]?c.setAttribute(d,l[d]):void 0!==o[u]?c[u]=o[u]:c.removeAttribute(d)},x=function(e,t){t.addEventListener(t.valuePropertyDescriptor.eventName,function(n){const a=i.convertJQXTypeToNI(t),r=i.convertBack(n.detail.value,a);e.templateControlValueChanged(t,r)})},E=function(e,t){t.addEventListener("change",function(n){if(!0!==t.readonly&&"api"!==n.detail.changeType){const i=t._dataGridRow,a=t._dataGridColumn,r=e.jqxValue[i][a],s=n.detail.value;r!==s&&e.templateControlValueChanged(t,s)}})},N=function(e){void 0!==e.stopPropagation&&e.stopPropagation()},V=function(e){const n=t("<div style='margin:5px;'></div>"),i=t("<div style='display: inline-table; margin-right: 5px;' />");n.append(i),n.append(t("<span class='ni-text'>"+e.addRowsLabel+": </span>"));const a=t("<input type='button' style='margin-left: 2px;' />");n.append(a);const r=t("<div class='ni-add-rows-toolbar'></div>");r.append(n),!e.readOnly&&e.showAddRowsToolBar||(r[0].style.display="none"),e.jqref.append(r),e.addRowsToolbarRef=r,i.jqxNumberInput({inputMode:"simple",decimalDigits:0,min:1,max:1e3,value:1,width:55}),i[0].style.width="55px",i[0].style.padding="3px",i[0].firstElementChild.style.width="50px",i.addClass("ni-row-count-text-field-box"),i.find(" input").addClass("ni-row-count-text-field"),a[0].value=e.addRowsButtonLabel,a.jqxButton({width:"50"}),a.addClass("ni-add-rows-button"),a.on("click",function(){void 0===e.jqref||e.disabled||(e.addEmptyRows(i.jqxNumberInput("val")),a.blur())})};u["NI-STRING-CONTROL"]={initializeColumn:f,setWidgetValue:function(e,t){e.textNonSignaling=t},getDefaultValue:function(){return""},validateValue:function(e){return"string"==typeof e},templateControlAttributeChanged:v,configureWidget:function(e,t){t.addEventListener("text-changed",function(n){e.templateControlValueChanged(t,n.detail.text)}),t.addEventListener("keydown",N,!1)}},u["JQX-NUMERIC-TEXT-BOX"]={initializeColumn:f,setWidgetValue:function(e,t){const n=i.convertJQXTypeToNI(e);e.value=i.convert(t,n)},validateValue:function(e,t){const n=i.convertJQXTypeToNI(t);return n.is64BitInteger()||n.isComplex()?"string"==typeof e:"number"==typeof e},getDefaultValue:function(e){const t=i.convertJQXTypeToNI(e);return i.convertBack(0,t)},templateControlAttributeChanged:v,configureWidget:function(e,t){x(e,t),t.addEventListener("keydown",N,!1)}},u["JQX-CHECK-BOX"]={initializeColumn:f,setWidgetValue:function(e,t){e.checked=t},validateValue:function(e){return"boolean"==typeof e},templateControlAttributeChanged:v,configureWidget:function(e,t){t.parentElement.classList.add("ni-widget-container-centered"),E(e,t)},getDefaultValue:c},u["JQX-LED"]={initializeColumn:f,setWidgetValue:function(e,t){e.checked=t},validateValue:function(e){return"boolean"==typeof e},templateControlAttributeChanged:v,configureWidget:function(e,t){t.parentElement.classList.add("ni-widget-container-centered"),E(e,t),t.style.position="absolute"},getDefaultValue:c},u["JQX-SLIDER"]={initializeColumn:f,setWidgetValue:function(e,t){const n=i.convertJQXTypeToNI(e);e.value=i.convert(t,n)},validateValue:function(e,t){const n=i.convertJQXTypeToNI(t);return n.is64BitInteger()||n.isComplex()?"string"==typeof e:"number"==typeof e},getDefaultValue:function(e){const t=i.convertJQXTypeToNI(e);return i.convertBack(0,t)},templateControlAttributeChanged:v,configureWidget:function(e,t){x(e,t)}},u["JQX-PROGRESS-BAR"]={initializeColumn:f,setWidgetValue:function(e,t){e.value=t},validateValue:function(e){return"number"==typeof e},getDefaultValue:function(){return 0},templateControlAttributeChanged:v},u["JQX-DROP-DOWN-LIST"]={initializeColumn:f,setWidgetValue:function(e,t,n){if(void 0!==n){const i="string"!=typeof n.dataSource?JSON.stringify(n.dataSource):n.dataSource;e.setAttribute("data-source",i),e.setAttribute("selected-indexes",JSON.stringify(a.convert(t)))}else e.selectedIndexes=a.convert(t)},validateValue:function(e){return Array.isArray(e)||"number"==typeof e},getDefaultValue:function(){return 0},templateControlAttributeChanged:v,configureWidget:function(e,t){t.dropDownAppendTo="body",t.addEventListener("change",function(n){e.templateControlValueChanged(t,n.detail.index)})}};class w extends NationalInstruments.HtmlVI.Elements.Visual{isTextEditFocusable(e){return["jqx-input","ni-text-field","jqx-input-content"].map(function(t){return e.classList.contains(t)}).reduce(function(e,t){return e||t})}getColumnWidths(){const e=new Array(this.sortedColumnIndices.length),t=this.jqref.jqxGrid("columns").records;return this.sortedColumnIndices.forEach(function(n,i){e[n]=t[i].width}),e.shift(),e}addAllProperties(t){super.addAllProperties(t);const n=w.prototype;Object.defineProperty(n,"value",{get:function(){return this.deepCloneData()},set:function(e){const t=this.deepCloneData();this.updateData(e),y(this,t)},configurable:!1,enumerable:!0}),Object.defineProperty(n,"valueNonSignaling",{get:function(){return this.deepCloneData()},set:function(e){this.updateData(e)},configurable:!1,enumerable:!1}),n.addProperty(t,{propertyName:"niType",defaultValue:'{"name":"Array","rank":1,"subtype":{"name":"Cluster","fields":[]}}'}),n.addProperty(t,{propertyName:"rowHeaderVisible",defaultValue:!1}),n.addProperty(t,{propertyName:"columnHeaderVisible",defaultValue:!1}),n.addProperty(t,{propertyName:"showAddRowsToolBar",defaultValue:!1}),n.addProperty(t,{propertyName:"allowSorting",defaultValue:!1}),n.addProperty(t,{propertyName:"allowPaging",defaultValue:!1}),n.addProperty(t,{propertyName:"allowFiltering",defaultValue:!1}),n.addProperty(t,{propertyName:"allowGrouping",defaultValue:!1}),n.addProperty(t,{propertyName:"rowHeight",defaultValue:l}),n.addProperty(t,{propertyName:"altRowColors",defaultValue:!1}),n.addProperty(t,{propertyName:"altRowStart",defaultValue:1}),n.addProperty(t,{propertyName:"altRowStep",defaultValue:1}),n.addProperty(t,{propertyName:"isInEditMode",defaultValue:!1,fireEvent:!1,addNonSignalingProperty:!1}),n.addProperty(t,{propertyName:"selectedColumn",defaultValue:-1}),e.setValuePropertyDescriptor(t,"value","value","valueNonSignaling","value-changed")}createdCallback(){super.createdCallback(),this.columns=[],this.selectedColumnDataField=void 0,this.sortedColumnIndices=[],this.parsedValue=[],this.niTypeInstance=void 0,this.jqxValue=[],this.columnObservers=[],this.pageSize=0,this.addRowsButtonLabel=e.i18n("msg_datagrid_addrowsbuttonlabel"),this.addRowsLabel=e.i18n("msg_datagrid_addrowslabel"),this.coercedRowHeight=l,this.showAggregates=!1,this.maxAggregateCountPerColumn=0,this._validState=!0}connectedCallback(){this.parsedValue=p(this.getAttribute("value")),this.niTypeInstance=new s(this.niType),super.connectedCallback()}getDefaultColumns(){return[{text:"",datafield:o,width:50,cellsalign:"center",columntype:"custom",createwidget:function(e,n,i,a){a.firstElementChild||t(a).append("<div style='width: 100%; height: 100%; display: table; text-align: center;'><span style='display: table-cell; vertical-align: middle;'>"+i.toString()+"</span></div>")},initwidget:function(e,t,n,i){const a=i.firstElementChild;null!==a&&(a.firstElementChild.textContent=n.toString())},cellbeginedit:c,hidden:!this.rowHeaderVisible,pinned:this.columns.some(function(e){return e.pinned})}]}setFont(){}templateControlValueChanged(e,t){const n=e._dataGridRow,i=e._dataGridColumn,a=this.jqxValue[n][i],r=this.deepCloneData();a!==t&&(this.parsedValue[n][this.columns[i].fieldName]=t,y(this,r))}updateJqxColumnConfig(){const t=this;let n;const i=this.getDefaultColumns();let a,r,s,l,o,d=!1,c=0,h=0;const p=[0];let m=!0;for(n=0;n<this.columns.length;n++)if(n!==this.columns[n].index||null===this.columns[n].firstElementChild){m=!1;break}if(m){for(n=0;n<this.columns.length;n++)this.columns[n].pinned&&p.push(n+1);this.columns.forEach(function(n,f){n.parsedAggregates=JSON.parse(n.aggregates),o=[],c=0;for(const e in n.parsedAggregates.items)n.parsedAggregates.items.hasOwnProperty(e)&&(o.push(e),c++,d=!0);if(h=Math.max(h,c),a={align:"center",text:e.escapeHtml(n.header),datafield:f.toString(),width:n.width,pinned:n.pinned,aggregates:o},o.length>0&&(a.aggregatesrenderer=function(e){return g(n.parsedAggregates,e,t._validState)}),n.pinned||p.push(f+1),s=n.firstElementChild,r=s.nodeName,!u.hasOwnProperty(r))throw new Error("Unsupported template element type for column "+f+": "+r);l=u[r],n._niColumnDefaultValue=l.getDefaultValue(s),l.initializeColumn(t,a),t.jqxValue.length>0&&(l.validateValue(t.jqxValue[0][a.datafield],s)||(m=!1)),NationalInstruments.HtmlVI.NISupport.isElement(s)||(m=!1,window.requestAnimationFrame(function(){t.requestRefresh()})),i.push(a)})}m&&(this.showAggregates=d,this.maxAggregateCountPerColumn=h,this.sortedColumnIndices=p,this.jqxColumnConfig=i),this._validState=m}addEmptyRows(e){let t,n,i,a,r,s,l,d,u;if(e>0){for(u=this.deepCloneData(),i=[],s=d=this.parsedValue.length,a=0;a<e;a++){for(t={},(n={})[o]=s++,r=0;r<this.columns.length;r++)l=this.columns[r],n[r]=l._niColumnDefaultValue,t[l.fieldName]=l._niColumnDefaultValue;i.push(n),this.parsedValue.push(t)}this.showAggregates&&0===d&&(this.updateStatusBar(),this.updatePageSize()),this.jqref.jqxGrid("addrow",null,i),y(this,u)}}getColumnNames(){return void 0===this.niTypeInstance?[]:this.niTypeInstance.getSubtype().getFields()}updateJqxValueFromParsedValue(){let e,t,n;const i=[],a=[],r=this.getColumnNames();for(e=0;e<this.parsedValue.length;e++){(n={})[o]=e;let s=!1;for(t=0;t<r.length;t++){const i=this.parsedValue[e][r[t]];if(n[t]=i,e<this.jqxValue.length){const n=this.jqxValue[e][""+t];s=s||n!==i}else s=!0}s&&a.push(e),i.push(n)}return this.jqxValue=i,a}initializeColumnsAndData(){this.updateJqxColumnConfig(),this.updateJqxValueFromParsedValue(),this.dataSource={datatype:"array",localdata:this.jqxValue};const e=new t.jqx.dataAdapter(this.dataSource);e.getvaluebytype=function(n,i){return"NaN"===n&&"number"===i.type?n:t.jqx.dataAdapter.prototype.getvaluebytype.call(e,n,i)},this.dataAdapter=e,this.updateStatusBar(),this._validState&&this.jqref.jqxGrid({columns:this.jqxColumnConfig,source:this.dataAdapter})}getSettings(){const e=m(this.altRowStart,this.altRowStep);return{editable:!this.disabled&&!this.readOnly,showemptyrow:!1,selectionmode:"none",showheader:this.columnHeaderVisible,columnsresize:!0,enablehover:!1,showsortmenuitems:!1,sortable:this.allowSorting,filterable:this.allowFiltering,showfilterrow:this.allowFiltering,pageable:this.allowPaging,groupable:this.allowGrouping,altrows:this.altRowColors,altstart:e.altstart,altstep:e.altstep,columnsheight:l,rowsheight:this.coercedRowHeight,groupsexpandedbydefault:!0,disabled:this.disabled,touchMode:!1}}setSelectedColumn(e){let n,i;this.jqref&&this.isInEditMode&&(e>=0&&e<this.columns.length?(i=e,n=e.toString()):i=-1,i!==this.selectedColumn&&(this.selectedColumn=i),this.selectedColumnDataField!==n&&(void 0!==this.selectedColumnDataField&&t(this.jqref.jqxGrid("getcolumn",this.selectedColumnDataField).element).removeClass("ni-selected-header"),this.selectedColumnDataField=n,this.refreshSelectedColumn(),this.dispatchEvent(new CustomEvent("selected-column-changed",{detail:{selectedColumn:this.selectedColumn}}))))}refreshSelectedColumn(){let e,n,i;if(this.isInEditMode){if(-1===this.selectedColumn)for(e=0;e<this.jqxColumnConfig.length;e++)null!=(n=this.jqref.jqxGrid("getcolumn",this.jqxColumnConfig[e].datafield))&&(n.cellclassname="");else for(i=this.sortedColumnIndices[this.sortedColumnIndices.indexOf(this.selectedColumn+1)-1],e=0;e<this.jqxColumnConfig.length;e++)null!=(n=this.jqref.jqxGrid("getcolumn",this.jqxColumnConfig[e].datafield))&&(e===i?n.cellclassname="ni-selected-cell":e===this.selectedColumn+1?(n.cellclassname="ni-selected-cell",t(n.element).addClass("ni-selected-header")):n.cellclassname="");t(this.jqref).jqxGrid("clearselection")}}updateCoercedRowHeight(){this.coercedRowHeight=this.rowHeight>=1?this.rowHeight:l}attachedCallback(){const e=super.attachedCallback(),n=this;let i,a,r,l;return!0===e&&(this.niTypeInstance=new s(this.niType),r=this.findInitialColumns(),this.addColumnListeners(r),this.updateCoercedRowHeight(),(i=this.getSettings()).ready=function(){0===r.length&&n.initializeColumnsAndData()},(a=document.createElement("div")).style.width="100%",a.style.height="100%",this.appendChild(a),l=t(a),this.jqref=l,l.jqxGrid(i),V(this),this.updateStatusBar(),this.updatePagingSettings(),l.find(" .jqx-grid-statusbar").addClass("ni-status-bar"),l.addClass("ni-grid-widget"),l.addClass("ni-grid-widget-content"),l.find(" .jqx-widget").addClass("ni-grid-widget"),l.find(" .jqx-widget-content").addClass("ni-grid-widget-content"),l.find(" .jqx-grid-groups-header").addClass("ni-groups-header"),l.find(" .jqx-grid-pager").addClass("ni-pager-box"),l.find(" .jqx-grid-pager-input").addClass("ni-pager-text-field"),l.find(" .jqx-dropdownlist-state-normal").addClass("ni-selector"),l.find(" .jqx-max-size").addClass("ni-filter-row-box"),l.find(" .jqx-grid-column-header").addClass("ni-column-header"),l.find(" .jqx-grid-content").addClass("ni-grid-content"),l.find(" .jqx-grid-cell-filter-row").addClass("ni-filter-row"),l.find(" .jqx-grid-cell").addClass("ni-cell"),l.find(" .jqx-grid-group-cell").addClass("ni-group-cell"),l.on("cellendedit",function(e){const t=n.deepCloneData(),i=e.args.rowindex,a=e.args.datafield,r=e.args.value;n.jqxValue[i][a]=r,n.parsedValue[i][n.columns[a].fieldName]=r,y(n,t)}),l.on("columnclick",function(e){const t=e.args.originalEvent.originalEvent;n.setSelectedColumn(parseInt(e.args.datafield)),void 0!==t&&void 0!==t.x&&void 0!==t.y&&(n.handledClickEvent={x:t.x,y:t.y})}),l.on("cellclick",function(e){const t=e.args.originalEvent;n.setSelectedColumn(parseInt(e.args.datafield)),void 0!==t&&void 0!==t.pageX&&void 0!==t.pageY&&(n.handledClickEvent={x:t.pageX,y:t.pageY})}),l.on("click",function(e){void 0!==e.pageX&&void 0!==n.handledClickEvent&&e.pageX===n.handledClickEvent.x&&e.pageY===n.handledClickEvent.y||void 0!==e.detail&&void 0!==n.handledClickEvent&&e.detail.pageX===n.handledClickEvent.x&&e.detail.pageY===n.handledClickEvent.y||(n.setSelectedColumn(-1),n.handledClickEvent=void 0)}),l.on("columnresized",function(e){const t=e.args,i=t.datafield,a=t.newwidth,r=n.coercedRowHeight,s=n.columns[i];if(void 0===s){if(i!==o)throw new Error("Column not found with dataField: "+i);return}const d=s.firstElementChild,c=u[d.nodeName];let h,p;if("function"!=typeof c.resize)return;const m=l[0].querySelectorAll(d.tagName);for(h=0;h<m.length;h++)(p=m[h])._dataGridColumn===i&&c.resize(p,{width:a,height:r})}),window.addEventListener("resize",function(){if("fixed"===n.controlResizeMode)return;const e=window.getComputedStyle(n);n.forceResize({width:e.width,height:e.height})})),e}forceResize(e){super.forceResize(e);let n=this.jqref;void 0===n&&(n=t(this).children("div")),n.jqxGrid(e),this.updatePageSize()}updateColumns(){void 0!==this.jqref&&null!==this.parentElement&&(this.jqref.jqxGrid("endcelledit"),this.updateJqxColumnConfig(),this._validState&&(this.jqref.jqxGrid({columns:this.jqxColumnConfig}),this.refreshSelectedColumn()))}validateState(){void 0!==this.jqref&&null!==this.parentElement&&(this.jqref.jqxGrid("endcelledit"),this.updateJqxValueFromParsedValue(),this.updateJqxColumnConfig())}refreshIfValid(){void 0!==this.jqref&&null!==this.parentElement&&(this.validateState(),this._validState&&(this.dataSource.localdata=this.jqxValue,this.jqref.jqxGrid("beginupdate",!0),this.jqref.jqxGrid({filterable:!1}),this.jqref.jqxGrid({columns:this.jqxColumnConfig}),this.jqref.jqxGrid({source:this.dataAdapter}),this.propertyUpdated("allowFiltering"),this.jqref.jqxGrid("endupdate"),this.jqref.jqxGrid("refresh"),this.updateStatusBar(),this.refreshSelectedColumn()))}deepCloneData(){return r.deepCopy(this.parsedValue)}updateData(e){const t=this.parsedValue.length,n=this;if(this.parsedValue=e,void 0===this.jqref)return;if(this._refreshRequested)return;if(!this._validState)return void this.refreshIfValid();const i=this.updateJqxValueFromParsedValue();if(this.showAggregates&&0===t!=(0===this.parsedValue.length)&&this.updateStatusBar(),t===this.parsedValue.length){const e=i.map(function(e){return n.jqxValue[e]});e.length>0&&this.jqref.jqxGrid("updaterow",i,e)}else this.dataSource.localdata=this.jqxValue,this.jqref.jqxGrid({source:this.dataAdapter})}findInitialColumns(){const e=[],t=NationalInstruments.HtmlVI.Elements.DataGridColumn.prototype.elementInfo.tagName.toUpperCase();let n;for(n=0;n<this.children.length;n++)this.children[n].tagName===t&&e.push(this.children[n]);return e}sortColumns(){this.columns.sort(function(e,t){return e.index-t.index})}requestRefresh(){const e=this;!0!==e._refreshRequested&&(e._refreshRequested=!0,window.requestAnimationFrame(function(){e._refreshRequested=!1,e.refreshIfValid()}))}addColumnListeners(e){const t=this;t.addEventListener("ni-data-grid-column-attached",function(n){let i,a,r,s;if(n.target===t){for(a=n.detail.element,t.columns.push(a),t.sortColumns(),r=new window.MutationObserver(function(e){e.forEach(function(e){e.removedNodes.length>0&&(C(t,a),t._validState=!1,t.requestRefresh()),e.addedNodes.length>0&&(b(t,a),t.requestRefresh())})}),s={childList:!0},a._niColumnObserver=r,"function"==typeof r.observe&&r.observe(a,s),b(t,a),i=0;i<e.length;i++)if(e[i]===n.detail.element){e.splice(i,1);break}0===e.length&&(void 0===this.dataSource?this.initializeColumnsAndData():t.requestRefresh())}}),t.addEventListener("ni-data-grid-column-detached",function(e){let n,i;if(e.target===t){for(i=e.detail.element,n=0;n<t.columns.length;n++)if(t.columns[n]===i){t.columns.splice(n,1),"function"==typeof i._niColumnObserver.disconnect&&i._niColumnObserver.disconnect(),C(t,i);break}t.updateColumns()}}),t.addEventListener("ni-data-grid-column-changed",function(e){const n=e.detail.propertyName;"index"===n&&t.sortColumns(),"index"!==n&&"fieldName"!==n&&t._isValidState?(t.updateColumns(),"aggregates"===n&&(t.updateStatusBar(),t.updatePageSize())):t.requestRefresh()})}updateStatusBar(){const e=this,t=!e.readOnly&&e.showAddRowsToolBar;let n;void 0!==e.addRowsToolbarRef&&e.addRowsToolbarRef.toggle(t),void 0!==e.jqref&&(n=t?40:0,this.parsedValue.length>0&&e.maxAggregateCountPerColumn>0&&(n+=e.maxAggregateCountPerColumn*l+4),e.jqref.jqxGrid({statusbarheight:n}),e.jqref.jqxGrid({showstatusbar:t||e.showAggregates,showaggregates:e.showAggregates}),e.showAggregates&&e.jqref.jqxGrid("renderaggregates"))}updatePageSize(){const e=this;void 0!==this.updatePageSizeTimer&&clearTimeout(this.updatePageSizeTimer),this.updatePageSizeTimer=setTimeout(function(){if(e.updatePageSizeTimer=void 0,e.allowPaging){let n;0===e.jqref.find(".jqx-grid-header").length&&e.jqref.jqxGrid("render");let i=e.jqref.height();i-=h(e.jqref.find("div.jqx-grid-header")),i-=h(e.jqref.find("div.jqx-grid-groups-header")),i-=h(e.jqref.find("div.jqx-grid-pager")),i-=h(e.jqref.find("div.ni-status-bar"));const a=e.jqref.find("div.jqx-scrollbar").sort(function(e,t){return e.offsetLeft-t.offsetLeft});i-=h(a),(n=Math.floor(i/e.coercedRowHeight))<=0&&(n=10),e.pageSize===n||t.jqx.isHidden(e.jqref)||(e.pageSize=n,e.jqref.jqxGrid({pagesize:n,pagesizeoptions:[n]}))}},10)}updatePagingSettings(){this.jqref.jqxGrid({pageable:this.allowPaging});const e=this.jqref.find("div.jqx-grid-pager");e.toggle(this.allowPaging),!0===this.allowPaging?this.addRowsToolbarRef[0].style.bottom=e.outerHeight()+"px":this.addRowsToolbarRef[0].style.bottom="0px",this.updatePageSize()}propertyUpdated(e){if(super.propertyUpdated(e),void 0!==this.jqref)switch(e){case"rowHeaderVisible":this.jqref.jqxGrid("setcolumnproperty",o,"hidden",!this.rowHeaderVisible);break;case"columnHeaderVisible":this.jqref.jqxGrid({showheader:this.columnHeaderVisible}),this.updatePageSize();break;case"isInEditMode":this.jqref.jqxGrid({columnsresize:!this.isInEditMode}),this._validState&&this.jqref.jqxGrid("render");break;case"showAddRowsToolBar":this.updateStatusBar(),this.updatePageSize();break;case"allowSorting":this.jqref.jqxGrid({sortable:this.allowSorting}),this.allowSorting||this.jqref.jqxGrid("removesort");break;case"allowPaging":this.updatePagingSettings();break;case"allowFiltering":this.jqref.jqxGrid({filterable:this.allowFiltering,showfilterrow:this.allowFiltering}),this.updatePageSize();break;case"allowGrouping":this.jqref.jqxGrid({groupable:this.allowGrouping}),this.updatePageSize();break;case"rowHeight":this.updateCoercedRowHeight(),this.jqref.jqxGrid({rowsheight:this.coercedRowHeight}),this._validState&&this.jqref.jqxGrid("render");break;case"altRowColors":this.jqref.jqxGrid({altrows:this.altRowColors});break;case"altRowStart":case"altRowStep":this.jqref.jqxGrid(m(this.altRowStart,this.altRowStep));break;case"readOnly":this.jqref.jqxGrid({editable:!this.disabled&&!this.readOnly}),this.updateStatusBar(),this.updatePageSize();break;case"selectedColumn":this.setSelectedColumn(this.selectedColumn);break;case"niType":this.niTypeInstance=new s(this.niType),this.validateState(),this.requestRefresh();break;case"disabled":this.jqref.jqxGrid({disabled:this.disabled,editable:!this.disabled&&!this.readOnly}),this.setDisabledOnChildElements(),this.setDisabledOnAddRowsPane(),this.setDisabledOnPagingInput()}}setDisabledOnChildElements(){this.querySelectorAll("ni-data-grid-column > *").forEach(e=>{e.disabled=this.disabled})}setDisabledOnAddRowsPane(){this.querySelectorAll(".ni-row-count-text-field,.ni-add-rows-button").forEach(e=>{e.disabled=this.disabled})}setDisabledOnPagingInput(){if(this.allowPaging){this.querySelectorAll(".jqx-grid-pager-input").forEach(e=>{e.disabled=this.disabled})}}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(w.prototype,"ni-data-grid","HTMLNIDataGrid"),NationalInstruments.HtmlVI.Elements.DataGrid=w}(),
// National Instruments Copyright 2014
function(){const e=NationalInstruments.HtmlVI.NISupport;class t extends NationalInstruments.HtmlVI.Elements.Visual{addAllProperties(e){super.addAllProperties(e);const n=t.prototype;n.addProperty(e,{propertyName:"index",defaultValue:-1}),n.addProperty(e,{propertyName:"header",defaultValue:""}),n.addProperty(e,{propertyName:"fieldName",defaultValue:""}),n.addProperty(e,{propertyName:"width",defaultValue:"50px"}),n.addProperty(e,{propertyName:"pinned",defaultValue:!1}),n.addProperty(e,{propertyName:"aggregates",defaultValue:"{}"})}createdCallback(){super.createdCallback(),this._parentDataGrid=void 0}sendEventToParentDataGrid(e,t){let n;void 0!==this._parentDataGrid&&(n={cancelable:!0,detail:{element:this,propertyName:t}},this._parentDataGrid.dispatchEvent(new CustomEvent(e,n)))}attachedCallback(){const t=super.attachedCallback();return this.parentElement instanceof NationalInstruments.HtmlVI.Elements.DataGrid?(this._parentDataGrid=this.parentElement,this.sendEventToParentDataGrid("ni-data-grid-column-attached")):(e.error("Data Grid Column does not have a parent data grid "+this),this._parentDataGrid=void 0),t}propertyUpdated(e){super.propertyUpdated(e),this.sendEventToParentDataGrid("ni-data-grid-column-changed",e)}detachedCallback(){super.detachedCallback(),this.sendEventToParentDataGrid("ni-data-grid-column-detached"),this._parentDataGrid=void 0}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(t.prototype,"ni-data-grid-column","HTMLNIDataGridColumn"),NationalInstruments.HtmlVI.Elements.DataGridColumn=t}(),function(){const e=NationalInstruments.Globals.jQuery;NationalInstruments.Controls=NationalInstruments.Controls||{},NationalInstruments.Controls.Tree={},NationalInstruments.Controls.Tree.Helpers={};const t=NationalInstruments.Controls.Tree.Helpers,n=/\\{2,}/;t.getJqxDataFieldName=function(e){return"__"+e},t.ensureValidSelection=function(e,n,i){if("string"==typeof i&&(i=[i.trim()]),null==i||i.every(e=>""===e))return[];const a=n.map(n=>t.sanitizePath(n[e])),r=i.map(e=>t.sanitizePath(e)).filter(e=>void 0!==e&&(""===e||a.some(t=>t&&t.startsWith(e))));return r.length===i.length?r:void 0},t.isValidArrayForTreeDataSource=function(e){return!!Array.isArray(e)&&(0===e.length||e.every(e=>{if("object"!=typeof e||null===e)return!1;for(const t in e)if(e.hasOwnProperty(t)&&"string"!=typeof e[t])return!1;return!0}))},t.arrayAsJqxTreeGridSource=function(n,i){if(!t.isValidArrayForTreeDataSource(n))throw new TypeError("Invalid array");const a={datatype:"array",datafields:[{name:"id",type:"string"},{name:"parentId",type:"string"},{name:"caption",type:"string"},{name:"explicit",type:"bool"}],hierarchy:{keyDataField:{name:"id"},parentDataField:{name:"parentId"}},id:"id"};let r;if(0===n.length)return(r=new e.jqx.dataAdapter(a)).columns=[],{dataAdapter:r,pathsToIdsMap:new Map};const s=t.expandDataSource(n,i),l=Object.keys(n[0]);for(let e=0;e<l.length;e++){const n=l[e];a.datafields.push({name:t.getJqxDataFieldName(n),type:"string"})}return a.localdata=s.dataSource,{dataAdapter:r=new e.jqx.dataAdapter(a),pathsToIdsMap:s.pathsToIdsMap}},t.sanitizePath=function(e){if(void 0!==(e=e&&e.trim())&&""!==e&&!0!==n.test(e))return e.replace(/^\\|\\$/g,"")},t.expandDataSource=function(e,n){const i=new Map;i.set("",0);let a=1;const r=new Map;return e.forEach(e=>{!function(e,r){const s=t.sanitizePath(e[n]);if(void 0===s)return;const l=s.split("\\");let o="";for(let d=0;d<l.length;d++){const u=d===l.length-1,c=l.slice(0,d+1).join("\\");i.has(c)||i.set(c,a++);const h={id:i.get(c),parentId:i.get(o),caption:l[d],explicit:u,explicitPath:s};if(o=c,u){const n=Object.keys(e);for(let i=0;i<n.length;i++)h[t.getJqxDataFieldName(n[i])]=e[n[i]]}h[t.getJqxDataFieldName(n)]=c;const p=r.get(c);(void 0===p||!p.explicit&&h.explicit)&&r.set(c,h)}}(e,r)}),{dataSource:Array.from(r.values()),pathsToIdsMap:i}},t.getPathSpecifierForType=function(e){if(void 0!==e&&e.isArray()&&e.getSubtype().isCluster())return e.getSubtype().getFields()[0]},t.getDefaultRecordForType=function(e){const t=e.getSubtype().getFields(),n={};return t.forEach(e=>{n[e]=""}),n},t.getRecordsFromPaths=function(e,n,i){const a=t.getPathSpecifierForType(e);return i.map(i=>{const r=t.sanitizePath(i),s=n.find(e=>t.sanitizePath(e[a])===r);return Object.assign(t.getDefaultRecordForType(e),s,{[a]:r})})}}(),
// National Instruments Copyright 2018
function(){const e=NationalInstruments.Globals.jQuery,t=NationalInstruments.Controls.Tree.Helpers,n=NationalInstruments.HtmlVI.ValueConverters.DeepCopyValueConverter,i=NationalInstruments.HtmlVI.NISupport,a=function(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n.removeAllRanges(),n.addRange(t)},r=e=>e?"singleRow":"custom",s=Object.freeze({LEFT:37,UP:38,RIGHT:39,DOWN:40});JQX("ni-tree",class extends JQX.BaseElement{static get properties(){return{allowSelection:{value:!1,type:"boolean",observer:"_allowSelectionChangeHandler"},columnHeaders:{value:[],type:"array",validator:"_columnHeadersValidator",observer:"_columnHeadersChangeHandler"},columnHeaderVisible:{value:!1,type:"boolean",observer:"_columnHeaderVisibleChangeHandler"},columnWidths:{value:[],type:"array",observer:"_columnWidthsChangeHandler"},dataSource:{value:[],type:"any",notify:!0,reflectToAttribute:!1,validator:"_dataSourceValidator",observer:"_dataSourceChangeHandler"},niType:{value:"",type:"string",observer:"_niTypeChangeHandler"},selectedData:{value:[],readOnly:!0,type:"array"},selection:{value:[],type:"array"}}}static get listeners(){return{resize:"_resizeHandler"}}template(){return"<div style='width: 100%; height: 100%'></div>"}ready(){const t=this;super.ready(),t.childDiv=t.firstElementChild,t.jqref=e(t.childDiv),t.jqref.jqxTreeGrid({width:"100%",height:"100%",pageable:!1,altRows:!0,autoRowHeight:!1,enableBrowserSelection:!0,columnsResize:!0,touchMode:!1,selectionMode:r(t.allowSelection),showHeader:t.columnHeaderVisible,localization:{emptydatastring:""},handleKeyboardNavigation:function(e){if(!t.allowSelection&&(e===s.UP||e===s.DOWN||e===s.LEFT||e===s.RIGHT))return!0}}),t.jqref.jqxTreeGrid("rendered",function(){t._restoreScrollPositionDuringUpdate()}),t._pathsToIdsMap=new Map,t._columnHeadersChangeHandler(void 0,t.columnHeaders),t._niTypeChangeHandler(void 0,t.niType),t._setDataSource(t.dataSource),t._expandedParents=new Set,t.jqref.on("bindingComplete",e=>{t._refreshFolding()}),t.jqref.on("rowExpand",e=>t._rowExpansionChangeHandler(e)),t.jqref.on("rowCollapse",e=>t._rowExpansionChangeHandler(e)),t.jqref.on("rowSelect",e=>t._interactiveSelectionChangeHandler(e)),t.jqref.on("rowUnselect",e=>t._interactiveSelectionChangeHandler(e)),t.jqref.on("rowDoubleClick",e=>{t.allowSelection||a(e.args.originalEvent.target)}),t.addEventListener("keydown",function(e){if(void 0!==t.jqref&&t.allowSelection&&0===t.selection.length&&void 0!==t._dataSourceAdapter&&t._dataSourceAdapter.records.length>0&&(t.selectionIsChanging=!0,t.jqref.jqxTreeGrid("selectRow",t._dataSourceAdapter.records[0].id),delete t.selectionIsChanging),(e.ctrlKey||e.metaKey)&&e.key&&"a"===e.key.toLowerCase()&&"multipleRows"!==t.jqref.jqxTreeGrid("selectionMode")){const n=t.querySelector("table");null!==n&&(a(n),e.preventDefault())}}),t.addEventListener("focus",function(e){e.target===t&&(t.childDiv.focus(),e.cancelable&&e.preventDefault())});const n=function(e){2===e.button&&e.stopPropagation()};t.addEventListener("mousedown",n,!0),t.addEventListener("mouseup",n,!0),t.updateColumnsHeight(),t.jqref.on("columnResized",e=>t._columnResizeHandler(e))}focusAndAllowKeyboardNavigation(){this._alwaysAllowKeyboardNavigationWhenFocused=!0,this.childDiv.focus()}_allowSelectionChangeHandler(e,t){this.jqref.jqxTreeGrid({selectionMode:r(t)}),!1===t&&this.clearSelection()}_columnHeadersChangeHandler(e,t){this._updateColumns()}_columnHeadersValidator(e,t){return t.map(e=>void 0!==e&&e.length>0?e:" ")}_columnHeaderVisibleChangeHandler(e,t){this._updateTreeAndPreserveSelectionAndScrollOffset(()=>{this.jqref.jqxTreeGrid({showHeader:t}),this.jqref.jqxTreeGrid("render")})}_columnWidthsChangeHandler(e,t){this._columnWidths=t,this._updateColumns()}_dataSourceChangeHandler(e,t){n.isDeepEqual(e,t)||this._setDataSource(t)}_niTypeChangeHandler(e,n){if(this._niTypeInstance=""!==n?new window.NIType(n):void 0,void 0!==(i=this._niTypeInstance)&&i.isArray()&&i.getSubtype().isCluster()&&i.getSubtype().getSubtype().every(e=>e.getName()===window.NITypeNames.STRING)){this._updateColumns();const e=t.getPathSpecifierForType(this._niTypeInstance),n=void 0!==this._dataSourceAdapter;this._pathFieldName=e,this._pathDataFieldName=t.getJqxDataFieldName(e),n&&this._setDataSource(this.dataSource)}var i}updateColumnsHeight(){const e=parseInt(window.getComputedStyle(this.querySelector("div.jqx-grid-header")).height,10);this.jqref.jqxTreeGrid({columnsHeight:e})}collapse(e){this.foldingIsChanging=!0;const t=this._pathsToIdsMap.get(e);this._safeCallJqxTreeGridMethod("collapseRow",t),delete this.foldingIsChanging}collapseAll(){this.foldingIsChanging=!0,this._safeCallJqxTreeGridMethod("collapseAll"),delete this.foldingIsChanging}expand(e){this.foldingIsChanging=!0;const t=this._pathsToIdsMap.get(e);this._safeCallJqxTreeGridMethod("expandRow",t),this._expandParentsOfRow(t),delete this.foldingIsChanging}expandAll(){this.foldingIsChanging=!0,this._safeCallJqxTreeGridMethod("expandAll"),delete this.foldingIsChanging}get columnWidths(){return this._columnWidths||["auto"]}set columnWidths(e){const t=e||[];(this._columnWidths||[]).toString()!==t.toString()&&(this._columnWidths=t,this._updateColumns())}get selectedData(){return void 0!==this._niTypeInstance?t.getRecordsFromPaths(this._niTypeInstance,this.dataSource,this.selection):[]}get selection(){let e;return void 0!==this.jqref&&(e=this.jqref.jqxTreeGrid("getSelection")),this.allowSelection&&void 0!==e&&e.length>0?e.filter(e=>void 0!==e).map(e=>e&&e[this._pathDataFieldName]):[]}set selection(e){if(e=t.ensureValidSelection(this._pathFieldName,this.dataSource,e)||[],void 0!==this.jqref){const t=this.jqref.jqxTreeGrid("getSelection").filter(e=>void 0!==e).map(e=>e.id),i=e.map(e=>{const t=this._pathsToIdsMap.get(e);return void 0!==t?t.toString():void 0}).filter(e=>void 0!==e);n.isDeepEqual(t.sort(),i.sort())||(this.selectionIsChanging=!0,this.jqref.jqxTreeGrid("clearSelection"),this.allowSelection&&e.forEach(e=>{const t=this._pathsToIdsMap.get(e);this.jqref.jqxTreeGrid("selectRow",t),this._expandParentsOfRow(t)}),delete this.selectionIsChanging)}this._requestedSelection=e}clearSelection(){this.selection=[]}_updateColumns(){if(void 0===this._niTypeInstance)return;this._safeCallJqxTreeGridMethod("beginUpdate");const e=this._niTypeInstance.getSubtype().getFields().length,n=[...this.columnWidths.slice(0,e),...Array(Math.max(0,e-this.columnWidths.length)).fill(100)],a=[...this.columnHeaders.slice(0,e),...Array(Math.max(0,e-this.columnHeaders.length)).fill(" ")],r=[],s=this._niTypeInstance.getSubtype().getFields();this._columnDataFields=[];for(let e=0;e<s.length;e++){const l=0===e?"caption":t.getJqxDataFieldName(s[e]),o={text:a[e],width:n[e],datafield:l,renderer:function(e,t,n){return'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+'; margin: 4px;"><span style="text-overflow: ellipsis; cursor: default;">'+i.escapeHtml(e)+"</span></div>"}};this._columnDataFields.push(l),r.push(o)}this._updateTreeAndPreserveSelectionAndScrollOffset(()=>{this.jqref.jqxTreeGrid({columns:r})}),this._safeCallJqxTreeGridMethod("endUpdate")}_dataSourceValidator(e,n){if("string"==typeof n&&this.properties.dataSource.isUpdatingFromAttribute)try{n=JSON.parse(n)}catch(t){return e}return t.isValidArrayForTreeDataSource(n)?n:e}_setDataSource(e){if(void 0!==e&&void 0!==this._pathFieldName){let i=0;const a=this._dataSourceAdapter;void 0!==a&&(i=a.records.length);const r=t.arrayAsJqxTreeGridSource(e,this._pathFieldName),s=r.dataAdapter;let l=0;void 0!==s._source.localdata&&(l=s._source.localdata.length);let o=0===i||i!==l;if(!o){let e;for(e=0;e<l&&a.records[e][this._pathDataFieldName]===s._source.localdata[e][this._pathDataFieldName];e++);if(e===l){for(e=0;e<l;e++){const t=a.records[e],i=s._source.localdata[e];if(!n.isDeepEqual(t,i)){const e=this.jqref.jqxTreeGrid("getRow",i.id);for(let n=1;n<this._columnDataFields.length;n++){const a=this._columnDataFields[n];t[a]=i[a],e[a]=i[a]}}}this.jqref.jqxTreeGrid("_renderrows")}else o=!0}o&&this._updateTreeAndPreserveSelectionAndScrollOffset(()=>{this._pathsToIdsMap=r.pathsToIdsMap,this._dataSourceAdapter=s,this.jqref.jqxTreeGrid({source:s})})}}_updateTreeAndPreserveSelectionAndScrollOffset(e){const t=this.selection,n=this.querySelector("table");if(null!==n){const e=n.parentElement,t=parseFloat(e.style.top),i=parseFloat(e.style.left);this._tableScrollOffset={},window.isNaN(t)||(this._tableScrollOffset.top=t),window.isNaN(i)||(this._tableScrollOffset.left=i)}else this._tableScrollOffset=void 0;const i=this.jqref.jqxTreeGrid("scrollOffset");e(),this.selection=t,this.jqref.jqxTreeGrid("scrollOffset",i.top,i.left),this._tableScrollOffset=void 0}_restoreScrollPositionDuringUpdate(){if(void 0!==this._tableScrollOffset){const e=this.querySelector("table");null!==e&&(void 0!==this._tableScrollOffset.top&&(e.parentElement.style.top=this._tableScrollOffset.top+"px"),void 0!==this._tableScrollOffset.left&&(e.parentElement.style.left=this._tableScrollOffset.left+"px"))}}_resizeHandler(){void 0!==this.jqref&&this.jqref.jqxTreeGrid({width:this.offsetWidth,height:this.offsetHeight})}_columnResizeHandler(e){const t=this.jqref.jqxTreeGrid("columns"),n=t.records.findIndex(t=>t.datafield===e.args.dataField);if(n>=0){const i=t.length(),a=[...this.columnWidths,...Array(Math.max(0,i-this.columnWidths.length)).fill(100)];a[n]=e.args.newWidth,this._columnWidths=a,this.dispatchEvent(new CustomEvent("columnsResized",{detail:{newWidths:this._columnWidths}}))}}_interactiveSelectionChangeHandler(e){const t=this;!0!==t.selectionIsChanging&&t.dispatchEvent(new CustomEvent("selectionChange",{detail:{newSelection:t.selection}}))}_refreshFolding(){this.foldingIsChanging=!0,this.jqref.jqxTreeGrid("collapseAll"),this._expandedParents.forEach(e=>{const t=this._pathsToIdsMap.get(e);void 0!==t&&(this.jqref.jqxTreeGrid("expandRow",t),this._expandParentsOfRow(t))}),delete this.foldingIsChanging}_rowExpansionChangeHandler(e){const t=e.type,n=e.args.row;"rowExpand"===t?(this._traverseParentsToRoot(n,e=>this._expandedParents.delete(e[this._pathDataFieldName])),this._expandedParents.add(n[this._pathDataFieldName])):(this._traverseSubtreenDepthFirst(n,e=>this._expandedParents.delete(e[this._pathDataFieldName])),null!==n.parent&&this._expandedParents.add(n.parent[this._pathDataFieldName])),this.foldingIsChanging||this.dispatchEvent(new CustomEvent("foldingChanged",{detail:{newFolding:Array.from(this._expandedParents)}}))}_traverseParentsToRoot(e,t){let n=e;for(;void 0!==n&&null!==n.parent;)t(n.parent),n=n.parent}_traverseSubtreenDepthFirst(e,t){const n=e,i=n.records;i&&i.forEach(e=>this._traverseSubtreenDepthFirst(e,t)),t(n)}_expandParentsOfRow(e){if(void 0!==this.jqref&&void 0!==e){const t=this.jqref.jqxTreeGrid("getRow",e);this._traverseParentsToRoot(t,e=>{this.jqref.jqxTreeGrid("expandRow",e.id)})}}_safeCallJqxTreeGridMethod(e,t){if(void 0!==this.jqref)return this.jqref.jqxTreeGrid(e,t)}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n);const i=this;switch(e){case"disabled":i.jqref.jqxTreeGrid("disabled",i.disabled)}}})}(),
// National Instruments Copyright 2014
function(){class e extends NationalInstruments.HtmlVI.Elements.Visual{}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(e.prototype,"ni-opaque-refnum","HTMLNIOpaqueRefnum"),NationalInstruments.HtmlVI.Elements.OpaqueRefnum=e}(),
// National Instruments Copyright 2014
function(){const e=NationalInstruments.HtmlVI.NISupport;class t extends NationalInstruments.HtmlVI.Elements.LayoutControl{forceResizeChildren(){const t=this.children;for(let n=0;n<t.length;n++)e.isElement(t[n])&&"function"==typeof t[n].forceResize&&t[n]._latestSize&&t[n].forceResize(t[n]._latestSize)}attachedCallback(){const e=super.attachedCallback();return!0===e&&this.updateDisableStateForChildren(),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"disabled":this.updateDisableStateForChildren()}}updateDisableStateForChildren(){if(this.hasChildNodes())for(let t=0;t<this.childNodes.length;++t)e.isElement(this.childNodes[t])&&(this.childNodes[t].disabled=this.disabled)}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(t.prototype,"ni-layout-panel","HTMLNILayoutPanel"),NationalInstruments.HtmlVI.Elements.LayoutPanel=t}(),
// National Instruments Copyright 2014
function(){const e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery,n=function(t){let n;const i=[];for(n=0;n<t.children.length;n++)t.children[n].classList.contains("jqx-ribbon")&&i.push(t.children[n]);return i.length>1&&e.infoVerbose("TabControl should always either have zero or one headerContainers but currently has ("+i.length+")"),i},i=function(i){let a,r,s;const l=n(i),o=i._validTabHeadersLength>0,d=i.selectedIndex>=0&&i.selectedIndex<i._validTabHeadersLength,u=1===l.length;if(o&&d&&u){for(a=t(l[0]),i.selectedIndex!==a.jqxRibbon("selectedIndex")&&a.jqxRibbon({selectedIndex:i.selectedIndex}),r=0;r<i.children.length;r++)i.children[r]instanceof NationalInstruments.HtmlVI.Elements.TabItem&&(i.children[r].tabPosition===i.selectedIndex?(i.children[r].classList.add("ni-selected"),s=i.children[r]):i.children[r].classList.remove("ni-selected"));void 0===s?e.infoVerbose("Expected a tab item selectedIndex ("+i.selectedIndex+") to exist, but none was found."):s.forceResizeChildren(!0)}else e.infoVerbose("TabControl was provided invalid selectedIndex ("+i.selectedIndex+") when the number of valid tab items is ("+i._validTabHeadersLength+")")},a=function(a){const r={},s=n(a);let l;for(l=0;l<s.length;l+=1)a.removeChild(s[l]);const o=function(t){const n=document.createElement("div");let i,a,r,s,l,o=[];for(r=0;r<t.children.length;r++)if(t.children[r]instanceof NationalInstruments.HtmlVI.Elements.TabItem){if(void 0!==o[t.children[r].tabPosition]){e.infoVerbose("TabControl has multiple TabItems with tabPosition ("+t.children[r].tabPosition+")"),o=[];break}o[t.children[r].tabPosition]=t.children[r].header}if(i=document.createElement("ul"),a=document.createElement("div"),o.length>0)for(r=0;r<o.length;r++){if("string"!=typeof o[r]){e.infoVerbose("TabControl is missing TabItem at tabPosition ("+r+")"),i=document.createElement("ul"),a=document.createElement("div");break}(s=document.createElement("li")).textContent=o[r],i.appendChild(s),a.appendChild(document.createElement("div"))}if(0===i.children.length?((s=document.createElement("li")).innerHTML="&nbsp;",i.appendChild(s),a.appendChild(document.createElement("div")),e.infoVerbose("TabControl has no valid TabItems to render, creating dummy so jqxRibbon does not error"),l=0):l=i.children.length,i.children.length!==a.children.length)throw new Error("The generated number of tab headers and tab frames should be the same");return n.appendChild(i),n.appendChild(a),{container:n,validTabHeadersLength:l}}(a),d=o.container;a._validTabHeadersLength=o.validTabHeadersLength,a.insertBefore(d,a.firstElementChild),r.animationType="none",r.position=a.tabStripPlacement.toLowerCase(),r.disabled=a.disabled,r.theme="ni-rethemed";const u=t(d);u.jqxRibbon(r),u.on("select",function(e){a.selectedIndex=e.args.selectedIndex}),i(a)},r=function(e){!1===e._attachHeaderContainerQueued&&(e._attachHeaderContainerQueued=!0,window.requestAnimationFrame(function(){e._attachHeaderContainerQueued=!1,a(e)}))},s=function(e){return e.classList.contains("ni-hidden")},l=function(e,t){return!1===e.children[t].disabled&&!s(e.children[t])&&(e.selectedIndex=t-1,!0)},o=function(e,t){const n=e.selectedIndex;if(n===t){(function(e,t){for(let n=t+2;n<e.childElementCount;n++)if(l(e,n))return!0;return!1})(e,n)||function(e,t){for(let n=t;n>0;n--)if(l(e,n))return!0}(e,n)}},d=function(e,i){const a=n(i),r=t(a[0]);e.disabled?r.jqxRibbon("disableAt",e.tabPosition):r.jqxRibbon("enableAt",e.tabPosition)},u=function(e,i){const a=n(i),r=t(a[0]);s(e)?r.jqxRibbon("hideAt",e.tabPosition):r.jqxRibbon("showAt",e.tabPosition)};class c extends NationalInstruments.HtmlVI.Elements.LayoutControl{addAllProperties(t){super.addAllProperties(t);const n=c.prototype;n.addProperty(t,{propertyName:"selectedIndex",defaultValue:0,fireEvent:!0,addNonSignalingProperty:!0}),n.addProperty(t,{propertyName:"tabStripPlacement",defaultValue:"top"}),e.setValuePropertyDescriptor(t,"selectedIndex","selectedIndex","selectedIndexNonSignaling","selected-index-changed")}createdCallback(){super.createdCallback(),this._validTabHeadersLength=0,this._attachHeaderContainerQueued=!1}attachedCallback(){const e=super.attachedCallback(),t=this;return!0===e&&(t.addEventListener("ni-tab-item-attached",function(e){e.target===t&&r(t)}),t.addEventListener("ni-tab-item-detached",function(e){e.target===t&&r(t)}),t.addEventListener("ni-tab-item-header-updated",function(e){e.target===t&&r(t)}),t.addEventListener("ni-tab-item-position-updated",function(e){e.target===t&&r(t)}),t.addEventListener("ni-tab-item-visibility-updated",function(e){if(e.target===t){const n=e.detail.element;s(n)&&o(t,n.tabPosition),u(n,t)}}),t.addEventListener("ni-tab-item-disabled-updated",function(e){if(e.target===t){const n=e.detail.element;n.disabled&&o(t,n.tabPosition),d(n,t)}}),r(t),this.updateDisableStateForChildren()),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"selectedIndex":i(this);break;case"tabStripPlacement":r(this);break;case"disabled":this.updateDisableStateForRibbon(),this.updateDisableStateForChildren()}}updateDisableStateForRibbon(){const e=n(this);t(e[0]).jqxRibbon({disabled:this.disabled})}updateDisableStateForChildren(){for(let e=0;e<this.children.length;e++){const t=this.children[e];if(t instanceof NationalInstruments.HtmlVI.Elements.TabItem){const e=!!this.disabled||t.disabled;t.updateDisableStateForChild(e)}}}setFont(e,t,n,i,a){super.setFont(e,t,n,i,a),r(this)}forceResize(e){super.forceResize(e),r(this)}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(c.prototype,"ni-tab-control","HTMLNITabControl"),NationalInstruments.HtmlVI.Elements.TabControl=c}(),
// National Instruments Copyright 2014
function(){const e=NationalInstruments.HtmlVI.NISupport;class t extends NationalInstruments.HtmlVI.Elements.LayoutControl{addAllProperties(e){super.addAllProperties(e);const n=t.prototype;n.addProperty(e,{propertyName:"tabPosition",defaultValue:-1}),n.addProperty(e,{propertyName:"header",defaultValue:"TabItem"})}createdCallback(){super.createdCallback(),this._parentTabControl=void 0}sendEventToParentTabControl(e){let t;void 0!==this._parentTabControl&&(t={bubbles:!0,cancelable:!0,detail:{element:this}},this._parentTabControl.dispatchEvent(new CustomEvent(e,t)))}attachedCallback(){const t=super.attachedCallback();return this.parentElement instanceof NationalInstruments.HtmlVI.Elements.TabControl?(!0===t&&this.updateDisableStateForChild(),this._parentTabControl=this.parentElement,this.sendEventToParentTabControl("ni-tab-item-attached")):(e.error("Tab Item does not have a parent Tab Control "+this),this._parentTabControl=void 0),t}forceResizeChildren(){const t=this.children;if(t)for(let n=0;n<t.length;n++)e.isElement(t[n])&&"function"==typeof t[n].forceResizeChildren&&t[n].forceResizeChildren()}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"header":this.sendEventToParentTabControl("ni-tab-item-header-updated");break;case"tabPosition":this.sendEventToParentTabControl("ni-tab-item-position-updated");break;case"disabled":{const e=!0===this.disabled||this._parentTabControl.disabled;this.updateDisableStateForChild(e),this.sendEventToParentTabControl("ni-tab-item-disabled-updated");break}}}updateDisableStateForChild(t){this.hasChildNodes()&&e.isElement(this.childNodes[0])&&void 0!==t&&this.childNodes[0].disabled!==t&&(this.childNodes[0].disabled=t)}sendEventToParentTabControlOnVisibilityUpdate(){this.sendEventToParentTabControl("ni-tab-item-visibility-updated")}detachedCallback(){super.detachedCallback(),this.sendEventToParentTabControl("ni-tab-item-detached"),this._parentTabControl=void 0}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(t.prototype,"ni-tab-item","HTMLNITabItem"),NationalInstruments.HtmlVI.Elements.TabItem=t}(),
// National Instruments Copyright 2014
function(){const e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.HtmlVI.ValueConverters.JQXNumericValueConverter,n=NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter,i=window.NIType,a=window.NITypeNames,r=function(e){let t=new i(e.niType);return t.isEnum()&&(t=t.getSubtype()),t},s=function(e,i){return n.convert(t.convertBack(e,i),i,!0)},l=function(e,i){return t.convert(n.convertBack(e,i),i)},o=function(e,t,n){return n.is64BitInteger()?e===t:parseFloat(e)===parseFloat(t)},d=function(e){const t=e.items;if(void 0!==t)for(let e=0;e<t.length;e++)t[e].unselectable&&(t[e].unselectable=!1)};class u extends NationalInstruments.HtmlVI.Elements.Visual{createdCallback(){super.createdCallback(),this.itemsArray=[],this.disabledIndexesArray=[],this._itemsUpdating=!1,this._hasUndefinedValue=!1}addAllProperties(t){super.addAllProperties(t);const n=u.prototype;n.addProperty(t,{propertyName:"disabledIndexes",defaultValue:"[]"}),n.addProperty(t,{propertyName:"value",defaultValue:{stringValue:"0",numberValue:0},fireEvent:!0,addNonSignalingProperty:!0}),n.addProperty(t,{propertyName:"niType",defaultValue:a.INT32}),n.addProperty(t,{propertyName:"items",defaultValue:"[]"}),n.addProperty(t,{propertyName:"popupEnabled",defaultValue:!1}),e.setValuePropertyDescriptor(t,"value","value","valueNonSignaling","value-changed")}attachedCallback(){const e=super.attachedCallback();return!0===e&&(this.refreshItemsArray(),this.refreshDisabledIndexesArray()),e}refreshItemsArray(){this.itemsArray=JSON.parse(this.items)}refreshDisabledIndexesArray(){this.disabledIndexesArray=JSON.parse(this.disabledIndexes)}createSource(){const e=[],t=this.itemsArray;let n;for(n=0;n<t.length;n++)e.push(t[n].displayValue);return e}findValue(){const e=this.itemsArray;let t;const n=r(this),i=l(this.value,n);for(t=0;t<e.length;t++)if(o(e[t].value,i,n))return t;return-1}getSourceAndSelectedIndexFromSource(){const e={},t=[];let n=-1;const i=r(this),a=l(this.value,i),s=this.itemsArray;for(let e=0;e<s.length;e++){const r=s[e];t.push(r.displayValue),o(r.value,a,i)&&(n=e)}return e.source=t,e.selectedIndex=n,e}selectChangedHandler(e){const t=this.itemsArray,n=r(this);let i=-1;for(let a=0;a<t.length;a++){const r=t[a];if(r.displayValue===e){i=r.value,this.value=s(r.value,n);break}}return i}addUndefinedValue(e){const t=r(this),n=l(this.value,t),i={value:n,displayValue:"<"+n+">"};this._hasUndefinedValue&&(this.itemsArray.pop(),this._hasUndefinedValue=!1),this.itemsArray.push(i);const a=this.itemsArray.length-1;return this._itemsUpdating=!0,this.items=JSON.stringify(this.itemsArray),e.dataSource=this.createSource(),e.selectedIndexes=[a],this._hasUndefinedValue=!0,this._itemsUpdating=!1,a}removeUndefinedValue(e){if(0===this.itemsArray.length)return;this._hasUndefinedValue&&(this.itemsArray.pop(),this._hasUndefinedValue=!1),this._itemsUpdating=!0,this.items=JSON.stringify(this.itemsArray);const t=this.findValue();e.dataSource=this.createSource(),e.selectedIndexes=[t],this._itemsUpdating=!1}setDisabledIndexes(e){d(e);const t=e.items,n=this.disabledIndexesArray;for(let e=0;e<n.length;e++)n[e]<t.length&&n[e]>=0&&!t[n[e]].unselectable&&(t[n[e]].unselectable=!0)}propertyUpdatedHelper(e,t,n){let i;switch(e){case"items":if(!this._itemsUpdating){this._itemsUpdating=!0,this.refreshItemsArray(),t.dataSource=this.createSource(),i=(i=this.findValue())>=0&&i<this.itemsArray.length?i:0,t.selectedIndexes=[i];const e=r(this);this.value=s(this.itemsArray[i].value,e),this._itemsUpdating=!1,this.setDisabledIndexes(t)}break;case"disabledIndexes":this.refreshDisabledIndexesArray(),this.setDisabledIndexes(t);break;case"value":!1===n?(i=this.findValue(),t.selectedIndexes=-1===i?[0]:[i]):(-1===this.findValue()?this.addUndefinedValue(t):this.removeUndefinedValue(t),this.setDisabledIndexes(t));break;case"readOnly":t.readonly=this.readOnly;break;case"disabled":t.disabled=this.disabled}}}NationalInstruments.HtmlVI.Elements.NumericValueSelector=u}(),
// National Instruments Copyright 2015
function(){const e=NationalInstruments.Globals.jQuery;class t extends NationalInstruments.HtmlVI.Elements.NumericValueSelector{createdCallback(){super.createdCallback(),this.addEventListener("change",function(e){e.stopImmediatePropagation()})}attachedCallback(){const e=super.attachedCallback(),t=this;if(!0===e){const e=document.createElement("jqx-drop-down-list");this.innerHTML="";const n=this.getSourceAndSelectedIndexFromSource(),i=-1===n.selectedIndex?[0]:[n.selectedIndex];e.setAttribute("data-source",JSON.stringify(n.source)),e.setAttribute("selected-indexes",JSON.stringify(i)),e.setAttribute("drop-down-height","auto"),e.setAttribute("selection-mode","one"),e.disabled=this.disabled,!0===this.readOnly&&e.setAttribute("readonly","true"),e.setAttribute("drop-down-open-mode",this.popupEnabled?"default":"none"),e.addEventListener("change",function(e){const n=e.detail;if(n&&!t._itemsUpdating){const e=n.value;t.selectChangedHandler(e)}}),this.appendChild(e),this.setDisabledIndexes(e)}return e}forceResize(t){super.forceResize(t),e(this.firstElementChild).width(t.width),e(this.firstElementChild).height(t.height)}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"items":case"value":case"readOnly":this.propertyUpdatedHelper(e,this.firstElementChild,!1),this.itemsArray.length>0&&-1===this.value&&(this.firstElementChild.selectedIndexes=[0]);break;case"disabled":case"disabledIndexes":this.propertyUpdatedHelper(e,this.firstElementChild,!1)}}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(t.prototype,"ni-enum-selector","HTMLNIEnumSelector"),NationalInstruments.HtmlVI.Elements.EnumSelector=t}(),
// National Instruments Copyright 2015
function(){const e=NationalInstruments.HtmlVI.ValueConverters.JQXNumericValueConverter,t=NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter,n=window.NIType;class i extends NationalInstruments.HtmlVI.Elements.NumericValueSelector{addAllProperties(e){super.addAllProperties(e),i.prototype.addProperty(e,{propertyName:"allowUndefined",defaultValue:!1})}createdCallback(){super.createdCallback(),this.addEventListener("change",function(e){e.stopImmediatePropagation()})}attachedCallback(){const i=super.attachedCallback(),a=this;if(!0===i){const i=document.createElement("jqx-drop-down-list");this.appendChild(i);const r=document.createElement("jqx-numeric-text-box");this.appendChild(r);const s=new n(this.niType),l=e.convertNITypeToJQX(s);r.setAttribute("input-format",l),"integer"===l&&r.setAttribute("word-length",s.getName().toLowerCase()),!0===this.readOnly&&r.setAttribute("readonly",""),r.setAttribute("value",e.convert(t.convertBack(this.value,s),s));let o=this.getSourceAndSelectedIndexFromSource().selectedIndex;-1===o&&(o=this.addUndefinedValue(i));const d=this.createSource();i.setAttribute("selection-mode","one"),i.setAttribute("data-source",JSON.stringify(d)),i.setAttribute("selected-indexes",JSON.stringify([o])),i.setAttribute("drop-down-height","auto"),i.disabled=this.disabled,!0===this.readOnly&&i.setAttribute("readonly",""),i.setAttribute("drop-down-open-mode",this.popupEnabled?"default":"none"),i.addEventListener("change",function(e){const t=e.detail;if(t&&!a._itemsUpdating){const e=t.label,n=a.selectChangedHandler(e);r.value=n}}),r.addEventListener("change",function(i){const s=new n(a.niType),l=e.convertBack(r.value,s);a.value=t.convert(l,s,!0)}),r.classList.add("ni-ring-numeric-input"),customElements.whenDefined(r.localName).then(function(){a.numericInputDefined=!0}),this.setDisabledIndexes(i)}return i}propertyUpdated(i){super.propertyUpdated(i);const a=this.querySelector("jqx-numeric-text-box"),r=this.querySelector("jqx-drop-down-list");let s;switch(i){case"items":this._hasUndefinedValue&&(this._hasUndefinedValue=!1,this.itemsArray.pop()),this.propertyUpdatedHelper(i,r,!1);break;case"readOnly":this.propertyUpdatedHelper(i,r,!1);break;case"value":s=new n(this.niType),this.propertyUpdatedHelper(i,r,!0),this.numericInputDefined&&(a.properties.value.notify=!1),a.value=e.convert(t.convertBack(this.value,s),s),this.numericInputDefined&&(a.properties.value.notify=!0);break;case"allowUndefined":this.allowUndefined||this.removeUndefinedValue(r);break;case"niType":{s=new n(this.niType);const t=e.convertNITypeToJQX(s);a.inputFormat=t,"integer"===t&&(a.wordLength=s.getName().toLowerCase());break}case"disabled":this.propertyUpdatedHelper(i,r,!1),a.disabled=this.disabled;break;case"disabledIndexes":this.propertyUpdatedHelper(i,r,!1)}}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(i.prototype,"ni-ring-selector","HTMLNIRingSelector"),NationalInstruments.HtmlVI.Elements.RingSelector=i}(),
// National Instruments Copyright 2014
function(){const e=NationalInstruments.HtmlVI.NISupport,t={HORIZONTAL:"horizontal",VERTICAL:"vertical"},n=function(t,n,i){const a=document.createElement("jqx-radio-button");return a.setAttribute("enable-container-click",""),t.readOnly&&a.setAttribute("readonly",""),t.disabled&&a.setAttribute("disabled",""),a.innerHTML=e.escapeHtml(n),i&&a.setAttribute("checked",""),t.appendChild(a),a},i=function(e){e.innerHTML="",e._childRadioButtons=[];const t=e.getSourceAndSelectedIndexFromSource();let i,a,r;for(i=0;i<t.source.length;i++)r=t.selectedIndex===i,a=n(e,t.source[i],r),e._childRadioButtons.push(a)};class a extends NationalInstruments.HtmlVI.Elements.NumericValueSelector{addAllProperties(e){super.addAllProperties(e),a.prototype.addProperty(e,{propertyName:"orientation",defaultValue:t.VERTICAL})}createdCallback(){super.createdCallback();const e=this;e._childRadioButtons=[],e.addEventListener("change",function(t){const n=e._childRadioButtons.indexOf(t.target);n>-1&&e.selectChangedHandler(e.itemsArray[n].displayValue),t.stopImmediatePropagation()})}attachedCallback(){const e=super.attachedCallback();return!0===e&&i(this),e}propertyUpdated(e){super.propertyUpdated(e);const t=this;switch(e){case"items":this.refreshItemsArray(),i(this);break;case"value":{const e=this.getSourceAndSelectedIndexFromSource();this._childRadioButtons[e.selectedIndex].checked=!0;break}case"readOnly":this._childRadioButtons.forEach(function(e){e.readonly=t.readOnly});break;case"disabled":this._childRadioButtons.forEach(function(e){e.disabled=t.disabled})}}}NationalInstruments.HtmlVI.Elements.NIElement.defineElementInfo(a.prototype,"ni-radio-button-group","HTMLNIRadioButtonGroup"),NationalInstruments.HtmlVI.Elements.RadioButtonGroup=a,NationalInstruments.HtmlVI.Elements.RadioButtonGroup.OrientationEnum=t}();