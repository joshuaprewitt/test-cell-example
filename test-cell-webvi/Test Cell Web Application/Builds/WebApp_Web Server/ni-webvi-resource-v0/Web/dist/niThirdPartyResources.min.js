var oldBrowser=document.all&&!document.addEventListener;oldBrowser||function(e,t){var i,s,r=e.document,n=(e.location,e.navigator),o=e.JQXLite,a=e.$,l=Array.prototype.push,h=Array.prototype.slice,d=Array.prototype.indexOf,c=Object.prototype.toString,u=Object.prototype.hasOwnProperty,p=String.prototype.trim,f=function(e,t){return new f.fn.init(e,t,i)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,v=/\s+/,x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,w=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,y=/^[\],:{}\s]*$/,_=/(?:^|:|,)(?:\s*\[)+/g,j=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,q=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,S=/^-ms-/,T=/-([\da-z])/gi,C=function(e,t){return(t+"").toUpperCase()},I=function(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",I,!1),f.ready()):"complete"===r.readyState&&(r.detachEvent("onreadystatechange",I),f.ready())},k={};f.fn=f.prototype={constructor:f,init:function(e,i,s){var n,o,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:b.exec(e))||!n[1]&&i)return!i||i.jqx?(i||s).find(e):this.constructor(i).find(e);if(n[1])return a=(i=i instanceof f?i[0]:i)&&i.nodeType?i.ownerDocument||i:r,e=f.parseHTML(n[1],a,!0),w.test(n[1])&&f.isPlainObject(i)&&this.attr.call(e,i,!0),f.merge(this,e);if((o=r.getElementById(n[2]))&&o.parentNode){if(o.id!==n[2])return s.find(e);this.length=1,this[0]=o}return this.context=r,this.selector=e,this}return f.isFunction(e)?s.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),f.makeArray(e,this))},selector:"",jqx:"4.5.0",length:0,size:function(){return this.length},toArray:function(){return h.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,i){var s=f.merge(this.constructor(),e);return s.prevObject=this,s.context=this.context,"find"===t?s.selector=this.selector+(this.selector?" ":"")+i:t&&(s.selector=this.selector+"."+t+"("+i+")"),s},each:function(e,t){return f.each(this,e,t)},ready:function(e){return f.ready.promise().done(e),this},eq:function(e){return-1===(e=+e)?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(h.apply(this,arguments),"slice",h.call(arguments).join(","))},map:function(e){return this.pushStack(f.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:l,sort:[].sort,splice:[].splice},f.fn.init.prototype=f.fn,f.extend=f.fn.extend=function(){var e,i,s,r,n,o,a=arguments[0]||{},l=1,h=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[1]||{},l=2),"object"==typeof a||f.isFunction(a)||(a={}),h===l&&(a=this,--l);l<h;l++)if(null!=(e=arguments[l]))for(i in e)s=a[i],a!==(r=e[i])&&(d&&r&&(f.isPlainObject(r)||(n=f.isArray(r)))?(n?(n=!1,o=s&&f.isArray(s)?s:[]):o=s&&f.isPlainObject(s)?s:{},a[i]=f.extend(d,o,r)):r!==t&&(a[i]=r));return a},f.extend({noConflict:function(t){return e.$===f&&(e.$=a),t&&e.JQXLite===f&&(e.JQXLite=o),f},isReady:!1,readyWait:1,holdReady:function(e){e?f.readyWait++:f.ready(!0)},ready:function(e){if(!0===e?!--f.readyWait:!f.isReady){if(!r.body)return setTimeout(f.ready,1);f.isReady=!0,!0!==e&&--f.readyWait>0||(s.resolveWith(r,[f]),f.fn.trigger&&f(r).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===f.type(e)},isArray:Array.isArray||function(e){return"array"===f.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):k[c.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==f.type(e)||e.nodeType||f.isWindow(e))return!1;try{if(e.constructor&&!u.call(e,"constructor")&&!u.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var i;for(i in e);return i===t||u.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){var s;return e&&"string"==typeof e?("boolean"==typeof t&&(i=t,t=0),t=t||r,(s=w.exec(e))?[t.createElement(s[1])]:(s=f.buildFragment([e],t,i?null:[]),f.merge([],(s.cacheable?f.clone(s.fragment):s.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=f.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):y.test(t.replace(j,"@").replace(q,"]").replace(_,""))?new Function("return "+t)():void f.error("Invalid JSON: "+t)):null},parseXML:function(i){var s;if(!i||"string"!=typeof i)return null;try{e.DOMParser?s=(new DOMParser).parseFromString(i,"text/xml"):((s=new ActiveXObject("Microsoft.XMLDOM")).async="false",s.loadXML(i))}catch(e){s=t}return s&&s.documentElement&&!s.getElementsByTagName("parsererror").length||f.error("Invalid XML: "+i),s},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(S,"ms-").replace(T,C)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,i,s){var r,n=0,o=e.length,a=o===t||f.isFunction(e);if(s)if(a){for(r in e)if(!1===i.apply(e[r],s))break}else for(;n<o&&!1!==i.apply(e[n++],s););else if(a){for(r in e)if(!1===i.call(e[r],r,e[r]))break}else for(;n<o&&!1!==i.call(e[n],n,e[n++]););return e},trim:p&&!p.call("\ufeffÂ ")?function(e){return null==e?"":p.call(e)}:function(e){return null==e?"":(e+"").replace(x,"")},makeArray:function(e,t){var i,s=t||[];return null!=e&&(i=f.type(e),null==e.length||"string"===i||"function"===i||"regexp"===i||f.isWindow(e)?l.call(s,e):f.merge(s,e)),s},inArray:function(e,t,i){var s;if(t){if(d)return d.call(t,e,i);for(s=t.length,i=i?i<0?Math.max(0,s+i):i:0;i<s;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var s=i.length,r=e.length,n=0;if("number"==typeof s)for(;n<s;n++)e[r++]=i[n];else for(;i[n]!==t;)e[r++]=i[n++];return e.length=r,e},grep:function(e,t,i){var s=[],r=0,n=e.length;for(i=!!i;r<n;r++)i!==!!t(e[r],r)&&s.push(e[r]);return s},map:function(e,i,s){var r,n,o=[],a=0,l=e.length;if(e instanceof f||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||f.isArray(e)))for(;a<l;a++)null!=(r=i(e[a],a,s))&&(o[o.length]=r);else for(n in e)null!=(r=i(e[n],n,s))&&(o[o.length]=r);return o.concat.apply([],o)},guid:1,proxy:function(e,i){var s,r,n;return"string"==typeof i&&(s=e[i],i=e,e=s),f.isFunction(e)?(r=h.call(arguments,2),(n=function(){return e.apply(i,r.concat(h.call(arguments)))}).guid=e.guid=e.guid||f.guid++,n):t},access:function(e,i,s,r,n,o,a){var l,h=null==s,d=0,c=e.length;if(s&&"object"==typeof s){for(d in s)f.access(e,i,d,s[d],1,o,r);n=1}else if(r!==t){if(l=a===t&&f.isFunction(r),h&&(l?(l=i,i=function(e,t,i){return l.call(f(e),i)}):(i.call(e,r),i=null)),i)for(;d<c;d++)i(e[d],s,l?r.call(e[d],d,i(e[d],s)):r,a);n=1}return n?e:h?i.call(e):c?i(e[0],s):o},now:function(){return(new Date).getTime()}}),f.ready.promise=function(t){if(!s)if(s=f.Deferred(),"complete"===r.readyState)setTimeout(f.ready,1);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",I,!1),e.addEventListener("load",f.ready,!1);else{r.attachEvent("onreadystatechange",I),e.attachEvent("onload",f.ready);var i=!1;try{i=null==e.frameElement&&r.documentElement}catch(e){}i&&i.doScroll&&function e(){if(!f.isReady){try{i.doScroll("left")}catch(t){return setTimeout(e,50)}f.ready()}}()}return s.promise(t)},f.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){k["[object "+t+"]"]=t.toLowerCase()}),i=f(r);var P={};f.Callbacks=function(e){e="string"==typeof e?P[e]||function(e){var t=P[e]={};return f.each(e.split(v),function(e,i){t[i]=!0}),t}(e):f.extend({},e);var i,s,r,n,o,a,l=[],h=!e.once&&[],d=function(t){for(i=e.memory&&t,s=!0,a=n||0,n=0,o=l.length,r=!0;l&&a<o;a++)if(!1===l[a].apply(t[0],t[1])&&e.stopOnFalse){i=!1;break}r=!1,l&&(h?h.length&&d(h.shift()):i?l=[]:c.disable())},c={add:function(){if(l){var t=l.length;!function t(i){f.each(i,function(i,s){var r=f.type(s);"function"===r?e.unique&&c.has(s)||l.push(s):s&&s.length&&"string"!==r&&t(s)})}(arguments),r?o=l.length:i&&(n=t,d(i))}return this},remove:function(){return l&&f.each(arguments,function(e,t){for(var i;(i=f.inArray(t,l,i))>-1;)l.splice(i,1),r&&(i<=o&&o--,i<=a&&a--)}),this},has:function(e){return f.inArray(e,l)>-1},empty:function(){return l=[],this},disable:function(){return l=h=i=t,this},disabled:function(){return!l},lock:function(){return h=t,i||c.disable(),this},locked:function(){return!h},fireWith:function(e,t){return t=[e,(t=t||[]).slice?t.slice():t],!l||s&&!h||(r?h.push(t):d(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!s}};return c},f.extend({Deferred:function(e){var t=[["resolve","done",f.Callbacks("once memory"),"resolved"],["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],i="pending",s={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return f.Deferred(function(i){f.each(t,function(t,s){var n=s[0],o=e[t];r[s[1]](f.isFunction(o)?function(){var e=o.apply(this,arguments);e&&f.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[n+"With"](this===r?i:this,[e])}:i[n])}),e=null}).promise()},promise:function(e){return null!=e?f.extend(e,s):s}},r={};return s.pipe=s.then,f.each(t,function(e,n){var o=n[2],a=n[3];s[n[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),r[n[0]]=o.fire,r[n[0]+"With"]=o.fireWith}),s.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,s,r=0,n=h.call(arguments),o=n.length,a=1!==o||e&&f.isFunction(e.promise)?o:0,l=1===a?e:f.Deferred(),d=function(e,i,s){return function(r){i[e]=this,s[e]=arguments.length>1?h.call(arguments):r,s===t?l.notifyWith(i,s):--a||l.resolveWith(i,s)}};if(o>1)for(t=new Array(o),i=new Array(o),s=new Array(o);r<o;r++)n[r]&&f.isFunction(n[r].promise)?n[r].promise().done(d(r,s,n)).fail(l.reject).progress(d(r,i,t)):--a;return a||l.resolveWith(s,n),l.promise()}}),f.support=function(){var t,i,s,n,o,a,l,h,d,c,u,p=r.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=p.getElementsByTagName("*"),s=p.getElementsByTagName("a")[0],!i||!s||!i.length)return{};o=(n=r.createElement("select")).appendChild(r.createElement("option")),a=p.getElementsByTagName("input")[0],s.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(s.getAttribute("style")),hrefNormalized:"/a"===s.getAttribute("href"),opacity:/^0.5/.test(s.style.opacity),cssFloat:!!s.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==p.className,enctype:!!r.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==r.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===r.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,n.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(e){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",u=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",u)),(a=r.createElement("input")).value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),p.appendChild(a),(l=r.createDocumentFragment()).appendChild(p.lastChild),t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,l.removeChild(a),l.appendChild(p),p.attachEvent)for(d in{submit:!0,change:!0,focusin:!0})(c=(h="on"+d)in p)||(p.setAttribute(h,"return;"),c="function"==typeof p[h]),t[d+"Bubbles"]=c;return f(function(){var i,s,n,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",l=r.getElementsByTagName("body")[0];l&&((i=r.createElement("div")).style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",l.insertBefore(i,l.firstChild),s=r.createElement("div"),i.appendChild(s),s.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(n=s.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===n[0].offsetHeight,n[0].style.display="",n[1].style.display="none",t.reliableHiddenOffsets=c&&0===n[0].offsetHeight,s.innerHTML="",s.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===s.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==l.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(s,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(s,null)||{width:"4px"}).width,(o=r.createElement("div")).style.cssText=s.style.cssText=a,o.style.marginRight=o.style.width="0",s.style.width="1px",s.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),void 0!==s.style.zoom&&(s.innerHTML="",s.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===s.offsetWidth,s.style.display="block",s.style.overflow="visible",s.innerHTML="<div></div>",s.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==s.offsetWidth,i.style.zoom=1),l.removeChild(i),i=s=n=o=null)}),l.removeChild(p),i=s=n=o=a=l=p=null,t}();var M=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,N=/([A-Z])/g;function D(e,i,s){if(s===t&&1===e.nodeType){var r="data-"+i.replace(N,"-$1").toLowerCase();if("string"==typeof(s=e.getAttribute(r))){try{s="true"===s||"false"!==s&&("null"===s?null:+s+""===s?+s:M.test(s)?f.parseJSON(s):s)}catch(e){}f.data(e,i,s)}else s=t}return s}function B(e){var t;for(t in e)if(("data"!==t||!f.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}f.extend({cache:{},deletedIds:[],uuid:0,expando:"JQXLite"+(f.fn.jqx+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?f.cache[e[f.expando]]:e[f.expando])&&!B(e)},data:function(e,i,s,r){if(f.acceptData(e)){var n,o,a=f.expando,l="string"==typeof i,h=e.nodeType,d=h?f.cache:e,c=h?e[a]:e[a]&&a;if(c&&d[c]&&(r||d[c].data)||!l||s!==t)return c||(h?e[a]=c=f.deletedIds.pop()||f.guid++:c=a),d[c]||(d[c]={},h||(d[c].toJSON=f.noop)),"object"!=typeof i&&"function"!=typeof i||(r?d[c]=f.extend(d[c],i):d[c].data=f.extend(d[c].data,i)),n=d[c],r||(n.data||(n.data={}),n=n.data),s!==t&&(n[f.camelCase(i)]=s),l?null==(o=n[i])&&(o=n[f.camelCase(i)]):o=n,o}},removeData:function(e,t,i){if(f.acceptData(e)){var s,r,n,o=e.nodeType,a=o?f.cache:e,l=o?e[f.expando]:f.expando;if(a[l]){if(t&&(s=i?a[l]:a[l].data)){f.isArray(t)||(t=t in s?[t]:(t=f.camelCase(t))in s?[t]:t.split(" "));for(r=0,n=t.length;r<n;r++)delete s[t[r]];if(!(i?B:f.isEmptyObject)(s))return}(i||(delete a[l].data,B(a[l])))&&(o?f.cleanData([e],!0):f.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}},_data:function(e,t,i){return f.data(e,t,i,!0)},acceptData:function(e){var t=e.nodeName&&f.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),f.fn.extend({data:function(e,i){var s,r,n,o,a,l=this[0],h=0,d=null;if(e===t){if(this.length&&(d=f.data(l),1===l.nodeType&&!f._data(l,"parsedAttrs"))){for(a=(n=l.attributes).length;h<a;h++)(o=n[h].name).indexOf("data-")||(o=f.camelCase(o.substring(5)),D(l,o,d[o]));f._data(l,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){f.data(this,e)}):((s=e.split(".",2))[1]=s[1]?"."+s[1]:"",r=s[1]+"!",f.access(this,function(i){if(i===t)return(d=this.triggerHandler("getData"+r,[s[0]]))===t&&l&&(d=f.data(l,e),d=D(l,e,d)),d===t&&s[1]?this.data(s[0]):d;s[1]=i,this.each(function(){var t=f(this);t.triggerHandler("setData"+r,s),f.data(this,e,i),t.triggerHandler("changeData"+r,s)})},null,i,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){f.removeData(this,e)})}}),f.extend({queue:function(e,t,i){var s;if(e)return t=(t||"fx")+"queue",s=f._data(e,t),i&&(!s||f.isArray(i)?s=f._data(e,t,f.makeArray(i)):s.push(i)),s||[]},dequeue:function(e,t){t=t||"fx";var i=f.queue(e,t),s=i.length,r=i.shift(),n=f._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),s--),r&&("fx"===t&&i.unshift("inprogress"),delete n.stop,r.call(e,function(){f.dequeue(e,t)},n)),!s&&n&&n.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return f._data(e,i)||f._data(e,i,{empty:f.Callbacks("once memory").add(function(){f.removeData(e,t+"queue",!0),f.removeData(e,i,!0)})})}}),f.fn.extend({queue:function(e,i){var s=2;return"string"!=typeof e&&(i=e,e="fx",s--),arguments.length<s?f.queue(this[0],e):i===t?this:this.each(function(){var t=f.queue(this,e,i);f._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&f.dequeue(this,e)})},dequeue:function(e){return this.each(function(){f.dequeue(this,e)})},delay:function(e,t){return e=f.fx&&f.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var s=setTimeout(t,e);i.stop=function(){clearTimeout(s)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var s,r=1,n=f.Deferred(),o=this,a=this.length,l=function(){--r||n.resolveWith(o,[o])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)(s=f._data(o[a],e+"queueHooks"))&&s.empty&&(r++,s.empty.add(l));return l(),n.promise(i)}});var O,A=/[\t\r\n]/g,H=/\r/g,E=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,L=/^a(?:rea|)$/i,F=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,R=f.support.getSetAttribute;f.fn.extend({attr:function(e,t){return f.access(this,f.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){f.removeAttr(this,e)})},prop:function(e,t){return f.access(this,f.prop,e,t,arguments.length>1)},removeProp:function(e){return e=f.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(e){}})},addClass:function(e){var t,i,s,r,n,o,a;if(f.isFunction(e))return this.each(function(t){f(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(v),i=0,s=this.length;i<s;i++)if(1===(r=this[i]).nodeType)if(r.className||1!==t.length){for(n=" "+r.className+" ",o=0,a=t.length;o<a;o++)n.indexOf(" "+t[o]+" ")<0&&(n+=t[o]+" ");r.className=f.trim(n)}else r.className=e;return this},removeClass:function(e){var i,s,r,n,o,a,l;if(f.isFunction(e))return this.each(function(t){f(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(i=(e||"").split(v),a=0,l=this.length;a<l;a++)if(1===(r=this[a]).nodeType&&r.className){for(s=(" "+r.className+" ").replace(A," "),n=0,o=i.length;n<o;n++)for(;s.indexOf(" "+i[n]+" ")>=0;)s=s.replace(" "+i[n]+" "," ");r.className=e?f.trim(s):""}return this},toggleClass:function(e,t){var i=typeof e,s="boolean"==typeof t;return f.isFunction(e)?this.each(function(i){f(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var r,n=0,o=f(this),a=t,l=e.split(v);r=l[n++];)o[(a=s?a:!o.hasClass(r))?"addClass":"removeClass"](r);else"undefined"!==i&&"boolean"!==i||(this.className&&f._data(this,"__className__",this.className),this.className=this.className||!1===e?"":f._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,s=this.length;i<s;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(A," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,s,r,n=this[0];return arguments.length?(r=f.isFunction(e),this.each(function(s){var n,o=f(this);1===this.nodeType&&(null==(n=r?e.call(this,s,o.val()):e)?n="":"number"==typeof n?n+="":f.isArray(n)&&(n=f.map(n,function(e){return null==e?"":e+""})),(i=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,n,"value")!==t||(this.value=n))})):n?(i=f.valHooks[n.type]||f.valHooks[n.nodeName.toLowerCase()])&&"get"in i&&(s=i.get(n,"value"))!==t?s:"string"==typeof(s=n.value)?s.replace(H,""):null==s?"":s:void 0}}),f.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,s=e.options,r=e.selectedIndex,n="select-one"===e.type||r<0,o=n?null:[],a=n?r+1:s.length,l=r<0?a:n?r:0;l<a;l++)if(((i=s[l]).selected||l===r)&&(f.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!f.nodeName(i.parentNode,"optgroup"))){if(t=f(i).val(),n)return t;o.push(t)}return o},set:function(e,t){var i=f.makeArray(t);return f(e).find("option").each(function(){this.selected=f.inArray(f(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attrFn:{},attr:function(e,i,s,r){var n,o,a,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&f.isFunction(f.fn[i])?f(e)[i](s):void 0===e.getAttribute?f.prop(e,i,s):((a=1!==l||!f.isXMLDoc(e))&&(i=i.toLowerCase(),o=f.attrHooks[i]||(F.test(i)?O:void 0)),s!==t?null===s?void f.removeAttr(e,i):o&&"set"in o&&a&&(n=o.set(e,s,i))!==t?n:(e.setAttribute(i,s+""),s):o&&"get"in o&&a&&null!==(n=o.get(e,i))?n:null===(n=e.getAttribute(i))?t:n)},removeAttr:function(e,t){var i,s,r,n,o=0;if(t&&1===e.nodeType)for(s=t.split(v);o<s.length;o++)(r=s[o])&&(i=f.propFix[r]||r,(n=F.test(r))||f.attr(e,r,""),e.removeAttribute(R?r:i),n&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(E.test(e.nodeName)&&e.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&"radio"===t&&f.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return t in e?e.value:null},set:function(e,t,i){e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,s){var r,n,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!f.isXMLDoc(e))&&(i=f.propFix[i]||i,n=f.propHooks[i]),s!==t?n&&"set"in n&&(r=n.set(e,s,i))!==t?r:e[i]=s:n&&"get"in n&&null!==(r=n.get(e,i))?r:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):z.test(e.nodeName)||L.test(e.nodeName)&&e.href?0:t}}}}),O={get:function(e,i){var s,r=f.prop(e,i);return!0===r||"boolean"!=typeof r&&(s=e.getAttributeNode(i))&&!1!==s.nodeValue?i.toLowerCase():t},set:function(e,t,i){var s;return!1===t?f.removeAttr(e,i):((s=f.propFix[i]||i)in e&&(e[s]=!0),e.setAttribute(i,i.toLowerCase())),i}},f.support.enctype||(f.propFix.enctype="encoding");var V=/^([^\.]*|)(?:\.(.+)|)$/,W=/(?:^|\s)hover(\.\S+|)\b/,G=/^key/,U=/^(?:mouse|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=function(e){return f.event.special.hover?e:e.replace(W,"mouseenter$1 mouseleave$1")};function K(){return!1}function $(){return!0}f.event={add:function(e,i,s,r,n){var o,a,l,h,d,c,u,p,m,g,v;if(3!==e.nodeType&&8!==e.nodeType&&i&&s&&(o=f._data(e))){for(s.handler&&(s=(m=s).handler,n=m.selector),s.guid||(s.guid=f.guid++),(l=o.events)||(o.events=l={}),(a=o.handle)||(o.handle=a=function(e){return void 0===f||e&&f.event.triggered===e.type?t:f.event.dispatch.apply(a.elem,arguments)},a.elem=e),i=f.trim(Y(i)).split(" "),h=0;h<i.length;h++)c=(d=V.exec(i[h])||[])[1],u=(d[2]||"").split(".").sort(),v=f.event.special[c]||{},c=(n?v.delegateType:v.bindType)||c,v=f.event.special[c]||{},p=f.extend({type:c,origType:d[1],data:r,handler:s,guid:s.guid,selector:n,needsContext:n&&f.expr.match.needsContext.test(n),namespace:u.join(".")},m),(g=l[c])||((g=l[c]=[]).delegateCount=0,v.setup&&!1!==v.setup.call(e,r,u,a)||(e.addEventListener?e.addEventListener(c,a,!1):e.attachEvent&&e.attachEvent("on"+c,a))),v.add&&(v.add.call(e,p),p.handler.guid||(p.handler.guid=s.guid)),n?g.splice(g.delegateCount++,0,p):g.push(p),f.event.global[c]=!0;e=null}},global:{},remove:function(e,t,i,s,r){var n,o,a,l,h,d,c,u,p,m,g,v=f.hasData(e)&&f._data(e);if(v&&(u=v.events)){for(t=f.trim(Y(t||"")).split(" "),n=0;n<t.length;n++)if(a=l=(o=V.exec(t[n])||[])[1],h=o[2],a){for(p=f.event.special[a]||{},d=(m=u[a=(s?p.delegateType:p.bindType)||a]||[]).length,h=h?new RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=0;c<m.length;c++)g=m[c],!r&&l!==g.origType||i&&i.guid!==g.guid||h&&!h.test(g.namespace)||s&&s!==g.selector&&("**"!==s||!g.selector)||(m.splice(c--,1),g.selector&&m.delegateCount--,p.remove&&p.remove.call(e,g));0===m.length&&d!==m.length&&(p.teardown&&!1!==p.teardown.call(e,h,v.handle)||f.removeEvent(e,a,v.handle),delete u[a])}else for(a in u)f.event.remove(e,a+t[n],i,s,!0);f.isEmptyObject(u)&&(delete v.handle,f.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,s,n,o){if(!n||3!==n.nodeType&&8!==n.nodeType){var a,l,h,d,c,u,p,m,g,v,x=i.type||i,b=[];if(!X.test(x+f.event.triggered)&&(x.indexOf("!")>=0&&(x=x.slice(0,-1),l=!0),x.indexOf(".")>=0&&(x=(b=x.split(".")).shift(),b.sort()),n&&!f.event.customEvent[x]||f.event.global[x]))if((i="object"==typeof i?i[f.expando]?i:new f.Event(x,i):new f.Event(x)).type=x,i.isTrigger=!0,i.exclusive=l,i.namespace=b.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u=x.indexOf(":")<0?"on"+x:"",n){if(i.result=t,i.target||(i.target=n),(s=null!=s?f.makeArray(s):[]).unshift(i),!(p=f.event.special[x]||{}).trigger||!1!==p.trigger.apply(n,s)){if(g=[[n,p.bindType||x]],!o&&!p.noBubble&&!f.isWindow(n)){for(v=p.delegateType||x,d=X.test(v+x)?n:n.parentNode,c=n;d;d=d.parentNode)g.push([d,v]),c=d;c===(n.ownerDocument||r)&&g.push([c.defaultView||c.parentWindow||e,v])}for(h=0;h<g.length&&!i.isPropagationStopped();h++)d=g[h][0],i.type=g[h][1],(m=(f._data(d,"events")||{})[i.type]&&f._data(d,"handle"))&&m.apply(d,s),(m=u&&d[u])&&f.acceptData(d)&&m.apply&&!1===m.apply(d,s)&&i.preventDefault();return i.type=x,o||i.isDefaultPrevented()||p._default&&!1!==p._default.apply(n.ownerDocument,s)||"click"===x&&f.nodeName(n,"a")||!f.acceptData(n)||u&&n[x]&&("focus"!==x&&"blur"!==x||0!==i.target.offsetWidth)&&!f.isWindow(n)&&((c=n[u])&&(n[u]=null),f.event.triggered=x,n[x](),f.event.triggered=t,c&&(n[u]=c)),i.result}}else for(h in a=f.cache)a[h].events&&a[h].events[x]&&f.event.trigger(i,s,a[h].handle.elem,!0)}},dispatch:function(i){i=f.event.fix(i||e.event);var s,r,n,o,a,l,d,c,u,p=(f._data(this,"events")||{})[i.type]||[],m=p.delegateCount,g=h.call(arguments),v=!i.exclusive&&!i.namespace,x=f.event.special[i.type]||{},b=[];if(g[0]=i,i.delegateTarget=this,!x.preDispatch||!1!==x.preDispatch.call(this,i)){if(m&&(!i.button||"click"!==i.type))for(n=i.target;n!=this;n=n.parentNode||this)if(!0!==n.disabled||"click"!==i.type){for(a={},d=[],s=0;s<m;s++)a[u=(c=p[s]).selector]===t&&(a[u]=c.needsContext?f(u,this).index(n)>=0:f.find(u,this,null,[n]).length),a[u]&&d.push(c);d.length&&b.push({elem:n,matches:d})}for(p.length>m&&b.push({elem:this,matches:p.slice(m)}),s=0;s<b.length&&!i.isPropagationStopped();s++)for(l=b[s],i.currentTarget=l.elem,r=0;r<l.matches.length&&!i.isImmediatePropagationStopped();r++)c=l.matches[r],(v||!i.namespace&&!c.namespace||i.namespace_re&&i.namespace_re.test(c.namespace))&&(i.data=c.data,i.handleObj=c,(o=((f.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,g))!==t&&(i.result=o,!1===o&&(i.preventDefault(),i.stopPropagation())));return x.postDispatch&&x.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var s,n,o,a=i.button,l=i.fromElement;return null==e.pageX&&null!=i.clientX&&(n=(s=e.target.ownerDocument||r).documentElement,o=s.body,e.pageX=i.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=i.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?i.toElement:l),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[f.expando])return e;var t,i,s=e,n=f.event.fixHooks[e.type]||{},o=n.props?this.props.concat(n.props):this.props;for(e=f.Event(s),t=o.length;t;)e[i=o[--t]]=s[i];return e.target||(e.target=s.srcElement||r),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,n.filter?n.filter(e,s):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){f.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,s){var r=f.extend(new f.Event,i,{type:e,isSimulated:!0,originalEvent:{}});s?f.event.trigger(r,null,t):f.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=r.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var s="on"+t;e.detachEvent&&(void 0===e[s]&&(e[s]=null),e.detachEvent(s,i))},f.Event=function(e,t){if(!(this instanceof f.Event))return new f.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?$:K):this.type=e,t&&f.extend(this,t),this.timeStamp=e&&e.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=$;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=$;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=$,this.stopPropagation()},isDefaultPrevented:K,isPropagationStopped:K,isImmediatePropagationStopped:K},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){f.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,s=e.relatedTarget,r=e.handleObj;r.selector;return s&&(s===this||f.contains(this,s))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),f.fn.extend({on:function(e,i,s,r,n){var o,a;if("object"==typeof e){for(a in"string"!=typeof i&&(s=s||i,i=t),e)this.on(a,i,s,e[a],n);return this}if(null==s&&null==r?(r=i,s=i=t):null==r&&("string"==typeof i?(r=s,s=t):(r=s,s=i,i=t)),!1===r)r=K;else if(!r)return this;return 1===n&&(o=r,(r=function(e){return f().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=f.guid++)),this.each(function(){f.event.add(this,e,r,s,i)})},off:function(e,i,s){var r,n;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,f(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(n in e)this.off(n,i,e[n]);return this}return!1!==i&&"function"!=typeof i||(s=i,i=t),!1===s&&(s=K),this.each(function(){f.event.remove(this,e,s,i)})},delegate:function(e,t,i,s){return this.on(t,e,i,s)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each(function(){f.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return f.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,i=e.guid||f.guid++,s=0,r=function(i){var r=(f._data(this,"lastToggle"+e.guid)||0)%s;return f._data(this,"lastToggle"+e.guid,r+1),i.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=i;s<t.length;)t[s++].guid=i;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){f.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},G.test(t)&&(f.event.fixHooks[t]=f.event.keyHooks),U.test(t)&&(f.event.fixHooks[t]=f.event.mouseHooks)}),
/*!
         * Sizzle CSS Selector Engine
         * Copyright 2012 JQXLite Foundation and other contributors
         * Released under the MIT license
         * http://sizzlejs.com/
         */
function(e,t){var i,s,r,n,o,a,l,h,d,c,u,p,m,g,v,x,b,w,y=("sizcache"+Math.random()).replace(".",""),_=String,j=e.document,q=j.documentElement,S=0,T=0,C=[].pop,I=[].push,k=[].slice,P=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},M=function(e,t){return e[y]=null==t||t,e},N=function(){var e={},t=[];return M(function(i,s){return t.push(i)>r.cacheLength&&delete e[t.shift()],e[i+" "]=s},e)},D=N(),B=N(),O=N(),A="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",E=H.replace("w","w#"),z="\\["+A+"*("+H+")"+A+"*(?:([*^$|!~]?=)"+A+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+E+")|)|)"+A+"*\\]",L=":("+H+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+z+")|[^:]|\\\\.)*|.*))\\)|)",F=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+A+"*((?:-\\d)?\\d*)"+A+"*\\)|)(?=[^-]|$)",R=new RegExp("^"+A+"+|((?:^|[^\\\\])(?:\\\\.)*)"+A+"+$","g"),V=new RegExp("^"+A+"*,"+A+"*"),W=new RegExp("^"+A+"*([\\x20\\t\\r\\n\\f>+~])"+A+"*"),G=new RegExp(L),U=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,X=/[\x20\t\r\n\f]*[+~]/,Y=/h\d/i,K=/input|select|textarea|button/i,$=/\\(?!\\)/g,J={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),NAME:new RegExp("^\\[name=['\"]?("+H+")['\"]?\\]"),TAG:new RegExp("^("+H.replace("w","w*")+")"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+L),POS:new RegExp(F,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+A+"*(even|odd|(([+-]|)(\\d*)n|)"+A+"*(?:([+-]|)"+A+"*(\\d+)|))"+A+"*\\)|)","i"),needsContext:new RegExp("^"+A+"*[>+~]|"+F,"i")},Z=function(e){var t=j.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}},Q=Z(function(e){return e.appendChild(j.createComment("")),!e.getElementsByTagName("*").length}),ee=Z(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&void 0!==e.firstChild.getAttribute&&"#"===e.firstChild.getAttribute("href")}),te=Z(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ie=Z(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)}),se=Z(function(e){e.id=y+0,e.innerHTML="<a name='"+y+"'></a><div name='"+y+"'></div>",q.insertBefore(e,q.firstChild);var t=j.getElementsByName&&j.getElementsByName(y).length===2+j.getElementsByName(y+0).length;return s=!j.getElementById(y),q.removeChild(e),t});try{k.call(q.childNodes,0)[0].nodeType}catch(e){k=function(e){for(var t,i=[];t=this[e];e++)i.push(t);return i}}function re(e,t,i,s){i=i||[];var r,n,l,h,d=(t=t||j).nodeType;if(!e||"string"!=typeof e)return i;if(1!==d&&9!==d)return[];if(!(l=o(t))&&!s&&(r=U.exec(e)))if(h=r[1]){if(9===d){if(!(n=t.getElementById(h))||!n.parentNode)return i;if(n.id===h)return i.push(n),i}else if(t.ownerDocument&&(n=t.ownerDocument.getElementById(h))&&a(t,n)&&n.id===h)return i.push(n),i}else{if(r[2])return I.apply(i,k.call(t.getElementsByTagName(e),0)),i;if((h=r[3])&&ie&&t.getElementsByClassName)return I.apply(i,k.call(t.getElementsByClassName(h),0)),i}return me(e.replace(R,"$1"),t,i,s,l)}function ne(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function oe(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function ae(e){return M(function(t){return t=+t,M(function(i,s){for(var r,n=e([],i.length,t),o=n.length;o--;)i[r=n[o]]&&(i[r]=!(s[r]=i[r]))})})}function le(e,t,i){if(e===t)return i;for(var s=e.nextSibling;s;){if(s===t)return-1;s=s.nextSibling}return 1}function he(e,t){var i,s,n,o,a,l,h,d=B[y][e+" "];if(d)return t?0:d.slice(0);for(a=e,l=[],h=r.preFilter;a;){for(o in i&&!(s=V.exec(a))||(s&&(a=a.slice(s[0].length)||a),l.push(n=[])),i=!1,(s=W.exec(a))&&(n.push(i=new _(s.shift())),a=a.slice(i.length),i.type=s[0].replace(R," ")),r.filter)!(s=J[o].exec(a))||h[o]&&!(s=h[o](s))||(n.push(i=new _(s.shift())),a=a.slice(i.length),i.type=o,i.matches=s);if(!i)break}return t?a.length:a?re.error(e):B(e,l).slice(0)}function de(e,t,s){var r=t.dir,n=s&&"parentNode"===t.dir,o=T++;return t.first?function(t,i,s){for(;t=t[r];)if(n||1===t.nodeType)return e(t,i,s)}:function(t,s,a){if(a){for(;t=t[r];)if((n||1===t.nodeType)&&e(t,s,a))return t}else for(var l,h=S+" "+o+" ",d=h+i;t=t[r];)if(n||1===t.nodeType){if((l=t[y])===d)return t.sizset;if("string"==typeof l&&0===l.indexOf(h)){if(t.sizset)return t}else{if(t[y]=d,e(t,s,a))return t.sizset=!0,t;t.sizset=!1}}}}function ce(e){return e.length>1?function(t,i,s){for(var r=e.length;r--;)if(!e[r](t,i,s))return!1;return!0}:e[0]}function ue(e,t,i,s,r){for(var n,o=[],a=0,l=e.length,h=null!=t;a<l;a++)(n=e[a])&&(i&&!i(n,s,r)||(o.push(n),h&&t.push(a)));return o}function pe(e,t,i,s,r,n){return s&&!s[y]&&(s=pe(s)),r&&!r[y]&&(r=pe(r,n)),M(function(n,o,a,l){var h,d,c,u=[],p=[],f=o.length,m=n||function(e,t,i){for(var s=0,r=t.length;s<r;s++)re(e,t[s],i);return i}(t||"*",a.nodeType?[a]:a,[]),g=!e||!n&&t?m:ue(m,u,e,a,l),v=i?r||(n?e:f||s)?[]:o:g;if(i&&i(g,v,a,l),s)for(h=ue(v,p),s(h,[],a,l),d=h.length;d--;)(c=h[d])&&(v[p[d]]=!(g[p[d]]=c));if(n){if(r||e){if(r){for(h=[],d=v.length;d--;)(c=v[d])&&h.push(g[d]=c);r(null,v=[],h,l)}for(d=v.length;d--;)(c=v[d])&&(h=r?P.call(n,c):u[d])>-1&&(n[h]=!(o[h]=c))}}else v=ue(v===o?v.splice(f,v.length):v),r?r(null,o,v,l):I.apply(o,v)})}function fe(e){for(var t,i,s,n=e.length,o=r.relative[e[0].type],a=o||r.relative[" "],l=o?1:0,h=de(function(e){return e===t},a,!0),d=de(function(e){return P.call(t,e)>-1},a,!0),u=[function(e,i,s){return!o&&(s||i!==c)||((t=i).nodeType?h(e,i,s):d(e,i,s))}];l<n;l++)if(i=r.relative[e[l].type])u=[de(ce(u),i)];else{if((i=r.filter[e[l].type].apply(null,e[l].matches))[y]){for(s=++l;s<n&&!r.relative[e[s].type];s++);return pe(l>1&&ce(u),l>1&&e.slice(0,l-1).join("").replace(R,"$1"),i,l<s&&fe(e.slice(l,s)),s<n&&fe(e=e.slice(s)),s<n&&e.join(""))}u.push(i)}return ce(u)}function me(e,t,i,s,n){var o,a,h,d,c,u=he(e);u.length;if(!s&&1===u.length){if((a=u[0]=u[0].slice(0)).length>2&&"ID"===(h=a[0]).type&&9===t.nodeType&&!n&&r.relative[a[1].type]){if(!(t=r.find.ID(h.matches[0].replace($,""),t,n)[0]))return i;e=e.slice(a.shift().length)}for(o=J.POS.test(e)?-1:a.length-1;o>=0&&(h=a[o],!r.relative[d=h.type]);o--)if((c=r.find[d])&&(s=c(h.matches[0].replace($,""),X.test(a[0].type)&&t.parentNode||t,n))){if(a.splice(o,1),!(e=s.length&&a.join("")))return I.apply(i,k.call(s,0)),i;break}}return l(e,u)(s,t,n,i,X.test(e)),i}function ge(){}re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){return re(t,null,null,[e]).length>0},n=re.getText=function(e){var t,i="",s=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=n(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[s];s++)i+=n(t);return i},o=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},a=re.contains=q.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,s=t&&t.parentNode;return e===s||!!(s&&1===s.nodeType&&i.contains&&i.contains(s))}:q.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},re.attr=function(e,t){var i,s=o(e);return s||(t=t.toLowerCase()),(i=r.attrHandle[t])?i(e):s||te?e.getAttribute(t):(i=e.getAttributeNode(t))?"boolean"==typeof e[t]?e[t]?t:null:i.specified?i.value:null:null},r=re.selectors={cacheLength:50,createPseudo:M,match:J,attrHandle:ee?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:s?function(e,t,i){if(void 0!==t.getElementById&&!i){var s=t.getElementById(e);return s&&s.parentNode?[s]:[]}}:function(e,t,i){if(void 0!==t.getElementById&&!i){var s=t.getElementById(e);return s?s.id===e||void 0!==s.getAttributeNode&&s.getAttributeNode("id").value===e?[s]:void 0:[]}},TAG:Q?function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e)}:function(e,t){var i=t.getElementsByTagName(e);if("*"===e){for(var s,r=[],n=0;s=i[n];n++)1===s.nodeType&&r.push(s);return r}return i},NAME:se&&function(e,t){if(void 0!==t.getElementsByName)return t.getElementsByName(name)},CLASS:ie&&function(e,t,i){if(void 0!==t.getElementsByClassName&&!i)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,""),e[3]=(e[4]||e[5]||"").replace($,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||re.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&re.error(e[0]),e},PSEUDO:function(e){var t,i;return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(G.test(t)&&(i=he(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=t),e.slice(0,3))}},filter:{ID:s?function(e){return e=e.replace($,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace($,""),function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace($,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=D[y][e+" "];return t||(t=new RegExp("(^|"+A+")"+e+"("+A+"|$)"))&&D(e,function(e){return t.test(e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(s,r){var n=re.attr(s,e);return null==n?"!="===t:!t||(n+="","="===t?n===i:"!="===t?n!==i:"^="===t?i&&0===n.indexOf(i):"*="===t?i&&n.indexOf(i)>-1:"$="===t?i&&n.substr(n.length-i.length)===i:"~="===t?(" "+n+" ").indexOf(i)>-1:"|="===t&&(n===i||n.substr(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,s){return"nth"===e?function(e){var t,r,n=e.parentNode;if(1===i&&0===s)return!0;if(n)for(r=0,t=n.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return(r-=s)===i||r%i==0&&r/i>=0}:function(t){var i=t;switch(e){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===e)return!0;i=t;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,s=r.pseudos[e]||r.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return s[y]?s(t):s.length>1?(i=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?M(function(e,i){for(var r,n=s(e,t),o=n.length;o--;)e[r=P.call(e,n[o])]=!(i[r]=n[o])}):function(e){return s(e,0,i)}):s}},pseudos:{not:M(function(e){var t=[],i=[],s=l(e.replace(R,"$1"));return s[y]?M(function(e,t,i,r){for(var n,o=s(e,null,r,[]),a=e.length;a--;)(n=o[a])&&(e[a]=!(t[a]=n))}):function(e,r,n){return t[0]=e,s(t,null,n,i),!i.pop()}}),has:M(function(e){return function(t){return re(e,t).length>0}}),contains:M(function(e){return function(t){return(t.textContent||t.innerText||n(t)).indexOf(e)>-1}}),enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!r.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return Y.test(e.nodeName)},text:function(e){var t,i;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(i=e.getAttribute("type"))||i.toLowerCase()===t)},radio:ne("radio"),checkbox:ne("checkbox"),file:ne("file"),password:ne("password"),image:ne("image"),submit:oe("submit"),reset:oe("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return K.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:ae(function(){return[0]}),last:ae(function(e,t){return[t-1]}),eq:ae(function(e,t,i){return[i<0?i+t:i]}),even:ae(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:ae(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:ae(function(e,t,i){for(var s=i<0?i+t:i;--s>=0;)e.push(s);return e}),gt:ae(function(e,t,i){for(var s=i<0?i+t:i;++s<t;)e.push(s);return e})}},h=q.compareDocumentPosition?function(e,t){return e===t?(d=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return d=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,s,r=[],n=[],o=e.parentNode,a=t.parentNode,l=o;if(o===a)return le(e,t);if(!o)return-1;if(!a)return 1;for(;l;)r.unshift(l),l=l.parentNode;for(l=a;l;)n.unshift(l),l=l.parentNode;i=r.length,s=n.length;for(var h=0;h<i&&h<s;h++)if(r[h]!==n[h])return le(r[h],n[h]);return h===i?le(e,n[h],-1):le(r[h],t,1)},[0,0].sort(h),u=!d,re.uniqueSort=function(e){var t,i=[],s=1,r=0;if(d=u,e.sort(h),d){for(;t=e[s];s++)t===e[s-1]&&(r=i.push(s));for(;r--;)e.splice(i[r],1)}return e},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},l=re.compile=function(e,t){var s,n=[],o=[],a=O[y][e+" "];if(!a){for(t||(t=he(e)),s=t.length;s--;)(a=fe(t[s]))[y]?n.push(a):o.push(a);a=O(e,function(e,t){var s=t.length>0,n=e.length>0,o=function(a,l,h,d,u){var p,f,m,g=[],v=0,x="0",b=a&&[],w=null!=u,y=c,_=a||n&&r.find.TAG("*",u&&l.parentNode||l),q=S+=null==y?1:Math.E;for(w&&(c=l!==j&&l,i=o.el);null!=(p=_[x]);x++){if(n&&p){for(f=0;m=e[f];f++)if(m(p,l,h)){d.push(p);break}w&&(S=q,i=++o.el)}s&&((p=!m&&p)&&v--,a&&b.push(p))}if(v+=x,s&&x!==v){for(f=0;m=t[f];f++)m(b,g,l,h);if(a){if(v>0)for(;x--;)b[x]||g[x]||(g[x]=C.call(d));g=ue(g)}I.apply(d,g),w&&!a&&g.length>0&&v+t.length>1&&re.uniqueSort(d)}return w&&(S=q,c=y),b};return o.el=0,s?M(o):o}(o,n))}return a},j.querySelectorAll&&(m=me,g=/'|\\/g,v=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,x=[":focus"],b=[":active"],w=q.matchesSelector||q.mozMatchesSelector||q.webkitMatchesSelector||q.oMatchesSelector||q.msMatchesSelector,Z(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||x.push("\\["+A+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||x.push(":checked")}),Z(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&x.push("[*^$]="+A+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||x.push(":enabled",":disabled")}),x=new RegExp(x.join("|")),me=function(e,t,i,s,r){if(!s&&!r&&!x.test(e)){var n,o,a=!0,l=y,h=t,d=9===t.nodeType&&e;if(1===t.nodeType&&"object"!==t.nodeName.toLowerCase()){for(n=he(e),(a=t.getAttribute("id"))?l=a.replace(g,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",o=n.length;o--;)n[o]=l+n[o].join("");h=X.test(e)&&t.parentNode||t,d=n.join(",")}if(d)try{return I.apply(i,k.call(h.querySelectorAll(d),0)),i}catch(e){}finally{a||t.removeAttribute("id")}}return m(e,t,i,s,r)},w&&(Z(function(e){p=w.call(e,"div");try{w.call(e,"[test!='']:sizzle"),b.push("!=",L)}catch(e){}}),b=new RegExp(b.join("|")),re.matchesSelector=function(e,t){if(t=t.replace(v,"='$1']"),!o(e)&&!b.test(t)&&!x.test(t))try{var i=w.call(e,t);if(i||p||e.document&&11!==e.document.nodeType)return i}catch(e){}return re(t,null,null,[e]).length>0})),r.pseudos.nth=r.pseudos.eq,r.filters=ge.prototype=r.pseudos,r.setFilters=new ge,re.attr=f.attr,f.find=re,f.expr=re.selectors,f.expr[":"]=f.expr.pseudos,f.unique=re.uniqueSort,f.text=re.getText,f.isXMLDoc=re.isXML,f.contains=re.contains}(e);var J=/Until$/,Z=/^(?:parents|prev(?:Until|All))/,Q=/^.[^:#\[\.,]*$/,ee=f.expr.match.needsContext,te={children:!0,contents:!0,next:!0,prev:!0};function ie(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function se(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function re(e,t,i){if(t=t||0,f.isFunction(t))return f.grep(e,function(e,s){return!!t.call(e,s,e)===i});if(t.nodeType)return f.grep(e,function(e,s){return e===t===i});if("string"==typeof t){var s=f.grep(e,function(e){return 1===e.nodeType});if(Q.test(t))return f.filter(t,s,!i);t=f.filter(t,s)}return f.grep(e,function(e,s){return f.inArray(e,t)>=0===i})}function ne(e){var t=le.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}f.fn.extend({find:function(e){var t,i,s,r,n,o,a=this;if("string"!=typeof e)return f(e).filter(function(){for(t=0,i=a.length;t<i;t++)if(f.contains(a[t],this))return!0});for(o=this.pushStack("","find",e),t=0,i=this.length;t<i;t++)if(s=o.length,f.find(e,this[t],o),t>0)for(r=s;r<o.length;r++)for(n=0;n<s;n++)if(o[n]===o[r]){o.splice(r--,1);break}return o},has:function(e){var t,i=f(e,this),s=i.length;return this.filter(function(){for(t=0;t<s;t++)if(f.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(re(this,e,!1),"not",e)},filter:function(e){return this.pushStack(re(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?ee.test(e)?f(e,this.context).index(this[0])>=0:f.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var i,s=0,r=this.length,n=[],o=ee.test(e)||"string"!=typeof e?f(e,t||this.context):0;s<r;s++)for(i=this[s];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(o?o.index(i)>-1:f.find.matchesSelector(i,e)){n.push(i);break}i=i.parentNode}return n=n.length>1?f.unique(n):n,this.pushStack(n,"closest",e)},index:function(e){return e?"string"==typeof e?f.inArray(this[0],f(e)):f.inArray(e.jqx?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?f(e,t):f.makeArray(e&&e.nodeType?[e]:e),s=f.merge(this.get(),i);return this.pushStack(ie(i[0])||ie(s[0])?s:f.unique(s))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),f.fn.andSelf=f.fn.addBack,f.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return f.dir(e,"parentNode")},parentsUntil:function(e,t,i){return f.dir(e,"parentNode",i)},next:function(e){return se(e,"nextSibling")},prev:function(e){return se(e,"previousSibling")},nextAll:function(e){return f.dir(e,"nextSibling")},prevAll:function(e){return f.dir(e,"previousSibling")},nextUntil:function(e,t,i){return f.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return f.dir(e,"previousSibling",i)},siblings:function(e){return f.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return f.sibling(e.firstChild)},contents:function(e){return f.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:f.merge([],e.childNodes)}},function(e,t){f.fn[e]=function(i,s){var r=f.map(this,t,i);return J.test(e)||(s=i),s&&"string"==typeof s&&(r=f.filter(s,r)),r=this.length>1&&!te[e]?f.unique(r):r,this.length>1&&Z.test(e)&&(r=r.reverse()),this.pushStack(r,e,h.call(arguments).join(","))}}),f.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?f.find.matchesSelector(t[0],e)?[t[0]]:[]:f.find.matches(e,t)},dir:function(e,i,s){for(var r=[],n=e[i];n&&9!==n.nodeType&&(s===t||1!==n.nodeType||!f(n).is(s));)1===n.nodeType&&r.push(n),n=n[i];return r},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var oe,ae,le="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",he=/ JQXLite\d+="(?:null|\d+)"/g,de=/^\s+/,ce=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ue=/<([\w:]+)/,pe=/<tbody/i,fe=/<|&#?\w+;/,me=/<(?:script|style|link)/i,ge=/<(?:script|object|embed|option|style)/i,ve=new RegExp("<(?:"+le+")[\\s/>]","i"),xe=/^(?:checkbox|radio)$/,be=/checked\s*(?:[^=]|=\s*.checked.)/i,we=/\/(java|ecma)script/i,ye=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,_e={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},je=ne(r),qe=je.appendChild(r.createElement("div"));function Se(e,t){if(1===t.nodeType&&f.hasData(e)){var i,s,r,n=f._data(e),o=f._data(t,n),a=n.events;if(a)for(i in delete o.handle,o.events={},a)for(s=0,r=a[i].length;s<r;s++)f.event.add(t,i,a[i][s]);o.data&&(o.data=f.extend({},o.data))}}function Te(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(i=t.nodeName.toLowerCase())?(t.parentNode&&(t.outerHTML=e.outerHTML),f.support.html5Clone&&e.innerHTML&&!f.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&xe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(f.expando))}function Ce(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function Ie(e){xe.test(e.type)&&(e.defaultChecked=e.checked)}_e.optgroup=_e.option,_e.tbody=_e.tfoot=_e.colgroup=_e.caption=_e.thead,_e.th=_e.td,f.support.htmlSerialize||(_e._default=[1,"X<div>","</div>"]),f.fn.extend({text:function(e){return f.access(this,function(e){return e===t?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(f.isFunction(e))return this.each(function(t){f(this).wrapAll(e.call(this,t))});if(this[0]){var t=f(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return f.isFunction(e)?this.each(function(t){f(this).wrapInner(e.call(this,t))}):this.each(function(){var t=f(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=f.isFunction(e);return this.each(function(i){f(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(e,this.firstChild)})},before:function(){if(!ie(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=f.clean(arguments);return this.pushStack(f.merge(e,this),"before",this.selector)}},after:function(){if(!ie(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=f.clean(arguments);return this.pushStack(f.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var i,s=0;null!=(i=this[s]);s++)e&&!f.filter(e,[i]).length||(t||1!==i.nodeType||(f.cleanData(i.getElementsByTagName("*")),f.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&f.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return f.clone(this,e,t)})},html:function(e){return f.access(this,function(e){var i=this[0]||{},s=0,r=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(he,""):t;if("string"==typeof e&&!me.test(e)&&(f.support.htmlSerialize||!ve.test(e))&&(f.support.leadingWhitespace||!de.test(e))&&!_e[(ue.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ce,"<$1></$2>");try{for(;s<r;s++)1===(i=this[s]||{}).nodeType&&(f.cleanData(i.getElementsByTagName("*")),i.innerHTML=e);i=0}catch(e){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ie(this[0])?this.length?this.pushStack(f(f.isFunction(e)?e():e),"replaceWith",e):this:f.isFunction(e)?this.each(function(t){var i=f(this),s=i.html();i.replaceWith(e.call(this,t,s))}):("string"!=typeof e&&(e=f(e).detach()),this.each(function(){var t=this.nextSibling,i=this.parentNode;f(this).remove(),t?f(t).before(e):f(i).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,s){var r,n,o,a,l,h,d=0,c=(e=[].concat.apply([],e))[0],u=[],p=this.length;if(!f.support.checkClone&&p>1&&"string"==typeof c&&be.test(c))return this.each(function(){f(this).domManip(e,i,s)});if(f.isFunction(c))return this.each(function(r){var n=f(this);e[0]=c.call(this,r,i?n.html():t),n.domManip(e,i,s)});if(this[0]){if(n=(o=(r=f.buildFragment(e,this,u)).fragment).firstChild,1===o.childNodes.length&&(o=n),n)for(i=i&&f.nodeName(n,"tr"),a=r.cacheable||p-1;d<p;d++)s.call(i&&f.nodeName(this[d],"table")?(l=this[d],h="tbody",l.getElementsByTagName(h)[0]||l.appendChild(l.ownerDocument.createElement(h))):this[d],d===a?o:f.clone(o,!0,!0));o=n=null,u.length&&f.each(u,function(e,t){t.src?f.ajax?f.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):f.error("no ajax"):f.globalEval((t.text||t.textContent||t.innerHTML||"").replace(ye,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),f.buildFragment=function(e,i,s){var n,o,a,l=e[0];return i=(i=!(i=i||r).nodeType&&i[0]||i).ownerDocument||i,!(1===e.length&&"string"==typeof l&&l.length<512&&i===r&&"<"===l.charAt(0))||ge.test(l)||!f.support.checkClone&&be.test(l)||!f.support.html5Clone&&ve.test(l)||(o=!0,a=(n=f.fragments[l])!==t),n||(n=i.createDocumentFragment(),f.clean(e,i,n,s),o&&(f.fragments[l]=a&&n)),{fragment:n,cacheable:o}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){f.fn[e]=function(i){var s,r=0,n=[],o=f(i),a=o.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return o[t](this[0]),this;for(;r<a;r++)s=(r>0?this.clone(!0):this).get(),f(o[r])[t](s),n=n.concat(s);return this.pushStack(n,e,o.selector)}}),f.extend({clone:function(e,t,i){var s,r,n,o;if(f.support.html5Clone||f.isXMLDoc(e)||!ve.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(qe.innerHTML=e.outerHTML,qe.removeChild(o=qe.firstChild)),!(f.support.noCloneEvent&&f.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||f.isXMLDoc(e)))for(Te(e,o),s=Ce(e),r=Ce(o),n=0;s[n];++n)r[n]&&Te(s[n],r[n]);if(t&&(Se(e,o),i))for(s=Ce(e),r=Ce(o),n=0;s[n];++n)Se(s[n],r[n]);return s=r=null,o},clean:function(e,t,i,s){var n,o,a,l,h,d,c,u,p,m,g,v=t===r&&je,x=[];for(t&&void 0!==t.createDocumentFragment||(t=r),n=0;null!=(a=e[n]);n++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(fe.test(a)){for(v=v||ne(t),c=t.createElement("div"),v.appendChild(c),a=a.replace(ce,"<$1></$2>"),l=(ue.exec(a)||["",""])[1].toLowerCase(),d=(h=_e[l]||_e._default)[0],c.innerHTML=h[1]+a+h[2];d--;)c=c.lastChild;if(!f.support.tbody)for(u=pe.test(a),o=(p="table"!==l||u?"<table>"!==h[1]||u?[]:c.childNodes:c.firstChild&&c.firstChild.childNodes).length-1;o>=0;--o)f.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o]);!f.support.leadingWhitespace&&de.test(a)&&c.insertBefore(t.createTextNode(de.exec(a)[0]),c.firstChild),a=c.childNodes,c.parentNode.removeChild(c)}else a=t.createTextNode(a);a.nodeType?x.push(a):f.merge(x,a)}if(c&&(a=c=v=null),!f.support.appendChecked)for(n=0;null!=(a=x[n]);n++)f.nodeName(a,"input")?Ie(a):void 0!==a.getElementsByTagName&&f.grep(a.getElementsByTagName("input"),Ie);if(i)for(m=function(e){if(!e.type||we.test(e.type))return s?s.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e)},n=0;null!=(a=x[n]);n++)f.nodeName(a,"script")&&m(a)||(i.appendChild(a),void 0!==a.getElementsByTagName&&(g=f.grep(f.merge([],a.getElementsByTagName("script")),m),x.splice.apply(x,[n+1,0].concat(g)),n+=g.length));return x},cleanData:function(e,t){for(var i,s,r,n,o=0,a=f.expando,l=f.cache,h=f.support.deleteExpando,d=f.event.special;null!=(r=e[o]);o++)if((t||f.acceptData(r))&&(i=(s=r[a])&&l[s])){if(i.events)for(n in i.events)d[n]?f.event.remove(r,n):f.removeEvent(r,n,i.handle);l[s]&&(delete l[s],h?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,f.deletedIds.push(s))}}}),f.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},ae={},(oe=f.uaMatch(n.userAgent)).browser&&(ae[oe.browser]=!0,ae.version=oe.version),ae.chrome?ae.webkit=!0:ae.webkit&&(ae.safari=!0),f.browser=ae,f.sub=function(){function e(t,i){return new e.fn.init(t,i)}f.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,s){return s&&s instanceof f&&!(s instanceof e)&&(s=e(s)),f.fn.init.call(this,i,s,t)},e.fn.init.prototype=e.fn;var t=e(r);return e};var ke,Pe,Me,Ne=/alpha\([^)]*\)/i,De=/opacity=([^)]*)/,Be=/^(top|right|bottom|left)$/,Oe=/^(none|table(?!-c[ea]).+)/,Ae=/^margin/,He=new RegExp("^("+m+")(.*)$","i"),Ee=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),ze=new RegExp("^([-+])=("+m+")","i"),Le={BODY:"block"},Fe={position:"absolute",visibility:"hidden",display:"block"},Re={letterSpacing:0,fontWeight:400},Ve=["Top","Right","Bottom","Left"],We=["Webkit","O","Moz","ms"],Ge=f.fn.toggle;function Ue(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),s=t,r=We.length;r--;)if((t=We[r]+i)in e)return t;return s}function Xe(e,t){return e=t||e,"none"===f.css(e,"display")||!f.contains(e.ownerDocument,e)}function Ye(e,t){for(var i,s,r=[],n=0,o=e.length;n<o;n++)(i=e[n]).style&&(r[n]=f._data(i,"olddisplay"),t?(r[n]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&Xe(i)&&(r[n]=f._data(i,"olddisplay",Ze(i.nodeName)))):(s=ke(i,"display"),r[n]||"none"===s||f._data(i,"olddisplay",s)));for(n=0;n<o;n++)(i=e[n]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[n]||"":"none"));return e}function Ke(e,t,i){var s=He.exec(t);return s?Math.max(0,s[1]-(i||0))+(s[2]||"px"):t}function $e(e,t,i,s){for(var r=i===(s?"border":"content")?4:"width"===t?1:0,n=0;r<4;r+=2)"margin"===i&&(n+=f.css(e,i+Ve[r],!0)),s?("content"===i&&(n-=parseFloat(ke(e,"padding"+Ve[r]))||0),"margin"!==i&&(n-=parseFloat(ke(e,"border"+Ve[r]+"Width"))||0)):(n+=parseFloat(ke(e,"padding"+Ve[r]))||0,"padding"!==i&&(n+=parseFloat(ke(e,"border"+Ve[r]+"Width"))||0));return n}function Je(e,t,i){var s="width"===t?e.offsetWidth:e.offsetHeight,r=!0,n=f.support.boxSizing&&"border-box"===f.css(e,"boxSizing");if(s<=0||null==s){if(((s=ke(e,t))<0||null==s)&&(s=e.style[t]),Ee.test(s))return s;r=n&&(f.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+$e(e,t,i||(n?"border":"content"),r)+"px"}function Ze(e){if(Le[e])return Le[e];var t=f("<"+e+">").appendTo(r.body),i=t.css("display");return t.remove(),"none"!==i&&""!==i||(Pe=r.body.appendChild(Pe||f.extend(r.createElement("iframe"),{frameBorder:0,width:0,height:0})),Me&&Pe.createElement||((Me=(Pe.contentWindow||Pe.contentDocument).document).write("<!doctype html><html><body>"),Me.close()),t=Me.body.appendChild(Me.createElement(e)),i=ke(t,"display"),r.body.removeChild(Pe)),Le[e]=i,i}f.fn.extend({css:function(e,i){return f.access(this,function(e,i,s){return s!==t?f.style(e,i,s):f.css(e,i)},e,i,arguments.length>1)},show:function(){return Ye(this,!0)},hide:function(){return Ye(this)},toggle:function(e,t){var i="boolean"==typeof e;return f.isFunction(e)&&f.isFunction(t)?Ge.apply(this,arguments):this.each(function(){(i?e:Xe(this))?f(this).show():f(this).hide()})}}),f.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ke(e,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:f.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,s,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,o,a,l=f.camelCase(i),h=e.style;if(i=f.cssProps[l]||(f.cssProps[l]=Ue(h,l)),a=f.cssHooks[i]||f.cssHooks[l],s===t)return a&&"get"in a&&(n=a.get(e,!1,r))!==t?n:h[i];if(!("string"===(o=typeof s)&&(n=ze.exec(s))&&(s=(n[1]+1)*n[2]+parseFloat(f.css(e,i)),o="number"),null==s||"number"===o&&isNaN(s)||("number"!==o||f.cssNumber[l]||(s+="px"),a&&"set"in a&&(s=a.set(e,s,r))===t)))try{h[i]=s}catch(e){}}},css:function(e,i,s,r){var n,o,a,l=f.camelCase(i);return i=f.cssProps[l]||(f.cssProps[l]=Ue(e.style,l)),(a=f.cssHooks[i]||f.cssHooks[l])&&"get"in a&&(n=a.get(e,!0,r)),n===t&&(n=ke(e,i)),"normal"===n&&i in Re&&(n=Re[i]),s||r!==t?(o=parseFloat(n),s||f.isNumeric(o)?o||0:n):n},swap:function(e,t,i){var s,r,n={};for(r in t)n[r]=e.style[r],e.style[r]=t[r];for(r in s=i.call(e),t)e.style[r]=n[r];return s}}),e.getComputedStyle?ke=function(t,i){var s,r,n,o,a=e.getComputedStyle(t,null),l=t.style;return a&&(""!==(s=a.getPropertyValue(i)||a[i])||f.contains(t.ownerDocument,t)||(s=f.style(t,i)),Ee.test(s)&&Ae.test(i)&&(r=l.width,n=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=a.width,l.width=r,l.minWidth=n,l.maxWidth=o)),s}:r.documentElement.currentStyle&&(ke=function(e,t){var i,s,r=e.currentStyle&&e.currentStyle[t],n=e.style;return null==r&&n&&n[t]&&(r=n[t]),Ee.test(r)&&!Be.test(t)&&(i=n.left,(s=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),n.left="fontSize"===t?"1em":r,r=n.pixelLeft+"px",n.left=i,s&&(e.runtimeStyle.left=s)),""===r?"auto":r}),f.each(["height","width"],function(e,t){f.cssHooks[t]={get:function(e,i,s){if(i)return 0===e.offsetWidth&&Oe.test(ke(e,"display"))?f.swap(e,Fe,function(){return Je(e,t,s)}):Je(e,t,s)},set:function(e,i,s){return Ke(0,i,s?$e(e,t,s,f.support.boxSizing&&"border-box"===f.css(e,"boxSizing")):0)}}}),f.support.opacity||(f.cssHooks.opacity={get:function(e,t){return De.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,s=e.currentStyle,r=f.isNumeric(t)?"alpha(opacity="+100*t+")":"",n=s&&s.filter||i.filter||"";i.zoom=1,t>=1&&""===f.trim(n.replace(Ne,""))&&i.removeAttribute&&(i.removeAttribute("filter"),s&&!s.filter)||(i.filter=Ne.test(n)?n.replace(Ne,r):n+" "+r)}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(e,t){return f.swap(e,{display:"inline-block"},function(){if(t)return ke(e,"marginRight")})}}),!f.support.pixelPosition&&f.fn.position&&f.each(["top","left"],function(e,t){f.cssHooks[t]={get:function(e,i){if(i){var s=ke(e,t);return Ee.test(s)?f(e).position()[t]+"px":s}}}})}),f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!f.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ke(e,"display"))},f.expr.filters.visible=function(e){return!f.expr.filters.hidden(e)}),f.each({margin:"",padding:"",border:"Width"},function(e,t){f.cssHooks[e+t]={expand:function(i){var s,r="string"==typeof i?i.split(" "):[i],n={};for(s=0;s<4;s++)n[e+Ve[s]+t]=r[s]||r[s-2]||r[0];return n}},Ae.test(e)||(f.cssHooks[e+t].set=Ke)});var Qe=/%20/g,et=/\[\]$/,tt=/\r?\n/g,it=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,st=/^(?:select|textarea)/i;function rt(e,t,i,s){var r;if(f.isArray(t))f.each(t,function(t,r){i||et.test(e)?s(e,r):rt(e+"["+("object"==typeof r?t:"")+"]",r,i,s)});else if(i||"object"!==f.type(t))s(e,t);else for(r in t)rt(e+"["+r+"]",t[r],i,s)}f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||st.test(this.nodeName)||it.test(this.type))}).map(function(e,t){var i=f(this).val();return null==i?null:f.isArray(i)?f.map(i,function(e,i){return{name:t.name,value:e.replace(tt,"\r\n")}}):{name:t.name,value:i.replace(tt,"\r\n")}}).get()}}),f.param=function(e,i){var s,r=[],n=function(e,t){t=f.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=f.ajaxSettings&&f.ajaxSettings.traditional),f.isArray(e)||e.jqx&&!f.isPlainObject(e))f.each(e,function(){n(this.name,this.value)});else for(s in e)rt(s,e[s],i,n);return r.join("&").replace(Qe,"+")},f.support.ajax&&f.ajaxTransport(function(i){var s;if(!i.crossDomain||f.support.cors)return{send:function(r,n){var o,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(e){}l.send(i.hasContent&&i.data||null),s=function(e,r){var a,h,d,c,u;try{if(s&&(r||4===l.readyState))if(s=t,o&&(l.onreadystatechange=f.noop,xhrOnUnloadAbort&&delete xhrCallbacks[o]),r)4!==l.readyState&&l.abort();else{a=l.status,d=l.getAllResponseHeaders(),c={},(u=l.responseXML)&&u.documentElement&&(c.xml=u);try{c.text=l.responseText}catch(e){}try{h=l.statusText}catch(e){h=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=c.text?200:404}}catch(e){r||n(-1,e)}c&&n(a,h,c,d)},i.async?4===l.readyState?setTimeout(s,0):(o=++xhrId,xhrOnUnloadAbort&&(xhrCallbacks||(xhrCallbacks={},f(e).unload(xhrOnUnloadAbort)),xhrCallbacks[o]=s),l.onreadystatechange=s):s()},abort:function(){s&&s(0,1)}}});var nt,ot,at=/^(?:toggle|show|hide)$/,lt=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),ht=/queueHooks$/,dt=[function(e,t,i){var s,r,n,o,a,l,h,d,c,u=this,p=e.style,m={},g=[],v=e.nodeType&&Xe(e);i.queue||(null==(d=f._queueHooks(e,"fx")).unqueued&&(d.unqueued=0,c=d.empty.fire,d.empty.fire=function(){d.unqueued||c()}),d.unqueued++,u.always(function(){u.always(function(){d.unqueued--,f.queue(e,"fx").length||d.empty.fire()})}));1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===f.css(e,"display")&&"none"===f.css(e,"float")&&(f.support.inlineBlockNeedsLayout&&"inline"!==Ze(e.nodeName)?p.zoom=1:p.display="inline-block"));i.overflow&&(p.overflow="hidden",f.support.shrinkWrapBlocks||u.done(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(s in t)if(n=t[s],at.exec(n)){if(delete t[s],l=l||"toggle"===n,n===(v?"hide":"show"))continue;g.push(s)}if(o=g.length){"hidden"in(a=f._data(e,"fxshow")||f._data(e,"fxshow",{}))&&(v=a.hidden),l&&(a.hidden=!v),v?f(e).show():u.done(function(){f(e).hide()}),u.done(function(){var t;for(t in f.removeData(e,"fxshow",!0),m)f.style(e,t,m[t])});for(s=0;s<o;s++)r=g[s],h=u.createTween(r,v?a[r]:0),m[r]=a[r]||f.style(e,r),r in a||(a[r]=h.start,v&&(h.end=h.start,h.start="width"===r||"height"===r?1:0))}}],ct={"*":[function(e,t){var i,s,r=this.createTween(e,t),n=lt.exec(t),o=r.cur(),a=+o||0,l=1,h=20;if(n){if(i=+n[2],"px"!==(s=n[3]||(f.cssNumber[e]?"":"px"))&&a){a=f.css(r.elem,e,!0)||i||1;do{a/=l=l||".5",f.style(r.elem,e,a+s)}while(l!==(l=r.cur()/o)&&1!==l&&--h)}r.unit=s,r.start=a,r.end=n[1]?a+(n[1]+1)*i:i}return r}]};function ut(){return setTimeout(function(){nt=t},0),nt=f.now()}function pt(e,t,i){var s,r=0,n=dt.length,o=f.Deferred().always(function(){delete a.elem}),a=function(){for(var t=nt||ut(),i=Math.max(0,l.startTime+l.duration-t),s=1-(i/l.duration||0),r=0,n=l.tweens.length;r<n;r++)l.tweens[r].run(s);return o.notifyWith(e,[l,s,i]),s<1&&n?i:(o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:f.extend({},t),opts:f.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:nt||ut(),duration:i.duration,tweens:[],createTween:function(t,i,s){var r=f.Tween(e,l.opts,t,i,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){for(var i=0,s=t?l.tweens.length:0;i<s;i++)l.tweens[i].run(1);return t?o.resolveWith(e,[l,t]):o.rejectWith(e,[l,t]),this}}),h=l.props;for(!function(e,t){var i,s,r,n,o;for(i in e)if(s=f.camelCase(i),r=t[s],n=e[i],f.isArray(n)&&(r=n[1],n=e[i]=n[0]),i!==s&&(e[s]=n,delete e[i]),(o=f.cssHooks[s])&&"expand"in o)for(i in n=o.expand(n),delete e[s],n)i in e||(e[i]=n[i],t[i]=r);else t[s]=r}(h,l.opts.specialEasing);r<n;r++)if(s=dt[r].call(l,e,h,l.opts))return s;return function(e,t){f.each(t,function(t,i){for(var s=(ct[t]||[]).concat(ct["*"]),r=0,n=s.length;r<n;r++)if(s[r].call(e,t,i))return})}(l,h),f.isFunction(l.opts.start)&&l.opts.start.call(e,l),f.fx.timer(f.extend(a,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function ft(e,t,i,s,r){return new ft.prototype.init(e,t,i,s,r)}function mt(e,t){var i,s={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)s["margin"+(i=Ve[r])]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}f.Animation=f.extend(pt,{tweener:function(e,t){f.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,s=0,r=e.length;s<r;s++)i=e[s],ct[i]=ct[i]||[],ct[i].unshift(t)},prefilter:function(e,t){t?dt.unshift(e):dt.push(e)}}),f.Tween=ft,ft.prototype={constructor:ft,init:function(e,t,i,s,r,n){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=n||(f.cssNumber[i]?"":"px")},cur:function(){var e=ft.propHooks[this.prop];return e&&e.get?e.get(this):ft.propHooks._default.get(this)},run:function(e){var t,i=ft.propHooks[this.prop];return this.options.duration?this.pos=t=f.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ft.propHooks._default.set(this),this}},ft.prototype.init.prototype=ft.prototype,ft.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=f.css(e.elem,e.prop,!1,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){f.fx.step[e.prop]?f.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[f.cssProps[e.prop]]||f.cssHooks[e.prop])?f.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},ft.propHooks.scrollTop=ft.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},f.each(["toggle","show","hide"],function(e,t){var i=f.fn[t];f.fn[t]=function(s,r,n){return null==s||"boolean"==typeof s||!e&&f.isFunction(s)&&f.isFunction(r)?i.apply(this,arguments):this.animate(mt(t,!0),s,r,n)}}),f.fn.extend({fadeTo:function(e,t,i,s){return this.filter(Xe).css("opacity",0).show().end().animate({opacity:t},e,i,s)},animate:function(e,t,i,s){var r=f.isEmptyObject(e),n=f.speed(t,i,s),o=function(){var t=pt(this,f.extend({},e),n);r&&t.stop(!0)};return r||!1===n.queue?this.each(o):this.queue(n.queue,o)},stop:function(e,i,s){var r=function(e){var t=e.stop;delete e.stop,t(s)};return"string"!=typeof e&&(s=i,i=e,e=t),i&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",n=f.timers,o=f._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&ht.test(i)&&r(o[i]);for(i=n.length;i--;)n[i].elem!==this||null!=e&&n[i].queue!==e||(n[i].anim.stop(s),t=!1,n.splice(i,1));!t&&s||f.dequeue(this,e)})}}),f.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){f.fn[e]=function(e,i,s){return this.animate(t,e,i,s)}}),f.speed=function(e,t,i){var s=e&&"object"==typeof e?f.extend({},e):{complete:i||!i&&t||f.isFunction(e)&&e,duration:e,easing:i&&t||t&&!f.isFunction(t)&&t};return s.duration=f.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in f.fx.speeds?f.fx.speeds[s.duration]:f.fx.speeds._default,null!=s.queue&&!0!==s.queue||(s.queue="fx"),s.old=s.complete,s.complete=function(){f.isFunction(s.old)&&s.old.call(this),s.queue&&f.dequeue(this,s.queue)},s},f.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},f.timers=[],f.fx=ft.prototype.init,f.fx.tick=function(){var e,i=f.timers,s=0;for(nt=f.now();s<i.length;s++)(e=i[s])()||i[s]!==e||i.splice(s--,1);i.length||f.fx.stop(),nt=t},f.fx.timer=function(e){e()&&f.timers.push(e)&&!ot&&(ot=setInterval(f.fx.tick,f.fx.interval))},f.fx.interval=13,f.fx.stop=function(){clearInterval(ot),ot=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fx.step={},f.expr&&f.expr.filters&&(f.expr.filters.animated=function(e){return f.grep(f.timers,function(t){return e===t.elem}).length});var gt=/^(?:body|html)$/i;function vt(e){return f.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}f.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){f.offset.setOffset(this,e,t)});var i,s,r,n,o,a,l,h={top:0,left:0},d=this[0],c=d&&d.ownerDocument;return c?(s=c.body)===d?f.offset.bodyOffset(d):(i=c.documentElement,f.contains(i,d)?(void 0!==d.getBoundingClientRect&&(h=d.getBoundingClientRect()),r=vt(c),n=i.clientTop||s.clientTop||0,o=i.clientLeft||s.clientLeft||0,a=r.pageYOffset||i.scrollTop,l=r.pageXOffset||i.scrollLeft,{top:h.top+a-n,left:h.left+l-o}):h):void 0},f.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return f.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(f.css(e,"marginTop"))||0,i+=parseFloat(f.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var s=f.css(e,"position");"static"===s&&(e.style.position="relative");var r,n,o=f(e),a=o.offset(),l=f.css(e,"top"),h=f.css(e,"left"),d={},c={};("absolute"===s||"fixed"===s)&&f.inArray("auto",[l,h])>-1?(r=(c=o.position()).top,n=c.left):(r=parseFloat(l)||0,n=parseFloat(h)||0),f.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+n),"using"in t?t.using.call(e,d):o.css(d)}},f.fn.extend({isRendered:function(){var e=this[0];return null!=e.parentNode&&0!==e.offsetWidth&&0!==e.offsetHeight},getSizeFromStyle:function(){var t,i=null,s=null,r=this[0];return r.style.width&&(i=r.style.width),r.style.height&&(s=r.style.height),(t=e.getComputedStyle?getComputedStyle(r,null):r.currentStyle)&&(t.width&&(i=t.width),t.height&&(s=t.height)),"0px"===i&&(i=0),"0px"===s&&(s=0),null===i&&(i=0),null===s&&(s=0),{width:i,height:s}},initAnimate:function(){},sizeStyleChanged:function(e){var t,i=this;t={element:i[0],offsetWidth:i[0].offsetWidth,offsetHeight:i[0].offsetHeight,callback:e};try{i.elementStyleObserver||(i.elementStyleObserver=new MutationObserver(function(e){var s=t;e&&e[0]&&"style"===e[0].attributeName&&"attributes"===e[0].type&&(s.element.offsetWidth===s.offsetWidth&&s.element.offsetHeight===s.offsetHeight||(s.offsetWidth=s.element.offsetWidth,s.offsetHeight=s.element.offsetHeight,i.isRendered()&&s.callback()))}),i.elementStyleObserver.observe(i[0],{attributes:!0,childList:!1,characterData:!1}))}catch(e){}},position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),i=this.offset(),s=gt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(f.css(e,"marginTop"))||0,i.left-=parseFloat(f.css(e,"marginLeft"))||0,s.top+=parseFloat(f.css(t[0],"borderTopWidth"))||0,s.left+=parseFloat(f.css(t[0],"borderLeftWidth"))||0,{top:i.top-s.top,left:i.left-s.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||r.body;e&&!gt.test(e.nodeName)&&"static"===f.css(e,"position");)e=e.offsetParent;return e||r.body})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var s=/Y/.test(i);f.fn[e]=function(r){return f.access(this,function(e,r,n){var o=vt(e);if(n===t)return o?i in o?o[i]:o.document.documentElement[r]:e[r];o?o.scrollTo(s?f(o).scrollLeft():n,s?n:f(o).scrollTop()):e[r]=n},e,r,arguments.length,null)}}),f.each({Height:"height",Width:"width"},function(e,i){f.each({padding:"inner"+e,content:i,"":"outer"+e},function(s,r){f.fn[r]=function(r,n){var o=arguments.length&&(s||"boolean"!=typeof r),a=s||(!0===r||!0===n?"margin":"border");return f.access(this,function(i,s,r){var n;return f.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(n=i.documentElement,Math.max(i.body["scroll"+e],n["scroll"+e],i.body["offset"+e],n["offset"+e],n["client"+e])):r===t?f.css(i,s,r,a):f.style(i,s,r,a)},i,o?r:t,o,null)}})}),e.JQXLite=e.jqxHelper=f,"function"==typeof define&&define.amd&&define.amd.JQXLite&&define("jqx",[],function(){return f})}(window),function(e){e.jQuery?e.minQuery=e.JQXLite=e.jQuery:e.$?e.minQuery=e.JQXLite=e.$:e.$=e.minQuery=e.JQXLite}(window);var jqxBaseFramework=window.minQuery||window.jQuery;!function(e){e.jqx=e.jqx||{},jqwidgets={createInstance:function(t,i,s){if("jqxDataAdapter"==i){var r=s[0],n=s[1]||{};return new e.jqx.dataAdapter(r,n)}return e(t)[i](s||{}),e(t)[i]("getInstance")}},e.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance(),this.metaInfo()},e[t].prototype.defineInstance=function(){},e[t].prototype.metaInfo=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},e.jqx.invoke=function(t,i){if(0!=i.length){for(var s=typeof i==Array||i.length>0?i[0]:i,r=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):e({}).toArray();null==t[s]&&null!=t.base;){if(null!=t[s]&&e.isFunction(t[s]))return t[s].apply(t,r);var n;if("string"==typeof s)if(null!=t[n=s.toLowerCase()]&&e.isFunction(t[n]))return t[n].apply(t,r);t=t.base}if(null!=t[s]&&e.isFunction(t[s]))return t[s].apply(t,r);if("string"==typeof s)if(null!=t[n=s.toLowerCase()]&&e.isFunction(t[n]))return t[n].apply(t,r)}},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var s=e;s;){if(s.hasOwnProperty(i))return!0;if(s.hasOwnProperty(i.toLowerCase()))return!0;s=s.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},e.jqx.hasFunction=function(t,i){if(0==i.length)return!1;if(null==t)return!1;var s=typeof i==Array||i.length>0?i[0]:i;for((typeof i==Array||i.length>1)&&Array.prototype.slice.call(i,1);null==t[s]&&null!=t.base;){if(t[s]&&e.isFunction(t[s]))return!0;var r;if("string"==typeof s)if(t[r=s.toLowerCase()]&&e.isFunction(t[r]))return!0;t=t.base}if(t[s]&&e.isFunction(t[s]))return!0;if("string"==typeof s&&(t[r=s.toLowerCase()]&&e.isFunction(t[r])))return!0;return!1},e.jqx.isPropertySetter=function(t,i){return 1==i.length&&"object"==typeof i[0]||2==i.length&&"string"==typeof i[0]&&!e.jqx.hasFunction(t,i)},e.jqx.validatePropertySetter=function(t,i,s){if(!e.jqx.propertySetterValidation)return!0;if(1==i.length&&"object"==typeof i[0]){for(var r in i[0]){for(var n=t;!n.hasOwnProperty(r)&&n.base;)n=n.base;if(!n||!n.hasOwnProperty(r)){if(!s){if(n.hasOwnProperty(r.toString().toLowerCase()))return!0;throw"Invalid property: "+r}return!1}}return!0}if(2!=i.length){if(!s)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!s)throw"Invalid property: "+i[0];return!1}return!0},Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=i.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var n,o,a=[];for(n in r)e.call(r,n)&&a.push(n);if(t)for(o=0;o<s;o++)e.call(r,i[o])&&a.push(i[o]);return a}}()),e.jqx.set=function(t,i){var s=0;if(1==i.length&&"object"==typeof i[0]){if(t.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){var r=t.base?t.base.element:t.element,n=e.data(r,t.widgetName).initArgs;if(n&&JSON&&JSON.stringify&&i[0]&&n[0])try{if(JSON.stringify(i[0])==JSON.stringify(n[0])){var o=!0;if(e.each(i[0],function(e,i){if(t[e]!=i)return o=!1,!1}),o)return}}catch(e){}t.batchUpdate=i[0];var a={},l={};e.each(i[0],function(e,i){for(var r=t;!r.hasOwnProperty(e)&&null!=r.base;)r=r.base;r.hasOwnProperty(e)?t[e]!=i&&(a[e]=t[e],l[e]=i,s++):r.hasOwnProperty(e.toLowerCase())&&t[e.toLowerCase()]!=i&&(a[e.toLowerCase()]=t[e.toLowerCase()],l[e.toLowerCase()]=i,s++)}),s<2&&(t.batchUpdate=null)}e.each(i[0],function(i,s){for(var r=t;!r.hasOwnProperty(i)&&null!=r.base;)r=r.base;if(r.hasOwnProperty(i))e.jqx.setvalueraiseevent(r,i,s);else if(r.hasOwnProperty(i.toLowerCase()))e.jqx.setvalueraiseevent(r,i.toLowerCase(),s);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'"}),null!=t.batchUpdate&&(t.batchUpdate=null,t.propertiesChangedHandler&&s>1&&t.propertiesChangedHandler(t,a,l))}else if(2==i.length){for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(t.hasOwnProperty(i[0]))e.jqx.setvalueraiseevent(t,i[0],i[1]);else if(t.hasOwnProperty(i[0].toLowerCase()))e.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,i){var s=e[t];e[t]=i,e.isInitialized&&(null!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,s,i),null!=e.propertyChangeMap&&null!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,s,i))},e.jqx.get=function(e,t){if(null!=t&&null!=t){if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var s=void 0;if(typeof t==Array){if(1!=t.length)return;s=t[0]}else"string"==typeof t&&(s=t);for(;!e.hasOwnProperty(s)&&e.base;)e=e.base;return e?e[s]:void 0}},e.jqx.serialize=function(t){var i="";if(e.isArray(t)){i="[";for(var s=0;s<t.length;s++)s>0&&(i+=", "),i+=e.jqx.serialize(t[s]);i+="]"}else if("object"==typeof t){i="{";var r=0;for(var s in t)r++>0&&(i+=", "),i+=s+": "+e.jqx.serialize(t[s]);i+="}"}else i=t.toString();return i},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,i,s){e(i);var r=e.data(i,t);if(null!=r){var n=r.instance;if(e.jqx.hasFunction(n,s))return e.jqx.invoke(n,s);if(e.jqx.isPropertySetter(n,s)){if(e.jqx.validatePropertySetter(n,s))return void e.jqx.set(n,s)}else{if("object"==typeof s&&0==s.length)return;if("object"==typeof s&&1==s.length&&e.jqx.hasProperty(n,s[0]))return e.jqx.get(n,s[0]);if("string"==typeof s&&e.jqx.hasProperty(n,s[0]))return e.jqx.get(n,s)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(s)+"' does not exist."}},e.jqx.applyWidget=function(t,i,s,r){var n=!1;try{n=null!=window.MSApp}catch(e){}var o=e(t);r?(r.host=o,r.element=t):r=new e.jqx["_"+i],""==t.id&&(t.id=e.jqx.utilities.createId());var a={host:o,element:t,instance:r,initArgs:s};r.widgetName=i,e.data(t,i,a),e.data(t,"jqxWidget",a.instance);var l=new Array;for(r=a.instance;r;)r.isInitialized=!1,l.push(r),r=r.base;for(var h in l.reverse(),l[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(i,t,s),l)r=l[h],0==h&&(r.host=o,r.element=t,r.WinJS=n),null!=r&&(r.definedInstance&&r.definedInstance(),null!=r.createInstance&&(n?MSApp.execUnsafeLocalFunction(function(){r.createInstance(s)}):r.createInstance(s)));for(var h in l)null!=l[h]&&(l[h].isInitialized=!0);n?MSApp.execUnsafeLocalFunction(function(){a.instance.refresh(!0)}):a.instance.refresh(!0)},e.jqx.jqxWidget=function(t,i,s){try{jqxArgs=Array.prototype.slice.call(s,0)}catch(e){jqxArgs=""}try{null!=window.MSApp}catch(e){}var r=t,n="";i&&(n="_"+i),e.jqx.define(e.jqx,"_"+r,n);var o=new Array;if(!window[r]){var a=function(t){if(null==t)return"";switch(e.type(t)){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var i="";return e.each(t,function(t,s){var r=s;t>0&&(i+=", "),i+="[";var n=0;if("object"==e.type(r))for(var o in r)n>0&&(i+=", "),i+="{"+o+":"+r[o]+"}",n++;else n>0&&(i+=", "),i+="{"+t+":"+r+"}",n++;i+="]"}),i};jqwidgets[r]=window[r]=function(t,i){var s=[];i||(i={}),s.push(i);var n=t;if("object"===e.type(n)&&t[0]?""===(n=t[0].id)&&(n=t[0].id=e.jqx.utilities.createId()):"object"===e.type(t)&&t&&t.nodeName&&""===(n=t.id)&&(n=t.id=e.jqx.utilities.createId()),window.jqxWidgets&&window.jqxWidgets[n]){var l;if(i&&e.each(window.jqxWidgets[n],function(t){var s=e(this.element).data();s&&s.jqxWidget&&e(this.element)[r](i)}),1==window.jqxWidgets[n].length)if((l=e(window.jqxWidgets[n][0].widgetInstance.element).data())&&l.jqxWidget)return window.jqxWidgets[n][0];if((l=e(window.jqxWidgets[n][0].widgetInstance.element).data())&&l.jqxWidget)return window.jqxWidgets[n]}var h=e(t);0===h.length&&(h=e("<div></div>"),"jqxInput"!==r&&"jqxPasswordInput"!==r&&"jqxMaskedInput"!==r||(h=e("<input/>")),"jqxTextArea"===r&&(h=e("<textarea></textarea>")),"jqxButton"!==r&&"jqxRepeatButton"!==r&&"jqxToggleButton"!==r||(h=e("<button/>")),"jqxSplitter"===r&&(h=e("<div><div>Panel 1</div><div>Panel 2</div></div>")),"jqxTabs"===r&&(h=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div>Content 1</div><div>Content 2</div></div>")),"jqxRibbon"===r&&(h=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div><div>Content 1</div><div>Content 2</div></div></div>")),"jqxDocking"===r&&(h=e("<div><div><div><div>Title 1</div><div>Content 1</div></div></div></div>")),"jqxWindow"===r&&(h=e("<div><div>Title 1</div><div>Content 1</div></div>")));var d=[];return e.each(h,function(t){var i=h[t];if(e.jqx.applyWidget(i,r,s,void 0),!o[r]){var l=e.data(i,"jqxWidget"),c=e.jqx["_"+r].prototype.defineInstance();e.jqx["_"+r].prototype.metaInfo&&e.jqx["_"+r].prototype.metaInfo(),"jqxDockingLayout"==r&&(c=e.extend(c,e.jqx._jqxLayout.prototype.defineInstance())),"jqxToggleButton"!=r&&"jqxRepeatButton"!=r||(c=e.extend(c,e.jqx._jqxButton.prototype.defineInstance())),"jqxTreeGrid"==r&&(c=e.extend(c,e.jqx._jqxDataTable.prototype.defineInstance()));var u=function(t){var i=e.data(t,"jqxWidget");this.widgetInstance=i;var s=e.extend(this,i);for(var r in s.on=s.addEventListener=function(e,t){s.addHandler(s.base?s.base.host:s.host,e,t)},s.off=s.removeEventListener=function(e){s.removeHandler(s.base?s.base.host:s.host,e)},i)"function"==e.type(i[r])&&(s[r]=e.proxy(i[r],i));return s};o[r]=u,e.each(c,function(t,i){Object.defineProperty(u.prototype,t,{get:function(){return this.widgetInstance?this.widgetInstance[t]:i},set:function(i){if(this.widgetInstance&&(this.widgetInstance[t]!=i||"width"===t||"height"===t)){var s=this.widgetInstance[t],n=i,o=!1;if(e.type(s)==e.type(n)&&"source"!==t&&"width"!==t&&"height"!==t||(o=!0),o||a(s)!=a(n)){var l={};l[t]=i,this.widgetInstance.host?this.widgetInstance.host[r](l):this.widgetInstance.base.host[r](l),this.widgetInstance[t]=i,this.widgetInstance.propertyUpdated&&this.widgetInstance.propertyUpdated(t,s,i)}}}})})}l=new o[r](i);d.push(l),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[n]||(window.jqxWidgets[n]=new Array),window.jqxWidgets[n].push(l)}),1===d.length?d[0]:d}}e.fn[r]=function(){var t=Array.prototype.slice.call(arguments,0);if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){e(this);null==e.data(this,r)?e.jqx.applyWidget(this,r,t,void 0):e.jqx.jqxWidgetProxy(r,this,t)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var i=null,s=0;return this.each(function(){var n=e.jqx.jqxWidgetProxy(r,this,t);if(0==s)i=n,s++;else{if(1==s){var o=[];o.push(i),i=o}i.push(n)}}),i};try{e.extend(e.jqx["_"+r].prototype,Array.prototype.slice.call(s,0)[0])}catch(e){}e.extend(e.jqx["_"+r].prototype,{toThemeProperty:function(t,i){return e.jqx.toThemeProperty(this,t,i)}}),e.jqx["_"+r].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+r].prototype.createInstance=function(){},e.jqx["_"+r].prototype.addEventHandler=function(e,t){this.host.bind(e,t)},e.jqx["_"+r].prototype.removeEventHandler=function(e,t){this.host.unbind(e)},e.jqx["_"+r].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var s=[];s.push(i),i=s}e.jqx.applyWidget(t,r,i,this)},e.jqx["_"+r].prototype.getInstance=function(){return this},e.jqx["_"+r].prototype.propertyChangeMap={},e.jqx["_"+r].prototype.addHandler=function(t,i,s,r){e.jqx.addHandler(e(t),i,s,r)},e.jqx["_"+r].prototype.removeHandler=function(t,i,s){e.jqx.removeHandler(e(t),i,s)},e.jqx["_"+r].prototype.setOptions=function(){if(this.host&&this.host.length&&1==this.host.length)return e.jqx.jqxWidgetProxy(r,this.host[0],arguments)}},e.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var s=t.split(" "),r="",n=0;n<s.length;n++){n>0&&(r+=" ");var o=s[n];r+=null!=i&&i?o+"-"+e.theme:o+" "+o+"-"+e.theme}return r},e.jqx.addHandler=function(t,i,s,r){for(var n=i.split(" "),o=0;o<n.length;o++){var a=n[o];if(window.addEventListener)switch(a){case"mousewheel":e.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",s,!1):t[0].addEventListener("mousewheel",s,!1);continue;case"mousemove":if(!r){t[0].addEventListener("mousemove",s,!1);continue}}null==r||null==r?t.on?t.on(a,s):t.bind(a,s):t.on?t.on(a,r,s):t.bind(a,r,s)}},e.jqx.removeHandler=function(t,i,s){if(i)for(var r=i.split(" "),n=0;n<r.length;n++){var o=r[n];if(window.removeEventListener)switch(o){case"mousewheel":e.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",s,!1):t[0].removeEventListener("mousewheel",s,!1);continue;case"mousemove":if(s){t[0].removeEventListener("mousemove",s,!1);continue}}null!=o?null==s?t.off?t.off(o):t.unbind(o):t.off?t.off(o,s):t.unbind(o,s):t.off?t.off():t.unbind()}else t.off?t.off():t.unbind()},e.jqx.theme=e.jqx.theme||"",e.jqx.scrollAnimation=e.jqx.scrollAnimation||!1,e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],function(t,i){"theme"==t&&(e.jqx.theme=i),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=i)})},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:13,touchScrollBarSize:0,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()},setTheme:function(t,i,s){if(void 0!==s&&s[0].className.split){for(var r=s[0].className.split(" "),n=[],o=[],a=s.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(t.length>0?(n.push(r[l]),o.push(r[l].replace(t,i))):o.push(r[l].replace("-"+i,"")+"-"+i));this._removeOldClasses(n,s),this._addNewClasses(o,s);for(l=0;l<a.length;l+=1)this.setTheme(t,i,e(a[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(t){var i=e.jqx.mobile.getLeftPos(t[0]);return{top:e.jqx.mobile.getTopPos(t[0]),left:i}},resize:function(t,i,s,r){void 0===r&&(r=!0);var n=-1,o=this,a=function(e){if(!o.hiddenWidgets)return-1;for(var t=-1,i=0;i<o.hiddenWidgets.length;i++)if(e.id){if(o.hiddenWidgets[i].id==e.id){t=i;break}}else if(o.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){n=l;break}}else if(this.resizeHandlers[l].id==t[0].id){n=l;break}if(!0===s){if(-1!=n&&this.resizeHandlers.splice(n,1),0==this.resizeHandlers.length)(d=e(window)).off?(d.off("resize.jqx"),d.off("orientationchange.jqx"),d.off("orientationchanged.jqx")):(d.unbind("resize.jqx"),d.unbind("orientationchange.jqx"),d.unbind("orientationchanged.jqx")),this.resizeHandlers=null;return void(-1!=(h=a(t))&&this.hiddenWidgets&&this.hiddenWidgets.splice(h,1))}}else if(!0===s){var h;return void(-1!=(h=a(t))&&this.hiddenWidgets&&this.hiddenWidgets.splice(h,1))}o=this;var d,c=function(t,i){if(o.resizeHandlers){var s=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t},r=function(e,t){if(!e.widget||!t.widget)return 0;var i=s(e.widget[0]),r=s(t.widget[0]);try{if(i<r)return-1;if(i>r)return 1}catch(e){}return 0},n=function(t){if(o.hiddenWidgets.length>0){o.hiddenWidgets.sort(r);var s=function(){for(var t=!1,s=new Array,r=0;r<o.hiddenWidgets.length;r++){var n=o.hiddenWidgets[r];e.jqx.isHidden(n.widget)?(t=!0,s.push(n)):n.callback&&n.callback(i)}o.hiddenWidgets=s,t||clearInterval(o.__resizeInterval)};if(0==t)return s(),void(o.__resizeInterval&&clearInterval(o.__resizeInterval));o.__resizeInterval&&clearInterval(o.__resizeInterval),o.__resizeInterval=setInterval(function(){s()},100)}};o.hiddenWidgets&&o.hiddenWidgets.length>0&&n(!1),o.hiddenWidgets=new Array,o.resizeHandlers.sort(r);for(var l=0;l<o.resizeHandlers.length;l++){var h=o.resizeHandlers[l],d=h.widget,c=h.data;if(c&&c.jqxWidget){var u=c.jqxWidget.width,p=c.jqxWidget.height;c.jqxWidget.base&&(null==u&&(u=c.jqxWidget.base.width),null==p&&(p=c.jqxWidget.base.height)),void 0===u&&void 0===p&&(u=c.jqxWidget.element.style.width,p=c.jqxWidget.element.style.height);var f=!1;if(null!=u&&-1!=u.toString().indexOf("%")&&(f=!0),null!=p&&-1!=p.toString().indexOf("%")&&(f=!0),e.jqx.isHidden(d))-1===a(d)&&(f||!0===t)&&!0!==h.data.nestedWidget&&o.hiddenWidgets.push(h);else if(void 0===t||!0!==t){if(f){if(h.callback(i),o.watchedElementData)for(var m=0;m<o.watchedElementData.length;m++)if(o.watchedElementData[m].element==c.jqxWidget.element){o.watchedElementData[m].offsetWidth=c.jqxWidget.element.offsetWidth,o.watchedElementData[m].offsetHeight=c.jqxWidget.element.offsetHeight;break}o.hiddenWidgets.indexOf(h)>=0&&o.hiddenWidgets.splice(o.hiddenWidgets.indexOf(h),1)}if(c.jqxWidget.element){var g=c.jqxWidget.element.className;if(g.indexOf("dropdownlist")>=0||g.indexOf("datetimeinput")>=0||g.indexOf("combobox")>=0||g.indexOf("menu")>=0)if(c.jqxWidget.isOpened)if(c.jqxWidget.isOpened()){if(i&&"resize"==i&&e.jqx.mobile.isTouchDevice())continue;c.jqxWidget.close()}}}}}n()}};this.resizeHandlers||(this.resizeHandlers=new Array,(d=e(window)).on?(this._resizeTimer=null,this._initResize=null,d.on("resize.jqx",function(t){null!=o._resizeTimer&&clearTimeout(o._resizeTimer),o._initResize?o._resizeTimer=setTimeout(function(){c(null,"resize")},e.jqx.resizeDelay):(o._initResize=!0,c(null,"resize"))}),d.on("orientationchange.jqx",function(e){c(null,"orientationchange")}),d.on("orientationchanged.jqx",function(e){c(null,"orientationchange")})):(d.bind("resize.jqx",function(e){c(null,"orientationchange")}),d.bind("orientationchange.jqx",function(e){c(null,"orientationchange")}),d.bind("orientationchanged.jqx",function(e){c(null,"orientationchange")})));var u=t.data();r&&-1===n&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:u});try{var p=u.jqxWidget.width,f=u.jqxWidget.height;u.jqxWidget.base&&(null==p&&(p=u.jqxWidget.base.width),null==f&&(f=u.jqxWidget.base.height)),void 0===p&&void 0===f&&(p=u.jqxWidget.element.style.width,f=u.jqxWidget.element.style.height);var m=!1;if(null!=p&&-1!=p.toString().indexOf("%")&&(m=!0),null!=f&&-1!=f.toString().indexOf("%")&&(m=!0),m){this.watchedElementData||(this.watchedElementData=[]);(o=this).watchedElementData.push({element:t[0],offsetWidth:t[0].offsetWidth,offsetHeight:t[0].offsetHeight,callback:i}),o.observer||(o.observer=new MutationObserver(function(t){o.watchedElementData.forEach&&o.watchedElementData.forEach(function(t){t.element.offsetWidth===t.offsetWidth&&t.element.offsetHeight===t.offsetHeight||(t.offsetWidth=t.element.offsetWidth,t.offsetHeight=t.element.offsetHeight,t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){e.jqx.isHidden(e(t.element))?t.timer=setInterval(function(){e.jqx.isHidden(e(t.element))||(clearInterval(t.timer),t.callback())},100):t.callback()}))})}),o.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0}))}}catch(e){}e.jqx.isHidden(t)&&!0===r&&c(!0),e.jqx.resize=function(){c(null,"resize")}},parseJSON:function(t){if(!t||"string"!=typeof t)return null;if(t=e.trim(t),window.JSON&&window.JSON.parse)return window.JSON.parse(t);if(/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,"@").replace(/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return new Function("return "+t)();throw new Error("Invalid JSON: "+t)},html:function(t,i){if(!e(t).on)return e(t).html(i);try{return e.access(t,function(i){var s=t[0]||{},r=0,n=t.length;if(void 0===i)return 1===s.nodeType?s.innerHTML.replace(rinlinejQuery,""):void 0;var o=new RegExp("<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\\s/>]","i");if("string"==typeof i&&!/<(?:script|style|link)/i.test(i)&&(e.support.htmlSerialize||!o.test(i))&&(e.support.leadingWhitespace||!/^\s+/.test(i))&&!{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]}[(/<([\w:]+)/.exec(i)||["",""])[1].toLowerCase()]){i=i.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>");try{for(;r<n;r++)1===(s=this[r]||{}).nodeType&&(e.cleanData(s.getElementsByTagName("*")),s.innerHTML=i);s=0}catch(e){}}s&&t.empty().append(i)},null,i,arguments.length)}catch(s){return e(t).html(i)}},hasTransform:function(t){var i="";if(""==(i=t.css("transform"))||"none"==i){if(""!=(i=t.parents().css("transform"))&&"none"!=i)return""!=i&&"none"!=i;var s=e.jqx.utilities.getBrowser();"msie"==s.browser?""!=(i=t.css("-ms-transform"))&&"none"!=i||(i=t.parents().css("-ms-transform")):"chrome"==s.browser?""!=(i=t.css("-webkit-transform"))&&"none"!=i||(i=t.parents().css("-webkit-transform")):"opera"==s.browser?""!=(i=t.css("-o-transform"))&&"none"!=i||(i=t.parents().css("-o-transform")):"mozilla"==s.browser&&(""!=(i=t.css("-moz-transform"))&&"none"!=i||(i=t.parents().css("-moz-transform")))}return""!=i&&"none"!=i||(i=e(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),e.indexOf("edge")>=0&&(i.browser="msie",i.version="12",t[1]="msie"),i[t[1]]=t[1],i}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){if(!e||!e[0])return!1;var t=e[0].offsetWidth,i=e[0].offsetHeight;return 0===t||0===i},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,i,s){if(e.jqx.ariaEnabled)if(null==i)e.each(t.aria,function(i,s){if(null==(r=t.base?t.base.host.attr(i):t.host.attr(i))||e.isFunction(r)){var r=t[s.name];e.isFunction(r)&&(r=t[s.name]()),null==r&&(r="");try{t.base?t.base.host.attr(i,r.toString()):t.host.attr(i,r.toString())}catch(e){}}else{var n=r;switch(s.type){case"number":n=new Number(r),isNaN(n)&&(n=r);break;case"boolean":n="true"==r;break;case"date":("Invalid Date"==(n=new Date(r))||isNaN(n))&&(n=r)}t[s.name]=n}});else try{t.host?t.base?t.base.host?t.base.host.attr(i,s.toString()):t.attr(i,s.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,s.toString()):t.host.attr(i,s.toString()):t.attr(i,s.toString()):t.setAttribute&&t.setAttribute(i,s.toString())}catch(e){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var i=parseInt(t.pageX),s=parseInt(t.pageY);if(e.jqx.mobile.isTouchDevice()){var r=e.jqx.mobile.getTouches(t)[0];i=parseInt(r.pageX),s=parseInt(r.pageY)}return{left:i,top:s}},e.extend(e.jqx.mobile,{_touchListener:function(e,t){var i={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},s=function(e,t){var i=document.createEvent("MouseEvents");return i.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),i._pageX=t.pageX,i._pageY=t.pageY,i}(i[e.type],e);e.target.dispatchEvent(s);var r=e.target["on"+i[e.type]];"function"==typeof r&&r(e)},setMobileSimulator:function(t,i){if(!this.isTouchDevice()){this.simulatetouches=!0,0==i&&(this.simulatetouches=!1);var s={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=this;if(window.addEventListener){var n=function(){for(var e in s)t.addEventListener&&(t.removeEventListener(e,r._touchListener),t.addEventListener(e,r._touchListener,!1))};e.jqx.browser.msie,n()}}},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,-1!=(e+="User-agent header: "+navigator.userAgent).indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(null!=this.touchDevice)return this.touchDevice;for(i in this.touchDevice=!1,t)if(t.hasOwnProperty(i)&&(prefix=t[i],match=e.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);var s=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(s.indexOf("Windows Phone")>=0||s.indexOf("WPDesktop")>=0||s.indexOf("IEMobile")>=0||s.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(s.indexOf("Touch")>=0)return"MSPointerDown"in window||"pointerdown"in window?(this.touchDevice=!0,!0):s.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(e){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(t){for(var i=t.offsetTop,s=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(i+=t.offsetTop-t.scrollTop,document.all&&(i+=t.clientTop));var r=navigator.userAgent.toLowerCase();return(-1!=r.indexOf("windows phone")||-1!=r.indexOf("WPDesktop")||-1!=r.indexOf("ZuneWP7")||-1!=r.indexOf("msie 9")||-1!=r.indexOf("msie 11")||-1!=r.indexOf("msie 10"))&&-1!=r.indexOf("touch")?s.top:this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=r.indexOf("version/7")?s.top:(-1==r.indexOf("version/6")&&-1==r.indexOf("version/5")||(i+=e(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)?i+e(window).scrollTop():/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?i+e(window).scrollTop():s.top):i},isChromeMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("android")},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi")},isOperaMiniBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("opera mini")},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch")},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return!!/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)||(!!/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)||(-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("mobile safari")))},isIPadSafariMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("ipad")},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android")},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=null!=e.originalEvent?e.originalEvent:e,null!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;if(-1!=navigator.userAgent.toLowerCase().indexOf("windows phone 7")){if(-1!=e.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=e.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=e.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=e.toLowerCase().indexOf("start")?"pointerdown":-1!=e.toLowerCase().indexOf("move")?"pointermove":-1!=e.toLowerCase().indexOf("end")?"pointerup":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var s=document.createEvent("MouseEvent");s.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(s)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,i,s,r,n,o){if(null!=t){var a=this,l=0,h=0,d=0,c=0;this.scrolling||(this.scrolling=[]),this.scrolling[r]=!1;var u=!1,p=e(t),f=["select","input","textarea"];this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[r]=!0;r=r;var m,g,v,x,b,w,y,_,j,q,S,T,C,I,k=this.getTouchEventName("touchstart")+".touchScroll",P=this.getTouchEventName("touchend")+".touchScroll",M=this.getTouchEventName("touchmove")+".touchScroll";g=i,0,v=0,xoffset=0,initialOffset=0,initialXOffset=0,m=n.jqxScrollBar("max"),I=325;var N=function(){var e,t,i;t=(e=Date.now())-_,_=e,i=v-y,xdelta=xoffset-xframe,y=v,xframe=xoffset,b=!0,xv=1e3*xdelta/(1+t),w=.8*(1e3*i/(1+t))+.2*w,xjqxAnimations=.8*xv+.2*xjqxAnimations},D=!1,B=function(t){if(!a.enableScrolling[r])return!0;if(-1===e.inArray(t.target.tagName.toLowerCase(),f)){v=o.jqxScrollBar("value"),xoffset=n.jqxScrollBar("value");var i,s=a.getTouches(t),p=s[0];return 1==s.length&&a.dispatchMouseEvent("mousedown",p,a.getRootNode(p.target)),m=n.jqxScrollBar("max"),g=o.jqxScrollBar("max"),D=!1,b=!0,x=R(i=t),C=V(i),w=q=xjqxAnimations=0,y=v,xframe=xoffset,_=Date.now(),clearInterval(j),j=setInterval(N,100),initialOffset=v,initialXOffset=xoffset,v>0&&v<g&&o[0].style.visibility,u=!1,h=p.pageY,c=p.pageX,a.simulatetouches&&null!=p._pageY&&(h=p._pageY,c=p._pageX),a.scrolling[r]=!0,l=0,d=0,!0}};p.on?p.on(k,B):p.bind(k,B);var O=function(e,t){return v=e>g?g:e<0?0:e,s(null,e,0,0,t),e>g?"max":e<0?"min":"value"},A=function(e,t){return xoffset=e>m?m:e<0?0:e,s(e,null,0,0,t),e>m?"max":e<0?"min":"value"},H=function(e){if(!a.enableScrolling[r])return!0;if(!a.scrolling[r])return!0;D&&(e.preventDefault(),e.stopPropagation());var t=a.getTouches(e);if(t.length>1)return!0;var i=t[0].pageY,s=t[0].pageX;a.simulatetouches&&null!=t[0]._pageY&&(i=t[0]._pageY,s=t[0]._pageX);var p=i-h,f=s-c;i,touchHorizontalEnd=s,p-l,f-d,u=!0,l=p,d=f;var w=null==n||"hidden"!=n[0].style.visibility,y=null==o||"hidden"!=o[0].style.visibility;(w||y)&&(w||y)&&function(e){var t,i,s;if(b){t=R(e),s=V(e),i=x-t,xdelta=C-s;var r="value";if(i>2||i<-2)return x=t,r=O(v+i,e),N(),"min"==r&&0===initialOffset||"max"==r&&initialOffset===g||!y||(e.preventDefault(),e.stopPropagation(),D=!0,!1);if(xdelta>2||xdelta<-2)return C=s,r=A(xoffset+xdelta,e),N(),"min"==r&&0===initialXOffset||"max"==r&&initialXOffset===m||!w||(D=!0,e.preventDefault(),e.stopPropagation(),!1);e.preventDefault()}}(e)};p.on?p.on(M,H):p.bind(M,H);var E=function(e){if(!a.enableScrolling[r])return!0;var t=a.getTouches(e)[0];if(!a.scrolling[r])return!0;if(b=!1,clearInterval(j),w>10||w<-10?(q=.8*w,S=Math.round(v+q),_=Date.now(),requestAnimationFrame(W),o.fadeIn(100)):xjqxAnimations>10||xjqxAnimations<-10?(q=.8*xjqxAnimations,T=Math.round(xoffset+q),_=Date.now(),requestAnimationFrame(G),n.fadeIn(100)):(n.fadeOut(100),o.fadeOut(100)),a.scrolling[r]=!1,!u){t=a.getTouches(e)[0];var i=a.getRootNode(t.target);return a.dispatchMouseEvent("mouseup",t,i),a.dispatchMouseEvent("click",t,i),!0}a.dispatchMouseEvent("mouseup",t,e.target)};if(this.simulatetouches){null!=e(window).on||e(window).bind;var z=function(e){try{E(e)}catch(e){}a.scrolling[r]=!1};if(null!=e(window).on?e(document).on("mouseup.touchScroll",z):e(document).bind("mouseup.touchScroll",z),window.frameElement&&null!=window.top){var L=function(e){try{E(e)}catch(e){}a.scrolling[r]=!1};window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",L):e(window.top.document).bind("mouseup",L))}null!=e(document).on||e(document).bind;var F=function(e){if(!a.scrolling[r])return!0;a.scrolling[r]=!1;var t=a.getTouches(e)[0],i=a.getRootNode(t.target);a.dispatchMouseEvent("mouseup",t,i),a.dispatchMouseEvent("click",t,i)};null!=e(document).on?e(document).on("touchend",F):e(document).bind("touchend",F)}p.on&&(p.on("dragstart",function(e){e.preventDefault()}),p.on("selectstart",function(e){e.preventDefault()})),p.on?p.on(P+" touchcancel.touchScroll",E):p.bind(P+" touchcancel.touchScroll",E)}function R(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.originalEvent&&void 0!==e.originalEvent.clientY?e.originalEvent.clientY:a.getTouches(e)[0].clientY}function V(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.originalEvent&&void 0!==e.originalEvent.clientX?e.originalEvent.clientX:a.getTouches(e)[0].clientX}function W(){var e,t;q&&(e=Date.now()-_,(t=-q*Math.exp(-e/I))>.5||t<-.5?(O(S+t),requestAnimationFrame(W)):(O(S),o.fadeOut("fast")))}function G(){var e,t;q&&(e=Date.now()-_,(t=-q*Math.exp(-e/I))>.5||t<-.5?(A(T+t),requestAnimationFrame(G)):(A(T),n.fadeOut("fast")))}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,i,s){if(arguments.length>1&&"[object Object]"!==String(i)){if(s=e.extend({},s),null==i&&(s.expires=-1),"number"==typeof s.expires){var r=s.expires,n=s.expires=new Date;n.setDate(n.getDate()+r)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",s.raw?i:encodeURIComponent(i),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}var o,a=(s=i||{}).raw?function(e){return e}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?a(o[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var s=e,r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s},contains:function(e,t){return null!=e&&null!=t&&-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null!=e&&null!=t&&-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.slice(0,t.length)==t)},equalsIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.toUpperCase().slice(0,t.length)==t.toUpperCase())},startsWith:function(e,t){return null!=e&&null!=t&&e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).slice(-t.length)==t},endsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).toUpperCase().slice(-t.length)==t.toUpperCase()}}),e.extend(e.easing,{easeOutBack:function(e,t,i,s,r,n){return null==n&&(n=1.70158),s*((t=t/r-1)*t*((n+1)*t+n)+1)+i},easeInQuad:function(e,t,i,s,r){return s*(t/=r)*t+i},easeInOutCirc:function(e,t,i,s,r){return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+i:s/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i},easeInCubic:function(e,t,i,s,r){return s*(t/=r)*t*t+i},easeOutCubic:function(e,t,i,s,r){return s*((t=t/r-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,s,r){return(t/=r/2)<1?s/2*t*t*t+i:s/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,s,r){return-s*Math.cos(t/r*(Math.PI/2))+s+i},easeOutSine:function(e,t,i,s,r){return s*Math.sin(t/r*(Math.PI/2))+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i}})}(jqxBaseFramework),function(e){e.event&&e.event.special&&e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend&&e.fn.extend({ischildof:function(t){if(!e(this).parents)return t.element.contains(this.element);for(var i=e(this).parents().get(),s=0;s<i.length;s++)if("string"!=typeof t){var r=i[s];if(void 0!==t&&r==t[0])return!0}else if(void 0!==t&&e(i[s]).is(t))return!0;return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),s=t.element;return s||(s=t.base.element),e.jqx.jqxWidgetProxy(t.widgetName,s,i)};var t=this.originalVal=e.fn.val;e.fn.val=function(i){if(void 0===i){if(e(this).hasClass("jqx-widget"))if((s=e(this).data().jqxWidget)&&s.val)return s.val();if(this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0)if((s=e(this).find(".jqx-widget").data().jqxWidget)&&s.val)return s.val();return t.call(this)}var s;return e(this).hasClass("jqx-widget")&&(s=e(this).data().jqxWidget)&&s.val?2!=arguments.length?s.val(i):s.val(i,arguments[1]):this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0&&(s=e(this).find(".jqx-widget").data().jqxWidget)&&s.val?2!=arguments.length?s.val(i):s.val(i,arguments[1]):t.call(this,i)},e.fn.modal&&e.fn.modal.Constructor&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){if(e(t.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))}),e.fn.coord=function(t){var i,s,r={top:0,left:0},n=this[0],o=n&&n.ownerDocument;if(o){if(i=o.documentElement,!e.contains(i,n))return r;void 0!==typeof n.getBoundingClientRect&&(r=n.getBoundingClientRect());s=function(t){return e.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}(o);var a=0,l=0,h=navigator.userAgent.toLowerCase();if((-1!=h.indexOf("ipad")||-1!=h.indexOf("iphone"))&&(a=2),1==t&&"static"!=document.body.style.position&&""!=document.body.style.position){var d=e(document.body).coord();a=-d.left,l=-d.top}return{top:l+r.top+(s.pageYOffset||i.scrollTop)-(i.clientTop||0),left:a+r.left+(s.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}}}(jqxBaseFramework);
// National Instruments Copyright 2017
"use strict";$.jqx.theme="legacy",function(e){e.jqx.observableArray=function(t,i){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var s=Object.defineProperty;Object.defineProperty=function(e,t,i){if(s)try{return s(e,t,i)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var s,r=arguments[1];for(s=0;s<i;s++)s in t&&e.call(r,t[s],s,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i});var r,n=this,o=[];n.notifier=null,n.name="observableArray",n.observing=!0,n.changes=new Array;i=i;return n.observe=function(){n.observing=!0,1==arguments.length&&(i=arguments[0])},n.unobserve=function(){n.observing=!1},n.toArray=function(){return o.slice(0)},n.toJSON=function(e,t){var i=o;t&&(i=t);var s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function n(e){return'"'+e.replace(s,function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function a(e){return e<10?"0"+e:e}function l(t){switch(Object.prototype.toString.call(t)){case"[object Date]":return function(e){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+'Z"':"null"}(t);case"[object Array]":return function(e){var t,i=e.length,s=[];for(t=0;t<i;t++)s.push(h(t,e)||"null");return"["+s.join(",")+"]"}(t)}return function(t){var i,s,r=[];for(i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(""!=i&&e&&-1===e.indexOf(i))continue;(s=h(i,t))&&r.push(n(i)+":"+s)}return"{"+r.join(",")+"}"}(t)}function h(e,t){var i=t[e],s=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(s=typeof(i=i.toJSON(e))),/(number|float|int|integer|string|boolean)/.test(s)||!i&&"object"===s?function(e,t){switch(t){case"string":return n(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}(i,s):l(i)}return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(i):h("",{"":i})},n.defineIndexProperty=function(t){if(!(t in n)){var i=function(t,i,s,a){var l=t[i],h=l,d=function(){return h},c=function(t){if(h!==(l=t)){var s=h;if(h=l,"function"==typeof r){var d=o.indexOf(a),c="",u=function(t,s){Object.getOwnPropertyNames(t).forEach(function(r){var n=e.type(t[r]);"array"==n||"object"==n?u(t[r],s+"."+r):i===r&&(c=s+"."+r)})};u(a,d),r({object:n,type:"update",path:c,index:d,name:i,newValue:l,oldValue:s})}}return h=l,l};null!=t[i]&&"length"!=i&&(Object.defineProperty?Object.defineProperty(t,i,{get:d,set:c}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,i,d),Object.prototype.__defineSetter__.call(t,i,c)))},s=function(t,r,n){var o=e.type(t);/(number|float|int|integer|string|boolean)/.test(o)||void 0!==t&&Object.getOwnPropertyNames(t).forEach(function(o){var a=e.type(t[o]);"array"==a||"object"==a?(i(t,o,0,n),s(t[o],r+"."+o,n)):i(t,o,0,n)})};Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){return o[t]},set:function(e){var i=o[t];n.toJSON(null,i)!=n.toJSON(null,e)&&(o[t]=e,"function"==typeof r&&r({object:n,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:i}),s(e,t,e))}}),s(n[t],t,n[t])}},n.push=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=o.length,o.push(arguments[t]),n.defineIndexProperty(e),"function"==typeof r&&r({object:n,type:"add",name:"length",index:e,newValue:o.length,oldValue:e});return o.length},n.pop=function(){if(~o.length){var e=o.length-1,t=o.pop();return delete n[e],"function"==typeof r&&r({object:n,type:"delete",name:"length",index:e,newValue:o.length,oldValue:e}),t}},n.unshift=function(){for(var e=o.length,t=0,i=arguments.length;t<i;t++)o.splice(t,0,arguments[t]),n.defineIndexProperty(o.length-1);return"function"==typeof r&&r({object:n,type:"add",index:0,name:"length",newValue:o.length,oldValue:e}),o.length},n.shift=function(){var e=o.length;if(~o.length){var t=o.shift();return 0===o.length&&delete n[e],"function"==typeof r&&r({object:n,type:"delete",index:e,name:"length",newValue:o.length,oldValue:e}),t}},n.slice=function(t,i,s){var r=o.slice(t,i);return new e.jqx.observableArray(r,s)},n.splice=function(t,i,s){var a,l=[];for(t=~t?t:o.length-t,i=(null==i?o.length-t:i)||0;i--;)a=o.splice(t,1)[0],l.push(a),delete n[o.length],"function"==typeof r&&r({object:n,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(var h=2,d=arguments.length;h<d;h++)o.splice(t,0,arguments[h]),defineIndexProperty(o.length-1),"function"==typeof r&&r({object:n,type:"add",index:t,name:"length",newValue:o.length-1,oldValue:t}),t++;return new e.jqx.observableArray(l,s)},Object.defineProperty(n,"length",{configurable:!1,enumerable:!0,get:function(){return o.length},set:function(e){var t=Number(e);if(!(t%1==0&&t>=0))throw new RangeError("Invalid array length");return t<o.length?n.splice(t):t>o.length&&n.push.apply(n,new Array(t-o.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,i){return new e.jqx.observableArray(t,i)},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(o,i);return t.observing=n.observing,t.changes=n.changes,t.notifier=n.notifier,t},n.remove=function(e){if(e<0||e>=n.length)throw new Error("Invalid index : "+e);if(n.hasOwnProperty(e)){var t=n[e];return n[e]=void 0,o[e]=void 0,"function"==typeof r&&r({object:n,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},n.concat=function(t,i){var s=o.concat(t);return new e.jqx.observableArray(s,i)},Object.getOwnPropertyNames(Array.prototype).forEach(function(e){if(!(e in n)){Object.defineProperty(n,e,{configurable:!1,enumerable:!0,writeable:!1,value:function(){var t=n.observing;n.observing=!1;var i=o[e].apply(o,arguments);return n.observing=t,i}})}}),n.set=function(t,i){if("string"==e.type(t)&&t.split(".").length>1){for(var s=t.split("."),r=n,o=0;o<s.length;o++){if(0===o&&s[o]>=n.length)throw new Error("Invalid Index: "+t);o<s.length-1?r=r[s[o]]:r[s[o]]=i}return!0}return t>=n.length?n.push(i):n[t]=i,!0},n.get=function(e){return n[e]},t instanceof Array&&n.push.apply(n,t),r=function(){n.observing&&(arguments&&arguments[0]&&n.changes.push(arguments[0]),i&&i.apply(n,arguments),n.notifier&&n.notifier.apply(n,arguments))},n},e.jqx.formatDate=function(t,i,s){return e.jqx.dataFormat.formatdate(t,i,s)},e.jqx.formatNumber=function(t,i,s){return e.jqx.dataFormat.formatnumber(t,i,s)},e.jqx.dataAdapter=function(t,i){if(null!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),null!=t.totalRecords&&(t.totalrecords=t.totalRecords),null!=t.loadError&&(t.loadError=t.loadError),null!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=i||{},null!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),null!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),null!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),null!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),null!=t.formatData&&(this._options.formatData=this._source.formatData),null!=t.loadError&&(this._options.loadError=this._source.loadError),null!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),null!=t.contentType&&(this._options.contentType=this._source.contentType),null!=t.async&&(this._options.async=this._source.async),null!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),null!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,null!=t&&null!=t.localdata&&"function"==typeof t.localdata){var s=t.localdata();if(null!=s){t._localdata=t.localdata;var r=this;t._localdata.subscribe&&(r._oldlocaldata=[],t._localdata.subscribe(function(t){var i=function(t){return e.isArray(t)?e.makeArray(i(e(t))):e.extend(!0,{},t)};0!=r.suspendKO&&null!=r.suspendKO&&0!=r._oldlocaldata.length||(r._oldlocaldata=i(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(e){if(0==r.suspendKO||null==r.suspendKO){var i="";r._oldrecords=r.records,0==r._oldlocaldata.length&&(t.localdata=t._localdata()),0==r._oldlocaldata.length?i="change":e&&(r._oldlocaldata.length==e.length&&(i="update"),r._oldlocaldata.length>e.length&&(i="remove"),r._oldlocaldata.length<e.length&&(i="add")),r.dataBind(null,i)}},t._localdata,"change"),r._knockoutdatasource=!0),t.localdata=s}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,s){return e.jqx.dataFormat.formatdate(t,i,s)},formatNumber:function(t,i,s){return e.jqx.dataFormat.formatnumber(t,i,s)},dataBind:function(t,i){if(1!=this.isUpdating){var s=this._source;if(s){s.generatedfields&&(s.datafields=null,s.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=s.dataFields&&(s.datafields=s.dataFields),null==s.recordstartindex&&(s.recordstartindex=0),null==s.recordendindex&&(s.recordendindex=0),null==s.loadallrecords&&(s.loadallrecords=!0),null==s.root&&(s.root=""),null==s.record&&(s.record=""),null!=s.sort&&(this.sort=s.sort),null!=s.filter?this.filter=s.filter:this.filter=null,null!=s.sortcolumn&&(this.sortcolumn=s.sortcolumn),null!=s.sortdirection&&(this.sortdirection=s.sortdirection),null!=s.sortcomparer&&(this.sortcomparer=s.sortcomparer),this.records=new Array;var r=this._options||{};if(this.virtualmode=null!=r.virtualmode&&r.virtualmode,this.totalrecords=null!=r.totalrecords?r.totalrecords:0,this.pageable=null!=r.pageable&&r.pageable,this.pagesize=null!=r.pagesize?r.pagesize:0,this.pagenum=null!=r.pagenum?r.pagenum:0,this.cachedrecords=null!=r.cachedrecords?r.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=null!=r.updaterow?r.updaterow:null,this.addrow=null!=r.addrow?r.addrow:null,this.deleterow=null!=r.deleterow?r.deleterow:null,this.cache=null!=r.cache&&r.cache,this.unboundmode=!1,null!=s.formatdata&&(r.formatData=s.formatdata),null!=s.data&&(null==r.data&&(r.data={}),e.extend(r.data,s.data)),null!=s.mapChar&&(s.mapchar=s.maxChar),null!=s.mapchar?this.mapChar=s.mapchar?s.mapchar:">":this.mapChar=r.mapChar?r.mapChar:">",(r.unboundmode||s.unboundmode)&&(this.unboundmode=r.unboundmode||s.unboundmode),null!=s.cache&&(this.cache=s.cache),this.koSubscriptions)for(var n=0;n<this.koSubscriptions.length;n++)this.koSubscriptions[n].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var o=this,a=s.datatype;"csv"!==s.datatype&&"tab"!==s.datatype&&"tsv"!==s.datatype&&"text"!=s.datatype||(a="text");var l=null==r.async||r.async;switch(null!=s.async&&(l=s.async),a){case"local":case"array":case"observablearray":case"observableArray":default:if(null==s.localdata&&s.length){s.localdata=new Array;for(var h=0;h<s.length;h++)s.localdata[s.localdata.length]=s[h],s[h].uid=h}s.beforeprocessing&&e.isFunction(s.beforeprocessing)&&s.beforeprocessing(s.localdata);var d=s.localdata.length;if(this.totalrecords=this.virtualmode&&s.totalrecords||d,this.unboundmode)if(this.totalrecords=this.unboundmode&&s.totalrecords||d,(p=s.datafields?s.datafields.length:0)>0)for(h=0;h<this.totalrecords;h++){for(var c={},u=0;u<p;u++)c[s.datafields[u].name]="";c.uid=h,s.localdata[s.localdata.length]=c}null==this.totalrecords&&(this.totalrecords=0);var p=s.datafields?s.datafields.length:0,f=function(t,i){for(var r={},n=0;n<i;n++){var a=s.datafields?s.datafields[n]:{},l="";if(null!=a&&null!=a){if(a.map){if(e.isFunction(a.map))l=a.map(t);else{var h=a.map.split(o.mapChar);if(h.length>0){for(var d=t,c=0;c<h.length;c++)d&&(d=d[h[c]]);l=d}else l=t[a.map]}null!=l&&null!=l?l=l.toString():null==l&&null!=l&&(l="")}var u=!1;""==l&&(u=!0,null!=(l=t[a.name])&&null!=l&&(s._localdata&&l.subscribe?l=l():"array"!=a.type&&("date"===a.type?l&&l instanceof Date&&(l=l):l=l.toString()))),"[object Object]"==l&&a.map&&u&&(l=""),l=o.getvaluebytype(l,a),null!=a.displayname?r[a.displayname]=l:r[a.name]=l}}return r};if(s._localdata){this._changedrecords=[],this.records=new Array;var m=s._localdata();if(e.each(m,function(t,r){if("string"==typeof r)o.records.push(r);else{var n={},a=0,l=this;e.each(this,function(i,r){var h=null,d="string",c=i;if(p>0){for(var u=!1,f=!1,m=0;m<p;m++){var g=s.datafields[m];if(null!=g&&g.name==i){u=!0,h=g.map,d=g.type,c=g.name;break}if(null!=g&&g.map&&g.map.indexOf(i)>=0){u=!0,h=g.map,d=g.type,c=g.name,f=!0;var v=l[i];if(null!=h)if((y=h.split(o.mapChar)).length>0){for(var x=l,b=0;b<y.length;b++)x=x[y[b]];v=x}else v=l[h];"string"!=d&&(v=o.getvaluebytype(v,{type:d})),n[c]=v,null!=n[c]&&(a+=n[c].toString().length+n[c].toString().substr(0,1))}}if(!u)return!0;if(f)return!0}if(e.isFunction(l[i])){v=l[i]();if("string"!=d&&(v=o.getvaluebytype(v,{type:d})),n[i]=v,l[i].subscribe){var w=t;o.koSubscriptions[o.koSubscriptions.length]=l[i].subscribe(function(e){var t=w;n[i]=e;var s={index:t,oldrecord:n,record:n};if(o._changedrecords.push(s),!o.isUpdating)return o.callBindingUpdate("update"),o._changedrecords=[],!1})}}else{var y;v=l[i];if(null!=h)if((y=h.split(o.mapChar)).length>0){for(x=l,b=0;b<y.length;b++)x=x[y[b]];v=x}else v=l[h];"string"!=d&&(v=o.getvaluebytype(v,{type:d})),n[c]=v,null!=n[c]&&(a+=n[c].toString().length+n[c].toString().substr(0,1))}});var h=o.getid(s.id,l,t);if(n.uid=h,o.records.push(n),n._koindex=a,o._oldrecords){var d=o.records.length-1;if("update"==i&&o._oldrecords[d]._koindex!=a){var c={index:d,oldrecord:o._oldrecords[d],record:n};o._changedrecords.push(c)}}}}),"add"==i)for(d=o.records.length,h=0;h<d;h++){c=o.records[h];for(var g=!1,v=0;v<o._oldrecords.length;v++)if(o._oldrecords[v]._koindex===c._koindex){g=!0;break}g||o._changedrecords.push({index:h,oldrecord:null,record:c,position:0!=h?"last":"first"})}else if("remove"==i)for(d=o._oldrecords.length,h=0;h<d;h++){var x=o._oldrecords[h];o.records[h]?o.records[h]._koindex!=x._koindex&&o._changedrecords.push({index:h,oldrecord:x,record:null}):o._changedrecords.push({index:h,oldrecord:x,record:null})}}else if(e.isArray(s.localdata))if(0==p){b=0,w=new Array;e.each(s.localdata,function(t,i){var r=new Object(this);if("string"==typeof i)return o.records=s.localdata,!1;var n=o.getid(s.id,r,t);if("object"==typeof n&&(n=t),r.uid=n,0==t){for(var a in this){b++;var l=e.type(this[a]);w.push({name:a,type:l})}p=b,s.datafields=w,s.generatedfields=w}if(p>0){var h=f(r,p);h.uid=n,o.records[o.records.length]=h}else o.records[o.records.length]=r})}else e.each(s.localdata,function(e){var t,i=f(t=this,p),r=o.getid(s.id,i,e);"object"==typeof r&&(r=e),(t=new Object(i)).uid=r,o.records[o.records.length]=t});else{this.records=new Array;var b=0,w=new Array;e.each(s.localdata,function(t){var i=o.getid(s.id,this,t);if(0==p&&!("string"==typeof this||this instanceof String)){for(var r in this){b++;var n=e.type(this[r]);w.push({name:r,type:n})}p=b,s.datafields=w,s.generatedfields=w}if(p>0){var a=f(this,p);a.uid=i,o.records[o.records.length]=a}else this.uid=i,o.records[o.records.length]=this})}if(this.originaldata=s.localdata,this.cachedrecords=this.records,this.addForeignValues(s),r.uniqueDataFields){var y=this.getUniqueRecords(this.records,r.uniqueDataFields);this.records=y,this.cachedrecords=y}if(r.beforeLoadComplete)null!=(j=r.beforeLoadComplete(o.records,this.originaldata))&&(o.records=j,o.cachedrecords=j);if(r.autoSort&&r.autoSortField){var _=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[r.autoSortField]},o.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(t=t.toString(),i=i.toString(),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0}),Object.prototype.toString=_}o.loadedData=s.localdata,o.buildHierarchy(),e.isFunction(r.loadComplete)&&r.loadComplete(s.localdata,o.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=s.localdata&&!s.url){if(e.isFunction(s.beforeprocessing)&&s.beforeprocessing(s.localdata),"xml"===s.datatype?o.loadxml(s.localdata,s.localdata,s):"text"===a?o.loadtext(s.localdata,s):"ics"===a?o.loadics(s.localdata,s):o.loadjson(s.localdata,s.localdata,s),o.addForeignValues(s),r.uniqueDataFields){y=o.getUniqueRecords(o.records,r.uniqueDataFields);o.records=y,o.cachedrecords=y}var j;if(r.beforeLoadComplete)null!=(j=r.beforeLoadComplete(o.records,this.originaldata))&&(o.records=j,o.cachedrecords=j);return o.loadedData=s.localdata,o.buildHierarchy.call(o),e.isFunction(r.loadComplete)&&r.loadComplete(s.localdata,o.records),void o.callBindingUpdate(i)}var q=null!=r.data?r.data:{};if(s.processdata&&s.processdata(q),e.isFunction(r.processData)&&r.processData(q),e.isFunction(r.formatData)){var S=r.formatData(q);null!=S&&(q=S)}var T="application/x-www-form-urlencoded";r.contentType&&(T=r.contentType);var C="GET";s.type&&(C=s.type),r.type&&(C=r.type);var I=a;if("ics"==a&&(I="text"),s.url&&s.url.length>0)e.isFunction(r.loadServerData)?o._requestData(q,s,r):this.xhr=e.jqx.data.ajax({dataType:I,cache:this.cache,type:C,url:s.url,async:l,timeout:s.timeout,contentType:T,data:q,success:function(t,i,n){var l;e.isFunction(s.beforeprocessing)&&(null!=(l=s.beforeprocessing(t,i,n))&&(t=l));e.isFunction(r.downloadComplete)&&(null!=(l=r.downloadComplete(t,i,n))&&(t=l));if(null==t)return o.records=new Array,o.cachedrecords=new Array,o.originaldata=new Array,o.callDownloadComplete(),void(e.isFunction(r.loadComplete)&&r.loadComplete(new Array));var h=t;if(t.records&&(h=t.records),null!=t.totalrecords?s.totalrecords=t.totalrecords:null!=t.totalRecords&&(s.totalrecords=t.totalRecords),"xml"===s.datatype?o.loadxml(null,h,s):"text"===a?o.loadtext(h,s):"ics"===a?o.loadics(h,s):o.loadjson(null,h,s),o.addForeignValues(s),r.uniqueDataFields){var d=o.getUniqueRecords(o.records,r.uniqueDataFields);o.records=d,o.cachedrecords=d}if(r.beforeLoadComplete){var c=r.beforeLoadComplete(o.records,t);null!=c&&(o.records=c,o.cachedrecords=c)}o.loadedData=t,o.buildHierarchy.call(o),o.callDownloadComplete(),e.isFunction(r.loadComplete)&&r.loadComplete(t,i,n,o.records)},error:function(t,i,n){e.isFunction(s.loaderror)&&s.loaderror(t,i,n),e.isFunction(r.loadError)&&r.loadError(t,i,n),t=null,o.callDownloadComplete()},beforeSend:function(t,i){e.isFunction(r.beforeSend)&&r.beforeSend(t,i),e.isFunction(s.beforesend)&&s.beforesend(t,i)}});else if(o.buildHierarchy(new Array),o.callDownloadComplete(),e.isFunction(r.loadComplete)){if(!k)var k={};r.loadComplete(k)}}this.callBindingUpdate(i)}}},buildHierarchy:function(e){var t=this._source,i=new Array;if(t.datafields){if(t.hierarchy&&!t.hierarchy.reservedNames)t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(t.hierarchy)(r=t.hierarchy.reservedNames).leaf||(r.leaf="leaf"),r.parent||(r.parent="parent"),r.expanded||(r.expanded="expanded"),r.checked||(r.checked="checked"),r.selected||(r.selected="selected"),r.level||(r.level="level"),r.data||(r.data="data");if(t.hierarchy){var s=this,r=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType){i=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=i,i}this.hierarchy=this.records;for(var n=t.hierarchy.root,o=0;o<this.records.length;o++){var a=this.records[o];if(a){var l=function(e){if(t.hierarchy.record)e.records=e[n][t.hierarchy.record];else{var i=n.split(s.mapChar),o=null;if(i.length>1){for(var a=e,l=0;l<i.length;l++)null!=a&&(a=a[i[l]]);o=a}else o=e[n];e.records=o}(null==e.records||e.records&&0==e.records.length)&&(e[r.leaf]=!0)};l(a),a[r.level]=0;var h=this.getid(t.id,a,o);a.uid=h,a[r.parent]=null,a[r.data]=a,void 0===a[r.expanded]&&(a[r.expanded]=!1);var d=function(e,i){if(i)for(var n=0;n<i.length;n++){var o=i[n];if(o){l(o),o[r.level]=e[r.level]+1,o[r.parent]=e,o[r.data]=o;var a=s.getid(t.id,o,n);a==n&&null==t.id?o.uid=e.uid+"_"+a:o.uid=a,void 0===o[r.expanded]&&(o[r.expanded]=!1),d(o,o.records)}}else e.records=new Array};d(a,a.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){i=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=i,i}if(t.hierarchy.groupingDataFields){var c=new Array;for(o=0;o<t.hierarchy.groupingDataFields.length;o++)c.push(t.hierarchy.groupingDataFields[o].name);i=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",e);return this.hierarchy=i,i}}}},addRecord:function(e,t,i,s){var r=this;if(null!=e){if(null==i){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||s)){var n=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;null==n&&(n={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),e[n.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){var o=function(s){if(s)for(var n=0;n<s.length;n++){var a=s[n];if(a.uid==i){var l=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;return null==l&&(l={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),e[l.parent]=a,e[l.level]=a[l.level]+1,a.records?a[l.leaf]=!1:(a.records=new Array,a[l.leaf]=!1),"last"==t?a.records.push(e):"number"==typeof t&&isFinite(t)?a.records.splice(t,0,e):a.records.splice(0,0,e),!0}a.records&&o(a.records)}};o(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){var i=function(s){if(s)for(var r=0;r<s.length;r++){if((a=s[r]).uid==e){s.splice(r,1),t.recordids[e]&&delete t.recordids[e];var n=function(e){for(var i=0;i<e.length;i++){for(var s=e[i].uid,r=0;r<t.records.length;r++){if(t.records[r].uid==s){t.records.splice(r,1);break}}e[i].records&&n(e[i].records)}};a.records&&n(a.records);for(var o=0;o<t.records.length;o++){var a;if((a=t.records[o]).uid==e){t.records.splice(o,1);break}}return!0}a.records&&i(a.records)}};i(this.hierarchy)}else for(var s=0;s<this.records.length;s++){if(this.records[s].uid==e)return this.records.splice(s,1),!0}return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,s=0;s<i;s++){var r=e.datafields[s];if(null!=r)if(null!=r.values){null==r.value&&(r.value=r.name),null==r.values.value&&(r.values.value=r.value);var n,o,a=new Array;t.pageable&&t.virtualmode?(o=(n=t.pagenum*t.pagesize)+t.pagesize)>t.totalrecords&&(o=t.totalrecords):t.virtualmode?(n=e.recordstartindex,(o=e.recordendindex)>t.totalrecords&&(o=t.totalrecords)):(n=0,o=t.records.length);for(var l=n;l<o;l++){var h=t.records[l],d=r.name,c=h[r.value];if(null!=a[c])h[d]=a[c];else for(var u=0;u<r.values.source.length;u++){var p=r.values.source[u],f=p[r.values.value];if(null==f&&(f=p.uid),f==c){var m=p[r.values.name];h[d]=m,a[c]=m;break}}}}else if(null!=r.value)for(l=0;l<t.records.length;l++){(h=t.records[l])[r.name]=h[r.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(t,i,s){var r=this;s.loadServerData(t,i,function(t){if(t.totalrecords&&(i.totalrecords=t.totalrecords,r.totalrecords=t.totalrecords),t.records&&(r.records=t.records,r.cachedrecords=t.records),r.addForeignValues(i),s.uniqueDataFields){var n=r.getUniqueRecords(r.records,s.uniqueDataFields);r.records=n,r.cachedrecords=n}if(s.beforeLoadComplete){var o=s.beforeLoadComplete(r.records,data);null!=o&&(r.records=o,r.cachedrecords=o)}for(var a=0;a<r.records.length;a++){var l=r.records[a];null!=l&&null==l.uid&&(l.uid=r.getid(i.id,l,a))}r.buildHierarchy.call(r),e.isFunction(s.loadComplete)&&s.loadComplete(t),r.callDownloadComplete()})},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,s=t.length,r=new Array,n=new Array,o=0;o<i;o++){var a=e[o],l="";if(null!=a){for(var h=0;h<s;h++){l+=a[t[h]]+"_"}n[l]||(r[r.length]=a),n[l]=!0}}return r},getAggregatedData:function(t,i,s,r){var n=s;n||(n=this.records);var o={},a=new Array,l=n.length;if(0!=l&&null!=l){for(var h=0;h<l;h++)for(var d=n[h],c=0;c<t.length;c++){var u=t[c],p=d[u.name];if(u.aggregates){o[u.name]=o[u.name]||{},a[u.name]=a[u.name]||0,a[u.name]++;var f=function(t){for(obj in t){var i=o[u.name][obj];null==i&&(o[u.name][obj]=0,i=0),e.isFunction(t[obj])&&(i=t[obj](i,p,u.name,d,r)),o[u.name][obj]=i}},m=parseFloat(p);(m=!isNaN(m))&&(p=parseFloat(p)),"number"==typeof p&&isFinite(p)?e.each(u.aggregates,function(){var e=o[u.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(p);else if("product"==this)0==h?e=parseFloat(p):e*=parseFloat(p);else if("min"==this)e=Math.min(e,parseFloat(p));else if("max"==this)e=Math.max(e,parseFloat(p));else if("count"==this)e++;else if("object"==typeof this)return void f(this);o[u.name][this]=e}):e.each(u.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===p)return!0;var e=o[u.name][this];return null==e&&(e=0),o[u.name][this]=e,!0}"object"==typeof this&&f(this)})}}for(c=0;c<t.length;c++){u=t[c];if(o[u.name]||(o[u.name]={},e.each(u.aggregates,function(e){o[u.name][this]=0})),null!=o[u.name].avg){p=o[u.name].avg;var g=a[u.name];o[u.name].avg=0===g||null==g?0:p/g}else null!=o[u.name].count&&(o[u.name].count=l);(o[u.name].stdev||o[u.name].stdevp||o[u.name].var||o[u.name].varp)&&e.each(u.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=o[u.name][this],i=l,s=t/l,r=0,a=0;a<l;a++){var h=n[a][u.name];r+=(h-s)*(h-s)}var d="stdevp"==this||"varp"==this?i:i-1;0==d&&(d=1),"var"==this||"varp"==this?o[u.name][this]=r/d:"stdevp"!=this&&"stdev"!=this||(o[u.name][this]=Math.sqrt(r/d))}}),u.formatStrings&&e.each(u.aggregates,function(t){var s=u.formatStrings[t];if(s)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var r=o[u.name][this];o[u.name][this]=e.jqx.dataFormat.formatnumber(r,s,i)}else if("object"==typeof this)for(obj in this){r=o[u.name][obj];o[u.name][obj]=e.jqx.dataFormat.formatnumber(r,s,i)}})}return o}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,i,s,r,n,o,a,l,h){h||(h=0);for(var d=new Array,c=0;c<t.length;c++)d[c]=this.generatekey();i||(i="items"),s||(s="group"),n||(n="record"),a||(a="parentItem"),void 0===o&&(o="value");var u=new Array,p=0,f=new Array,m=t.length;new Array;if(!l)l=this.records;for(var g=l.length,v=function(t){var i=t;return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},x=0;x<g;x++){var b=v(l[x]);id=b[this.uniqueId];var w=new Array,y=0;for(c=0;c<m;c++){var _=b[t[c]];null!=_&&(w[y++]={value:_,hash:d[c]})}if(w.length!=m)break;for(var j=null,q="",S=0;S<w.length;S++){0;var T=w[S].value;if(null==f[q=q+"_"+w[S].hash+"_"+T]||null==f[q]){if(null==j){(j={level:0})[a]=null,j[s]=T,j[n]=b,void 0!==b.expanded?j.expanded=b.expanded:j.expanded=!1,o&&(j[o]=b[o]),j[i]=new Array;var C=u.length+h;this._source.id&&"number"!=typeof b.uid&&!isFinite(b.uid)||(C="Row"+C),j.uid=C,u[p++]=j}else{var I={level:j.level+1};I[a]=j,I[s]=T,I[i]=new Array,I[n]=b,void 0!==b.expanded?I.expanded=b.expanded:I.expanded=!1,o&&(I[o]=b[o]),I.uid=j.uid+"_"+j[i].length,j[i][j[i].length]=I,j=I}f[q]=j}else j=f[q]}b&&(b.leaf=!0),null!=j?(null==this._source.id&&(null==b.uid?b.uid=j.uid+"_"+j[i].length:-1==b.uid.toString().indexOf(j.uid)&&(b.uid=j.uid+"_"+b.uid)),b[a]=j,b.level=j.level+1,j[i][j[i].length]=b):null==b.uid&&(b.uid=this.generatekey())}return u},getRecordsHierarchy:function(t,i,s,r,n){var o=new Array,a=this.records;if(n&&(a=n),0==this.records.length)return null;for(var l=null!=s?s:"items",h=[],d=a,c=d.length,u=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,p=function(t){var i=t;return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},f=0;f<c;f++){var m=(v=e.extend({},d[f]))[i];h[g=v[t]]={parentid:m,item:v}}for(f=0;f<c;f++){m=(v=e.extend({},d[f]))[i];var g=v[t];if(null!=h[m]){var v={parentid:m,item:h[g].item},x=h[m].item;x[l]||(x[l]=[]);var b=x[l].length,w=v.item;u?null==w[u.parent]&&(w[u.parent]=x):null==w.parent&&(w.parent=x);var y=p(w);x[l][b]=y,h[m].item=x,h[g]=v}else{w=h[g].item;u?null==w[u.parent]&&(w[u.parent]=null):null==w.parent&&(w.parent=null);y=p(w);u?y[u.level]=0:y.level=0,o[o.length]=y}}if(0!=o.length){var _=function(e,t){for(var i=0;i<t.length;i++){u?t[i][u.level]=e:t[i].level=e;var s=t[i][l];s&&s.length>0?_(e+1,s):u?t[i][u.leaf]=!0:t[i].leaf=!0}};_(0,o)}return o},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t];null!=i.func&&i.func(e)}},getid:function(t,i,s){if(null==t||null==t.name||!t.name){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){if(null!=(a=e(i).attr(t))&&a.toString().length>0)return e.trim(a).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");var r=t.split(this.mapChar);if(r.length>1){for(var n=i,o=0;o<r.length;o++)null!=n&&(n=n[r[o]]);if(null!=n)return n}else if(null!=i[t])return i[t]}return s}if(null!=(a=e(i).attr(t.name))&&a.toString().length>0)return a;if(t.map)try{var a;if(null!=(a=e(i).attr(t.map))&&a.toString().length>0)return a;if(e(t.map,i).length>0)return e(t.map,i).text();if(e(t.name,i).length>0)return e(t.name,i).text()}catch(e){return s}},loadjson:function(t,i,s){"string"==typeof t&&(t=e.parseJSON(t)),null==s.root&&(s.root=""),null==s.record&&(s.record=""),(t=t||i)||(t=[]);var r=this;if(""!=s.root)if((j=s.root.split(r.mapChar)).length>1){for(var n=t,o=0;o<j.length;o++)null!=n&&(n=n[j[o]]);t=n}else{if(void 0!==t[s.root]?t=t[s.root]:t[0]&&void 0!==t[0][s.root]?t=t[0][s.root]:e.each(t,function(e){if(this==s.root)return t=this,!1;null!=this[s.root]&&(t=this[s.root])}),!t)if((j=s.root.split(r.mapChar)).length>0){for(n=t,o=0;o<j.length;o++)null!=n&&(n=n[j[o]]);t=n}}else if(!t.length)for(obj in t)if(e.isArray(t[obj])){t=t[obj];break}if(null!=t&&null==t.length&&(t=e.makeArray(t)),null==t||null==t||"undefined"==t||null==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0!=t.length){var a=t.length;this.totalrecords=this.virtualmode&&s.totalrecords||a,this.records=new Array,this.originaldata=new Array;var l=this.records,h=this.pageable?this.pagesize*this.pagenum:s.recordstartindex;this.recordids=new Array,s.loadallrecords&&(h=0,a=this.totalrecords);var d=0;this.virtualmode&&(d=h=this.pageable?this.pagesize*this.pagenum:s.recordstartindex,h=0,a=this.totalrecords);var c=s.datafields?s.datafields.length:0;if(0==c){var u=t[0],p=new Array;for(obj in u){var f=obj;p[p.length]={name:f}}s.datafields=p,s.generatedfields=s.datafields,c=p.length}for(var m=h,g=h;g<a;g++){var v=t[g];if(null==v)break;if(!s.record||""==s.record||null!=(v=v[s.record])){var x=this.getid(s.id,v,g);if("object"==typeof x&&(x=g),!this.recordids[x]){this.recordids[x]=v;for(var b={},w=0;w<c;w++){var y=s.datafields[w],_="";if(null!=y&&null!=y){if(y.map){var j;if(e.isFunction(y.map))_=y.map(v);else if((j=y.map.split(r.mapChar)).length>0){var q=v;for(o=0;o<j.length;o++)null!=q&&(q=q[j[o]]);_=q}else _=v[y.map];null!=_&&null!=_?_=this.getvaluebytype(_,y):null==_&&null!=_&&(_="")}if(""==_&&!y.map&&(null==(_=v[y.name])&&null!=_&&(_=""),null!=y.value&&null!=_)){var S=_[y.value];null!=S&&(_=S)}if(_=this.getvaluebytype(_,y),null!=y.displayname?b[y.displayname]=_:b[y.name]=_,"array"===y.type){var T=function(t){if(t)for(var i=0;i<t.length;i++){var n=t[i];if(n)for(var o=0;o<c;o++){var a=s.datafields[o],l="";if(null!=a&&null!=a){if(a.map){if(e.isFunction(a.map))l=a.map(n);else{var h=a.map.split(r.mapChar);if(h.length>0){for(var d=n,u=0;u<h.length;u++)null!=d&&(d=d[h[u]]);l=d}else l=n[a.map]}null!=l&&null!=l?l=this.getvaluebytype(l,a):null==l&&null!=l&&(l="")}if(""==l&&!a.map&&(null==(l=n[a.name])&&null!=l&&(l=""),null!=a.value&&null!=l)){var p=l[a.value];null!=p&&(l=p)}l=this.getvaluebytype(l,a),null!=a.displayname?n[a.displayname]=l:n[a.name]=l,"array"===a.type&&T.call(this,l)}}}};T.call(this,_)}}}(s.recordendindex<=0||h<s.recordendindex)&&(l[d+m]=new Object(b),l[d+m].uid=x,this.originaldata[d+m]=new Object(l[g]),m++)}}}this.records=l,this.cachedrecords=this.records}else this.totalrecords=0},loadxml:function(t,i,s){"string"==typeof t&&(t=i=e(e.parseXML(t)),t=null),null==s.root&&(s.root=""),null==s.record&&(s.record=""),(t=e.jqx.browser.msie&&i&&null!=i.xml?e(s.root+" "+s.record,e.parseXML(i.xml)):t||e(s.root+" "+s.record,i))||(t=[]);var r=t.length;if(0!=t.length){this.totalrecords=this.virtualmode&&s.totalrecords||r,this.records=new Array,this.originaldata=new Array;var n=this.records,o=this.pageable?this.pagesize*this.pagenum:s.recordstartindex;this.recordids=new Array,s.loadallrecords&&(o=0,r=this.totalrecords);var a=0;this.virtualmode&&(a=o=this.pageable?this.pagesize*this.pagenum:s.recordstartindex,o=0,r=this.totalrecords);var l=s.datafields?s.datafields.length:0;if(0==l){var h=t[0],d=new Array;for(obj in h){var c=obj;d[d.length]={name:c}}s.datafields=d,s.generatedfields=s.datafields,l=d.length}for(var u=o,p=o;p<r;p++){if(null==(T=t[p]))break;var f=this.getid(s.id,T,p);if(!this.recordids[f]){this.recordids[f]=T;var m={},g=!1;s.hierarchy&&s.hierarchy.root&&(g=!0);for(var v=0;v<l;v++){var x=s.datafields[v],b="";if(null!=x&&null!=x){if(x.map)if(e.isFunction(x.map))b=x.map(T);else{var w=x.map.indexOf("[");if(w<0)if(1==(b=e(x.map,T)).length)b=b.text();else{!0;for(var y=new Array,_=0;_<b.length;_++)y.push(e(b[_]).text());b=y,g&&y.length>0&&(b=y[0])}else{var j=x.map.substring(0,w-1),q=x.map.indexOf("]"),S=x.map.substring(w+1,q);null==(b=e(j,T).attr(S))&&(b=e(T).attr(S)),null==b&&(b="")}""==b&&null==(b=e(T).attr(x.map))&&(b="")}if(""==b){if(1==(b=e(x.name,T)).length)b=b.text();else{for(y=new Array,_=0;_<b.length;_++)y.push(e(b[_]).text());b=y,g&&y.length>0&&(b=y[0])}""==b&&null==(b=e(T).attr(x.name))&&(b=""),""==b&&T.nodeName&&T.nodeName==x.name&&T.firstChild&&(b=e(T.firstChild).text())}b=this.getvaluebytype(b,x),null!=x.displayname?m[x.displayname]=b:m[x.name]=b}}(s.recordendindex<=0||o<s.recordendindex)&&(n[a+u]=e.extend({},m),n[a+u].uid=f,this.originaldata[a+u]=e.extend({},n[p]),u++)}}if(s.hierarchy&&s.hierarchy.root)for(p=o;p<r;p++){var T=t[p],C=n[p];if(e(T).parent().length>0){f=this.getid(s.id,e(T).parents(s.hierarchy.record+":first"));C.parentuid=f}else C.parentuid=null}this.records=n,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var i=t.rowDelimiter||this.rowDelimiter||"\n",s=e.split(i),r=s.length,n=e.split("\r");1==r&&n.length>1&&(r=(s=n).length),this.records=new Array,this.originaldata=new Array;var o=this.records;this.recordids=new Array;for(var a=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(!t)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))},l=0;l<r;l++){var h=s[l];if("BEGIN:VEVENT"!=h)if(h.indexOf("SUMMARY")>=0)c.SUMMARY=h.substring(h.indexOf("SUMMARY")+8);else if(h.indexOf("LOCATION")>=0)c.LOCATION=h.substring(h.indexOf("LOCATION")+9);else if(h.indexOf("DESCRIPTION")>=0)c.DESCRIPTION=h.substring(h.indexOf("DESCRIPTION")+12);else if(h.indexOf("RRULE")>=0)c.RRULE=h.substring(h.indexOf("RRULE")+6);else if(h.indexOf("EXDATE")>=0){var d=h.substring(h.indexOf("EXDATE")+7);c.EXDATE=d}else h.indexOf("DTEND")>=0?c.DTEND=a(h.substring(h.indexOf("DTEND")+6)):h.indexOf("DTSTART")>=0?c.DTSTART=a(h.substring(h.indexOf("DTSTART")+8)):h.indexOf("UID")>=0?c.uid=c.UID=h.substring(h.indexOf("UID")+4):h.indexOf("STATUS")>=0?c.STATUS=h.substring(h.indexOf("STATUS")+7):"END:VEVENT"!=h||o.push(c);else var c={}}this.records=o,this.cachedrecords=this.records}},loadtext:function(t,i){if(null!=t){var s=i.rowDelimiter||this.rowDelimiter||"\n",r=t.split(s),n=r.length,o=t.split("\r");1==n&&o.length>1&&(n=(r=o).length),this.totalrecords=this.virtualmode&&i.totalrecords||n,this.records=new Array,this.originaldata=new Array;var a=this.records,l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex;this.recordids=new Array,i.loadallrecords&&(l=0,n=this.totalrecords);var h=0;this.virtualmode&&(h=l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,l=0,n=this.totalrecords);var d=i.datafields.length,c=i.columnDelimiter||this.columnDelimiter;c||(c="tab"===i.datatype||"tsv"===i.datatype?"\t":",");for(var u=l;u<n;u++){var p=r[u],f=null;if(!this.recordids[f]){null==i.id&&(f=u,this.recordids[f]=p);for(var m={},g=r[u].split(c),v=0;v<d;v++)if(!(v>=g.length)){var x=i.datafields[v],b=g[v];x.map&&e.isFunction(x.map)&&(b=x.map(p)),x.type&&(b=this.getvaluebytype(b,x)),m[x.map||x.name||v.toString()]=b,null!=i.id&&i.id===x.name&&(f=b,this.recordids[f]=p)}null==f&&(f=u),a[h+u]=e.extend({},m),a[h+u].uid=f,this.originaldata[h+u]=e.extend({},a[u])}}this.records=a,this.cachedrecords=this.records}},getvaluebytype:function(t,i){var s=t;if(null==t)return t;if(e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i);return t}if("date"==i.type)if("NaN"==t)t="";else{if(t&&t instanceof Date)return t;var n=new Date(t);if("string"==typeof t&&i.format){var o=e.jqx.dataFormat.parsedate(t,i.format);null!=o&&(n=o)}null==(t=("NaN"==n.toString()||"Invalid Date"==n.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):n)&&(t=s)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type||"integer"==i.type){t=parseInt(t);isNaN(t)&&(t=s)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&null!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!(!this.isString(t)&&this.isValue(t))&&(!this.isValue(t)||""===(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(e,t){t=t||"F";var i,s=e.patterns,r=t.length;if(1===r){if(!(i=s[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,s=e.getTime(),r=0,n=t.length;r<n;r++)if(null===(i=t[r].start)||s>=i)return r;return 0},toUpper:function(e){return e.split("Â ").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=this.toUpper(e[i]);return t},getEraYear:function(e,t,i,s){var r=e.getFullYear();return!s&&t.eras&&(r-=t.eras[i].offset),r},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,i){var s,r=e.days,n=e._upperDays;return n||(e._upperDays=n=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr),this.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?-1===(s=this.arrayIndexOf(n[1],t))&&(s=this.arrayIndexOf(n[2],t)):s=this.arrayIndexOf(n[0],t),s},getMonthIndex:function(e,t,i){var s=e.months,r=e.monthsGenitive||e.months,n=e._upperMonths,o=e._upperMonthsGen;n||(e._upperMonths=n=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr)],e._upperMonthsGen=o=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)]),t=this.toUpper(t);var a=this.arrayIndexOf(i?n[1]:n[0],t);return a<0&&(a=this.arrayIndexOf(i?o[1]:o[0],t)),a},appendPreOrPostMatch:function(e,t){for(var i=0,s=!1,r=0,n=e.length;r<n;r++){var o=e.charAt(r);switch(o){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(o),s=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var i="";return t&&t.target&&(i="target="+t.target),""!=i?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,i){return this.formatnumber(e,t,i)},formatnumber:function(e,t,i){if(null!=i&&null!=i&&""!=i||(i=this.defaultcalendar()),""===t||null===t)return e;var s;this.isNumber(e)||(e*=1),t.length>1&&(s=parseInt(t.slice(1),10));var r={},n=t.charAt(0).toUpperCase();switch(r.thousandsSeparator=i.thousandsseparator,r.decimalSeparator=i.decimalseparator,n){case"D":case"d":case"F":case"f":r.decimalPlaces=s;break;case"N":case"n":r.decimalPlaces=0;break;case"C":case"c":r.decimalPlaces=s,"before"==i.currencysymbolposition?r.prefix=i.currencysymbol:r.suffix=i.currencysymbol;break;case"P":case"p":r.suffix=i.percentsymbol,r.decimalPlaces=s;break;default:throw"Bad number format specifier: "+n}if(this.isNumber(e)){var o,a=e<0,l=e+"",h=r.decimalSeparator?r.decimalSeparator:".";if(this.isNumber(r.decimalPlaces)){var d=r.decimalPlaces,c=Math.pow(10,d);if(o=(l=(e*c).toFixed(0)/c+"").lastIndexOf("."),d>0)for(o<0?o=(l+=h).length-1:"."!==h&&(l=l.replace(".",h));l.length-1-o<d;)l+="0"}else{(o=(l=e+"").lastIndexOf("."))>0&&null==d&&"."!==h&&(l=l.replace(".",h))}if(r.thousandsSeparator){var u=r.thousandsSeparator;o=(o=l.lastIndexOf(h))>-1?o:l.length;for(var p=l.substring(o),f=-1,m=o;m>0;m--)++f%3==0&&m!==o&&(!a||m>1)&&(p=u+p),p=l.charAt(m-1)+p;l=p}return l=r.prefix?r.prefix+l:l,l=r.suffix?l+r.suffix:l}return e},tryparsedate:function(t,i){null!=i&&null!=i||(i=this.defaultcalendar());var s,r;if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){if("Invalid Date"==(n=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1")))){var n=null;(N=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(n=new Date(1*N[1]+36e5*N[2]+6e4*N[3]))}if(null==n||"Invalid Date"==n||isNaN(n)){var o=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/.exec(t);if(o){var a=new Date(parseInt(o[1]));if(o[2]){var l=parseInt(o[3]);"-"===o[2]&&(l=-l);var h=a.getUTCMinutes();a.setUTCMinutes(h-l)}if(!isNaN(a.valueOf()))return a}}return n}for(prop in patterns=i.patterns,patterns)if(n=this.parsedate(t,patterns[prop],i)){if("ISO"==prop)if(d=this.parsedate(t,patterns.ISO2,i))return d;return n}if(null!=t){for(var d=null,c=[":","/","-"],u=!0,p=0;p<c.length;p++)-1!=t.indexOf(c[p])&&(u=!1);if(u){var f=new Number(t);if(!isNaN(f))return new Date(f)}}if("string"===e.type(t)){var m=this;t=m.trim(t);var g=[":","/","-"," ",","];s=", ",r=",";var v="",x=t=t.replace(new RegExp(s,"g"),r);t.indexOf(":")>=0?(v=t.substring(t.indexOf(":")-2),v=m.trim(v),x=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(v=t.substring(t.toUpperCase().indexOf("AM")-2),v=m.trim(v),x=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(v=t.substring(t.toUpperCase().indexOf("PM")-2),v=m.trim(v),x=t.substring(0,t.toUpperCase().indexOf("PM")-2));var b=new Date,w=!1;if(x){for(var y=0;y<g.length;y++)if(x.indexOf(g[y])>=0){c=x.split(g[y]);break}var _=new Array,j=new Array,q=new Array,S=null,T=null;for(y=0;y<c.length;y++){p=c[y];var C=m.parsedate(p,"d",i)||m.parsedate(p,"dd",i)||m.parsedate(p,"ddd",i)||m.parsedate(p,"dddd",i);if(C&&p.length<=2){S=y,_.push(C.getDate());break}}for(y=0;y<c.length;y++){p=c[y];var I=m.parsedate(p,"M",i)||m.parsedate(p,"MM",i)||m.parsedate(p,"MMM",i)||m.parsedate(p,"MMMM",i);if(I){if(null!=S&&S==y)continue;if(j.push(I.getMonth()),p.length>2){T=y;break}}}for(y=0;y<c.length;y++){p=c[y];var k=m.parsedate(p,"yyyy",i);if(k){if(null!=S&&S==y)continue;if(null!=T&&T==y)continue;q.push(k.getFullYear())}}for(var P=new Array,M=0;M<_.length;M++)for(var N=0;N<j.length;N++)for(var D=0;D<q.length;D++){a=new Date(q[D],j[N],_[M]);q[D]<1970&&a.setFullYear(q[D]),NaN!=a.getTime()&&P.push(a)}P.length>0&&(b=P[0],w=!0)}if(v){var B=v.indexOf(":")>=0?v.split(":"):v,O=m.parsedate(v,"h:mm tt",i)||m.parsedate(v,"h:mm:ss tt",i)||m.parsedate(v,"HH:mm:ss.fff",i)||m.parsedate(v,"HH:mm:ss.ff",i)||m.parsedate(v,"HH:mm:ss.tttt",i)||m.parsedate(v,"HH:mm:ss",i)||m.parsedate(v,"HH:mm",i)||m.parsedate(v,"HH",i),A=0,H=0,E=0,z=0;O&&NaN!=O.getTime()?(A=O.getHours(),H=O.getMinutes(),E=O.getSeconds(),z=O.getMilliseconds()):(1==B.length&&(A=parseInt(B[0])),2==B.length&&(A=parseInt(B[0]),H=parseInt(B[1])),3==B.length&&(A=parseInt(B[0]),H=parseInt(B[1]),B[2].indexOf(".")>=0?(E=parseInt(B[2].toString().split(".")[0]),z=parseInt(B[2].toString().split(".")[1])):E=parseInt(B[2])),4==B.length&&(A=parseInt(B[0]),H=parseInt(B[1]),E=parseInt(B[2]),z=parseInt(B[3]))),!b||isNaN(A)||isNaN(H)||isNaN(E)||isNaN(z)||(b.setHours(A,H,E,z),w=!0)}if(w)return b}return null},getparseregexp:function(e,t){var i=e._parseRegExp;if(i){var s=i[t];if(s)return s}else e._parseRegExp=i={};for(var r,n=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],a=[],l=0,h=0,d=this.getTokenRegExp();null!==(r=d.exec(n));){var c=n.slice(l,r.index);if(l=d.lastIndex,(h+=this.appendPreOrPostMatch(c,o))%2)o.push(r[0]);else{var u,p=r[0],f=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}u&&o.push(u),a.push(r[0])}}this.appendPreOrPostMatch(n.slice(l),o),o.push("$");var m={regExp:o.join("").replace(/\s+/g,"\\s+"),groups:a};return i[t]=m},outOfRange:function(e,t,i){return e<t||e>i},expandYear:function(e,t){var i=new Date,s=this.getEra(i);if(t<100){var r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var n=this.getEraYear(i,e,s);(t+=n-n%100)>r&&(t-=100)}return t},parsedate:function(e,t,i){null!=i&&null!=i||(i=this.defaultcalendar()),e=this.trim(e);var s=i,r=this.getparseregexp(s,t),n=new RegExp(r.regExp).exec(e);if(null===n)return null;for(var o,a=r.groups,l=null,h=null,d=null,c=null,u=null,p=0,f=0,m=0,g=0,v=null,x=!1,b=0,w=a.length;b<w;b++){var y=n[b+1];if(y){var _=a[b],j=_.length,q=parseInt(y,10);switch(_){case"dd":case"d":if(c=q,this.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":if(d=this.getMonthIndex(s,y,3===j),this.outOfRange(d,0,11))return null;break;case"M":case"MM":if(d=q-1,this.outOfRange(d,0,11))return null;break;case"y":case"yy":case"yyyy":if(h=j<4?this.expandYear(s,q):q,this.outOfRange(h,0,9999))return null;break;case"h":case"hh":if(12===(p=q)&&(p=0),this.outOfRange(p,0,11))return null;break;case"H":case"HH":if(p=q,this.outOfRange(p,0,23))return null;break;case"m":case"mm":if(f=q,this.outOfRange(f,0,59))return null;break;case"s":case"ss":if(m=q,this.outOfRange(m,0,59))return null;break;case"tt":case"t":if(!(x=s.PM&&(y===s.PM[0]||y===s.PM[1]||y===s.PM[2]))&&(!s.AM||y!==s.AM[0]&&y!==s.AM[1]&&y!==s.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=q*Math.pow(10,3-j),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(u=this.getDayIndex(s,y,3===j),this.outOfRange(u,0,6))return null;break;case"zzz":var S=y.split(/:/);if(2!==S.length)return null;if(o=parseInt(S[0],10),this.outOfRange(o,-12,13))return null;var T=parseInt(S[1],10);if(this.outOfRange(T,0,59))return null;v=60*o+(this.startsWith(y,"-")?-T:T);break;case"z":case"zz":if(o=q,this.outOfRange(o,-12,13))return null;v=60*o;break;case"g":case"gg":var C=y;if(!C||!s.eras)return null;C=trim(C.toLowerCase());for(var I=0,k=s.eras.length;I<k;I++)if(C===s.eras[I].name.toLowerCase()){l=I;break}if(null===l)return null}}}var P,M=new Date,N=s.convert;if(P=M.getFullYear(),null===h?h=P:s.eras&&(h+=s.eras[l||0].offset),null===d&&(d=0),null===c&&(c=1),N){if(null===(M=N.toGregorian(h,d,c)))return null}else{if(M.setFullYear(h,d,c),M.getDate()!==c)return null;if(null!==u&&M.getDay()!==u)return null}if(x&&p<12&&(p+=12),M.setHours(p,f,m,g),null!==v){var D=M.getMinutes()-(v+M.getTimezoneOffset());M.setHours(M.getHours()+parseInt(D/60,10),D%60)}return M},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,i){return this.formatdate(e,t,i)},formatdate:function(e,t,i){if(null!=i&&null!=i||(i=this.defaultcalendar()),"string"==typeof e)return e;var s,r=e.toString()+"_"+t;if(this.datescache&&this.datescache[r]&&-1==t.indexOf("f"))return this.datescache[r];if(!t||!t.length||"i"===t)return s=this.formatDate(e,i.patterns.F,i);var n=i.eras,o="s"===t;t=this.expandFormat(i,t),s=[];var a,l,h=["0","00","000"],d=0,c=this.getTokenRegExp();function u(e,t){var i,s=e+"";return t>1&&s.length<t?(i=h[t-2]+s).substr(i.length-t,t):i=s}function p(e,t){if(l)return l[t];if(null!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(;;){var f=c.lastIndex,m=c.exec(t),g=t.slice(f,m?m.index:t.length);if(d+=this.appendPreOrPostMatch(g,s),!m)break;if(d%2)s.push(m[0]);else{var v=m[0],x=v.length;switch(v){case"ddd":case"dddd":var b=3===x?i.days.namesAbbr:i.days.names;s.push(b[e.getDay()]);break;case"d":case"dd":!0,s.push(u(p(e,2),x));break;case"MMM":case"MMMM":var w=p(e,1);s.push(i.months[3===x?"namesAbbr":"names"][w]);break;case"M":case"MM":s.push(u(p(e,1)+1,x));break;case"y":case"yy":case"yyyy":w=this.getEraYear(e,i,this.getEra(e,n),o),x<4&&(w%=100),s.push(u(w,x));break;case"h":case"hh":0===(a=e.getHours()%12)&&(a=12),s.push(u(a,x));break;case"H":case"HH":s.push(u(e.getHours(),x));break;case"m":case"mm":s.push(u(e.getMinutes(),x));break;case"s":case"ss":s.push(u(e.getSeconds(),x));break;case"t":case"tt":w=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",s.push(1===x?w.charAt(0):w);break;case"f":case"ff":case"fff":s.push(u(e.getMilliseconds(),3).substr(0,x));break;case"z":case"zz":a=e.getTimezoneOffset()/60,s.push((a<=0?"+":"-")+u(Math.floor(Math.abs(a)),x));break;case"zzz":a=e.getTimezoneOffset()/60,s.push((a<=0?"+":"-")+u(Math.floor(Math.abs(a)),2)+":"+u(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&s.push(i.eras[this.getEra(e,n)].name);break;case"/":s.push(i["/"]);break;default:throw"Invalid date format pattern '"+v+"'."}}}var y=s.join("");return this.datescache||(this.datescache=new Array),this.datescache[r]=y,y}}),e.jqx.data={};var t,i,s=/#.*$/,r=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,n=/^(?:GET|HEAD)$/,o=/^\/\//,a=/\?/,l=/([?&])_=[^&]*/,h=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,d=/\s+/,c=(e.fn.load,{}),u={},p=["*/"]+["*"];try{i=location.href}catch(e){(i=document.createElement("a")).href="",i=i.href}function f(t){return function(i,s){"string"!=typeof i&&(s=i,i="*");var r,n,o=i.toLowerCase().split(d),a=0,l=o.length;if(e.isFunction(s))for(;a<l;a++)r=o[a],(n=/^\+/.test(r))&&(r=r.substr(1)||"*"),(t[r]=t[r]||[])[n?"unshift":"push"](s)}}function m(e,t,i,s,r,n){(n=n||{})[r=r||t.dataTypes[0]]=!0;for(var o,a=e[r],l=0,h=a?a.length:0,d=e===c;l<h&&(d||!o);l++)"string"==typeof(o=a[l](t,i,s))&&(!d||n[o]?o=void 0:(t.dataTypes.unshift(o),o=m(e,t,i,s,o,n)));return!d&&o||n["*"]||(o=m(e,t,i,s,"*",n)),o}function g(t,i){var s,r,n=e.jqx.data.ajaxSettings.flatOptions||{};for(s in i)void 0!==i[s]&&((n[s]?t:r||(r={}))[s]=i[s]);r&&e.extend(!0,t,r)}t=h.exec(i.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,i){return i?g(t,e.jqx.data.ajaxSettings):(i=t,t=e.jqx.data.ajaxSettings),g(t,i),t},ajaxSettings:{url:i,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(t[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":p},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:f(c),ajaxTransport:f(u),ajax:function(i,f){"object"==typeof i&&(f=i,i=void 0),f=f||{};var g,v,x,b,w,y,_,j,q=e.jqx.data.ajaxSetup({},f),S=q.context||q,T=S!==q&&(S.nodeType||S instanceof e)?e(S):e.event,C=e.Deferred(),I=e.Callbacks("once memory"),k=q.statusCode||{},P={},M={},N=0,D="canceled",B={readyState:0,setRequestHeader:function(e,t){if(!N){var i=e.toLowerCase();e=M[i]=M[i]||e,P[e]=t}return this},getAllResponseHeaders:function(){return 2===N?v:null},getResponseHeader:function(e){var t;if(2===N){if(!x)for(x={};t=r.exec(v);)x[t[1].toLowerCase()]=t[2];t=x[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return N||(q.mimeType=e),this},abort:function(e){return e=e||D,b&&b.abort(e),O(0,e),this}};function O(t,i,s,r){var n,o,a,l,h,d=i;2!==N&&(N=2,w&&clearTimeout(w),b=void 0,v=r||"",B.readyState=t>0?4:0,s&&(l=function(e,t,i){var s,r,n,o,a=e.contents,l=e.dataTypes,h=e.responseFields;for(r in h)r in i&&(t[h[r]]=i[r]);for(;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("content-type"));if(s)for(r in a)if(a[r]&&a[r].test(s)){l.unshift(r);break}if(l[0]in i)n=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){n=r;break}o||(o=r)}n=n||o}if(n)return n!==l[0]&&l.unshift(n),i[n]}(q,B,s)),t>=200&&t<300||304===t?(q.ifModified&&((h=B.getResponseHeader("Last-Modified"))&&(e.lastModified[g]=h),(h=B.getResponseHeader("Etag"))&&(e.etag[g]=h)),304===t?(d="notmodified",n=!0):(d=(n=function(e,t){var i,s,r,n,o=e.dataTypes.slice(),a=o[0],l={},h=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;r=o[++h];)if("*"!==r){if("*"!==a&&a!==r){if(!(i=l[a+" "+r]||l["* "+r]))for(s in l)if((n=s.split(" "))[1]===r&&(i=l[a+" "+n[0]]||l["* "+n[0]])){!0===i?i=l[s]:!0!==l[s]&&(r=n[0],o.splice(h--,0,r));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:t}}(q,l)).state,o=n.data,n=!(a=n.error))):(a=d,d&&!t||(d="error",t<0&&(t=0))),B.status=t,B.statusText=(i||d)+"",n?C.resolveWith(S,[o,d,B]):C.rejectWith(S,[B,d,a]),B.statusCode(k),k=void 0,_&&T.trigger("ajax"+(n?"Success":"Error"),[B,q,n?o:a]),I.fireWith(S,[B,d]),_&&(T.trigger("ajaxComplete",[B,q]),--e.active||e.event.trigger("ajaxStop")))}if(C.promise(B),B.success=B.done,B.error=B.fail,B.complete=I.add,B.statusCode=function(e){var t;if(e)if(N<2)for(t in e)k[t]=[k[t],e[t]];else t=e[B.status],B.always(t);return this},q.url=((i||q.url)+"").replace(s,"").replace(o,t[1]+"//"),q.dataTypes=e.trim(q.dataType||"*").toLowerCase().split(d),null==q.crossDomain&&(y=h.exec(q.url.toLowerCase()),q.crossDomain=!(!y||y[1]===t[1]&&y[2]===t[2]&&(y[3]||("http:"===y[1]?80:443))==(t[3]||("http:"===t[1]?80:443)))),q.data&&q.processData&&"string"!=typeof q.data&&(q.data=e.param(q.data,q.traditional)),m(c,q,f,B),2===N)return B;if(_=q.global,q.type=q.type.toUpperCase(),q.hasContent=!n.test(q.type),_&&0==e.active++&&e.event.trigger("ajaxStart"),!q.hasContent&&(q.data&&(q.url+=(a.test(q.url)?"&":"?")+q.data,delete q.data),g=q.url,!1===q.cache)){var A=(new Date).getTime(),H=q.url.replace(l,"$1_="+A);q.url=H+(H===q.url?(a.test(q.url)?"&":"?")+"_="+A:"")}for(j in(q.data&&q.hasContent&&!1!==q.contentType||f.contentType)&&B.setRequestHeader("Content-Type",q.contentType),q.ifModified&&(g=g||q.url,e.lastModified[g]&&B.setRequestHeader("If-Modified-Since",e.lastModified[g]),e.etag[g]&&B.setRequestHeader("If-None-Match",e.etag[g])),B.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+("*"!==q.dataTypes[0]?", "+p+"; q=0.01":""):q.accepts["*"]),q.headers)B.setRequestHeader(j,q.headers[j]);if(q.beforeSend&&(!1===q.beforeSend.call(S,B,q)||2===N))return B.abort();for(j in D="abort",{success:1,error:1,complete:1})B[j](q[j]);if(b=m(u,q,f,B)){B.readyState=1,_&&T.trigger("ajaxSend",[B,q]),q.async&&q.timeout>0&&(w=setTimeout(function(){B.abort("timeout")},q.timeout));try{N=1,b.send(P,O)}catch(e){if(!(N<2))throw e;O(-1,e)}}else O(-1,"No Transport");return B},active:0,lastModified:{},etag:{}});var v=[],x=/\?/,b=/(=)\?(?=&|$)|\?\?/,w=(new Date).getTime();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=v.pop()||e.expando+"_"+w++;return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",function(t,i,s){var r,n,o,a=t.data,l=t.url,h=!1!==t.jsonp,d=h&&b.test(l),c=h&&!d&&"string"==typeof a&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&b.test(a);if("jsonp"===t.dataTypes[0]||d||c)return r=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,n=window[r],d?t.url=l.replace(b,"$1"+r):c?t.data=a.replace(b,"$1"+r):h&&(t.url+=(x.test(l)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||e.error(r+" was not called"),o[0]},t.dataTypes[0]="json",window[r]=function(){o=arguments},s.always(function(){window[r]=n,t[r]&&(t.jsonpCallback=i.jsonpCallback,v.push(r)),o&&e.isFunction(n)&&n(o[0]),o=n=void 0}),"script"}),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),e.jqx.data.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(s,r){(t=document.createElement("script")).async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,s){(s||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0,s||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var y,_,j=!!window.ActiveXObject&&function(){for(var e in y)y[e](0,1)},q=0;function S(){try{return new window.XMLHttpRequest}catch(e){}}e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&S()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:S,_=e.jqx.data.ajaxSettings.xhr(),e.extend(e.support,{ajax:!!_,cors:!!_&&"withCredentials"in _}),e.support||(e.support={ajax:!0}),e.support.ajax&&e.jqx.data.ajaxTransport(function(t){var i;if(!t.crossDomain||e.support.cors)return{send:function(s,r){var n,o,a=t.xhr();if(t.username?a.open(t.type,t.url,t.async,t.username,t.password):a.open(t.type,t.url,t.async),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(o in s)a.setRequestHeader(o,s[o])}catch(e){}a.send(t.hasContent&&t.data||null),i=function(e,s){var o,l,h,d,c;try{if(i&&(s||4===a.readyState))if(i=void 0,n&&(a.onreadystatechange=function(){},j&&delete y[n]),s)4!==a.readyState&&a.abort();else{o=a.status,h=a.getAllResponseHeaders(),d={},(c=a.responseXML)&&c.documentElement&&(d.xml=c);try{d.text=a.responseText}catch(e){}try{l=a.statusText}catch(e){l=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=d.text?200:404}}catch(e){s||r(-1,e)}d&&r(o,l,d,h)},t.async?4===a.readyState?setTimeout(i,0):(n=++q,j&&(y||(y={},e(window).unload(j)),y[n]=i),a.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}),e.jqx.filter=function(){this.operator="and";var t=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],i=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],s=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL"],n=new Array,o=new Array;this.evaluate=function(e){for(var t=!0,i=0;i<n.length;i++){var s=n[i].evaluate(e);t=0==i?s:1==o[i]||"or"==o[i]?t||s:t&&s}return t},this.getfilterscount=function(){return n.length},this.setoperatorsbyfiltertype=function(e,n){switch(e){case"numericfilter":i=n;break;case"stringfilter":t=n;break;case"datefilter":s=n;break;case"booleanfilter":r=n}},this.getoperatorsbyfiltertype=function(e){var n=new Array;switch(e){case"numericfilter":n=i.slice(0);break;case"stringfilter":n=t.slice(0);break;case"datefilter":n=s.slice(0);break;case"booleanfilter":n=r.slice(0)}return n};var a=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,i,s,r,n){if(null==e||null==e)return null;switch(e){case"numericfilter":return new d(t,i.toUpperCase());case"stringfilter":return new l(t,i.toUpperCase());case"datefilter":return new c(t,i.toUpperCase(),r,n);case"booleanfilter":return new h(t,i.toUpperCase());case"custom":return new u(t,i.toUpperCase(),s)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<n.length;t++){var i={value:n[t].filtervalue,condition:n[t].comparisonoperator,operator:o[t],type:n[t].type};n[t].data&&(i.id=n[t].data),e[t]=i}return e},this.addfilter=function(e,t){n[n.length]=t,t.key=a(),o[o.length]=e},this.removefilter=function(e){for(var t=0;t<n.length;t++)if(n[t].key==e.key){n.splice(t,1),o.splice(t,1);break}},this.getoperatorat=function(e){return null==e||null==e?null:e<0||e>n.length?null:o[e]},this.setoperatorat=function(e,t){return null==e||null==e?null:e<0||e>n.length?null:void(o[t]=t)},this.getfilterat=function(e){return null==e||null==e?null:e<0||e>n.length?null:n[e]},this.setfilterat=function(e,t){return null==e||null==e?null:e<0||e>n.length?null:(t.key=a(),void(n[e]=t))},this.clear=function(){n=new Array,o=new Array};var l=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="stringfilter",this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null==t||null==t||""==t){if("NULL"==s)return!0;if("EQUAL"==s&&t==i)return!0;if("NOT_EQUAL"==s&&t!=i)return!0;if("EMPTY"!=s)return!1;if(""==t)return!0}var r="";try{r=t.toString()}catch(e){return!0}var n=function(t,i){switch(s){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,i);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,i);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,i);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,i);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,i);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,i);case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,i);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,i);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,i);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,i);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,i);default:return!1}},o=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(g=n(r,i))return g;var a=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,l=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,h=i.indexOf(" and ")>=0?i.split(" and "):new Array,d=i.indexOf(" or ")>=0?i.split(" or "):new Array,c=i.indexOf("|")>=0?i.split("|"):new Array;if(c.length>0)for(var u=0;u<c.length;u++)c[u]=e.trim(c[u]);var p=i.indexOf(" ")>=0?i.split(" "):new Array;if(p.length>0)for(u=0;u<p.length;u++)p[u]=e.trim(p[u]);if(a=(a=a.concat(p)).concat(h),l=(l=l.concat(c)).concat(d),a.length>0)for(u=0;u<a.length;u++)!a[u].indexOf(" OR ")>=0&&o.push(a[u]);if(l.length>0)for(u=0;u<l.length;u++)!l[u].indexOf(" AND ")>=0&&o.push(l[u]);for(var f=void 0,m=0;m<o.length;m++){var g=n(r,t=o[m]),v=m<a.length?"and":"or";f=null==f?g:"or"==v?f||g:f&&g}return f}return n(r,i)}},h=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||null==e)return"NULL"==i;var s=e;switch(i){case"EQUAL":return s==t||s.toString()==t.toString();case"NOT_EQUAL":return s!=t&&s.toString()!=t.toString();default:return!1}}},d=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="numericfilter",this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null==t||""===t){if("NOT_NULL"==s)return!1;if("NULL"==s)return!0;switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==s)return!1;if("NOT_NULL"==s)return!0;var r=t;try{r=parseFloat(r)}catch(e){if(""!=t.toString())return!1}var n=function(t,i){switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i;case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},o=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(g=n(r,i))return g;var a=(i=i.toString()).indexOf(" AND ")>=0?i.split(" AND "):new Array,l=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,h=i.indexOf(" and ")>=0?i.split(" and "):new Array,d=i.indexOf(" or ")>=0?i.split(" or "):new Array;a=a.concat(h),l=l.concat(d);var c=i.indexOf("|")>=0?i.split("|"):new Array;if(c.length>0)for(var u=0;u<c.length;u++)c[u]=e.trim(c[u]);if(l=l.concat(c),a.length>0)for(u=0;u<a.length;u++)!a[u].indexOf(" OR ")>=0&&o.push(a[u]);if(l.length>0)for(u=0;u<l.length;u++)!l[u].indexOf(" AND ")>=0&&o.push(l[u]);for(var p=void 0,f=0;f<o.length;f++){if((t=o[f])&&t.indexOf&&t.indexOf("..")>=0){var m=t.toString().split("..");2==m.length&&(g=r>=m[0]&&r<=m[1])}else var g=n(r,t);var v=f<a.length?"and":"or";p=null==p?g:"or"==v?p||g:p&&g}return p}return i&&i.indexOf&&i.indexOf("..")>=0&&2==(o=i.toString().split("..")).length?r>=o[0]&&r<=o[1]:n(r,i)}},c=function(t,i,s,r){this.filtervalue=t,this.type="datefilter";var n=this;if(null!=s&&null!=r){var o=e.jqx.dataFormat.parsedate(t,s,r);if(null!=o)this.filterdate=o;else{var a=e.jqx.dataFormat.tryparsedate(t,r);null!=a&&(this.filterdate=a)}}else{var l;"NaN"==(l=new Date(t)).toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}this.filterdate||("NaN"==(l=new Date(t)).toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l);this.comparisonoperator=i,this.evaluate=function(t){var i=this.filtervalue,o=this.comparisonoperator;if(null==t||null==t||""==t){if("NOT_NULL"==o)return!1;if("NULL"==o)return!0;switch(o){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==o)return!1;if("NOT_NULL"==o)return!0;var a=new Date;a.setFullYear(1900,0,1),a.setHours(12,0,0,0);try{var l=new Date(t);a=t="NaN"==l.toString()||"Invalid Date"==l.toString()?e.jqx.dataFormat.tryparsedate(t):l;var h=!1;if(null!=s&&null!=r)if(s.indexOf("t")>=0||s.indexOf("T")>=0||s.indexOf(":")>=0||s.indexOf("f")>=0)if(h=!0,i&&-1==i.toString().indexOf(":"))null!=(j=e.jqx.dataFormat.tryparsedate(i.toString()+":00",r))&&(n.filterdate=j);h||(a.setHours(0),a.setMinutes(0),a.setSeconds(0))}catch(e){if(""!=t.toString())return!1}if(null!=n.filterdate)i=n.filterdate;else if(i&&i.indexOf&&(-1!=i.indexOf(":")||!isNaN(parseInt(i)))){var d=new Date(a);d.setHours(12,0,0,0);for(var c=i.split(":"),u=0;u<c.length;u++)0==u&&d.setHours(c[u]),1==u&&d.setMinutes(c[u]),2==u&&d.setSeconds(c[u]);i=d}h&&i&&i.setFullYear&&a&&a.getFullYear&&-1==s.indexOf("d")&&-1==s.indexOf("M")&&-1==s.indexOf("y")&&i.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());var p=function(t,i){switch(null==t&&(t=""),o){case"EQUAL":return t.toString()==i.toString();case"NOT_EQUAL":return t.toString()!=i.toString();case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},f=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(j=p(a,i))return j;var m=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,g=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,v=i.indexOf(" and ")>=0?i.split(" and "):new Array,x=i.indexOf(" or ")>=0?i.split(" or "):new Array;m=m.concat(v),g=g.concat(x);var b=i.indexOf("|")>=0?i.split("|"):new Array;if(b.length>0)for(u=0;u<b.length;u++)b[u]=e.trim(b[u]);if(g=g.concat(b),m.length>0)for(u=0;u<m.length;u++)!m[u].indexOf(" OR ")>=0&&f.push(m[u]);if(g.length>0)for(u=0;u<g.length;u++)!g[u].indexOf(" AND ")>=0&&f.push(g[u]);for(var w=void 0,y=0;y<f.length;y++){if((t=f[y])&&t.indexOf&&t.indexOf("..")>=0){var _=t.toString().split("..");2==_.length&&(j=a>=_[0]&&a<=_[1])}else var j=p(a,t);var q=y<m.length?"and":"or";w=null==w?j:"or"==q?w||j:w&&j}return w}return i&&i.indexOf&&i.indexOf("..")>=0&&2==(f=i.toString().split("..")).length?a>=f[0]&&a<=f[1]:p(a,i)}},u=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return i(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework),function(e){e.jqx.longInt=function(){this.longObj=new Object;var e=this.longObj;return e.mathObj=new Object,e.mathObj.Long=new Object,e.mathObj.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},e.mathObj.Long.IntCache={},e.mathObj.Long.fromInt=function(t){if(-128<=t&&t<128){var i=e.mathObj.Long.IntCache[t];if(i)return i}var s=new e.mathObj.Long(0|t,t<0?-1:0);return-128<=t&&t<128&&(e.mathObj.Long.IntCache[t]=s),s},e.mathObj.Long.fromNumber=function(t){return isNaN(t)||!isFinite(t)?e.mathObj.Long.ZERO:t<=-e.mathObj.Long.TWO_PWR_63_DBL_?e.mathObj.Long.MIN_VALUE:t+1>=e.mathObj.Long.TWO_PWR_63_DBL_?e.mathObj.Long.MAX_VALUE:t<0?e.mathObj.Long.fromNumber(-t).negate():new e.mathObj.Long(t%e.mathObj.Long.TWO_PWR_32_DBL_|0,t/e.mathObj.Long.TWO_PWR_32_DBL_|0)},e.mathObj.Long.fromBits=function(t,i){return new e.mathObj.Long(t,i)},e.mathObj.Long.fromString=function(t,i){if(0===t.length)throw new Error("number format error: empty string");var s=i||10;if(s<2||36<s)throw new Error("radix out of range: "+s);if("-"===t.charAt(0))return e.mathObj.Long.fromString(t.substring(1),s).negate();if(t.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+t);for(var r=e.mathObj.Long.fromNumber(Math.pow(s,8)),n=e.mathObj.Long.ZERO,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+a),s);if(a<8){var h=e.mathObj.Long.fromNumber(Math.pow(s,a));n=n.multiply(h).add(e.mathObj.Long.fromNumber(l))}else n=(n=n.multiply(r)).add(e.mathObj.Long.fromNumber(l))}return n},e.mathObj.Long.TWO_PWR_16_DBL_=65536,e.mathObj.Long.TWO_PWR_24_DBL_=1<<24,e.mathObj.Long.TWO_PWR_32_DBL_=e.mathObj.Long.TWO_PWR_16_DBL_*e.mathObj.Long.TWO_PWR_16_DBL_,e.mathObj.Long.TWO_PWR_31_DBL_=e.mathObj.Long.TWO_PWR_32_DBL_/2,e.mathObj.Long.TWO_PWR_48_DBL_=e.mathObj.Long.TWO_PWR_32_DBL_*e.mathObj.Long.TWO_PWR_16_DBL_,e.mathObj.Long.TWO_PWR_64_DBL_=e.mathObj.Long.TWO_PWR_32_DBL_*e.mathObj.Long.TWO_PWR_32_DBL_,e.mathObj.Long.TWO_PWR_63_DBL_=e.mathObj.Long.TWO_PWR_64_DBL_/2,e.mathObj.Long.ZERO=e.mathObj.Long.fromInt(0),e.mathObj.Long.ONE=e.mathObj.Long.fromInt(1),e.mathObj.Long.NEG_ONE=e.mathObj.Long.fromInt(-1),e.mathObj.Long.MAX_VALUE=e.mathObj.Long.fromBits(-1,2147483647),e.mathObj.Long.MIN_VALUE=e.mathObj.Long.fromBits(0,-2147483648),e.mathObj.Long.TWO_PWR_24_=e.mathObj.Long.fromInt(1<<24),e.mathObj.Long.prototype.toInt=function(){return this.lowBits},e.mathObj.Long.prototype.toNumber=function(){return this.highBits*e.mathObj.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},e.mathObj.Long.prototype.toString=function(t){var i,s,r=t||10;if(r<2||36<r)throw new Error("radix out of range: "+r);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(e.mathObj.Long.MIN_VALUE)){var n=e.mathObj.Long.fromNumber(r),o=this.div(n);return i=o.multiply(n).subtract(this),o.toString(r)+i.toInt().toString(r)}switch(r){case 2:case 8:case 16:return function(e,t){for(var i="";e.length<64;)e="0"+e;for(var s=0;s<e.length;s++)i+="1"===e.charAt(s)?"0":"1";for(var r=!0,n="",o=i.length-1;o>=0;o--){var a;"0"===i.charAt(o)?!0===r?(a="1",r=!1):a="0":a=!0===r?"0":"1",n=a+""+n}switch(t){case 2:return n;case 8:n="00"+n;for(var l="",h=22;h>=1;h--){var d=n[3*h-3]+""+n[3*h-2]+n[3*h-1];l=parseInt(d,2).toString(8)+""+l}return l;case 16:for(var c="",u=16;u>=1;u--){var p=n[4*u-4]+""+n[4*u-3]+n[4*u-2]+n[4*u-1];c=parseInt(p,2).toString(16)+""+c}return c}}(s=this.negate().toString(2),r);default:return s="-"+this.negate().toString(r)}}var a=e.mathObj.Long.fromNumber(Math.pow(r,6));for(i=this,s="";;){var l=i.div(a),h=i.subtract(l.multiply(a)).toInt().toString(r);if((i=l).isZero())return h+s;for(;h.length<6;)h="0"+h;s=""+h+s}},e.mathObj.Long.prototype.getHighBits=function(){return this.highBits},e.mathObj.Long.prototype.getLowBits=function(){return this.lowBits},e.mathObj.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:e.mathObj.Long.TWO_PWR_32_DBL_+this.lowBits},e.mathObj.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.mathObj.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!==this.highBits?this.highBits:this.lowBits,i=31;i>0&&0==(t&1<<i);i--);return 0!==this.highBits?i+33:i+1},e.mathObj.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},e.mathObj.Long.prototype.isNegative=function(){return this.highBits<0},e.mathObj.Long.prototype.isOdd=function(){return 1==(1&this.lowBits)},e.mathObj.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},e.mathObj.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},e.mathObj.Long.prototype.lessThan=function(e){return this.compare(e)<0},e.mathObj.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},e.mathObj.Long.prototype.greaterThan=function(e){return this.compare(e)>0},e.mathObj.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},e.mathObj.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},e.mathObj.Long.prototype.negate=function(){return this.equals(e.mathObj.Long.MIN_VALUE)?e.mathObj.Long.MIN_VALUE:this.not().add(e.mathObj.Long.ONE)},e.mathObj.Long.prototype.add=function(t){var i=this.highBits>>>16,s=65535&this.highBits,r=this.lowBits>>>16,n=65535&this.lowBits,o=t.highBits>>>16,a=65535&t.highBits,l=t.lowBits>>>16,h=0,d=0,c=0,u=0;return c+=(u+=n+(65535&t.lowBits))>>>16,u&=65535,d+=(c+=r+l)>>>16,c&=65535,h+=(d+=s+a)>>>16,d&=65535,h+=i+o,h&=65535,e.mathObj.Long.fromBits(c<<16|u,h<<16|d)},e.mathObj.Long.prototype.subtract=function(e){return this.add(e.negate())},e.mathObj.Long.prototype.multiply=function(t){if(this.isZero())return e.mathObj.Long.ZERO;if(t.isZero())return e.mathObj.Long.ZERO;if(this.equals(e.mathObj.Long.MIN_VALUE))return t.isOdd()?e.mathObj.Long.MIN_VALUE:e.mathObj.Long.ZERO;if(t.equals(e.mathObj.Long.MIN_VALUE))return this.isOdd()?e.mathObj.Long.MIN_VALUE:e.mathObj.Long.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(e.mathObj.Long.TWO_PWR_24_)&&t.lessThan(e.mathObj.Long.TWO_PWR_24_))return e.mathObj.Long.fromNumber(this.toNumber()*t.toNumber());var i=this.highBits>>>16,s=65535&this.highBits,r=this.lowBits>>>16,n=65535&this.lowBits,o=t.highBits>>>16,a=65535&t.highBits,l=t.lowBits>>>16,h=65535&t.lowBits,d=0,c=0,u=0,p=0;return u+=(p+=n*h)>>>16,p&=65535,c+=(u+=r*h)>>>16,u&=65535,c+=(u+=n*l)>>>16,u&=65535,d+=(c+=s*h)>>>16,c&=65535,d+=(c+=r*l)>>>16,c&=65535,d+=(c+=n*a)>>>16,c&=65535,d+=i*h+s*l+r*a+n*o,d&=65535,e.mathObj.Long.fromBits(u<<16|p,d<<16|c)},e.mathObj.Long.prototype.div=function(t){if(t.isZero())throw new Error("division by zero");if(this.isZero())return e.mathObj.Long.ZERO;var i,s;{if(this.equals(e.mathObj.Long.MIN_VALUE))return t.equals(e.mathObj.Long.ONE)||t.equals(e.mathObj.Long.NEG_ONE)?e.mathObj.Long.MIN_VALUE:t.equals(e.mathObj.Long.MIN_VALUE)?e.mathObj.Long.ONE:(i=this.shiftRight(1).div(t).shiftLeft(1)).equals(e.mathObj.Long.ZERO)?t.isNegative()?e.mathObj.Long.ONE:e.mathObj.Long.NEG_ONE:(s=this.subtract(t.multiply(i)),i.add(s.div(t)));if(t.equals(e.mathObj.Long.MIN_VALUE))return e.mathObj.Long.ZERO}if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();var r=e.mathObj.Long.ZERO;for(s=this;s.greaterThanOrEqual(t);){i=Math.max(1,Math.floor(s.toNumber()/t.toNumber()));for(var n=Math.ceil(Math.log(i)/Math.LN2),o=n<=48?1:Math.pow(2,n-48),a=e.mathObj.Long.fromNumber(i),l=a.multiply(t);l.isNegative()||l.greaterThan(s);)i-=o,l=(a=e.mathObj.Long.fromNumber(i)).multiply(t);a.isZero()&&(a=e.mathObj.Long.ONE),r=r.add(a),s=s.subtract(l)}return r},e.mathObj.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},e.mathObj.Long.prototype.not=function(){return e.mathObj.Long.fromBits(~this.lowBits,~this.highBits)},e.mathObj.Long.prototype.and=function(t){return e.mathObj.Long.fromBits(this.lowBits&t.lowBits,this.highBits&t.highBits)},e.mathObj.Long.prototype.or=function(t){return e.mathObj.Long.fromBits(this.lowBits|t.lowBits,this.highBits|t.highBits)},e.mathObj.Long.prototype.xor=function(t){return e.mathObj.Long.fromBits(this.lowBits^t.lowBits,this.highBits^t.highBits)},e.mathObj.Long.prototype.shiftLeft=function(t){if(0===(t&=63))return this;var i=this.lowBits;if(t<32){var s=this.highBits;return e.mathObj.Long.fromBits(i<<t,s<<t|i>>>32-t)}return e.mathObj.Long.fromBits(0,i<<t-32)},e.mathObj.Long.prototype.shiftRight=function(t){if(0===(t&=63))return this;var i=this.highBits;if(t<32){var s=this.lowBits;return e.mathObj.Long.fromBits(s>>>t|i<<32-t,i>>t)}return e.mathObj.Long.fromBits(i>>t-32,i>=0?0:-1)},e.mathObj.Long.prototype.shiftRightUnsigned=function(t){if(0===(t&=63))return this;var i=this.highBits;if(t<32){var s=this.lowBits;return e.mathObj.Long.fromBits(s>>>t|i<<32-t,i>>>t)}return 32===t?e.mathObj.Long.fromBits(i,0):e.mathObj.Long.fromBits(i>>>t-32,0)},e},e.jqx.math=function(){var t=new Object,i=new e.jqx.longInt;return t.getDecimalNotation=function(e,t,i,s){if("decimal"===t)return e;e=e.toString();var r,n=Number(e).toExponential();return"scientific"===t?function(e){var t=e.indexOf("e"),i=e.slice(t+1),s=e.slice(0,t+1);return s=s.replace("e","Ã10"),s=(s+=function(e){for(var t="",i=0;i<e.length;i++){var s="-0123456789".indexOf(e.charAt(i));t+=-1!==s?"â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹"[s]:e[i]}return t}(i)).replace("+","")}(n):"engineering"===t?function(e){var t=e.indexOf("e"),r=e.slice(t+1),n=e.slice(0,t),o=parseInt(r,10)%3;if(n*=Math.pow(10,o),r>0){var a=e.slice(0,t).length-o-2;a>=0&&(n=n.toFixed(a))}var l,h=parseInt(r,10)-o;return l=h<0?"":"+",void 0!==i?n=Number(n).toFixed(i):void 0!==s&&(n=Number(Number(n).toPrecision(s)).toString()),n+"e"+l+h}(n):(void 0!==i?r=i:void 0!==s&&(r=s-1),void 0!==r&&(n=Number(e).toExponential(r)),n)},t.getRadixValue=function(t,i,s){function r(e){var t,i,s,r,n,o,a,l,h,d,c,u;s="123456789",r="0123456789",n="0",o="Ee",a="+",l="",h="",d=1,shift=0,c="",i=0;for(var p=0;p<e.length;p++)switch(t=e.charAt(p),i){case 0:i=-1,-1!="+".indexOf(t)&&(i=1,a="+"),-1!="-".indexOf(t)&&(i=2,a="-"),-1!=s.indexOf(t)&&(i=3,a="+",l=t),-1!=".".indexOf(t)&&(i=4,a="+",shift--),-1!=n.indexOf(t)&&(i=5,a="+");break;case 1:case 2:i=-1,-1!=s.indexOf(t)&&(i=3,l=t),-1!=".".indexOf(t)&&(i=4,shift--),-1!=n.indexOf(t)&&(i=5);break;case 3:i=-1,-1!=".".indexOf(t)&&(i=6),-1!=r.indexOf(t)&&(i=3,shift++,h+=t),-1!=o.indexOf(t)&&(i=9);break;case 4:i=-1,-1!=s.indexOf(t)&&(i=8,l=t),-1!=n.indexOf(t)&&(i=7,shift--);break;case 5:i=-1,-1!=s.indexOf(t)&&(i=3,l=t),-1!=".".indexOf(t)&&(i=4,shift--),-1!=n.indexOf(t)&&(i=5);break;case 6:i=-1,-1!=r.indexOf(t)&&(i=6,h+=t),-1!=o.indexOf(t)&&(i=9);break;case 7:i=-1,-1!=n.indexOf(t)&&(i=7,shift--),-1!=s.indexOf(t)&&(i=8,l=t),-1!=o.indexOf(t)&&(i=9);break;case 8:i=-1,-1!=r.indexOf(t)&&(i=8,h+=t),-1!=o.indexOf(t)&&(i=9);break;case 9:i=-1,-1!="+".indexOf(t)&&(i=10,d=1),-1!="-".indexOf(t)&&(i=11,d=-1),-1!=r.indexOf(t)&&(i=12,d=1,c+=t);break;case 10:case 11:case 12:i=-1,-1!=r.indexOf(t)&&(i=12,c+=t)}if(u="",-1==i)return"infinity"==e.toLowerCase()?(this.sign="+",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=0,this.infinity=1,0):"+infinity"==e.toLowerCase()?(this.sign="+",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=0,this.infinity=1,0):"-infinity"==e.toLowerCase()?(this.sign="-",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=0,this.infinity=1,0):(this.sign="",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=1,this.infinity=0,-1);i=0;for(p=h.length-1;p>=0;p--)switch(t=h.charAt(p),i){case 0:case 1:-1!=n.indexOf(t)&&(i=1),-1!=s.indexOf(t)&&(i=2,u=t+u);break;case 2:-1!=r.indexOf(t)&&(i=2,u=t+u)}return""==c&&(c="0"),c=parseInt(c,10)*d+shift+"",""==u&&(u="0"),""==l&&(l="0",u="0",d="+",c="0"),this.sign=a,this.firstCoefficient=l,this.otherCoefficients=u,this.exponent=parseInt(c,10),this.NaN=0,this.infinity=0,0}function n(e,t,i){var s,r;0==e.NaN?1==e.infinity?(this.integer="0",this.fractional="0",this.sign=e.sign,this.status="infinity"):e.exponent>=t&&e.exponent<=i?(e.exponent<0&&(s="0",r=function(e,t){for(var i=0;i<t;i++)e="0"+e;return e}(e.firstCoefficient+e.otherCoefficients,-1*e.exponent-1)),e.exponent>=0&&(s=function(e,t){for(var i=0;i<t;i++)e+="0";return e}(s=e.firstCoefficient+e.otherCoefficients.substr(0,e.exponent),e.exponent-e.otherCoefficients.length),""==(r=e.otherCoefficients.substr(e.exponent))&&(r="0")),this.integer=s,this.fractional=r,this.sign=e.sign,this.status="normal"):e.exponent<t?(this.integer="0",this.fractional="0",this.sign=e.sign,this.status="normal"):e.exponent>i&&(this.integer="",this.fractional="",this.sign=e.sign,this.status="infinity"):(this.integer="",this.fractional="",this.sign="",this.status="NaN")}function o(e){var t,i,s,r,n,o,a,l,c,u;if(t=e.integer,i=e.fractional,s=e.sign,"infinity"==e.status)this.mantissa="00000000000000000000000",this.exponent=128,this.sign=s;else if("NaN"==e.status)this.mantissa="11111111111111111111111",this.exponent=128,this.sign="+";else{if(n="0"!=(r=h(t))?d(i,25-r.length,0):d(i,25,1),0==parseInt(r,10)&&0==parseInt(n,10))l=-127,c="00000000000000000000000";else{(l=(o=r+"."+n).indexOf(".")-o.indexOf("1"))>0&&l--,a=l<-126?-126-l:0,u=(c=(o=r+n).substr(o.indexOf("1")+1-a,24)).length;for(var p=0;p<23-u;p++)c+="0";(u=function(e,t){var i,s,r;if(1==t){i="";for(var n=e.length-1;n>=0;n--)r=parseInt(e.charAt(n),10),1==t&&1==r?(s=0,t=1):0==t&&0==r?(s=0,t=0):(s=1,t=0),i=s+i;1==t&&(i=t+i)}else i=e;return i}(c.substr(0,23),parseInt(c.charAt(23),10))).length>23?(c=u.substr(1),l++):c=u,l<-126&&(l=-127),l>127&&(l=128,c="00000000000000000000000")}this.mantissa=c,this.exponent=l,this.sign=s}}function a(){var e,t;t=8-(e=h(this.exponent+127+"")).length;for(var i=0;i<t;i++)e="0"+e;return("+"==this.sign?"0":"1")+e+this.mantissa}function l(){return function(e){var t,i=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F");t="";for(var s=0;s<e.length;s+=4)t+=i[parseInt(e.substr(s,4),2)];return t}(this.getBinary())}function h(e){var t,i,s,r,n,o,a,l,h,d,c=new Array,u=new Array("000","001","010","011","100","101","110","111");if(n=3*Math.floor((Math.floor(Math.log(Math.pow(10,e.length))/Math.LN2)+1)/3)+3,i=e,0!=(t=e.length-13*Math.floor(e.length/13)))for(var p=t;p<13;p++)i="0"+i;s=0;for(p=0;p<i.length;p+=13)c[s]=parseInt(i.substr(p,13),10),s++;for(r=s,a="",o=0,zerosCount=0,l=1;o<n&&0!=l;){h=0,l=0;for(p=0;p<r;p++)c[p]+=1e13*h,d=Math.floor(c[p]/8),h=c[p]-8*d,c[p]=d,l+=c[p];a=u[h]+a,0!=o?o+=3:-1!=u[h].indexOf("1")?(o=3-u[h].indexOf("1"),zerosCount+=2-u[h].indexOf("1")):zerosCount+=3}return a=-1==a.indexOf("1")?"0":a.substr(a.indexOf("1"))}function d(e,t,i){var s,r,n,o,a,l,h,d,c,u,p,f=new Array,m=new Array("000","001","010","011","100","101","110","111");if(a=3*Math.floor(t/3)+3,r=e,0!=(s=e.length-15*Math.floor(e.length/15)))for(var g=s;g<15;g++)r+="0";n=0;for(g=0;g<r.length;g+=15)f[n]=parseInt(r.substr(g,15),10),n++;for(o=n,h="",l=0==i?0:-1,c=0,d=1;l<a&&0!=d;){u=0,d=0;for(g=o-1;g>=0;g--)f[g]=8*f[g]+u,u=Math.floor(f[g]/1e15),f[g]-=1e15*u,d+=f[g];h+=m[u],-1!=l?l+=3:-1!=m[u].indexOf("1")?(l=3-m[u].indexOf("1"),c+=m[u].indexOf("1")):c+=3}if(h.length<t){p=t-h.length;for(g=0;g<p;g++)h+="0"}else h=h.substr(0,c+t);return h}var c,u,p,f,m;switch(i){case!1:if(10!==s){var g=(u=t.toString(),p=new function(e,t,i,s){this.sign=e,this.firstCoefficient=t,this.otherCoefficients=i,this.exponent=s,this.NaN=0,this.infinity=0,this.parse=r}("","","",""),f=new function(e,t,i,s){this.integer=e,this.fractional=t,this.sign=i,this.status=s,this.fromScientific=n}("","","",""),m=new function(e,t,i){this.mantissa=e,this.exponent=t,this.sign=i,this.getBinary=a,this.getHex=l,this.fromDecimal=o}("","",""),p.parse(u),f.fromScientific(p,-45,45),m.fromDecimal(f),m.getHex()),v=function(e){var t,i=new Array("0000","0001","0010","0011","0100","0101","0110","0111","1000","1001","1010","1011","1100","1101","1110","1111");t="";for(var s=0;s<e.length;s++)t+=i["0123456789ABCDEF".indexOf(e.charAt(s))];return t}(g);switch(s){case 2:return v;case 8:return parseInt(v,2).toString(8);case 16:return g}c=parseInt(t)}else c=parseFloat(t);c=c.toString(s);break;case"s":c=new e.jqx.longObj.mathObj.Long.fromString(t.toString(),10).toString(s);break;case"u":var x=new BigNumber(t);if(-1===x.compare(0))throw new Error("Unsigned 64-bit integers cannot be negative.");c=x.toString(s)}return c},e.extend(t,i.mathObj.Long),t}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDraw","",{}),e.extend(e.jqx._jqxDraw.prototype,{defineInstance:function(){e.extend(!0,this,{renderEngine:""});var t=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var i in t)this._addFn(e.jqx._jqxDraw.prototype,t[i])},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(t){return e.jqx.createRenderer(this,t)},_internalRefresh:function(){if(!e.jqx.isHidden(this.host)){this.renderer||(this.host.empty(),this._initRenderer(this.host));var t=this.renderer;if(t){var i=t.getRect();this._render({x:1,y:1,width:i.width,height:i.height}),t instanceof e.jqx.HTML5Renderer&&t.refresh()}}},_saveAsImage:function(t,i,s,r){return e.jqx._widgetToImage(this,t,i,s,r)},_render:function(e){this.renderer;this._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect;return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}})}(jqxBaseFramework),function(e){e.jqx.toGreyScale=function(t){if(-1==t.indexOf("#"))return t;var i=e.jqx.cssToRgb(t);i[0]=i[1]=i[2]=Math.round(.3*i[0]+.59*i[1]+.11*i[2]);var s=e.jqx.rgbToHex(i[0],i[1],i[2]);return"#"+s[0]+s[1]+s[2]},e.jqx.adjustColor=function(t,i){if("string"!=typeof t)return"#000000";if(-1==t.indexOf("#"))return t;var s=e.jqx.cssToRgb(t),r=e.jqx.rgbToHsl(s);r[2]=Math.min(1,r[2]*i),r[1]=Math.min(1,r[1]*i*1.1),s=e.jqx.hslToRgb(r);t="#";for(var n=0;n<3;n++){var o=Math.round(s[n]);1==(o=e.jqx.decToHex(o)).toString().length&&(t+="0"),t+=o}return t.toUpperCase()},e.jqx.decToHex=function(e){return e.toString(16)},e.jqx.hexToDec=function(e){return parseInt(e,16)},e.jqx.rgbToHex=function(t,i,s){return[e.jqx.decToHex(t),e.jqx.decToHex(i),e.jqx.decToHex(s)]},e.jqx.hexToRgb=function(t,i,s){return[e.jqx.hexToDec(t),e.jqx.hexToDec(i),e.jqx.hexToDec(s)]},e.jqx.cssToRgb=function(t){return t.indexOf("rgb")<=-1?e.jqx.hexToRgb(t.substring(1,3),t.substring(3,5),t.substring(5,7)):t.substring(4,t.length-1).split(",")},e.jqx.hslToRgb=function(t){var i=parseFloat(t[0]),s=parseFloat(t[1]),n=parseFloat(t[2]);if(0==s)r=g=b=n;else{var o=n<.5?n*(1+s):n+s-n*s,a=2*n-o;r=e.jqx.hueToRgb(a,o,i+1/3),g=e.jqx.hueToRgb(a,o,i),b=e.jqx.hueToRgb(a,o,i-1/3)}return[255*r,255*g,255*b]},e.jqx.hueToRgb=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},e.jqx.rgbToHsl=function(e){var t,i,s=parseFloat(e[0])/255,r=parseFloat(e[1])/255,n=parseFloat(e[2])/255,o=Math.max(s,r,n),a=Math.min(s,r,n),l=(o+a)/2;if(o==a)t=i=0;else{var h=o-a;switch(i=l>.5?h/(2-o-a):h/(o+a),o){case s:t=(r-n)/h+(r<n?6:0);break;case r:t=(n-s)/h+2;break;case n:t=(s-r)/h+4}t/=6}return[t,i,l]},e.jqx.swap=function(e,t){var i=e;e=t,t=i},e.jqx.getNum=function(t){if(e.isArray(t)){for(var i=0;i<t.length;i++)if(!isNaN(t[i]))return t[i]}else if(isNaN(t))return 0;return 0},e.jqx._ptdist=function(e,t,i,s){return Math.sqrt((i-e)*(i-e)+(s-t)*(s-t))},e.jqx._ptrnd=function(t){if(!document.createElementNS)return Math.round(t)==t?t:e.jqx._rnd(t,1,!1,!0);var i=e.jqx._rnd(t,.5,!1,!0);return.5!=Math.abs(i-Math.round(i))?i>t?i-.5:i+.5:i},e.jqx._ptRotate=function(e,t,i,s,r){var n=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-s),2)),o=Math.asin((e-i)/n)+r;return{x:e=i+Math.cos(o)*n,y:t=s+Math.sin(o)*n}},e.jqx._rup=function(e){var t=Math.round(e);return e>t&&t++,t},e.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},e.jqx._mod=function(e,t){var i=Math.abs(e>t?t:e),s=1;if(0!=i)for(;i*s<100;)s*=10;return(e*=s)%(t*=s)/s},e.jqx._rnd=function(t,i,s,r){if(isNaN(t))return t;void 0===r&&(r=!0);var n=t-(1==r?t%i:e.jqx._mod(t,i));return t==n?n:(s?t>n&&(n+=i):n>t&&(n-=i),1==i?Math.round(n):n)},e.jqx.commonRenderer={pieSlicePath:function(e,t,i,s,r,n,o){s||(s=1);var a=Math.abs(r-n),l=a>180?1:0;a>=360&&(n=r+359.99);var h=r*Math.PI*2/360,d=n*Math.PI*2/360,c=e,u=e,p=t,f=t,m=!isNaN(i)&&i>0;if(m&&(o=0),o+i>0){if(o>0){var g=(a/2+r)*Math.PI*2/360;e+=o*Math.cos(g),t-=o*Math.sin(g)}if(m){var v=i;c=e+v*Math.cos(h),p=t-v*Math.sin(h),u=e+v*Math.cos(d),f=t-v*Math.sin(d)}}var x=e+s*Math.cos(h),b=e+s*Math.cos(d),w=t-s*Math.sin(h),y=t-s*Math.sin(d),_="",j=Math.abs(Math.abs(n-r)-360)>.02;return m?(_="M "+u+","+f,_+=" a"+i+","+i,_+=" 0 "+l+",1 "+(c-u)+","+(p-f),_+=j?" L"+x+","+w:" M"+x+","+w,_+=" a"+s+","+s,_+=" 0 "+l+",0 "+(b-x)+","+(y-w),j&&(_+=" Z")):(_="M "+b+","+y,_+=" a"+s+","+s,_+=" 0 "+l+",1 "+(x-b)+","+(w-y),j&&(_+=" L"+e+","+t,_+=" Z")),_},measureText:function(t,i,s,r,n){var o=n._getTextParts(t,i,s),a=o.width,l=o.height;0==r&&(l/=.6);var h={};if(isNaN(i)&&(i=0),0==i)h={width:e.jqx._rup(a),height:e.jqx._rup(l)};else{var d=i*Math.PI*2/360,c=Math.abs(Math.sin(d)),u=Math.abs(Math.cos(d)),p=Math.abs(a*c+l*u),f=Math.abs(a*u+l*c);h={width:e.jqx._rup(f),height:e.jqx._rup(p)}}return r&&(h.textPartsInfo=o),h},alignTextInRect:function(t,i,s,r,n,o,a,l,h,d){var c=h*Math.PI*2/360,u=Math.sin(c),p=Math.cos(c),f=n*u,m=n*p;"center"==a||""==a||"undefined"==a?t+=s/2:"right"==a&&(t+=s),"center"==l||"middle"==l||""==l||"undefined"==l?i+=r/2:"bottom"==l?i+=r-o/2:"top"==l&&(i+=o/2);var g="middle";-1!=(d=d||"").indexOf("top")?g="top":-1!=d.indexOf("bottom")&&(g="bottom");var v="center";return-1!=d.indexOf("left")?v="left":-1!=d.indexOf("right")&&(v="right"),"center"==v?(t-=m/2,i-=f/2):"right"==v&&(t-=m,i-=f),"top"==g?(t-=o*u,i+=o*p):"middle"==g&&(t-=o*u/2,i+=o*p/2),{x:t=e.jqx._rup(t),y:i=e.jqx._rup(i)}}},e.jqx.svgRenderer=function(){},e.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){e.append("<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>"),this.host=e;var t=e.find(".chartContainer");t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px";try{var i=document.createElementNS(this._svgns,"svg");i.setAttribute("id","svgChart"),i.setAttribute("version","1.1"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("overflow","hidden"),t[0].appendChild(i),this.canvas=i}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var t=this.canvas.getBoundingClientRect(),i=parseFloat(t.left)==parseInt(t.left),s=parseFloat(t.top)==parseInt(t.top);if(e.jqx.browser.msie){i=!0,s=!0;for(var r=this.host,n=0,o=0;r&&r.position&&r[0].parentNode;){var a=r.position();n+=parseFloat(a.left)-parseInt(a.left),o+=parseFloat(a.top)-parseInt(a.top),r=r.parent()}i=parseFloat(n)==parseInt(n),s=parseFloat(o)==parseInt(o)}i||(this.host.find(".tdLeft")[0].style.width="0.5px"),s||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var t=this.host.find(".chartContainer");this._width=Math.max(e.jqx._rup(this.host.width())-1,0),this._height=Math.max(e.jqx._rup(this.host.height())-1,0),t[0].style.width=this._width,t[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(null!=e){this.removeHandler(e);try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(e){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var t=e.jqx.browser;if(t&&"msie"==t.browser&&t.version<10)return"";var i=window.location.href;return i?i=(i=i.replace(/([\('\)])/g,"\\$1")).replace(/#.*$/,""):i},setClip:function(e,t){var i="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":i})},_clipId:0,addHandler:function(t,i,s){e(t).on?e(t).on(i,s):e(t).bind(i,s)},removeHandler:function(t,i,s){e(t).off?e(t).off(i,s):e(t).unbind(i,s)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var s in t)i.setAttribute(s,t[s]);return this._activeParent().appendChild(i),i}},_getTextParts:function(t,i,s){var r={width:0,height:0,parts:[]};if(void 0===t)return r;var n=t.toString().split("<br>"),o=this._activeParent(),a=document.createElementNS(this._svgns,"text");this.attr(a,s);for(var l=0;l<n.length;l++){var h,d=n[l],c=a.ownerDocument.createTextNode(d);a.appendChild(c),o.appendChild(a);try{h=a.getBBox()}catch(e){}var u=e.jqx._rup(h.width),p=e.jqx._rup(.6*h.height);a.removeChild(c),r.width=Math.max(r.width,u),r.height+=p+(l>0?4:0),r.parts.push({width:u,height:p,text:d})}return o.removeChild(a),r},_measureText:function(t,i,s,r){return e.jqx.commonRenderer.measureText(t,i,s,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,s,r,n,o,a,l,h,d,c){var u,p=this._measureText(t,o,a,!0).textPartsInfo,f=p.parts;if(h||(h="center"),d||(d="center"),(f.length>1||l)&&(u=this.beginGroup()),l){var m=this.createClipRect({x:e.jqx._rup(i)-1,y:e.jqx._rup(s)-1,width:e.jqx._rup(r)+2,height:e.jqx._rup(n)+2});this.setClip(u,m)}var g,v,x=this._activeParent();g=p.width,v=p.height,(isNaN(r)||r<=0)&&(r=g),(isNaN(n)||n<=0)&&(n=v);var b=r||0,w=n||0;if(!o||0==o){s+=v,"center"==d||"middle"==d?s+=(w-v)/2:"bottom"==d&&(s+=w-v),r||(r=g),n||(n=v);x=this._activeParent();for(var y=0,_=f.length-1;_>=0;_--){var j=document.createElementNS(this._svgns,"text");this.attr(j,a),this.attr(j,{cursor:"default"});var q=j.ownerDocument.createTextNode(f[_].text);j.appendChild(q);var S=i,T=f[_].width,C=f[_].height;"center"==h?S+=(b-T)/2:"right"==h&&(S+=b-T),this.attr(j,{x:e.jqx._rup(S),y:e.jqx._rup(s+y),width:e.jqx._rup(T),height:e.jqx._rup(C)}),x.appendChild(j),y-=f[_].height+4}return u?(this.endGroup(),u):j}var I=e.jqx.commonRenderer.alignTextInRect(i,s,r,n,g,v,h,d,o,c);i=I.x,s=I.y;var k=this.shape("g",{transform:"translate("+i+","+s+")"}),P=this.shape("g",{transform:"rotate("+o+")"});k.appendChild(P);for(y=0,_=f.length-1;_>=0;_--){var M=document.createElementNS(this._svgns,"text");this.attr(M,a),this.attr(M,{cursor:"default"});q=M.ownerDocument.createTextNode(f[_].text);M.appendChild(q);S=0,T=f[_].width,C=f[_].height;"center"==h?S+=(p.width-T)/2:"right"==h&&(S+=p.width-T),this.attr(M,{x:e.jqx._rup(S),y:e.jqx._rup(y),width:e.jqx._rup(T),height:e.jqx._rup(C)}),P.appendChild(M),y-=C+4}return x.appendChild(k),u&&this.endGroup(),k},line:function(e,t,i,s,r){var n=this.shape("line",{x1:e,y1:t,x2:i,y2:s});return this.attr(n,r),n},path:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(t,i,s,r,n){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),s=Math.max(1,e.jqx._rnd(s,1,!1)),r=Math.max(1,e.jqx._rnd(r,1,!1));var o=this.shape("rect",{x:t,y:i,width:s,height:r});return n&&this.attr(o,n),o},circle:function(e,t,i,s){var r=this.shape("circle",{cx:e,cy:t,r:i});return s&&this.attr(r,s),r},pieSlicePath:function(t,i,s,r,n,o,a){return e.jqx.commonRenderer.pieSlicePath(t,i,s,r,n,o,a)},pieslice:function(e,t,i,s,r,n,o,a){var l=this.pieSlicePath(e,t,i,s,r,n,o),h=this.shape("path");return h.setAttribute("d",l),a&&this.attr(h,a),h},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(t,i,s){var r="grd"+this._id+t.replace("#","")+(i?"v":"h"),n="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[n])return n;var o=document.createElementNS(this._svgns,"linearGradient");this.attr(o,{x1:"0%",y1:"0%",x2:i?"0%":"100%",y2:i?"100%":"0%",id:r});for(var a=0;a<s.length;a++){var l=s[a],h=document.createElementNS(this._svgns,"stop"),d="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(h,{offset:l[0]+"%",style:d}),o.appendChild(h)}return this._defs.appendChild(o),this._gradients[n]=!0,n},_toRadialGradient:function(t,i,s){var r="grd"+this._id+t.replace("#","")+"r"+(null!=s?s.key:""),n="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[n])return n;var o=document.createElementNS(this._svgns,"radialGradient");null==s?this.attr(o,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:r}):this.attr(o,{cx:s.x,cy:s.y,r:s.outerRadius,id:r,gradientUnits:"userSpaceOnUse"});for(var a=0;a<i.length;a++){var l=i[a],h=document.createElementNS(this._svgns,"stop"),d="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(h,{offset:l[0]+"%",style:d}),o.appendChild(h)}return this._defs.appendChild(o),this._gradients[n]=!0,n}},e.jqx.vmlRenderer=function(){},e.jqx.vmlRenderer.prototype={init:function(t){t.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>"),this.host=t;var i=t.find(".chartContainer");i[0].style.width=t.width()+"px",i[0].style.height=t.height()+"px";var s=!0;try{for(var r=0;r<document.namespaces.length;r++)if("v"==document.namespaces[r].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[r].urn){s=!1;break}}catch(e){return!1}return e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(s&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):s&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=i[0],this._width=Math.max(e.jqx._rup(i.width()),0),this._height=Math.max(e.jqx._rup(i.height()),0),i[0].style.width=this._width+2,i[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group");return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div");return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(t,i,s){e(t).on?e(t).on(i,s):e(t).bind(i,s)},removeHandler:function(t,i,s){e(t).off?e(t).off(i,s):e(t).unbind(i,s)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(t,i,s){var r={width:0,height:0,parts:[]},n=t.toString().split("<br>"),o=this._activeParent(),a=document.createElement("v:textbox");this.attr(a,s),o.appendChild(a);for(var l=0;l<n.length;l++){var h=n[l],d=document.createElement("span");d.appendChild(document.createTextNode(h)),a.appendChild(d),s&&s.class&&(d.className=s.class);var c=e(a),u=e.jqx._rup(c.width()),p=e.jqx._rup(.6*c.height());if(0==p&&e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9){var f=c.css("font-size");f&&(p=parseInt(f),isNaN(p)&&(p=0))}a.removeChild(d),r.width=Math.max(r.width,u),r.height+=p+(l>0?2:0),r.parts.push({width:u,height:p,text:h})}return o.removeChild(a),r},_measureText:function(t,i,s,r){return i=Math.abs(i)>45?90:0,e.jqx.commonRenderer.measureText(t,i,s,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,s,r,n,o,a,l,h,d){var c;a&&a.stroke&&(c=a.stroke),null==c&&(c="black");var u,p=this._measureText(t,o,a,!0),f=p.textPartsInfo.parts,m=p.width,g=p.height;if((isNaN(r)||0==r)&&(r=m),(isNaN(n)||0==n)&&(n=g),h||(h="center"),d||(d="center"),(f.length>0||l)&&(u=this.beginGroup()),l){var v=this.createClipRect({x:e.jqx._rup(i),y:e.jqx._rup(s),width:e.jqx._rup(r),height:e.jqx._rup(n)});this.setClip(u,v)}var x=this._activeParent(),b=r||0,w=n||0,y=0,_=0;"center"==h?y+=(b-m)/2:"right"==h&&(y+=b-m),"center"==d?_=(w-g)/2:"bottom"==d&&(_=w-g),0==(o=Math.abs(o)>45?90:0)?(s+=g+_,i+=y):(i+=m+y,s+=_);for(var j,q=0,S=f.length-1;S>=0;S--){var T=f[S],C=(m-T.width)/2;0==o&&"left"==h?C=0:0==o&&"right"==h?C=m-T.width:90==o&&(C=(g-T.width)/2);var I=q-T.height;_=90==o?C:I,y=90==o?I:C,(j=document.createElement("v:textbox")).style.position="absolute",j.style.left=e.jqx._rup(i+y),j.style.top=e.jqx._rup(s+_),j.style.width=e.jqx._rup(T.width),j.style.height=e.jqx._rup(T.height),90==o&&(j.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",j.style.height=e.jqx._rup(T.height)+5);var k=document.createElement("span");k.appendChild(document.createTextNode(T.text)),a&&a.class&&(k.className=a.class),j.appendChild(k),x.appendChild(j),q-=T.height+(S>0?2:0)}return u?(this.endGroup(),x):j},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e));if(i){for(var s in t)i.setAttribute(s,t[s]);return this._activeParent().appendChild(i),i}},line:function(e,t,i,s,r){var n="M "+e+","+t+" L "+i+","+s+" X E",o=this.path(n);return this.attr(o,r),o},_createElementMarkup:function(e){var t="<v:"+e+' style=""></v:'+e+">";return this._ie8mode&&(t=t.replace('style=""','style="behavior: url(#default#VML);"')),t},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"));return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(t,i,s,r,n){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),s=e.jqx._rup(s),r=e.jqx._rup(r);var o=this.shape("rect",n);return o.style.position="absolute",o.style.left=t,o.style.top=i,o.style.width=s,o.style.height=r,o.strokeweight=0,n&&this.attr(o,n),o},circle:function(t,i,s,r){var n=this.shape("oval");return t=e.jqx._ptrnd(t-s),i=e.jqx._ptrnd(i-s),s=e.jqx._rup(s),n.style.position="absolute",n.style.left=t,n.style.top=i,n.style.width=2*s,n.style.height=2*s,r&&this.attr(n,r),n},updateCircle:function(t,i,s,r){null==i&&(i=parseFloat(t.style.left)+parseFloat(t.style.width)/2),null==s&&(s=parseFloat(t.style.top)+parseFloat(t.style.height)/2),null==r&&(r=parseFloat(t.width)/2),i=e.jqx._ptrnd(i-r),s=e.jqx._ptrnd(s-r),r=e.jqx._rup(r),t.style.left=i,t.style.top=s,t.style.width=2*r,t.style.height=2*r},pieSlicePath:function(t,i,s,r,n,o,a){r||(r=1);var l=Math.abs(n-o);l>360&&(n=0,o=360);var h=n*Math.PI*2/360,d=o*Math.PI*2/360,c=t,u=i,p=!isNaN(s)&&s>0;if(p&&(a=0),a>0){var f=(l/2+n)*Math.PI*2/360;t+=a*Math.cos(f),i-=a*Math.sin(f)}if(p){var m=s;c=e.jqx._ptrnd(t+m*Math.cos(h)),u=e.jqx._ptrnd(i-m*Math.sin(h)),e.jqx._ptrnd(t+m*Math.cos(d)),e.jqx._ptrnd(i-m*Math.sin(d))}e.jqx._ptrnd(t+r*Math.cos(h));var g=e.jqx._ptrnd(t+r*Math.cos(d)),v=(e.jqx._ptrnd(i-r*Math.sin(h)),e.jqx._ptrnd(i-r*Math.sin(d)));r=e.jqx._ptrnd(r),s=e.jqx._ptrnd(s),t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);var x=Math.round(65535*n),b=Math.round(65536*(o-n));s<0&&(s=1);var w="";return p?(w="M"+c+" "+u,w+=" AE "+t+" "+i+" "+s+" "+s+" "+x+" "+b,w+=" L "+g+" "+v,x=Math.round(65535*(n-o)),w+=" AE "+t+" "+i+" "+r+" "+r+" "+(b=Math.round(65536*o))+" "+x,w+=" L "+c+" "+u):(w="M"+t+" "+i,w+=" AE "+t+" "+i+" "+r+" "+r+" "+x+" "+b),w+=" X E"},pieslice:function(e,t,i,s,r,n,o,a){var l=this.pieSlicePath(e,t,i,s,r,n,o),h=this.path(l,a);return a&&this.attr(h,a),h},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml;return e},attr:function(e,t){if(e&&t)for(var i in t){var s=this._translateParam(i);null!=t[i]&&("fillcolor"==s&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==s&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==s||"fillopacity"==s?e.fill&&(e.fill.opacity=t[i]):"textContent"==s?e.children[0].innerText=t[i]:"dashstyle"==s?e.dashstyle=t[i].replace(","," "):-1==s.indexOf("style.")?e[s]=t[i]:e.style[s.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){var i=this._translateParam(t);return"opacity"==i||"fillopacity"==i?e.fill?e.fill.opacity:1:-1==i.indexOf("style.")?e[i]:e.style[i.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(t,i,s){if(this._ie8mode)return t;var r="grd"+t.replace("#","")+(i?"v":"h"),n="#"+r;if(this._gradients[n])return n;var o=document.createElement(this._createElementMarkup("fill"));o.type="gradient",o.method="linear",o.angle=i?0:90;for(var a="",l=0;l<s.length;l++){var h=s[l];h>0&&(a+=", "),a+=h[0]+"% "+e.jqx.adjustColor(t,h[1])}o.colors=a;var d=document.createElement(this._createElementMarkup("shapetype"));return d.appendChild(o),d.id=r,this.canvas.appendChild(d),n}},e.jqx.HTML5Renderer=function(){},e.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return t<e&&(t-=1),t+.5},e.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){return this.host.find(".chartContainer")},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){null!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i={type:e,id:this._maxId++};for(var s in t)i[s]=t[s];return this._elements[i.id]=i,i},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,s,r){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(s))throw'Invalid value for "height"';var n=this.shape("rect",{x:e,y:t,width:i,height:s});return r&&this.attr(n,r),n},path:function(e,t){var i=this.shape("path",t);return this.attr(i,{d:e}),i},line:function(e,t,i,s,r){return this.path("M "+e+","+t+" L "+i+","+s,r)},circle:function(e,t,i,s){var r=this.shape("circle",{x:e,y:t,r:i});return s&&this.attr(r,s),r},pieSlicePath:function(t,i,s,r,n,o,a){return e.jqx.commonRenderer.pieSlicePath(t,i,s,r,n,o,a)},pieslice:function(e,t,i,s,r,n,o,a){var l=this.path(this.pieSlicePath(e,t,i,s,r,n,o),a);return this.attr(l,{x:e,y:t,innerRadius:i,outerRadius:s,angleFrom:r,angleTo:n}),l},_getCSSStyle:function(e){var t=document.styleSheets;try{for(var i=0;i<t.length;i++)for(var s=0;t[i].cssRules&&s<t[i].cssRules.length;s++)if(-1!=t[i].cssRules[s].selectorText.indexOf(e))return t[i].cssRules[s].style}catch(e){}return{}},_getTextParts:function(t,i,s){var r="Arial",n="10pt",o="";if(s&&s.class){var a=this._getCSSStyle(s.class);a.fontSize&&(n=a.fontSize),a.fontFamily&&(r=a.fontFamily),a.fontWeight&&(o=a.fontWeight)}this.ctx.font=o+" "+n+" "+r;for(var l={width:0,height:0,parts:[]},h=t.toString().split("<br>"),d=0;d<h.length;d++){var c=h[d],u=this.ctx.measureText(c).width,p=document.createElement("span.jqxchart");p.font=this.ctx.font,p.textContent=c,document.body.appendChild(p);var f=.6*p.offsetHeight;document.body.removeChild(p),l.width=Math.max(l.width,e.jqx._rup(u)),l.height+=f+(d>0?4:0),l.parts.push({width:u,height:f,text:c})}return l},_measureText:function(t,i,s,r){return e.jqx.commonRenderer.measureText(t,i,s,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,s,r,n,o,a,l,h,d){var c=this.shape("text",{text:e,x:t,y:i,width:s,height:r,angle:n,clip:a,halign:l,valign:h,rotateAround:d});if(o&&this.attr(c,o),c.fontFamily="Arial",c.fontSize="10pt",c.fontWeight="",c.color="#000000",o&&o.class){var u=this._getCSSStyle(o.class);c.fontFamily=u.fontFamily||c.fontFamily,c.fontSize=u.fontSize||c.fontSize,c.fontWeight=u.fontWeight||c.fontWeight,c.color=u.color||c.color}var p=this._measureText(e,0,o,!0);return this.attr(c,{textPartsInfo:p.textPartsInfo,textWidth:p.width,textHeight:p.height}),(s<=0||isNaN(s))&&this.attr(c,{width:p.width}),(r<=0||isNaN(r))&&this.attr(c,{height:p.height}),c},_toLinearGradient:function(t,i,s){if(this._renderers._gradients[t])return t;for(var r=[],n=0;n<s.length;n++)r.push({percent:s[n][0]/100,color:e.jqx.adjustColor(t,s[n][1])});var o="gr"+this._gradientId++;return this.createGradient(o,i?"vertical":"horizontal",r),o},_toRadialGradient:function(t,i){if(this._renderers._gradients[t])return t;for(var s=[],r=0;r<i.length;r++)s.push({percent:i[r][0]/100,color:e.jqx.adjustColor(t,i[r][1])});var n="gr"+this._gradientId++;return this.createGradient(n,"radial",s),n},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,s){e._gradients[t]={orientation:i,colorStops:s}},setStroke:function(e,t){var i=e.ctx;i.strokeStyle=t.stroke||"transparent",i.lineWidth=t["stroke-width"]||1,null!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:null!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))},setFillStyle:function(t,i){var s=t.ctx;if(s.fillStyle="transparent",null!=i["fill-opacity"]?s.globalAlpha=i["fill-opacity"]:null!=i.opacity?s.globalAlpha=i.opacity:s.globalAlpha=1,i.fill&&-1==i.fill.indexOf("#")&&t._gradients[i.fill]){var r,n="horizontal"!=t._gradients[i.fill].orientation,o="radial"==t._gradients[i.fill].orientation,a=e.jqx.ptrnd(i.x),l=e.jqx.ptrnd(i.y),h=e.jqx.ptrnd(i.x+(n?0:i.width)),d=e.jqx.ptrnd(i.y+(n?i.height:0));"circle"!=i.type&&"path"!=i.type&&"rect"!=i.type||!o||(x=e.jqx.ptrnd(i.x),y=e.jqx.ptrnd(i.y),r1=i.innerRadius||0,r2=i.outerRadius||i.r||0,"rect"==i.type&&(x+=i.width/2,y+=i.height/2),r=s.createRadialGradient(x,y,r1,x,y,r2)),o||((isNaN(a)||isNaN(h)||isNaN(l)||isNaN(d))&&(a=0,l=0,h=n?0:s.canvas.width,d=n?s.canvas.height:0),r=s.createLinearGradient(a,l,h,d));for(var c=t._gradients[i.fill].colorStops,u=0;u<c.length;u++)r.addColorStop(c[u].percent,c[u].color);s.fillStyle=r}else i.fill&&(s.fillStyle=i.fill)},rect:function(t,i){0!=i.width&&0!=i.height&&(t.fillRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height),t.strokeRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height))},circle:function(t,i){0!=i.r&&(t.beginPath(),t.arc(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.r,0,2*Math.PI,!1),t.closePath(),t.fill(),t.stroke())},_parsePoint:function(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if(e[i]>="0"&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&i>=1&&"e"==e[i-1])t=!0;else{if(t||" "!=e[i]&&","!=e[i])break;this._pos++}var s=parseFloat(e.substring(this._pos,i));if(!isNaN(s))return this._pos=i,s},_cmds:"mlcazq",_isRelativeCmd:function(t){return e.jqx.string.contains(this._cmds,t)},_parseCmd:function(t){for(var i=this._pos;i<t.length;i++){if(e.jqx.string.containsIgnoreCase(this._cmds,t[i]))return this._pos=i+1,this._lastCmd=t[i],this._lastCmd;if(" "!=t[i]){if(t[i]>="0"&&t[i]<="9"){if(this._pos=i,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d;this._pos=0,this._lastCmd="";var s=void 0;this._currentPoint={x:0,y:0},e.beginPath();for(;this._pos<i.length;){var r=this._parseCmd(i);if(null==r)break;if("M"!=r&&"m"!=r)if("L"!=r&&"l"!=r)if("A"!=r&&"a"!=r)if("Z"!=r&&"z"!=r||null==s)if("C"!=r&&"c"!=r)if("Q"!=r&&"q"!=r);else{n=this._parsePoint(i),o=this._parsePoint(i);e.quadraticCurveTo(n.x,n.y,o.x,o.y),this._currentPoint=o}else{var n=this._parsePoint(i),o=this._parsePoint(i),a=this._parsePoint(i);e.bezierCurveTo(n.x,n.y,o.x,o.y,a.x,a.y),this._currentPoint=a}else e.lineTo(s.x,s.y),this._currentPoint=s;else{var l=this._parseNumber(i),h=this._parseNumber(i),d=this._parseNumber(i)*(Math.PI/180),c=this._parseNumber(i),u=this._parseNumber(i),p=this._parsePoint(i);if(this._isRelativeCmd(r)&&(p=this._toAbsolutePoint(p)),0==l||0==h)continue;var f=this._currentPoint,m={x:Math.cos(d)*(f.x-p.x)/2+Math.sin(d)*(f.y-p.y)/2,y:-Math.sin(d)*(f.x-p.x)/2+Math.cos(d)*(f.y-p.y)/2},g=Math.pow(m.x,2)/Math.pow(l,2)+Math.pow(m.y,2)/Math.pow(h,2);g>1&&(l*=Math.sqrt(g),h*=Math.sqrt(g));var v=(c==u?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(h,2)-Math.pow(l,2)*Math.pow(m.y,2)-Math.pow(h,2)*Math.pow(m.x,2))/(Math.pow(l,2)*Math.pow(m.y,2)+Math.pow(h,2)*Math.pow(m.x,2)));isNaN(v)&&(v=0);var x={x:v*l*m.y/h,y:v*-h*m.x/l},b={x:(f.x+p.x)/2+Math.cos(d)*x.x-Math.sin(d)*x.y,y:(f.y+p.y)/2+Math.sin(d)*x.x+Math.cos(d)*x.y},w=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},y=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(w(e)*w(t))},_=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(y(e,t))},j=_([1,0],[(m.x-x.x)/l,(m.y-x.y)/h]),q=[(m.x-x.x)/l,(m.y-x.y)/h],S=[(-m.x-x.x)/l,(-m.y-x.y)/h],T=_(q,S);y(q,S)<=-1&&(T=Math.PI),y(q,S)>=1&&(T=0),0==u&&T>0&&(T-=2*Math.PI),1==u&&T<0&&(T+=2*Math.PI);y=l>h?l:h;var C=l>h?1:l/h,I=l>h?h/l:1;e.translate(b.x,b.y),e.rotate(d),e.scale(C,I),e.arc(0,0,y,j,j+T,1-u),e.scale(1/C,1/I),e.rotate(-d),e.translate(-b.x,-b.y)}else{if(null==(k=this._parsePoint(i)))break;e.lineTo(k.x,k.y),this._currentPoint=k}else{var k;if(null==(k=this._parsePoint(i)))break;e.moveTo(k.x,k.y),this._currentPoint=k,null==s&&(s=k)}}e.fill(),e.stroke(),e.closePath()},text:function(t,i){var s=e.jqx.ptrnd(i.x),r=e.jqx.ptrnd(i.y),n=e.jqx.ptrnd(i.width),o=e.jqx.ptrnd(i.height),a=i.halign,l=i.valign,h=i.angle,d=i.rotateAround,c=i.textPartsInfo,u=c.parts,p=i.clip;null==p&&(p=!0),t.save(),a||(a="center"),l||(l="center"),p&&(t.rect(s,r,n,o),t.clip());var f=i.textWidth,m=i.textHeight,g=n||0,v=o||0;if(t.fillStyle=i.color,t.font=i.fontWeight+" "+i.fontSize+" "+i.fontFamily,h&&0!=h){var x=e.jqx.commonRenderer.alignTextInRect(s,r,n,o,f,m,a,l,h,d);s=x.x,r=x.y;var b=h*Math.PI*2/360;t.translate(s,r),t.rotate(b);y=0;var w=c.width;for(_=u.length-1;_>=0;_--){q=0;"center"==a?q+=(w-u[_].width)/2:"right"==a&&(q+=w-u[_].width),t.fillText(u[_].text,q,y),y-=u[_].height+4}t.restore()}else{r+=m,"center"==l||"middle"==l?r+=(v-m)/2:"bottom"==l&&(r+=v-m),n||(n=f),o||(o=m);for(var y=0,_=u.length-1;_>=0;_--){var j=u[_],q=s,S=u[_].width;u[_].height;"center"==a?q+=(g-S)/2:"right"==a&&(q+=g-S),t.fillText(j.text,q,r+y),y-=j.height+(_>0?4:0)}t.restore()}}},refresh:function(){for(var e in this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height),this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},e.jqx.createRenderer=function(t,i){var s=t,r=s.renderer=null;if(document.createElementNS&&"HTML5"!=s.renderEngine&&"VML"!=s.renderEngine&&!(r=new e.jqx.svgRenderer).init(i)){if("SVG"==s.renderEngine)throw"Your browser does not support SVG";return null}if(null==r&&"HTML5"!=s.renderEngine){if(!(r=new e.jqx.vmlRenderer).init(i)){if("VML"==s.renderEngine)throw"Your browser does not support VML";return null}s._isVML=!0}if(null==r&&("HTML5"==s.renderEngine||null==s.renderEngine)&&!(r=new e.jqx.HTML5Renderer).init(i))throw"Your browser does not support HTML5 Canvas";return s.renderer=r,r},e.jqx._widgetToImage=function(t,i,s,r,n,o){var a=t;if(!a)return!1;null!=s&&""!=s||(s="image."+i);var l=a.renderEngine,h=a.enableAnimations;if(a.enableAnimations=!1,a.renderEngine="HTML5",a.renderEngine!=l)try{a.refresh()}catch(e){return a.renderEngine=l,a.refresh(),a.enableAnimations=h,!1}var d=a.renderer.getContainer().find("canvas")[0],c=!0;e.isFunction(o)&&(c=o(t,d));var u=!0;return c&&(u=e.jqx.exportImage(d,i,s,r,n)),a.renderEngine!=l&&(a.renderEngine=l,a.refresh(),a.enableAnimations=h),u},e.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i]);return t},e.jqx.exportImage=function(t,i,s,r,n){if(!t)return!1;var o="pdf"===i.toLowerCase();if(o&&(i="jpeg"),null!=s&&""!=s||(s="image."+i),null==r||""==r)throw"Please specifiy export server";var a=!0;try{if(t){var l=t.toDataURL("image/"+i);if(o){e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var h=595;switch(e.jqx.pdfExport.paperSize){case"legal":h=612;"portrait"!==e.jqx.pdfExport.orientation&&(h=1008);break;case"letter":h=612;"portrait"!==e.jqx.pdfExport.orientation&&(h=792);break;case"a3":h=841;"portrait"!==e.jqx.pdfExport.orientation&&(h=1190);break;case"a4":h=595;"portrait"!==e.jqx.pdfExport.orientation&&(h=842);break;case"a5":h=420;"portrait"!==e.jqx.pdfExport.orientation&&(h=595)}var d=72*e(t).width()/96;d>=h-20&&(d=h-20);var c=new pdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize);return c.addImage(l,"JPEG",10,10,d,0),void c.save(s)}if(l=l.replace("data:image/"+i+";base64,",""),n)e.ajax({dataType:"string",url:r,type:"POST",data:{content:l,fname:s},async:!1,success:function(e,t,i){a=!0},error:function(e,t,i){a=!1}});else{var u=document.createElement("form");u.method="POST",u.action=r,u.style.display="none",document.body.appendChild(u);var p=document.createElement("input");p.name="fname",p.value=s,p.style.display="none";var f=document.createElement("input");f.name="content",f.value=l,f.style.display="none",u.appendChild(p),u.appendChild(f),u.submit(),document.body.removeChild(u),a=!0}}}catch(e){a=!1}return a}}(jqxBaseFramework),function(e){jqxPlot=function(){},jqxPlot.prototype={get:function(e,t,i){return void 0!==i?e[t][i]:e[t]},min:function(e,t){for(var i=NaN,s=0;s<e.length;s++){var r=this.get(e,s,t);(isNaN(i)||r<i)&&(i=r)}return i},max:function(e,t){for(var i=NaN,s=0;s<e.length;s++){var r=this.get(e,s,t);(isNaN(i)||r>i)&&(i=r)}return i},sum:function(e,t){for(var i=0,s=0;s<e.length;s++){var r=this.get(e,s,t);isNaN(r)||(i+=r)}return i},count:function(e,t){for(var i=0,s=0;s<e.length;s++){var r=this.get(e,s,t);isNaN(r)||i++}return i},avg:function(e,t){return this.sum(e,t)/Math.max(1,count(e,t))},filter:function(e,t){if(!t)return e;for(var i=[],s=0;s<e.length;s++)t(e[s])&&i.push(e[s]);return i},scale:function(t,i,s,r){if(isNaN(t))return NaN;if((t<Math.min(i.min,i.max)||t>Math.max(i.min,i.max))&&(!r||!0!==r.ignore_range))return NaN;var n=NaN,o=1;if(void 0===i.type||"logarithmic"!=i.type){var a=Math.abs(i.max-i.min);a||(a=1),o=Math.abs(t-Math.min(i.min,i.max))/a}else if("logarithmic"===i.type){var l=i.base;isNaN(l)&&(l=10);var h=Math.min(i.min,i.max);h<=0&&(h=1);var d=Math.max(i.min,i.max);d<=0&&(d=1);var c=e.jqx.log(d,l);d=Math.pow(l,c);var u=e.jqx.log(h,l);h=Math.pow(l,u);var p=e.jqx.log(t,l);o=Math.abs(p-u)/(c-u)}if("logarithmic"===s.type){l=s.base;isNaN(l)&&(l=10);c=e.jqx.log(s.max,l),u=e.jqx.log(s.min,l);s.flip&&(o=1-o);p=Math.min(u,c)+o*Math.abs(c-u);n=Math.pow(l,p)}else n=Math.min(s.min,s.max)+o*Math.abs(s.max-s.min),s.flip&&(n=Math.max(s.min,s.max)-n+s.min);return n},axis:function(t,i,s){if(s<=1)return[i,t];(isNaN(s)||s<2)&&(s=2);for(var r=0;Math.round(t)!=t&&Math.round(i)!=i&&r<10;)t*=10,i*=10,r++;for(var n=(i-t)/s;r<10&&Math.round(n)!=n;)t*=10,i*=10,n*=10,r++;for(var o=[1,2,5],a=0;;){var l=a%o.length,h=Math.floor(a/o.length),d=Math.pow(10,h)*o[l];l=(a+1)%o.length,h=Math.floor((a+1)/o.length);var c=Math.pow(10,h)*o[l];if(n>=d&&n<c)break;a++}for(var u=c,p=[],f=e.jqx._rnd(t,u,!1),m=r<=0?1:Math.pow(10,r);f<i+u;)p.push(f/m),f+=u;return p}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxMenu","",{}),e.extend(e.jqx._jqxMenu.prototype,{defineInstance:function(){var t={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return this===e.jqx._jqxMenu.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;if(this.host.attr("role","menubar"),e.jqx.utilities.resize(this.host,function(){i.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&e(window).resize(function(){i.refresh()}),this.host.css("outline","none"),this.source&&null!=this.source){var s=this.loadItems(this.source);this.element.innerHTML=s}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var r=this.host.find("ul:first");r.length>0&&this._createMenu(r[0])}this.host.data("autoclose",{}),this._render(),this._setSize(),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if("popup"===this.mode&&this.keyboardNavigation)this.host.closest("div.jqx-menu-wrapper").focus();if(this.keyboardNavigation){this.host.focus();var t=this,i=function(){if(e.jqx.isHidden(e(t.items[0].element))){var i=t._nextVisibleItem(t.items[0],0);i&&(e(i.element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=i)}else e(t.items[0].element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=t.items[0]};this.activeItem?e.jqx.isHidden(e(this.activeItem.element))?(e(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),i()):e(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):i()}}catch(e){}},loadItems:function(t,i){if(null!=t){if(0==t.length)return"";var s=this;this.items=new Array;var r='<ul class="jqx-menu-ul">';return i&&(r='<ul class="jqx-menu-ul" style="width:'+i+';">'),e.map(t,function(e){if(null==e)return null;r+=s._parseItem(e)}),r+="</ul>"}},_parseItem:function(e){var t="";if(null==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);null!=e.selected&&e.selected;var s=!1;return null!=e.disabled&&e.disabled&&(s=!0),t+="<li",s&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),null!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(e.subMenuWidth?t+=this.loadItems(e.items,e.subMenuWidth):t+=this.loadItems(e.items)),t+="</li>"},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var t=e(window).width();if(!e.jqx.response){var i=!1;if(navigator.userAgent.match(/Windows|Linux|MacOS/))navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0||(i=!0);var s=this.minimizeWidth;if(i&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&e.jqx.response){var r=new e.jqx.response;"Phone"!=r.device.type&&"Tablet"!=r.device.type||this.minimized||this.minimize()}else t<s&&!this.minimized?this.minimize():this.minimized&&t>=s&&this.restore()}},minimize:function(){if(!this.minimized){var t=this;if(this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple",(r=this.host.closest("div.jqx-menu-wrapper")).remove(),e("#menuWrapper"+this.element.id).remove(),e.each(this.items,function(){e(this.element);e(this.subMenuElement).closest("div.jqx-menu-popup").remove()}),this.source){var i=this.loadItems(this.source);this.element.innerHTML=i,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this._render();var r,n=this.host.find("ul:first");n.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>'),(r=n.closest("div.jqx-menu-wrapper"))[0].id="menuWrapper"+this.element.id,r.detach(),r.appendTo(e(document.body)),r.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-menu")),r.addClass(this.toThemeProperty("jqx-menu-minimized")),r.addClass(this.toThemeProperty("jqx-widget-header")),n.children().hide(),r.hide(),r.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=e("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(r,"keydown",function(e){return t.handleKeyDown(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=e("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),e("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),t.minimizedHidden=!0;var o=function(e){if(t.minimizedHidden){r.find("ul:first").children().show(),t.minimizedHidden=!1,r.show(),r.css("opacity",0),r.css("left",-r.outerWidth());var i=!1,s=r.width();"right"==t.minimizedItem.css("float")&&(r.css("left",t.host.coord().left+t.host.width()+s),i=!0),r.css("top",t.host.coord().top+t.host.height()),r.animate({left:i?t.host.coord().left+t.host.width()-s:t.host.coord().left,opacity:.95},t.animationShowDuration,function(){})}else!function(e){t.minimizedHidden=!0,t.minimizedItem.show();var i=!1;"right"==t.minimizedItem.css("float")&&(i=!0),r.animate({left:i?t.host.coord().left+t.host.width()+r.width():-r.outerWidth(),opacity:0},t.animationHideDuration,function(){r.find("ul:first").children().hide(),r.hide()})}();t._raiseEvent("2",{type:"mouse",item:t.minimizedItem[0],event:e}),t._setSize()};this.addHandler(e(window),"orientationchange.jqxmenu"+this.element.id,function(e){setTimeout(function(){if(!t.minimizedHidden){var e=r.width(),i=!1;e=r.width();"right"==t.minimizedItem.css("float")&&(i=!0),r.css("top",t.host.coord().top+t.host.height()),r.css({left:i?t.host.coord().left+t.host.width()-e:t.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(e){o(e)})}},restore:function(){if(this.minimized){if(this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove(),e("#menuWrapper"+this.element.id).remove(),this.source){var t=this.loadItems(this.source);this.element.innerHTML=t,this._tmpHTML=t}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var i=this.host.find("ul:first");i.length>0&&this._createMenu(i[0])}this._setSize(),this._render()}},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),e(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(e){e||this._setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(t){var i=null!=t?t.data:this,s=i.items;(e.each(s,function(){1==this.hasItems&&this.isOpen&&i._closeItem(i,this)}),"popup"==i.mode)&&(null!=t&&(i._isRightClick(t)||i.close()))},closeItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),r=this;return e.each(r.items,function(){1==this.isOpen&&this.element==s&&(r._closeItem(r,this),this.parentId&&r.closeItem(this.parentId))}),!0},openItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),r=this;return e.each(r.items,function(){0==this.isOpen&&this.element==s&&(r._openItem(r,this),this.parentId&&r.openItem(this.parentId))}),!0},_getClosedSubMenuOffset:function(t){var i=e(t.subMenuElement),s=-i.outerHeight(),r=-i.outerWidth(),n=0==t.level&&"horizontal"==this.mode;switch(n?r=0:s=0,t.openVerticalDirection){case"up":case"center":s=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):case"center":r=n?0:i.outerWidth()}return{left:r,top:s}},_closeItem:function(t,i,s,r){if(null==t||null==i)return!1;var n=e(i.subMenuElement),o=0==i.level&&"horizontal"==this.mode,a=this._getClosedSubMenuOffset(i),l=a.top,h=a.left,d=(e(i.element),n.closest("div.jqx-menu-popup"));if(null!=d){var c=t.animationHideDelay;1==r&&(c=0),n.data("timer")&&null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null);var u=function(){i.isOpen=!1,o?n.stop().animate({top:l},t.animationHideDuration,function(){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),e(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),d.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var s=e(i.arrow);s.length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),e.jqx.aria(e(i.element),"aria-expanded",!1),d.css({display:"none"}),0==t.animationHideDuration&&n.css({top:l}),t._raiseEvent("1",i)}):(e.jqx.browser.msie,n.stop().animate({left:h},t.animationHideDuration,function(){var s;(0==t.animationHideDuration&&n.css({left:h}),i.level>0)?(e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected")),(s=e(i.arrow)).length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),(s=e(i.arrow)).length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left"))))));e.jqx.aria(e(i.element),"aria-expanded",!1),d.css({display:"none"}),t._raiseEvent("1",i)}))};if(c>0?n.data("timer")&&(n.data("timer").hide=setTimeout(function(){u()},c)):u(),null!=s&&s){var p=n.children();e.each(p,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){e(t.menuElements[this.id].subMenuElement);t._closeItem(t,t.menuElements[this.id],!0,!0)}})}}},getSubItems:function(t,i){if(null==t)return!1;var s=this,r=new Array;null!=i&&e.extend(r,i);var n=t,o=this.menuElements[n],a=e(o.subMenuElement).find(".jqx-menu-item");return e.each(a,function(){r[this.id]=s.menuElements[this.id];var t=s.getSubItems(this.id,r);e.extend(r,t)}),r},disable:function(t,i){if(null!=t){var s=t;if(this.menuElements[s]){var r=this.menuElements[s];r.disabled=i;var n=e(r.element);r.element.disabled=i,e.each(n.children(),function(){this.disabled=i}),i?(n.addClass(this.toThemeProperty("jqx-menu-item-disabled")),n.addClass(this.toThemeProperty("jqx-fill-state-disabled"))):(n.removeClass(this.toThemeProperty("jqx-menu-item-disabled")),n.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))}}},getItem:function(e){return this.menuElements[e]?this.menuElements[e]:null},disableItem:function(e){this.disable(e,!0)},hideItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).hide()}},showItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).show()}},enableItem:function(e){this.disable(e,!1)},_setItemProperty:function(e,t,i){if(null!=e){var s=e;if(this.menuElements[s]){var r=this.menuElements[s];r[t]&&(r[t]=i)}}},setItemOpenDirection:function(t,i,s){if(null!=t){var r=t,n=this,o=e.jqx.browser.msie&&e.jqx.browser.version<8;if(this.menuElements[r]){var a=this.menuElements[r];if(null!=i)if(a.openHorizontalDirection=i,a.hasItems&&a.level>0)if(null!=(h=e(a.element))){var l=e(a.arrow);null==a.arrow&&(l=e('<span id="arrow'+h[0].id+'"></span>'),o?l.appendTo(h):l.prependTo(h),a.arrow=l[0]),l.removeClass(),"left"==a.openHorizontalDirection?(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("left"))),l.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("left")))):(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("right"))),l.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("right")))),l.css("visibility","inherit"),o?(l.css("display","inline-block"),l.css("float","none")):(l.css("display","block"),l.css("float","right"))}if(null!=s){a.openVerticalDirection=s;l=e(a.arrow);var h=e(a.element);if(!n.showTopLevelArrows)return;null!=h&&(null==a.arrow&&(l=e('<span id="arrow'+h[0].id+'"></span>'),o?l.appendTo(h):l.prependTo(h),a.arrow=l[0]),l.removeClass(),"down"==a.openVerticalDirection?(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-down")),l.addClass(n.toThemeProperty("jqx-icon-arrow-down"))):(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-up")),l.addClass(n.toThemeProperty("jqx-icon-arrow-up"))),l.css("visibility","inherit"),o?(l.css("display","inline-block"),l.css("float","none")):(l.css("display","block"),l.css("float","right")))}}}},_getSiblings:function(e){for(var t=new Array,i=0,s=0;s<this.items.length;s++)this.items[s]!=e&&this.items[s].parentId==e.parentId&&this.items[s].hasItems&&(t[i++]=this.items[s]);return t},_openItem:function(t,i,s){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var r=t.popupZIndex;null!=s&&(r=s);var n=t.animationHideDuration;t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=n,e(i.element).focus();var o=[5,5],a=e(i.subMenuElement);null!=a&&a.stop(),a.data("timer")&&null!=a.data("timer").hide&&clearTimeout(a.data("timer").hide);var l=a.closest("div.jqx-menu-popup"),h=e(i.element),d=0==i.level?this._getOffset(i.element):h.position();if(i.level>0&&this.hasTransform){var c=parseInt(h.coord().top)-parseInt(this._getOffset(i.element).top);d.top+=c}0==i.level&&"popup"==this.mode&&(d=h.coord());var u=0==i.level&&"horizontal"==this.mode,p=u?d.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(e(e(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-o[0]:parseInt(a.outerWidth());if(l.css({visibility:"visible",display:"block",left:p,top:u?d.top+h.outerHeight():d.top,zIndex:r}),a.css("display","block"),"horizontal"!=this.mode&&0==i.level){var f=this._getOffset(this.element);l.css("left",-1+f.left+this.host.outerWidth()),a.css("left",-a.outerWidth())}else{var m=this._getClosedSubMenuOffset(i);a.css("left",m.left),a.css("top",m.top)}l.css({height:parseInt(a.outerHeight())+parseInt(o[1])+"px"});var g=0,v=0;switch(i.openVerticalDirection){case"up":if(u){a.css("top",a.outerHeight()),g=o[1];var x=parseInt(a.parent().css("padding-bottom"));isNaN(x)&&(x=0),x>0&&l.addClass(this.toThemeProperty("jqx-menu-popup-clear")),a.css("top",a.outerHeight()-x),l.css({display:"block",top:d.top-l.outerHeight(),zIndex:r})}else g=o[1],a.css("top",a.outerHeight()),l.css({display:"block",top:d.top-l.outerHeight()+o[1]+h.outerHeight(),zIndex:r});break;case"center":u?(a.css("top",0),l.css({display:"block",top:d.top-l.outerHeight()/2+o[1],zIndex:r})):(a.css("top",0),l.css({display:"block",top:d.top+h.outerHeight()/2-l.outerHeight()/2+o[1],zIndex:r}))}switch(i.openHorizontalDirection){case this._getDir("left"):u?l.css({left:d.left-(l.outerWidth()-h.outerWidth()-o[0])}):(v=0,a.css("left",l.outerWidth()),l.css({left:d.left-l.outerWidth()+2*i.level}));break;case"center":u?l.css({left:d.left-(l.outerWidth()/2-h.outerWidth()/2-o[0]/2)}):(l.css({left:d.left-(l.outerWidth()/2-h.outerWidth()/2-o[0]/2)}),a.css("left",l.outerWidth()))}if(u){if(parseInt(a.css("top"))==g)return void(i.isOpen=!0)}else if(parseInt(a.css("left"))==v)return void i.isOpen;e.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});var b=e.data(t.element,"animationHideDelay");t.animationHideDelay=b,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),a.data("timer")&&(a.data("timer").show=setTimeout(function(){if(null!=l)if(u){a.stop(),a.css("left",v),e.jqx.browser.msie,h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(e(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(e(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("jqx-rc-b-expanded"))),(s=e(i.arrow)).length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(a.css({top:g}),i.isOpen=!0,t._raiseEvent("0",i),e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({top:g},t.animationShowDuration,t.easing,function(){i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0),t._raiseEvent("0",i)})}else{var s;if(a.stop(),a.css("top",g),e.jqx.browser.msie,i.level>0)h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-selected")),(s=e(i.arrow)).length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))));else h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),(s=e(i.arrow)).length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))));e.jqx.browser.msie,0==t.animationShowDuration?(a.css({left:v}),t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({left:v},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)})}},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var s=this,r=0;if(s.host.removeClass(s.toThemeProperty("jqx-menu-horizontal")),s.host.removeClass(s.toThemeProperty("jqx-menu-vertical")),s.host.removeClass(s.toThemeProperty("jqx-menu")),s.host.removeClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-menu")),null!=t&&null!=i&&"popup"==i){if(s.host.parent().length>0&&s.host.parent().parent().length>0&&s.host.parent().parent()[0]==document.body){var n=e.data(document.body,"jqxMenuOldHost"+s.element.id);if(null!=n)(o=s.host.closest("div.jqx-menu-wrapper")).remove(),o.appendTo(n),s.host.css("display","block"),s.host.css("visibility","visible"),o.css("display","block"),o.css("visibility","visible")}}else null==t&&null==i&&e.data(document.body,"jqxMenuOldHost"+s.element.id,s.host.parent()[0]);switch(s.autoOpenPopup?"popup"==s.mode?(s.addHandler(e(document),"contextmenu."+s.element.id,function(e){return!1}),s.addHandler(e(document),"mousedown.menu"+s.element.id,function(e){s._openContextMenu(e)})):(s.removeHandler(e(document),"contextmenu."+s.element.id),s.removeHandler(e(document),"mousedown.menu"+s.element.id)):(s.removeHandler(e(document),"contextmenu."+s.element.id),s.removeHandler(e(document),"mousedown.menu"+s.element.id),s.addHandler(e(document),"contextmenu."+s.element.id,function(e){if(e.target&&e.target.className.indexOf&&e.target.className.indexOf("jqx-menu")>=0)return!1})),s.rtl&&s.host.addClass(s.toThemeProperty("jqx-rtl")),s.mode){case"horizontal":s.host.addClass(s.toThemeProperty("jqx-widget-header")),s.host.addClass(s.toThemeProperty("jqx-menu-horizontal")),e.each(s.items,function(){($element=e(this.element),(t=e(this.arrow)).removeClass(),this.hasItems&&this.level>0)&&((t=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>')).prependTo($element),t.css("float",s._getDir("right")),t.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),t.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right"))),this.arrow=t[0]);if(0==this.level){if(e(this.element).css("float",s._getDir("left")),!this.ignoretheme&&this.hasItems&&s.showTopLevelArrows){var t=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),i=e.jqx.browser.msie&&e.jqx.browser.version<8;null==this.arrow?i?t.appendTo($element):t.prependTo($element):t=e(this.arrow),"down"==this.openVerticalDirection?(t.addClass(s.toThemeProperty("jqx-menu-item-arrow-down")),t.addClass(s.toThemeProperty("jqx-icon-arrow-down"))):(t.addClass(s.toThemeProperty("jqx-menu-item-arrow-up")),t.addClass(s.toThemeProperty("jqx-icon-arrow-up"))),t.css("visibility","inherit"),i?t.css("display","inline-block"):(t.css("display","block"),t.css("float","right")),this.arrow=t[0]}else if(!this.ignoretheme&&this.hasItems&&!s.showTopLevelArrows){if(null!=this.arrow)(t=e(this.arrow)).remove(),this.arrow=null}r=Math.max(r,$element.height())}});break;case"vertical":case"popup":case"simple":if(s.host.addClass(s.toThemeProperty("jqx-menu-vertical")),e.each(s.items,function(){if($element=e(this.element),this.hasItems&&!this.ignoretheme){if(this.arrow&&e(this.arrow).remove(),"simple"==s.mode)return!0;var t=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');t.prependTo($element),t.css("float","right"),0==this.level?(t.addClass(s.toThemeProperty("jqx-menu-item-arrow-top-"+s._getDir("right"))),t.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))):(t.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),t.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))),this.arrow=t[0]}$element.css("float","none")}),"popup"==s.mode){s.host.addClass(s.toThemeProperty("jqx-widget-content")),s.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+s.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var o=s.host.closest("div.jqx-menu-wrapper");s.host.addClass(s.toThemeProperty("jqx-popup")),o[0].id="menuWrapper"+s.element.id,o.appendTo(e(document.body)),s.addHandler(o,"keydown",function(e){return s.handleKeyDown(e)})}else s.host.addClass(s.toThemeProperty("jqx-widget-header"));if("popup"==s.mode){var a=s.host.height();s.host.css("position","absolute"),s.host.css("top","0"),s.host.css("left","0"),"simple"!=s.mode&&(s.host.height(a),s.host.css("display","none"))}}var l=s.isTouchDevice();s.autoCloseOnClick&&(s.removeHandler(e(document),"mousedown.menu"+s.element.id,s._closeAfterClick),s.addHandler(e(document),"mousedown.menu"+s.element.id,s._closeAfterClick,s),l&&(s.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s),s.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s)))},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var i=e.jqx.mobile.isSafariMobileBrowser(),s=e(t).coord(!0),r=s.top,n=s.left;"0px"!=e("body").css("border-top-width")&&(r=parseInt(r)+this._getBodyOffset().top),"0px"!=e("body").css("border-left-width")&&(n=parseInt(n)+this._getBodyOffset().left);var o=e.jqx.mobile.isWindowsPhone(),a=e.jqx.mobile.isTouchDevice();return this.hasTransform||null!=i&&i||o||a?{left:e.jqx.mobile.getLeftPos(t),top:e.jqx.mobile.getTopPos(t)}:{left:n,top:r}},_isRightClick:function(e){var t;if(!e)e=window.event;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){this._isRightClick(e)&&this.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var t=this;if(e.data(this.element,"contextMenuOpened"+this.element.id)){this.host;e.each(t.items,function(){this.hasItems&&t._closeItem(t,this)}),e.each(t.items,function(){1==this.isOpen&&($submenu=e(this.subMenuElement),$submenu.closest("div.jqx-menu-popup").hide(this.animationHideDuration))}),this.host.hide(this.animationHideDuration),e.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t),t._raiseEvent("5")}},open:function(t,i){if("popup"==this.mode){var s=0;"block"==this.host.css("display")&&(this.close(),s=this.animationHideDuration);var r=this;null!=t&&null!=t||(t=0),null!=i&&null!=i||(i=0),setTimeout(function(){r.host.show(r.animationShowDuration),r.host.css("visibility","visible"),e.data(r.element,"contextMenuOpened"+r.element.id,!0),r._raiseEvent("0",r),r._raiseEvent("4",{left:t,top:i}),r.host.css("z-index",9999),null!=t&&null!=i&&r.host.css({left:t,top:i}),r.focus()},s)}},_renderHover:function(e,t,i){var s=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){s.hoveredItem=t,t.disabled||t.separator||!s.enableHover||s.disabled||(t.level>0?(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!s.enableHover||s.disabled||(t.level>0?(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(t){var i=null!=t?t.data:this,s=!1;i.autoCloseOnClick&&(e.each(e(t.target).parents(),function(){if(this.className.indexOf&&-1!=this.className.indexOf("jqx-menu"))return s=!0,!1}),s||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var t=this;if(t.autoSizeMainItems&&"horizontal"==this.mode){var i=this.maxHeight;parseInt(i)>parseInt(this.host.height())&&(i=parseInt(this.host.height())),i=parseInt(this.host.height()),e.each(this.items,function(){if($element=e(this.element),0==this.level&&i>0){var s=$element.children().length>0?parseInt($element.children().height()):$element.height(),r=t.host.find("ul:first"),n=parseInt(r.css("padding-top")),o=parseInt(r.css("margin-top")),a=i-2*(o+n),l=parseInt(a)/2-s/2,h=parseInt(l),d=parseInt(l);if($element.css("padding-top",h),$element.css("padding-bottom",d),parseInt($element.outerHeight())>a){$element.css("padding-top",h-1),h-=1}}})}e.each(this.items,function(){if($element=e(this.element),this.hasItems&&this.level>0&&this.arrow){var t=e(this.arrow),i=e(this.element).height();i>15&&t.css("margin-top",(i-15)/2)}})},_nextVisibleItem:function(e,t){if(null==e||null==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null!=t&&i&&i.level!=t)continue;return i}return null},_prevVisibleItem:function(e,t){if(null==e||null==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null!=t&&i&&i.level!=t)continue;return i}return null},_parentItem:function(t){if(null==t||null==t)return null;var i=t.parentElement;if(!i)return null;var s=null;return e.each(this.items,function(){if(this.element==i)return s=this,!1}),s},_isElementVisible:function(t){return null!=t&&("none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility"))},_isVisible:function(e){if(null==e||null==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(t,i){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),null==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var s=this.popupZIndex,r=[5,5],n=this;e.data(n.element,"animationHideDelay",n.animationHideDelay);var o=this.isTouchDevice(),a=o&&(e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0);-1!=navigator.platform.toLowerCase().indexOf("win")&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0?this.touchDevice=!0:navigator.userAgent.indexOf("Touch")>=0&&("MSPointerDown"in window||e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(!0,a=!0,n.clickToOpen=!0,n.autoCloseOnClick=!1,n.enableHover=!1));e.data(document.body,"menuel",this),this.hasTransform=e.jqx.utilities.hasTransform(this.host),this._applyOrientation(t,i),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(t){if(n.keyboardNavigation&&n.activeItem){if("popup"===n.mode&&document.activeElement&&document.activeElement.className.indexOf("jqx-menu-wrapper")>=0)return;e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=null}}),this.addHandler(this.host,"focus",function(t){if(n.keyboardNavigation&&!n.activeItem)if(n.hoveredItem)e(n.hoveredItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.hoveredItem;else{var i=function(){if(e.jqx.isHidden(e(n.items[0].element))){var t=n._nextVisibleItem(n.items[0],0);t&&(e(t.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=t)}else e(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.items[0]};n.activeItem?e.jqx.isHidden(e(n.activeItem.element))?(e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),i()):e(n.activeItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")):i()}}),this.removeHandler(this.host,"keydown"),n.handleKeyDown=function(t){if(!n.keyboardNavigation)return!0;if("input"===t.target.nodeName.toLowerCase())return!0;var i=null,s=null;e.each(n.items,function(){return!!this.disabled||(this.element.className.indexOf("pressed")>=0&&(s=this),this.element.className.indexOf("focus")>=0?(i=this,!1):void 0)}),!i&&s&&(i=s),i||(e(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.items[0],i=n.activeItem);if(27==t.keyCode){if(t.data=n,n._closeAll(t),i)for(var r=i;null!=r;)r.parentItem?r=r.parentItem:(e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=r,e(n.activeItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),r=r.parentItem);!0}if(13==t.keyCode&&i){!0,n._raiseEvent("2",{item:i.element,event:t,type:"keyboard"});var o=null!=i.anchor?e(i.anchor):null;if(null!=o&&o.length>0){var a=o.attr("href"),l=o.attr("target");null!=a&&(null!=l?window.open(a,l):window.location=a)}t.preventDefault(),t.stopPropagation(),e(i.element).focus()}var h=function(e){if(null==e)return new Array;for(var t=new Array,i=0,s=0;s<n.items.length;s++)n.items[s].parentId==e.parentId&&(t[i++]=n.items[s]);return t},d="";switch(t.keyCode){case 40:d="down";break;case 38:d="up";break;case 39:d="right";break;case 37:d="left"}if(i&&"left"===i.openHorizontalDirection&&"left"===d&&(d="right"),i&&"left"===i.openHorizontalDirection&&"right"===d&&(d="left"),i&&"top"===i.openVerticalDirection&&"top"===d&&(d="bottom"),i&&"top"===i.openVerticalDirection&&"bottom"===d&&(d="top"),n.rtl&&("right"===d?d="left":"left"===d&&(d="right")),"right"===d&&!n.minimized){if(t.altKey&&(0!=i.level&&i.hasItems||"horizontal"!=n.mode))n._openItem(n,i);else{var c=n._nextVisibleItem(i,0),u=n._nextVisibleItem(i),p=h(u);c||(c=u),c&&(c.parentId===i.parentId&&0==c.level&&"horizontal"==n.mode||u.id==p[0].id&&0!=u.level)&&(u.id==p[0].id&&(0!=i.level||0==i.level&&"horizontal"!=n.mode)&&(c=u),e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c)}t.preventDefault(),t.stopPropagation()}if("left"===d&&!n.minimized){if(t.altKey&&(0!=i.level&&"horizontal"!==n.mode||i.level>1&&"horizontal"===n.mode||1==i.level&&i.hasItems&&"horizontal"===n.mode))i.hasItems?n._closeItem(n,i):i.parentItem&&(n._closeItem(n,i.parentItem),e(i.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=i.parentItem);else{var c=n._prevVisibleItem(i,0),f=i.parentItem;c&&c.parentId===i.parentId&&0==c.level&&"horizontal"==n.mode?(e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c):f&&0==f.level&&"horizontal"==n.mode||!f||f.level!=i.level-1||(e(f.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=f)}t.preventDefault(),t.stopPropagation()}if("down"===d){if(t.altKey)0==i.level&&i.hasItems&&n._openItem(n,i),n.minimized&&n.minimizedHidden&&n.minimizedItem.trigger("click");else{p=h(c=n._nextVisibleItem(i,i.level));if(n.minimized&&c)e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c;else if(c&&(c.parentId===i.parentId||c.id==p[0].id&&"horizontal"==n.mode)&&(0==c.level&&"horizontal"==n.mode||(e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c)),"horizontal"===n.mode&&0===i.level&&i.isOpen&&i.hasItems){c=n._nextVisibleItem(i);e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c}}t.preventDefault(),t.stopPropagation()}else if("up"===d){if(t.altKey)i.parentItem&&0==i.parentItem.level?(n._closeItem(n,i.parentItem),e(i.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=i.parentItem):null===i.parentItem&&0===i.level&&"horizontal"===n.mode&&n._closeItem(n,i),n.minimized&&(n.minimizedHidden||n.minimizedItem.trigger("click"));else{c=n._prevVisibleItem(i,i.level),p=h(i);if(n.minimized&&c)e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c;else if(c&&(c.parentId===i.parentId||c.id==i.parentId&&0==c.level&&"horizontal"==n.mode))0==c.level&&"horizontal"===n.mode&&0===i.level||(e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c);else if(i&&i.id==p[0].id&&i.parentItem&&0===i.parentItem.level&&"horizontal"===n.mode){c=i.parentItem;e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c}}t.preventDefault(),t.stopPropagation()}if(9==t.keyCode)if(c=t.shiftKey?n._prevVisibleItem(i):n._nextVisibleItem(i))e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c,t.preventDefault(),t.stopPropagation();else if(n.lockFocus){p=new Array;for(var m=0,g=0;g<n.items.length;g++)n.items[g]!=i&&n.items[g].parentId==i.parentId&&(p[m++]=n.items[g]);p.length>0&&(t.shiftKey?(e(p[p.length-1].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=p[p.length-1]):(e(p[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=p[0]),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"))),t.preventDefault(),t.stopPropagation()}else i&&(e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=null)},this.addHandler(this.host,"keydown",function(e){n.handleKeyDown(e)}),n.enableRoundedCorners&&this.host.addClass(n.toThemeProperty("jqx-rc-all")),e.each(this.items,function(){var t=this,i=e(t.element);if(i.attr("role","menuitem"),n.enableRoundedCorners&&i.addClass(n.toThemeProperty("jqx-rc-all")),n.removeHandler(i,"click"),n.addHandler(i,"click",function(i){if(!t.disabled&&!n.disabled&&(n.keyboardNavigation&&(n.activeItem&&e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=t,e(t.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.minimized&&i.stopPropagation()),n._raiseEvent("2",{type:"mouse",item:t.element,event:i}),n.autoOpen?!n.autoCloseOnClick||o||n.clickToOpen||t.closeOnClick&&(i.data=n,n._closeAll(i)):t.level>0&&(!n.autoCloseOnClick||o||n.clickToOpen||(i.data=n,n._closeAll(i))),o&&n.autoCloseOnClick&&(i.data=n,t.hasItems||n._closeAll(i)),"A"!=i.target.tagName&&"a"!=i.target.tagName)){var s=null!=t.anchor?e(t.anchor):null;if(null!=s&&s.length>0){var r=s.attr("href"),a=s.attr("target");null!=r&&(null!=a?window.open(r,a):window.location=r)}}}),n.removeHandler(i,"mouseenter"),n.removeHandler(i,"mouseleave"),a||"simple"==n.mode||n._renderHover(i,t,o),null!=t.subMenuElement){var l=e(t.subMenuElement);if("simple"==n.mode)return l.show(),!0;l.wrap('<div class="jqx-menu-popup '+n.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+s+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),l.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-l.outerHeight()}),l.data("timer",{}),t.level>0?l.css("left",-l.outerWidth()):"horizontal"==n.mode&&l.css("left",0),s++;var h=e(t.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(e(t.subMenuElement).outerWidth())+parseInt(r[0])+"px",height:parseInt(e(t.subMenuElement).outerHeight())+parseInt(r[1])+"px"}),d=i.closest("div.jqx-menu-popup");if(d.length>0){var c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),f=l.css("padding-right");h.appendTo(d),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",f)}else{c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),f=l.css("padding-right");h.appendTo(e(document.body)),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",f)}n.clickToOpen?(n.removeHandler(i,"mousedown"),n.addHandler(i,"mousedown",function(e){clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t)})):((o||a)&&(n.removeHandler(i,e.jqx.mobile.getTouchEventName("touchstart")),n.addHandler(i,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||"popup"==n.mode||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t),!1})),a||(n.addHandler(i,"mouseenter",function(){if(((n.autoOpen||t.level>0&&!n.autoOpen)&&clearTimeout(l.data("timer").hide),t.parentId&&0!=t.parentId)&&(n.menuElements[t.parentId]&&!n.menuElements[t.parentId].isOpen))return;return(n.autoOpen||t.level>0&&!n.autoOpen)&&n._openItem(n,t),!1}),n.addHandler(i,"mousedown",function(){n.autoOpen||0!=t.level||(clearTimeout(l.data("timer").hide),null!=l&&l.stop(),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t))}),n.addHandler(i,"mouseleave",function(i){if(n.autoCloseOnMouseLeave){clearTimeout(l.data("timer").hide);var s=e(t.subMenuElement),r={left:parseInt(i.pageX),top:parseInt(i.pageY)},o={left:parseInt(s.coord().left),top:parseInt(s.coord().top),width:parseInt(s.outerWidth()),height:parseInt(s.outerHeight())},a=!0;o.left-5<=r.left&&r.left<=o.left+o.width+5&&o.top<=r.top&&r.top<=o.top+o.height&&(a=!1),a&&n._closeItem(n,t,!0)}}),n.removeHandler(h,"mouseenter"),n.addHandler(h,"mouseenter",function(){clearTimeout(l.data("timer").hide)}),n.removeHandler(h,"mouseleave"),n.addHandler(h,"mouseleave",function(e){n.autoCloseOnMouseLeave&&(clearTimeout(l.data("timer").hide),clearTimeout(l.data("timer").show),null!=l&&l.stop(),n._closeItem(n,t,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e="99"+(e=e.replace(".","")),e/=1;this.items[e];)e=(e=Math.random()+"").replace(".",""),e/=1;return"menuItem"+e},_createMenu:function(t,i){if(null!=t){null==i&&(i=!0),null==i&&(i=!0);e(t).addClass("jqx-menu-ul");var s=e(t).find("li"),r=0;this.itemMapping=new Array;for(var n=0;n<s.length;n++){var o=s[n],a=e(o);if(-1!=o.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=o.id;l||(l=this.createID()),i&&(o.id=l,this.items[r]=new e.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[r]),r+=1;var h=0,d=this;a.children().each(function(){return i||(this.className="",d.autoGenerate&&(e(d.items[r-1].subMenuElement)[0].className="",d.minimized||e(d.items[r-1].subMenuElement).addClass(d.toThemeProperty("jqx-widget-content")),e(d.items[r-1].subMenuElement).addClass(d.toThemeProperty("jqx-menu-dropdown")),e(d.items[r-1].subMenuElement).addClass(d.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(i&&(d.items[r-1].subMenuElement=this),!1):!d.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(i&&(d.items[r-1].subMenuElement=this),this.className="",d.minimized||e(this).addClass(d.toThemeProperty("jqx-widget-content")),e(this).addClass(d.toThemeProperty("jqx-menu-dropdown")),e(this).addClass(d.toThemeProperty("jqx-popup")),e(this).attr("role","menu"),d.rtl?e(this).addClass(d.toThemeProperty("jqx-rc-l")):e(this).addClass(d.toThemeProperty("jqx-rc-r")),e(this).addClass(d.toThemeProperty("jqx-rc-b")),!1)}),a.parents().each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(h=this.id,!1):!d.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(h=this.id,!1)});var c=!1,u=o.getAttribute("type"),p=o.getAttribute("ignoretheme")||o.getAttribute("data-ignoretheme");if(p?"true"!=p&&1!=p||(p=!0):p=!1,u){if("separator"==u)c=!0}else u=o.type;c||(u=h?"sub":"top");var f=this.items[r-1];if(i){f.id=l,f.parentId=h,f.type=u,f.separator=c,f.element=s[n];var m=a.children("a");f.disabled="true"==o.getAttribute("item-disabled"),f.level=a.parents("li").length,f.anchor=m.length>0?m:null,f.anchor&&e(f.anchor).attr("tabindex",-1)}f.ignoretheme=p;var g=this.menuElements[h];null!=g&&(g.ignoretheme&&(f.ignoretheme=g.ignoretheme,p=g.ignoretheme),f.parentItem=g,f.parentElement=g.element),this.autoGenerate&&("separator"==u?(a.removeClass(),a.addClass(this.toThemeProperty("jqx-menu-item-separator")),a.attr("role","separator")):p||(a[0].className.indexOf("jqx-grid-menu-item-touch")>=0?a[0].className=this.toThemeProperty("jqx-grid-menu-item-touch"):a[0].className="",this.rtl&&a.addClass(this.toThemeProperty("jqx-rtl")),f.level>0&&!d.minimized?(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item"))):(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item-top"))))),f.disabled&&(a.addClass(d.toThemeProperty("jqx-menu-item-disabled")),a.addClass(d.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[n]={element:s[n],item:f},this.itemMapping["id"+s[n].id]=this.itemMapping[n],i&&!p&&(f.hasItems=a.find("li").length>0,f.hasItems&&f.element&&(e.jqx.aria(e(f.element),"aria-haspopup",!0),f.subMenuElement.id||(f.subMenuElement.id=e.jqx.utilities.createId()),e.jqx.aria(e(f.element),"aria-owns",f.subMenuElement.id)))}}for(var v=0;v<s.length;v++){var x=s[v];if(this.itemMapping["id"+x.id]){if(!(f=this.itemMapping["id"+x.id].item))continue;f.prevItem=null,f.nextItem=null,v>0&&this.itemMapping["id"+s[v-1].id]&&(f.prevItem=this.itemMapping["id"+s[v-1].id].item),v<s.length-1&&this.itemMapping["id"+s[v+1].id]&&(f.nextItem=this.itemMapping["id"+s[v+1].id].item)}}}},destroy:function(){var t=this;e.jqx.utilities.resize(t.host,null,!0);var i=t.host.closest("div.jqx-menu-wrapper");t.removeHandler(i,"keydown"),i.remove(),t.removeHandler(e("#menuWrapper"+t.element.id),"keydown"),e("#menuWrapper"+t.element.id).remove(),t.removeHandler(t.host,"keydown"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(e(document),"mousedown.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"mouseup.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"contextmenu."+t.element.id),t.removeHandler(t.host,"contextmenu."+t.element.id),e.data(document.body,"jqxMenuOldHost"+t.element.id,null),t.isTouchDevice()&&t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+t.element.id,t._closeAfterClick,this),e(window).off&&e(window).off("resize.menu"+t.element.id),e.each(t.items,function(){var i=e(this.element);t.removeHandler(i,"click"),t.removeHandler(i,"selectstart"),t.removeHandler(i,"mouseenter"),t.removeHandler(i,"mouseleave"),t.removeHandler(i,"mousedown"),t.removeHandler(i,"mouseleave"),e(this.subMenuElement).closest("div.jqx-menu-popup").remove(),delete this.subMenuElement,delete this.element}),e.data(document.body,"menuel",null),delete t.menuElements,t.items=new Array,delete t.items;var s=e.data(t.element,"jqxMenu");s&&delete s.instance,t.host.removeClass(),t.host.remove(),delete t.host,delete t.element},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var r=new e.Event(s);return"2"==t&&(args=i.item,args.owner=this,args.clickType=i.type,e.extend(r,i.event),r.type="itemclick"),r.owner=this,r.args=args,this.host.trigger(r)},propertiesChangedHandler:function(t,i,s){if(s.width&&s.height&&2==Object.keys(s).length&&(t._setSize(),"popup"===t.mode)){this.host.closest("div.jqx-menu-wrapper")[i](s);var r=this.host[0].id;e("#"+r)[i](s)}},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&("disabled"==i&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),r!=s))if("touchMode"==i&&(this._isTouchDevice=null,t._render(r,s)),"width"!==i&&"height"!==i){if("source"==i&&null!=t.source){var n=t.loadItems(t.source);t.element.innerHTML=n;var o=t.host.find("ul:first");o.length>0&&(t.refresh(),t._createMenu(o[0]),t._render())}"autoCloseOnClick"==i?0==r?t.removeHandler(e(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(e(document),"mousedown.menu"+this.element.id,t,t._closeAll):"mode"==i||"width"==i||"height"==i||"showTopLevelArrows"==i?(t.refresh(),"mode"==i?t._render(r,s):t._applyOrientation()):"theme"==i&&e.jqx.utilities.setTheme(s,r,t.host)}else if(t._setSize(),"popup"===t.mode){this.host.closest("div.jqx-menu-wrapper")[i](r);var a=this.host[0].id;e("#"+a)[i](r)}}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxMenu.jqxMenuItem=function(e,t,i){return{id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0}},function(e){e.jqx.jqxWidget("jqxListBox","",{}),e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,filterChange:null,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===e.jqx._jqxListBox.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){15!=e.jqx.utilities.scrollBarSize&&(this.scrollBarSize=e.jqx.utilities.scrollBarSize),null==this.width&&(this.width=200),null==this.height&&(this.height=200),this.renderListBox();var i=this;e.jqx.utilities.resize(this.host,function(){i._updateSize()},!1,this._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){this.renderListBox(),this.refresh()},renderListBox:function(){var t=(a=this).element.nodeName.toLowerCase();if("select"==t||"ul"==t||"ol"==t){a.field=a.element,a.field.className&&(a._className=a.field.className);var i={title:a.field.title};a.field.id.length?i.id=a.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":i.id=e.jqx.utilities.createId()+"_jqxListBox";var s=e("<div></div>",i);a.width||(a.width=e(a.field).width()),a.height||(a.height=e(a.field).outerHeight()),a.element.style.cssText=a.field.style.cssText,e(a.field).hide().after(s);var r=a.host.data();if(a.host=s,a.host.data(r),a.element=s[0],a.element.id=a.field.id,a.field.id=i.id,a._className&&(a.host.addClass(a._className),e(a.field).removeClass(a._className)),a.field.tabIndex){var n=a.field.tabIndex;a.field.tabIndex=-1,a.element.tabIndex=n}}else if(a.host.find("li").length>0||a.host.find("option").length>0){var o=e.jqx.parseSourceTag(that.element);a.source=o.items}a.element.innerHTML="";var a,l=(a=a).element.className;l+=" "+a.toThemeProperty("jqx-listbox"),l+=" "+a.toThemeProperty("jqx-reset"),l+=" "+a.toThemeProperty("jqx-rc-all"),l+=" "+a.toThemeProperty("jqx-widget"),l+=" "+a.toThemeProperty("jqx-widget-content"),a.element.className=l;null!=a.width&&-1!=a.width.toString().indexOf("%")&&a.host.width(a.width),null!=a.height&&-1!=a.height.toString().indexOf("%")&&(a.host.height(a.height),0==a.host.height()&&a.host.height(200)),null!=a.width&&-1!=a.width.toString().indexOf("px")?a.host.width(a.width):null==a.width||isNaN(a.width)||(a.element.style.width=parseInt(a.width)+"px"),null!=a.height&&-1!=a.height.toString().indexOf("px")?a.host.height(a.height):null==a.height||isNaN(a.height)||(a.element.style.height=parseInt(a.height)+"px"),a.multiple||a.multipleextended||a.checkboxes?e.jqx.aria(a,"aria-multiselectable",!0):e.jqx.aria(a,"aria-multiselectable",!1);var h="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+a.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+a.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+a.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>";a.host.attr("role","listbox"),a.element.innerHTML=h,a._checkForHiddenParent&&(a._addInput(),a.host.attr("tabIndex")||a.host.attr("tabIndex",1)),a.filter=e(a.element.firstChild.firstChild.firstChild),a.filterInput=e(a.filter[0].firstChild),a.filterInput.attr("placeholder",a.filterPlaceHolder),a.filterInput.addClass(a.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),a.addHandler(a.filterInput,"keyup.textchange",function(e){13==e.keyCode?a._search(e):a.filterDelay>0&&(a._filterTimer&&clearTimeout(a._filterTimer),a._filterTimer=setTimeout(function(){a._search(e)},a.filterDelay)),e.stopPropagation()});var d=e(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!a.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!d.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var c=parseInt(a.host.height())/2;0==c&&(c=10),a.vScrollBar=d.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:a.rtl,theme:a.theme,touchMode:a.touchMode,largestep:c});var u=e(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);if(a.hScrollBar=u.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:a.rtl,touchMode:a.touchMode,theme:a.theme}),a.content=e(a.element.firstChild.firstChild.firstChild.nextSibling),a.content[0].id="listBoxContent"+a.element.id,a.bottomRight=e(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(a.toThemeProperty("jqx-listbox-bottomright")).addClass(a.toThemeProperty("jqx-scrollbar-state-normal")),a.bottomRight[0].id="bottomRight"+a.element.id,a.vScrollInstance=e.data(a.vScrollBar[0],"jqxScrollBar").instance,a.hScrollInstance=e.data(a.hScrollBar[0],"jqxScrollBar").instance,a.isTouchDevice()&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var p=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");a.content.parent().append(p),a.overlayContent=a.host.find(".overlay"),a.filterable&&a.overlayContent.css("top","30px")}a._updateTouchScrolling(),a.host.addClass("jqx-disableselect"),a.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this;if(this.isTouchDevice()){t.enableHover=!1;var i=this.overlayContent?this.overlayContent:this.content;this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(e(i),"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(i,t.vScrollInstance.max,function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i),t._lastScroll=new Date}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e),t._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(e.jqx.browser.msie&&e.jqx.browser.version<9)return!1;this.touchDevice=!0,t=!0,e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._cachedItemHtml=new Array,e.refresh())},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&s!=r&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("_renderOnDemand"==i&&(t._render(!1,!0),-1!=t.selectedIndex)){var n=t.selectedIndex;t.selectedIndex=-1,t._stopEvents=!0,t.selectIndex(n,!1,!0),-1==t.selectedIndex&&(t.selectedIndex=n),t._stopEvents=!1}if("filterable"==i&&t.refresh(),"filterHeight"==i&&t._arrange(),"filterPlaceHolder"==i&&t.filterInput.attr("placeholder",r),"renderer"==i&&(t._cachedItemHtml=new Array,t.refresh()),"itemHeight"==i&&t.refresh(),"source"!=i&&"checkboxes"!=i||(null==r&&s&&s.unbindBindingUpdate&&(s.unbindBindingUpdate(t.element.id),s.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),"scrollBarSize"!=i&&"equalItemsWidth"!=i||r!=s&&t._updatescrollbars(),"disabled"==i&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:r}),t.hScrollBar.jqxScrollBar({disabled:r})),"touchMode"==i||"rtl"==i){if(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),"touchMode"==i&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var o=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(o),t.overlayContent=t.host.find(".overlay")}t.filterable&&t.filterInput&&("rtl"==i&&r?t.filterInput.addClass(t.toThemeProperty("jqx-rtl")):"rtl"!=i||r||t.filterInput.removeClass(t.toThemeProperty("jqx-rtl")),t._arrange()),t._updateTouchScrolling(),t._addHandlers(),t._render(!1)}if(this.updating||"width"!=i&&"height"!=i||t._updateSize(),"theme"==i&&s!=r&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),"selectedIndex"==i&&(t.clearSelection(),t.selectIndex(r,!0)),"displayMember"==i||"valueMember"==i){if(s!=r){var a=t.selectedIndex;t.refresh(),t.selectedIndex=a,t.selectedIndexes[a]=a}t._renderItems()}"autoHeight"==i&&(s!=r?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&e.jqx.isHidden(t.host)&&e.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,t._checkForHiddenParent)}},loadFromSelect:function(t){if(null!=t){var i=e("#"+t);if(i.length>0){var s=e.jqx.parseSourceTag(i[0]),r=s.items,n=s.index;this.source=r,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=n,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(t){var i=this;if(null!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var s=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex;i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),e.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,t),void s(t);(this.autoBind||!this.autoBind&&!t)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._render(!1,1==t),s(t),this._raiseEvent("6")}},loadSelectTag:function(){var t=e.jqx.parseSourceTag(this.field);this.source=t.items,-1==this.selectedIndex&&(this.selectedIndex=t.index)},_render:function(e,t){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(null==e||e)&&null!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight)<0&&(t=0);var i=parseInt(this.vScrollInstance.value),s=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(null!=this.renderedVisibleItems[s]&&this.renderedVisibleItems[s].isGroup)return null;if(this.renderedVisibleItems.length>0){var r=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(r.height+r.top<t+i)return null}return s=this._searchFirstVisibleIndex(t+i),this.visibleItems[s]},_searchFirstVisibleIndex:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value));var i=0;null!=t&&null!=t||(t=this.visibleItems);for(var s=t.length;i<=s;){mid=parseInt((i+s)/2);var r=t[mid];if(null==r)break;if(r.initialTop>e&&r.initialTop+r.height>e)s=mid-1;else{if(!(r.initialTop<e&&r.initialTop+r.height<=e))return mid;i=mid+1}}return 0},_renderItems:function(){if(null!=this.items&&0!=this.items.length){if(1!=this.updatingListBox){var t=this.isTouchDevice(),i=this.vScrollInstance,s=this.hScrollInstance,r=parseInt(i.value),n=parseInt(s.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(n=s.max-n);this.items.length,this.host.width();var o=parseInt(this.content[0].style.width),a=o+parseInt(s.max);parseInt(this.vScrollBar[0].style.width);"hidden"==this.vScrollBar[0].style.visibility&&0,"visible"!=this.hScrollBar[0].style.visibility&&(a=o);this._getVirtualItemsCount();var l=new Array,h=0,d=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(d=this.host.outerHeight()),isNaN(d)&&(d=0);var c=0,u=0,p=0;if(0==i.value||0==this.visibleItems.length)for(var f=0;f<this.items.length;f++){if((T=this.items[f]).visible)T.top=-r,T.initialTop=-r,!T.isGroup&&T.visible&&(this.visibleItems[u++]=T,T.visibleIndex=u-1),this.renderedVisibleItems[p++]=T,T.left=-n,T.top+T.height>=0&&T.top-T.height<=d&&(l[h++]={index:f,item:T}),r-=T.height,r--}var m=r>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,g=0;h=0;for(var v=this.vScrollInstance.value,x=0;g<100+d;){if(null==(T=this.renderedVisibleItems[m]))break;if(T.visible)T.left=-n,T.top+T.height-v>=0&&T.initialTop-v-T.height<=2*d&&(l[h++]={index:m,item:T});if(m++,T.visible&&(g+=T.initialTop-v+T.height-g),++x>this.items.length-1)break}if(!this._renderOnDemand){var b=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),w=this.toThemeProperty("jqx-listitem-state-group"),y=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),_=0,j=this;for(f=0;f<this.visualItems.length;f++){var q=this.visualItems[f],S=function(){var e=q[0].firstChild;(j.checkboxes&&(e=q[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),j.checkboxes)&&q.find(".chkbox").css({visibility:"hidden"})};if(f<l.length){var T;if((T=l[f].item).initialTop-v>=d){S();continue}var C=e(q[0].firstChild);if(this.checkboxes&&(C=e(q[0].lastChild)),0==C.length)continue;if(null==C[0])continue;C[0].className="",C[0].style.display="block",C[0].style.visibility="inherit";var I="";if(I=!T.isGroup&&!this.selectedIndexes[T.index]>=0?b:w,(T.disabled||this.disabled)&&(I+=" "+y),this.roundedcorners&&(I+=" "+this.toThemeProperty("jqx-rc-all")),t&&(I+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),C[0].className=I,this.renderer)if(T.key||(T.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[T.key])C[0].innerHTML!=this._cachedItemHtml[T.key]&&(C[0].innerHTML=this._cachedItemHtml[T.key]);else{var k=this.renderer(T.index,T.label,T.value);C[0].innerHTML=k,this._cachedItemHtml[T.key]=C[0].innerHTML}else{if(-1!==this.itemHeight){var P=2+2*parseInt(C.css("padding-top"));C[0].style.lineHeight=T.height-P+"px",C.css("vertical-align","middle")}null!=T.html&&T.html.toString().length>0?C[0].innerHTML=T.html:null!=T.label||null!=T.value?null!=T.label?(C[0].innerHTML!==T.label&&(C[0].innerHTML=T.label),""==e.trim(T.label)&&(C[0].innerHTML=this.emptyString,""==this.emptyString&&(C[0].style.height=T.height-8+"px")),this.incrementalSearch||T.disabled||null!=this.searchString&&""!=this.searchString&&(C[0].innerHTML=this._highlight(T.label.toString(),this.searchString))):null===T.label?(C[0].innerHTML=this.emptyString,""==this.emptyString&&(C[0].style.height=T.height-8+"px")):C[0].innerHTML!==T.value?C[0].innerHTML=T.value:""==T.label&&(C[0].innerHTML=" "):""!=T.label&&null!=T.label||(C[0].innerHTML="",C[0].style.height=T.height-8+"px")}if(q[0].style.left=T.left+"px",q[0].style.top=T.initialTop-v+"px",T.element=C[0],T.title&&(C[0].title=T.title),this.equalItemsWidth&&!T.isGroup){if(0==c){var M=parseInt(a);M-=parseInt(C.outerWidth())-parseInt(C.width());var N=1;c=M-=2*(N=null!=N?parseInt(N):0),this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(c-=18)}o>this.virtualSize.width?(C[0].style.width=c+"px",T.width=c):(C[0].style.width=-4+this.virtualSize.width+"px",T.width=this.virtualSize.width-4)}else C.width()<this.host.width()&&C.width(this.host.width()-2);if(this.rtl&&(C[0].style.textAlign="right"),this.autoItemsHeight&&(C[0].style.whiteSpace="pre-line",C.width(c),T.width=c),_=0,this.checkboxes&&!T.isGroup){0==_&&(_=(T.height-16)/2,_++),(O=e(q.children()[0]))[0].item=T,this.rtl?"0px"!=C[0].style.left&&(C[0].style.left="0px"):"18px"!=C[0].style.left&&(C[0].style.left="18px"),this.rtl&&O.css("left",8+T.width+"px"),O[0].style.top=_+"px",O[0].style.display="block",O[0].style.visibility="inherit";var D=T.checked,B=T.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";O[0].firstChild&&O[0].firstChild.firstChild&&O[0].firstChild.firstChild.firstChild&&O[0].firstChild.firstChild&&(D?O[0].firstChild.firstChild.firstChild.className=B:!1===D?O[0].firstChild.firstChild.firstChild.className="":null===D&&(O[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),e.jqx.ariaEnabled&&(D?q[0].setAttribute("aria-selected",!0):q[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var O;(O=e(q.children()[0])).css({display:"none",visibility:"inherit"})}!T.disabled&&(!this.filterable&&this.selectedIndexes[T.visibleIndex]>=0||T.selected&&this.filterable)?(C.addClass(this.toThemeProperty("jqx-listitem-state-selected")),C.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(q[0].setAttribute("aria-selected",!0),this._activeElement=q[0])):this.checkboxes||e.jqx.ariaEnabled&&q[0].removeAttribute("aria-selected")}else S()}}}}else this.visibleItems=new Array},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(t){if(!this._renderOnDemand){var i=0,s=2,r=0,n=document.createElement("span");this.equalItemsWidth&&e(n).css("float","left"),n.style.whiteSpace="pre";var o=0,a=void 0===t?this.host.outerHeight():t+2;document.body.appendChild(n);var l=this.items.length,h=this.host.width();if(this.autoItemsHeight&&(h-=10,"hidden"!=this.vScrollBar.css("visibility")&&(h-=20)),this.autoItemsHeight||this.renderer||this.groups.length>=1||l>0&&null!=this.items[0].html&&""!=this.items[0].html)for(r=0;r<l;r++){if((!(w=this.items[r]).isGroup||""!=w.label||""!=w.html)&&w.visible){var d="";if(w.isGroup?d+=this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):d+=this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-rc-all"),d+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(d+=" "+this.toThemeProperty("jqx-touch")),n.className=d,this.autoItemsHeight){n.style.whiteSpace="pre-line";var c=this.checkboxes?-20:0;n.style.width=c+h+"px"}if(this.renderer){var u=this.renderer(w.index,w.label,w.value);n.innerHTML=u}else null!=w.html&&w.html.toString().length>0?n.innerHTML=w.html:null==w.label&&null==w.value||(null!=w.label?(n.innerHTML=w.label,""==w.label&&(n.innerHTML="Empty")):n.innerHTML=w.value);var p=n.offsetHeight,f=n.offsetWidth;this.itemHeight>-1&&(p=this.itemHeight),w.height=p,w.width=f,s+=++p,i=Math.max(i,f),s<=a&&o++}}else{s=0;var m=0,g="",v=0,x=0,b=-1;for(r=0;r<l;r++){var w;if((!(w=this.items[r]).isGroup||""!=w.label||""!=w.html)&&w.visible){d="";if(0==++b){if(d+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),d+=" "+this.toThemeProperty("jqx-fill-state-normal"),d+=" "+this.toThemeProperty("jqx-widget"),d+=" "+this.toThemeProperty("jqx-listbox"),d+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(d+=" "+this.toThemeProperty("jqx-touch"),d+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),n.className=d,this.autoItemsHeight){n.style.whiteSpace="pre-line";c=this.checkboxes?-20:0;n.style.width=c+h+"px"}null==w.html||""==w.label||null==w.label?n.innerHTML="Item":null!=w.html&&w.html.toString().length>0?n.innerHTML=w.html:null==w.label&&null==w.value||(null!=w.label?null!=w.label.toString().match(new RegExp("\\w"))||null!=w.label.toString().match(new RegExp("\\d"))?n.innerHTML=w.label:n.innerHTML="Item":n.innerHTML=w.value);p=1+n.offsetHeight;this.itemHeight>-1&&(p=this.itemHeight),m=p}null!=v&&(x=v),null!=w.html&&w.html.toString().length>0?x!=(v=Math.max(v,w.html.toString().length))&&(g=w.html):null!=w.label?x!=(v=Math.max(v,w.label.length))&&(g=w.label):null!=w.value&&x!=(v=Math.max(v,w.value.length))&&(g=w.value),w.height=m,s+=m,++s<=a&&o++}}n.innerHTML=g,i=n.offsetWidth}return s+=2,o<10&&(o=10),this.filterable&&(s+=this.filterHeight),n.parentNode.removeChild(n),{width:i,height:s,itemsPerPage:o}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(t){if(!this._renderOnDemand&&1!=(n=this).updatingListBox){if(null==n.items||0==n.items.length)return n.virtualSize={width:0,height:0,itemsPerPage:0},n._updatescrollbars(),n.renderedVisibleItems=new Array,void(n.itemswrapper&&n.itemswrapper.children().remove());var i=n.host.height();if(0==t){var s=2*(f=n._calculateVirtualSize(i)).itemsPerPage;n.autoHeight&&(s=n.items.length),n.virtualItemsCount=Math.min(s,n.items.length);f.width;return n.virtualSize=f,void n._updatescrollbars()}var r=0;n.visibleItems=new Array,n.renderedVisibleItems=new Array,n._removeHandlers(),n.allowDrag&&n._enableDragDrop&&(n.itemswrapper=null),null==n.itemswrapper&&(n.content[0].innerHTML="",n.itemswrapper=e('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),n.itemswrapper[0].style.height=2*i+"px",n.content[0].appendChild(n.itemswrapper[0]));s=2*(f=n._calculateVirtualSize(i)).itemsPerPage;n.autoHeight&&(s=n.items.length),n.virtualItemsCount=Math.min(s,n.items.length);var n=this;f.width;n.virtualSize=f;var o=Math.max(n.host.width(),17+f.width);n.itemswrapper[0].style.width=o+"px";for(var a="",l=e.jqx.browser.msie&&e.jqx.browser.version<9?' unselectable="on"':"",h=0;h<n.virtualItemsCount;h++){var d=n.items[h];if(a+="<div"+l+" role='option' id='"+("listitem"+h+n.element.id)+"' class='jqx-listitem-element'>",n.checkboxes){a+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var c='<div class="'+n.toThemeProperty("jqx-checkbox-default")+" "+n.toThemeProperty("jqx-fill-state-normal")+" "+n.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">';c+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+(d.checked?" "+n.toThemeProperty("jqx-checkbox-check-checked"):"")+'"></span>',a+=c+="</div></div>",a+="</div>"}a+="<span"+l+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}this.WinJS?n.itemswrapper.html(a):n.itemswrapper[0].innerHTML=a;var u=n.itemswrapper.children();for(h=0;h<n.virtualItemsCount;h++){d=n.items[h];var p=e(u[h]);if(n.allowDrag&&n._enableDragDrop&&p.addClass("draggable"),n.checkboxes){e(p.children()[0]);p.css("float","left"),e(p[0].firstChild).css("float","left")}p[0].style.height=d.height+"px",p[0].style.top=r+"px",r+=d.height+1,n.visualItems[h]=p}if(n._addHandlers(),n._updatescrollbars(),n.autoItemsHeight){var f;s=2*(f=n._calculateVirtualSize(i)).itemsPerPage;n.autoHeight&&(s=n.items.length),n.virtualItemsCount=Math.min(s,n.items.length);n=this,f.width;n.virtualSize=f,n._updatescrollbars()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(n.host.attr("hideFocus",!0),n.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){var t=this;if(t.virtualSize){var i=t.virtualSize.height,s=t.virtualSize.width,r=t.vScrollInstance,n=t.hScrollInstance;t._arrange(!1);var o=!1,a=t.host.outerWidth(),l=t.host.outerHeight(),h=0;if(s>a&&(h=t.hScrollBar.outerHeight()+2),i+h>l){var d=r.max;r.max=2+parseInt(i)+h-parseInt(l-2),"inherit"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="inherit",o=!0),d!=r.max&&r._arrange()}else"hidden"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="hidden",o=!0,r.setPosition(0));var c=0;"hidden"!=t.vScrollBar[0].style.visibility&&(c=t.scrollBarSize+6);var u=t.checkboxes?20:0;if(t.autoItemsHeight)t.hScrollBar[0].style.visibility="hidden";else if(s>=a-c-u){var p=n.max;"inherit"==t.vScrollBar[0].style.visibility?n.max=u+c+parseInt(s)-t.host.width()+4:n.max=u+parseInt(s)-t.host.width()+6,"inherit"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="inherit",o=!0),p!=n.max&&n._arrange(),"inherit"==t.vScrollBar[0].style.visibility&&(r.max=2+parseInt(i)+t.hScrollBar.outerHeight()+2-parseInt(t.host.height()))}else"hidden"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="hidden",o=!0);n.setPosition(0),o&&t._arrange(),t.itemswrapper&&(t.itemswrapper[0].style.width=Math.max(0,Math.max(a-2,17+s))+"px",t.itemswrapper[0].style.height=Math.max(0,2*l)+"px"),t.isTouchDevice()&&("visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,t.element.id):e.jqx.mobile.setTouchScroll(!0,t.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1;for(var i=!1,s=0;s<this.selectedIndexes.length;s++){var r=this.selectedIndexes[s];-1!=r&&null!=r&&(i=!0)}if(!i){this.selectedValue=null,this.selectedIndex=-1;var n=this.getVisibleItem(e);n&&this.selectedValues[n.value]&&(this.selectedValues[n.value]=null)}null!=t&&1!=t||(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var e=this,t=this.getItems(),i=this.getVisibleItems(),s=function(){var t=e.vScrollInstance.value;e.filterable&&(t-=e.filterHeight);for(var s=new Array,r=0;r<i.length;r++){var n=i[r];if(n){var o=n.initialTop,a=!0;(o+n.height-t<0||o-t>=e.host.height())&&(a=!1),a&&s.push(n)}}return s}();return{items:t,visibleItems:i,viewItems:s}},getItem:function(t){if(-1==t||isNaN(t)||"string"==typeof t)return-1===t?null:this.getItemByValue(t);var i=null;e.each(this.items,function(){if(this.index==t)return i=this,!1});return i},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=!0,null!=i&&1!=i||this._updateCheckedItems()}null!=s&&1!=s||this._raiseEvent(3,{label:r.label,value:r.value,checked:!0,item:r})}},getCheckedItems:function(){if(!this.checkboxes)return null;var t=new Array;return null!=this.items?(e.each(this.items,function(){this.checked&&(t[t.length]=this)}),t):void 0},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){!1!==t&&!0!==this.checked&&i._raiseEvent(3,{label:this.label,value:this.value,checked:!0,item:this}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){!1!==t&&!1!==this.checked&&(this.checked=!1,i._raiseEvent(3,{label:this.label,value:this.value,checked:!1,item:this})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=!1,null!=i&&1!=i||this._updateCheckedItems()}null!=s&&1!=s||this._raiseEvent(3,{label:r.label,value:r.value,checked:!1,item:r})}},indeterminateIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=null,null!=i&&1!=i||this._updateCheckedItems()}null!=s&&1!=s||this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[];for(var s in t)-1!=t[s]&&(i[i.length]=e[s]);return i},getSelectedItem:function(){var e=this.getSelectedItems();return e&&e.length>0?e[0]:null},_updateCheckedItems:function(){var t=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=t,this._renderItems();var i=e.data(this.element,"hoveredItem");null!=i&&(e(i).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(i).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(t){if(null!=this.visibleItems){if(t&&t.value&&(t=t.value),this.itemsByValue)return this.itemsByValue[e.trim(t).split(" ").join("?")];for(var i=this.visibleItems,s=0;s<i.length;s++)if(i[s].value==t)return i[s]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.visibleIndex,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.visibleIndex,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.visibleIndex,!0)}return!1},val:function(e){if(this.input){if(function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length)return this.input.val();var t=this.getItemByValue(e);return null!=t&&this.selectItem(t),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return this.clearSelection(),!1},unselectItem:function(e){if(null!=e){if(null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,s,r,n){if(!isNaN(e)){var o=this.selectedIndex;if(this.filterable&&(this.selectedIndex=-1),!(e<-1||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(this.multiple||this.multipleextended||this.selectedIndex!=e||s||this.checkboxes){if(this.checkboxes){this._updateCheckedItems();var a=o;this.selectedIndex!=e||this.multiple||(a=-1),null==r&&(r="none");var l=this.getItem(e),h=this.getItem(a);return this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),h=this.getVisibleItem(a)),this._raiseEvent("1",{index:a,type:r,item:h,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:n}),void this._renderItems()}this.focused=!0;var d=!1;this.selectedIndex!=e&&(d=!0);a=o;this.selectedIndex!=e||this.multiple||(a=-1),null==r&&(r="none");l=this.getItem(e),h=this.getItem(a);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),h=this.getVisibleItem(a)),null!=s&&s)this._raiseEvent("1",{index:a,type:r,item:h,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:n});else{var c=this,u=function(e,t,i,s,r,n){c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}),c.selectedIndex=e,c.selectedIndexes=[],t=e,c.selectedIndexes[e]=e,c.selectedValues=new Array,r&&(c.selectedValues[r.value]=r.value),c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n})},p=function(e,t,i,s,r,n){null==c.selectedIndexes[e]||-1==c.selectedIndexes[e]?(c.selectedIndexes[e]=e,c.selectedIndex=e,r&&(c.selectedValues[r.value]=r.value,c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n}))):(t=c.selectedIndexes[e],(s=c.getVisibleItem(t))&&(c.selectedValues[s.value]=null),c.selectedIndexes[e]=-1,c.selectedIndex=-1,c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==r&&(this.clearSelection(!1),c._clickedIndex=e),p(e,a,r,h,l,n);else if(this._shiftKey){null==c._clickedIndex&&(c._clickedIndex=a);var f=Math.min(c._clickedIndex,e),m=Math.max(c._clickedIndex,e);this.clearSelection(!1);for(var g=f;g<=m;g++)c.selectedIndexes[g]=g,c.selectedValues[c.getVisibleItem(g).value]=c.getVisibleItem(g).value,c._raiseEvent("0",{index:g,type:r,item:this.getVisibleItem(g),originalEvent:n});c.selectedIndex="keyboard"!=r?c._clickedIndex:e}}else"keyboard"!=r&&"mouse"!=r?(p(e,a,r,h,l,n),c._clickedIndex=e):(this.clearSelection(!1),c._clickedIndex=e,u(e,a,r,h,l,n));else this.multiple?p(e,a,r,h,l,n):(l&&(this.selectedValue=l.value),u(e,a,r,h,l,n))}return null!=i&&1!=i||this._renderItems(),null!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:l,oldItem:h,type:r,originalEvent:n}),this._updateInputSelection(),d}this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e))&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value)}}},_updateInputSelection:function(){this._syncSelection();var t=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&null!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),t.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var i=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),s="";if(i){for(var r=0;r<i.length;r++)null!=i[r]&&(r==i.length-1?s+=i[r].value:s+=i[r].value+",",t.push(i[r].value));this.input.val(s)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(e<0||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=0;this.filterable&&(i=this.filterHeight);var s=this.visibleItems[e];if(null==s)return!0;var r=s.initialTop,n=s.height;return!(r-t<i||r-t+i+n>=this.host.outerHeight())},_itemsInPage:function(){var t=0,i=this;return this.items&&e.each(this.items,function(){if(this.initialTop+this.height>=i.content.height())return!1;t++}),t},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(indx=e+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(e){for(indx=e-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this.filterInput.val();if(9!=e.keyCode&&"none"!=this.searchMode&&null!=this.searchMode&&"undefined"!=this.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode)return 37!=e.keyCode&&39!=e.keyCode&&void(e.altKey||18==e.keyCode||e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||e.metaKey||this.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||t!==this.searchString&&this._updateItemsVisibility(t))},_updateItemsVisibility:function(t){var i=this.getItems();if(null==i)return{index:-1,matchItem:new Array};var s=this,r=new Array,n=0;e.each(i,function(i){var o="";if(!this.isGroup){o=(o=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem").toString();var a=!1;switch(s.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":a=e.jqx.string.contains(o,t);break;case"equals":a=e.jqx.string.equals(o,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":a=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":a=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(o,t)}a||(this.visible=!1),a&&(r[n++]=this,this.visible=!0,this.visibleIndex),""==t&&(this.visible=!0,a=!1)}}),s.renderedVisibleItems=new Array,s.visibleItems=new Array,s.vScrollInstance.setPosition(0,!0),s._addItems(!1),s._renderItems();for(var o=0;o<s.items.length;o++)s.selectedIndexes[o]=-1;for(var a in s.selectedIndex=-1,s.selectedValues){t=s.selectedValues[a];var l=s.getItemByValue(t);l&&l.visible&&(s.selectedIndex=l.visibleIndex,s.selectedIndexes[l.visibleIndex]=l.visibleIndex)}s._syncSelection(),s.filterChange&&s.filterChange(t)},_getMatches:function(t,i){if(null==t||0==t.length)return-1;null==i&&(i=0);var s=this.getItems(),r=this,n=-1;return e.each(s,function(s){var o="";if(!this.isGroup){o=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var a=!1;switch(r.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":a=e.jqx.string.contains(o,t);break;case"equals":a=e.jqx.string.equals(o,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":a=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":a=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(o,t)}if(a&&this.visibleIndex>=i)return n=this.visibleIndex,!1}}),n},findItems:function(t){var i=this.getItems(),s=this,r=0,n=new Array;return e.each(i,function(i){var o="";if(!this.isGroup){o=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var a=!1;switch(s.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":a=e.jqx.string.contains(o,t);break;case"equals":a=e.jqx.string.equals(o,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":a=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":a=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(o,t)}a&&(n[r++]=this)}}),n},_syncSelection:function(){if(this.filterable){if(this.items)for(var e=0;e<this.items.length;e++){(t=this.items[e]).selected=!1}for(e=0;e<this.visibleItems.length;e++){var t=this.visibleItems[e];this.selectedIndexes&&this.selectedIndexes[e]==t.visibleIndex&&(t.selected=!0)}this.itemswrapper&&this._renderItems()}},_handleKeyDown:function(e){var t=e.keyCode,i=this,s=i.selectedIndex,r=i.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||e.target!=this.filterInput[0])){var n,o=function(){(i.multiple||i.checkboxes)&&i.clearSelection(!1)};if(e.altKey&&(t=-1),32==t&&this.checkboxes)return null!=(n=this.getItem(s))&&(i._updateItemCheck(n,s),e.preventDefault()),i._searchString="",i.selectIndex(n.visibleIndex,!1,!0,!0,"keyboard",e),void i._renderItems();if(i.incrementalSearch){var a=-1;i._searchString||(i._searchString=""),(8==t||46==t)&&i._searchString.length>=1&&(i._searchString=i._searchString.substr(0,i._searchString.length-1));var l=String.fromCharCode(t),h=!isNaN(parseInt(l)),d=!1;if(t>=65&&t<=97||h||8==t||32==t||46==t){e.shiftKey||(l=l.toLocaleLowerCase());var c=1+i.selectedIndex;8!=t&&32!=t&&46!=t&&(i._searchString.length>0&&i._searchString.substr(0,1)==l?(c=1+i.selectedIndex,i._searchString+=l):i._searchString+=l),32==t&&(i._searchString+=" ");var u=this._getMatches(i._searchString,c);if((a=u)==i._lastMatchIndex||-1==a){u=this._getMatches(i._searchString,0);a=u}if(i._lastMatchIndex=a,a>=0){i._toSelectTimer&&clearTimeout(i._toSelectTimer),i._toSelectTimer=setTimeout(function(){o(),i.selectIndex(a,!1,!1,!1,"keyboard",e),i.isIndexInView(a)?i._renderItems():i.ensureVisible(a)},i.incrementalSearchKeyDownDelay)}d=!0}if(null!=i._searchTimer&&clearTimeout(i._searchTimer),27!=t&&13!=t||(i._searchString=""),i._searchTimer=setTimeout(function(){i._searchString="",i._renderItems()},i.incrementalSearchDelay),a>=0)return;if(d)return!1}if(33==t){var p=i._itemsInPage();i.selectedIndex-p>=0?(o(),i.selectIndex(r-p,!1,!1,!1,"keyboard",e)):(o(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(32==t&&this.checkboxes)null!=(n=this.getItem(s))&&(i._updateItemCheck(n,s),e.preventDefault()),i._searchString="";if(36==t&&(o(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),35==t&&(o(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),34==t){p=i._itemsInPage();i.selectedIndex+p<i.visibleItems.length?(o(),i.selectIndex(r+p,!1,!1,!1,"keyboard",e)):(o(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(38==t){if(i._searchString="",!(i.selectedIndex>0))return!1;if((f=i._prevItemIndex(i.selectedIndex))==i.selectedIndex||-1==f)return!0;o(),i.selectIndex(f,!1,!1,!1,"keyboard",e)}else if(40==t){if(i._searchString="",!(i.selectedIndex+1<i.visibleItems.length))return!1;var f;if((f=i._nextItemIndex(i.selectedIndex))==i.selectedIndex||-1==f)return!0;o(),i.selectIndex(f,!1,!1,!1,"keyboard",e)}return 35!=t&&36!=t&&38!=t&&40!=t&&34!=t&&33!=t||(i.isIndexInView(i.selectedIndex)?i._renderItems():i.ensureVisible(i.selectedIndex),!1)}},_updateItemCheck:function(e,t){if(!this.disabled)switch(1==e.checked?e.checked=!(!e.hasThreeStates||!this.hasThreeStates)&&null:e.checked=null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;return e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(e){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id),this.removeHandler(e(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());if(this._arrange(),this.host.height()!=this._oldheight||this.host.width()!=this._oldwidth){this.host.width(),this._oldwidth;if(this.autoItemsHeight)this._render(!1);else if(this.items)if(this.items.length>0&&this.virtualItemsCount*this.items[0].height<this._oldheight-2)this._render(!1);else{var e=this.vScrollInstance.value;this._updatescrollbars(),this._renderItems(),e<this.vScrollInstance.max?this.vScrollInstance.setPosition(e):this.vScrollInstance.setPosition(this.vScrollInstance.max)}this._oldwidth=this.host.width(),this._oldheight=this.host.height()}},_addHandlers:function(){var t=this;this.focused=!1;new Date;var i=this.isTouchDevice();this.addHandler(this.vScrollBar,"valueChanged",function(i){e.jqx.browser.msie&&e.jqx.browser.version>9?setTimeout(function(){t._renderItems()},1):t._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){t.wheel(e,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(e(document),"keydown.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(e(document),"keyup.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return t._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(i){t.focused=!1;var s=e.data(t.element,"hoveredItem");null!=s&&(e(s).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(s).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.data(t.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.content,"blur",function(e){t.focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.host,"blur",function(i){e.jqx.browser.msie&&e.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)}),this.addHandler(this.content,"mouseenter",function(e){t.focused=!0});var s=e.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var r=t.isTouchDevice()&&!0!==this.touchMode,n=r?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),function(i){if(!t.enableSelection)return!0;if(r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0;var s=e.jqx.mobile.getTouches(i)[0];if(null!=s){var n=t.host.offset(),o=parseInt(s.pageX),a=parseInt(s.pageY);1==t.touchMode&&null!=s._pageX&&(o=parseInt(s._pageX),a=parseInt(s._pageY)),o-=n.left,a-=n.top;var l=t._hitTest(o,a);if(null!=l&&!l.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(t.checkboxes)return void t._updateItemCheck(l,l.visibleIndex);if(-1==l.html.indexOf("href"))return t.selectIndex(l.visibleIndex,!1,!0,!1,"mouse",i),i.preventDefault&&i.preventDefault(),t.content.trigger("click"),!1;setTimeout(function(){return t.selectIndex(l.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1},100)}}});else{var o=!1;this.addHandler(this.content,n,function(i){if(!t.enableSelection)return!0;if(o=!0,r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1;if(t.focused=!0,!t.isTouchDevice()&&t.focusable&&t.host.focus(),i.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=i.target){var a=i.target,l=e(a).offset(),h=t.host.offset();if(s){var d=e.jqx.mobile.getLeftPos(a),c=e.jqx.mobile.getTopPos(a);l.left=d,l.top=c,d=e.jqx.mobile.getLeftPos(t.element),c=e.jqx.mobile.getTopPos(t.element),h.left=d,h.top=c}var u=parseInt(l.top)-parseInt(h.top),p=parseInt(l.left)-parseInt(h.left),f=t._hitTest(p,u);if(null!=f&&!f.isGroup){var m=function(e,i){if(t._shiftKey||(t._clickedIndex=e.visibleIndex),t.checkboxes)if(p=20+i.pageX-l.left,t.rtl){"hidden"!=t.hScrollBar.css("visibility")?t.hScrollInstance.max:t.host.width();p<=t.host.width()-20&&(t.allowDrag?setTimeout(function(){t._dragItem||o||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)))}else p+t.hScrollInstance.value>=20&&(t.allowDrag?setTimeout(function(){t._dragItem||o||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)));else t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)};f.disabled||(-1!=f.html.indexOf("href")?setTimeout(function(){m(f,i)},100):m(f,i))}if("mousedown"==n){var g=!1;return i.which?g=3==i.which:i.button&&(g=2==i.button),!!g}}return!0})}this.addHandler(this.content,"mouseup",function(e){t.vScrollInstance.handlemouseup(t,e),o=!1}),e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(e){return!1})}i=this.isTouchDevice();this.enableHover&&!i&&(this._mousemovefunc=function(r){if(i)return!0;if(!t.enableHover)return!0;1==e.jqx.browser.msie&&e.jqx.browser.version;if(null==r.target)return!0;if(t.disabled)return!0;if(t.focused=!0,!t.vScrollInstance.isScrolling()&&r.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=r.target){var n=r.target,o=e(n).offset(),a=t.host.offset();if(s){var l=e.jqx.mobile.getLeftPos(n),h=e.jqx.mobile.getTopPos(n);o.left=l,o.top=h,l=e.jqx.mobile.getLeftPos(t.element),h=e.jqx.mobile.getTopPos(t.element),a.left=l,a.top=h}var d=parseInt(o.top)-parseInt(a.top),c=parseInt(o.left)-parseInt(a.left),u=t._hitTest(c,d);if(null!=u&&!u.isGroup&&!u.disabled){var p=e.data(t.element,"hoveredItem");null!=p&&(e(p).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(p).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),e.data(t.element,"hoveredItem",u.element);var f=e(u.element);f.addClass(t.toThemeProperty("jqx-listitem-state-hover")),f.addClass(t.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){null==e&&(e=!0);var t=this,i=null,s=null,r=t.filterable?t.filterHeight:0,n=function(e){return 0==(e=t.host.height())&&(e=200,t.host.height(e)),e};null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:null==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?s=t.height:null==t.height||isNaN(t.height)||(s=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),s=n(s)),null!=i&&(i=parseInt(i),parseInt(t.element.style.width)!=parseInt(t.width)&&t.host.width(t.width)),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.height(t.virtualSize.height+parseInt(t.scrollBarSize)+3),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,s=t.height):(t.host.height(t.virtualSize.height),t.height=t.virtualSize.height,s=t.virtualSize.height)):null!=s&&(s=parseInt(s),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.height(t.height),n(s)));var o=t.scrollBarSize;isNaN(o)&&(o=parseInt(o),isNaN(o)?o="17px":o+="px"),o=parseInt(o);var a=2,l=1;if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?l=o+4:t.vScrollInstance.setPosition(0),0==o&&(l=1,a=1),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?a=o+4:t.hScrollInstance.setPosition(0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",a=0),null==s&&(s=0);var h=parseInt(s)-4-o;h<0&&(h=0),parseInt(t.hScrollBar[0].style.height)!=o&&(parseInt(o)<0&&(o=0),t.hScrollBar[0].style.height=parseInt(o)+"px"),t.hScrollBar[0].style.top!=h+"px"&&(t.hScrollBar[0].style.top=h+"px",t.hScrollBar[0].style.left="0px");var d=i-o-4;d<0&&(d=0);var c=d+"px";if(t.hScrollBar[0].style.width!=c&&(t.hScrollBar[0].style.width=c),l<=1&&i>=2&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),o!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(o)+"px"),parseInt(s)-a!=parseInt(t.vScrollBar[0].style.height)){var u=parseInt(s)-a;u<0&&(u=0),t.vScrollBar[0].style.height=u+"px"}null==i&&(i=0);var p=parseInt(i)-parseInt(o)-4+"px";p!=t.vScrollBar[0].style.left&&(parseInt(p)>=0&&(t.vScrollBar[0].style.left=p),t.vScrollBar[0].style.top="0px");var f=t.vScrollInstance;f.disabled=t.disabled,e&&f._arrange();var m=t.hScrollInstance;if(m.disabled=t.disabled,e&&m._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(o)+3+"px",t.bottomRight[0].style.height=parseInt(o)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-l){var g=parseInt(i)-l;g<0&&(g=0),t.content[0].style.width=g+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"})),t.filterable&&t.filterInput&&t.filterInput.css({left:t.vScrollBar.width()+6+"px"})),parseInt(t.content[0].style.height)!=parseInt(s)-a){var v=parseInt(s)-a;v<0&&(v=0),t.content[0].style.height=v+"px",t.content[0].style.top="0px"}r>0&&(t.content[0].style.top=r+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-r+"px"),t.filterable?(t.filterInput[0].style.height=r-6+"px",t.filterInput[0].style.top="3px",t.rtl||(t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px"),t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.width(parseInt(i)-l),t.overlayContent.height(parseInt(s)-a))}},ensureVisible:function(t,i){isNaN(t)&&((s=this.getItemByValue(t))&&(t=s.index));if(this.isIndexInView(t)){if(i)for(indx=0;indx<this.visibleItems.length;indx++){if((s=this.visibleItems[indx]).visibleIndex==t&&!s.isGroup){n=this.vScrollInstance.value,h=s.initialTop;this.filterable&&(h=this.filterHeight+2+s.initialTop),n+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(h)}}}else{if(t<0)return;if(this.autoHeight)(r=e.data(this.vScrollBar[0],"jqxScrollBar").instance).setPosition(0);else for(indx=0;indx<this.visibleItems.length;indx++){var s;if((s=this.visibleItems[indx]).visibleIndex==t&&!s.isGroup){var r,n=(r=e.data(this.vScrollBar[0],"jqxScrollBar").instance).value,o=this.filterable?this.filterHeight+2:0,a="hidden"===this.hScrollBar.css("visibility")?0:this.scrollBarSize+4;if(s.initialTop<n)r.setPosition(s.initialTop),0==indx&&r.setPosition(0);else if(s.initialTop+s.height>n+this.host.height()-o){var l=this.host.height();if(this.filterable?r.setPosition(this.filterHeight+2+s.initialTop+s.height+2-l+a):(r.setPosition(s.initialTop+s.height+2-l+a),indx===this.visibleItems.length-1&&r.setPosition(r.max)),i){var n=r.value,h=s.initialTop;this.filterable&&(h=this.filterHeight+2+s.initialTop),n+l<r.max&&r.setPosition(h)}}break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min&&(e.setPosition(e.min),!0)},databind:function(t,i){this.records=new Array;var s=!!t._source,r=new e.jqx.dataAdapter(t,{autoBind:!1});s&&(r=t,t=t._source);var n=function(t,i){var s=function(i){var s=null;if("string"==typeof i)var r=i,n=i,o="";else if(null!=t.displayMember&&""!=t.displayMember)n=i[t.valueMember],r=i[t.displayMember];o="";if(t.groupMember?o=i[t.groupMember]:i&&null!=i.group&&(o=i.group),t.searchMember?s=i[t.searchMember]:i&&null!=i.searchLabel&&(s=i.searchLabel),t.valueMember||t.displayMember||"string"==e.type(i)&&(r=n=i.toString()),i&&null!=i.label)r=i.label;if(i&&null!=i.value)n=i.value;var a=!1;i&&null!=i.checked&&(a=i.checked);var l="";i&&null!=i.html&&(l=i.html);var h=!0;i&&null!=i.visible&&(h=i.visible);var d=!1;i&&null!=i.disabled&&(d=i.disabled);var c=!1;i&&null!=i.hasThreeStates&&(c=i.hasThreeStates);var u={};return u.label=r,u.value=n,u.searchLabel=s,u.html=l,u.visible=h,u.originalItem=i,u.group=o,u.groupHtml="",u.disabled=d,u.checked=a,u.hasThreeStates=c,u};if(null!=i&&r._changedrecords[0])return void e.each(r._changedrecords,function(){var e=this.index,r=this.record;if("remove"!=i)var n=s(r);switch(i){case"update":t.updateAt(n,e);break;case"add":t.insertAt(n,e);break;case"remove":t.removeAt(e)}});t.records=r.records;for(var n=t.records.length,o=new Array,a=0;a<n;a++){var l=t.records[a],h=s(l);h.index=a,o[a]=h}t.items=t.loadItems(o,!0),t._render(),t._raiseEvent("6")};null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async);var o=this;switch(t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),n(this),r.bindBindingUpdate(this.element.id,function(e){n(o,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),n(this),void r.bindBindingUpdate(this.element.id,function(){n(o)});var a={};r._options.data?e.extend(r._options.data,a):(t.data&&e.extend(a,t.data),r._options.data=a);r.unbindDownloadComplete(o.element.id),r.bindDownloadComplete(o.element.id,function(){n(o)}),(this.autoBind||!this.autoBind&&!i)&&r.dataBind()}},loadItems:function(t,i){if(null==t)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var s=this,r=0,n=0,o=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var a=new Array;this.itemsByValue=new Array,e.map(t,function(t){if(null==t)return null;var l=new e.jqx._jqxListBox.item,h=t.group,d=t.groupHtml,c=t.title,u=null;if(s.searchMember?u=t[s.searchMember]:t&&null!=t.searchLabel&&(u=t.searchLabel),null!=c&&null!=c||(c=""),null!=h&&null!=h||(h=""),s.groupMember&&(h=t[s.groupMember]),null!=d&&null!=d||(d=""),!s.groups[h]){s.groups[h]={items:new Array,index:-1,caption:h,captionHtml:d};var p=++r+"jqxGroup";s.groups[p]=s.groups[h],n++,s.groups.length=n}var f=s.groups[h];return f.index++,f.items[f.index]=l,"string"==typeof t?(l.label=t,l.value=t,arguments.length>1&&arguments[1]&&"string"==e.type(arguments[1])&&(l.label=t,l.value=arguments[1])):null==t.label&&null==t.value&&null==t.html&&null==t.group&&null==t.groupHtml?(l.label=t.toString(),l.value=t.toString()):(l.label=t.label,l.value=t.value,void 0===l.label&&(l.label=t.value),void 0===l.value&&(l.value=t.label)),"string"!=typeof t&&(void 0===t.label&&""!=s.displayMember&&(null!=t[s.displayMember]?l.label=t[s.displayMember]:l.label=""),void 0===t.value&&""!=s.valueMember&&(l.value=t[s.valueMember])),l.hasThreeStates=null==t.hasThreeStates||t.hasThreeStates,l.originalItem=t,i&&(l.originalItem=t.originalItem),l.title=c,c&&void 0===l.value&&void 0===l.label&&(l.value=l.label=c),l.html=t.html||"",t.html&&t.html,l.group=h,l.checked=t.checked||!1,l.groupHtml=t.groupHtml||"",l.disabled=t.disabled||!1,l.visible=null==t.visible||t.visible,l.searchLabel=u,l.index=o,a[o]=l,o++,l});var l=new Array,h=0;if(null==this.fromSelect||0==this.fromSelect)for(var d=0;d<n;d++){var c=(r=d+1)+"jqxGroup",u=this.groups[c];if(null==u||null==u)break;if(0==d&&""==u.caption&&""==u.captionHtml&&n<=1){for(var p=0;p<u.items.length;p++){var f=u.items[p].value;null!=u.items[p].value&&null!=u.items[p].value||(f=p),this.itemsByValue[e.trim(f).split(" ").join("?")]=u.items[p]}return u.items}var m=new e.jqx._jqxListBox.item;m.isGroup=!0,m.label=u.caption,""==u.caption&&""==u.captionHtml&&(u.caption=this.emptyGroupText,m.label=u.caption),m.html=u.captionHtml,l[h]=m,h++;for(var g=0;g<u.items.length;g++){l[h]=u.items[g];f=u.items[g].value;""!=u.items[g].value&&null!=u.items[g].value||(f=h),s.itemsByValue[e.trim(f).split(" ").join("?")]=u.items[g],h++}}else{h=0;var v=new Array;e.each(a,function(){if(!v[this.group]&&""!=this.group){var t=new e.jqx._jqxListBox.item;t.isGroup=!0,t.label=this.group,l[h]=t,h++,v[this.group]=!0}l[h]=this;var i=this.value;""!=this.value&&null!=this.value||(i=h-1),s.itemsByValue[e.trim(i).split(" ").join("?")]=this,h++})}return l},_mapItem:function(t){var i=new e.jqx._jqxListBox.item;return this.displayMember&&(null==t.label&&(t.label=t[this.displayMember]),null==t.value&&(t.value=t[this.valueMember])),"string"==typeof t?(i.label=t,i.value=t):"number"==typeof t?(i.label=t.toString(),i.value=t.toString()):(i.label=void 0!==t.label?t.label:t.value,i.value=void 0!==t.value?t.value:t.label),null==i.label&&null==i.value&&null==i.html&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.checked=t.checked||!1,i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return!(!i||null==i.index)&&this.updateAt(e,i.index)},updateAt:function(t,i){if(null!=t){var s=this._mapItem(t);this.itemsByValue[e.trim(s.value).split(" ").join("?")]=this.items[i],this.items[i].value=s.value,this.items[i].label=s.label,this.items[i].html=s.html,this.items[i].disabled=s.disabled,this._raiseEvent("9",{item:this.items[i]})}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(t,i){if(null==t)return!1;if(this._cachedItemHtml=[],null==this.items||0==this.items.length){this.source=new Array,this.refresh(),(r=this._mapItem(t)).index=0,this.items[this.items.length]=r,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var s=r.value;return""!=r.value&&null!=r.value||(s=i),this.itemsByValue[e.trim(s).split(" ").join("?")]=r,!1}var r=this._mapItem(t);if(-1==i||null==i||null==i||i>=this.items.length)r.index=this.items.length,this.items[this.items.length]=r;else{for(var n=new Array,o=0,a=!1,l=0,h=0;h<this.items.length;h++)0==this.items[h].isGroup&&l>=i&&!a&&(n[o++]=r,r.index=i,l++,a=!0),n[o]=this.items[h],this.items[h].isGroup||(n[o].index=l,l++),o++;this.items=n}s=r.value;""!=r.value&&null!=r.value||(s=i),this.itemsByValue[e.trim(s).split(" ").join("?")]=r,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=d.value;return d.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this.groups.length,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),d.setPosition(c),this._raiseEvent("7",{item:r}),this.rendered&&this.rendered(),!0},removeAt:function(t){if(t<0||t>this.items.length-1)return!1;if(null==t)return!1;var i=this.items[t].height;""!=(p=this.items[t].value)&&null!=p||(p=t),this.itemsByValue[e.trim(p).split(" ").join("?")]=null;var s=this.items[t];if(this.groups.length>1){for(var r=new Array,n=0;n<this.items.length;n++)this.items[n].isGroup||r.push({item:this.items[n],key:n});if(!r[t])return!1;this.items.splice(r[t].key,1)}else this.items.splice(t,1);var o=new Array,a=0,l=0;for(n=0;n<this.items.length;n++)o[a]=this.items[n],this.items[n].isGroup||(o[a].index=l,l++),a++;this.items=o;var h=e.data(this.vScrollBar[0],"jqxScrollBar").instance,d=(h=e.data(this.vScrollBar[0],"jqxScrollBar").instance).value;if(h.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=i;var c=2*this.virtualSize.itemsPerPage;this.autoHeight&&(c=this.items.length),this.virtualItemsCount=Math.min(c,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?h.setPosition(d):h.setPosition(0),this.itemsByValue=new Array;for(var u=0;u<this.items.length;u++){var p=this.items[u].value;""!=this.items[u].value&&null!=this.items[u].value||(p=u),this.itemsByValue[e.trim(p).split(" ").join("?")]=this.items[u]}return this._raiseEvent("8",{item:s}),0===this.items.length&&(this.selectedIndex=-1,this.selectedValue=null,this._updateInputSelection()),this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),s=-1;if(i&&null!=i.index&&!0!==t){for(var r=0;r<this.items.length;r++)if(this.items[r].label==i.label&&this.items[r].value==i.value){s=r;break}if(-1!=s)return this.removeAt(s)}if(-1==s)return this.removeAt(i.index)},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return!!this.items&&(!(e<0||e>this.items.length-1)&&(this.items[e].disabled=!0,this._renderItems(),!0))},enableAt:function(e){return!!this.items&&(!(e<0||e>this.items.length-1)&&(this.items[e].disabled=!1,this._renderItems(),!0))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),e.jqx.utilities.resize(this.host,null,!0);var t=e.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),t&&delete t.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(t,i){if(1==this._stopEvents)return!0;null==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this,this._updateInputSelection();var r=new e.Event(s);if(r.owner=this,r.args=args,null!=this.host)var n=this.host.trigger(r);return n}})}(jqxBaseFramework),function(e){e.jqx.parseSourceTag=function(t){var i=new Array,s=e(t).find("option"),r=e(t).find("optgroup"),n=!1;0===s.length&&(s=e(t).find("li")).length>0&&(n=!0);var o=null,a=(o=-1,new Array);if(e.each(s,function(t){var s=r.find(this).length>0,l=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),!0===n&&(this.label=e(this).text(),this.selected=e(this).attr("data-selected"),this.checked=this.selected,this.value=e(this).attr("data-value")||t,this.disabled=e(this).attr("disabled"));var h={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};e.jqx.browser.msie&&e.jqx.browser.version<8&&!n&&""==h.value&&null!=this.text&&this.text.length>0&&(h.value=this.text),s&&(l=r.find(this).parent()[0].label,h.group=l,a[l]||(a[l]=new Array,a.length++),a[l].push(h)),this.selected&&(o=t),h.checked=this.selected,void 0!==h.label&&i.push(h)}),a.length>0){var l=new Array;for(var h in a)if("indexOf"!==h){for(var d=0;d<r.length;d++)if(h===r[d].label||r[d].text){r[d];break}e.each(a[h],function(e,t){void 0!==this.label&&l.push(this)})}}return l&&l.length>0?{items:l,index:o}:{items:i,index:o}},e.jqx._jqxListBox.item=function(){return{group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1}}}(jqxBaseFramework),function(e){e.jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in t)if(t.hasOwnProperty(prop)&&e==prop)return t[prop]},e.jqx.jqxWidget("jqxButton","",{}),e.extend(e.jqx._jqxButton.prototype,{defineInstance:function(){var t={type:"",cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,imgPosition:"center",imgSrc:"",imgWidth:16,imgHeight:16,value:null,textPosition:"",textImageRelation:"overlay",rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxButton.prototype?t:(e.extend(!0,this,t),t)},_addImage:function(t){if("input"==this.element.nodeName.toLowerCase()||"button"==this.element.nodeName.toLowerCase()||"div"==this.element.nodeName.toLowerCase()){if(this._img)this._img.setAttribute("src",this.imgSrc),this._img.setAttribute("width",this.imgWidth),this._img.setAttribute("height",this.imgHeight),this._text.innerHTML=this.value;else{this.field=this.element,this.field.className&&(this._className=this.field.className);var i={title:this.field.title},s=null;if(this.field.getAttribute("value"))s=this.field.getAttribute("value");else if("input"!=this.element.nodeName.toLowerCase())s=this.element.innerHTML;this.value&&(s=this.value),this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t;var r=document.createElement("div");r.id=i.id,r.title=i.title,r.style.cssText=this.field.style.cssText,r.style.boxSizing="border-box";var n=document.createElement("img");n.setAttribute("src",this.imgSrc),n.setAttribute("width",this.imgWidth),n.setAttribute("height",this.imgHeight),r.appendChild(n),this._img=n;var o=document.createElement("span");s&&(o.innerHTML=s,this.value=s),r.appendChild(o),this._text=o,this.field.style.display="none",this.field.parentNode&&this.field.parentNode.insertBefore(r,this.field.nextSibling);var a=this.host.data();this.host=e(r),this.host.data(a),this.element=r,this.element.id=this.field.id,this.field.id=i.id;var l=new e(this.element),h=new e(this.field);if(this._className&&(l.addClass(this._className),h.removeClass(this._className)),this.field.tabIndex){var d=this.field.tabIndex;this.field.tabIndex=-1,this.element.tabIndex=d}}this.imgSrc?this._img.style.display="inline":this._img.style.display="none",this.value?this._text.style.display="inline":this._text.style.display="none",this._positionTextAndImage()}},_positionTextAndImage:function(){var e=this.element.offsetWidth,t=this.element.offsetHeight,i=this.imgWidth,s=this.imgHeight;""==this.imgSrc&&(i=0,s=0);var r=this._text.offsetWidth,n=this._text.offsetHeight,o=0,a=0;switch(this.textImageRelation){case"imageBeforeText":case"textBeforeImage":o=i+r+8+4+8,a=Math.max(s,n)+8+4+8;break;case"imageAboveText":case"textAboveImage":o=Math.max(i,r)+8,a=s+n+4+8+8;break;case"overlay":o=Math.max(i,r)+8,a=Math.max(s,n)+8}this.width||(this.element.style.width=o+"px",e=o),this.height||(this.element.style.height=a+"px",t=a),this._img.style.position="absolute",this._text.style.position="absolute",this.element.style.position="relative",this.element.style.overflow="hidden";var l={},h={},d=function(e,t,i,s,r){switch(t.width<s&&(t.width=s),t.height<r&&(t.height=r),i){case"left":e.style.left=t.left+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"topLeft":e.style.left=t.left+"px",e.style.top=t.top+"px";break;case"bottomLeft":e.style.left=t.left+"px",e.style.top=t.top+t.height-r+"px";break;default:case"center":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"top":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+"px";break;case"bottom":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+t.height-r+"px";break;case"right":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"topRight":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+"px";break;case"bottomRight":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+t.height-r+"px"}},c=0,u=0,p=e,f=t,m=(p-c)/2,g=(f-u)/2,v=this._img,x=this._text,b=f-u,w=p-c;switch(c+=4,u+=4,p=p-4-2,w=w-8-2,b=b-8-2,this.textImageRelation){case"imageBeforeText":switch(this.imgPosition){case"left":case"topLeft":case"bottomLeft":h={left:c,top:u,width:c+i,height:b},l={left:c+i+4,top:u,width:w-i-4,height:b};break;case"center":case"top":case"bottom":l={left:(h={left:m-r/2-i/2-2,top:u,width:i,height:b}).left+i+4,top:u,width:p-h.left-i-4,height:b};break;case"right":case"topRight":case"bottomRight":l={left:(h={left:p-r-i-4,top:u,width:i,height:b}).left+i+4,top:u,width:p-h.left-i-4,height:b}}d(v,h,this.imgPosition,i,s),d(x,l,this.textPosition,r,n);break;case"textBeforeImage":switch(this.textPosition){case"left":case"topLeft":case"bottomLeft":l={left:c,top:u,width:c+r,height:b},h={left:c+r+4,top:u,width:w-r-4,height:b};break;case"center":case"top":case"bottom":h={left:(l={left:m-r/2-i/2-2,top:u,width:r,height:b}).left+r+4,top:u,width:p-l.left-r-4,height:b};break;case"right":case"topRight":case"bottomRight":h={left:(l={left:p-r-i-4,top:u,width:r,height:b}).left+r+4,top:u,width:p-l.left-r-4,height:b}}d(v,h,this.imgPosition,i,s),d(x,l,this.textPosition,r,n);break;case"imageAboveText":switch(this.imgPosition){case"topRight":case"top":case"topLeft":h={left:c,top:u,width:w,height:s},l={left:c,top:u+s+4,width:w,height:b-s-4};break;case"left":case"center":case"right":l={left:c,top:(h={left:c,top:g-s/2-n/2-2,width:w,height:s}).top+4+s,width:w,height:b-h.top-4-s};break;case"bottomLeft":case"bottom":case"bottomRight":l={left:c,top:(h={left:c,top:f-s-n-4,width:w,height:s}).top+4+s,width:w,height:n}}d(v,h,this.imgPosition,i,s),d(x,l,this.textPosition,r,n);break;case"textAboveImage":switch(this.textPosition){case"topRight":case"top":case"topLeft":l={left:c,top:u,width:w,height:n},h={left:c,top:u+n+4,width:w,height:b-n-4};break;case"left":case"center":case"right":h={left:c,top:(l={left:c,top:g-s/2-n/2-2,width:w,height:n}).top+4+n,width:w,height:b-l.top-4-n};break;case"bottomLeft":case"bottom":case"bottomRight":h={left:c,top:(l={left:c,top:f-s-n-4,width:w,height:n}).top+4+n,width:w,height:s}}d(v,h,this.imgPosition,i,s),d(x,l,this.textPosition,r,n);break;case"overlay":default:l={left:c,top:u,width:w,height:b},d(v,h={left:c,top:u,width:w,height:b},this.imgPosition,i,s),d(x,l,this.textPosition,r,n)}},createInstance:function(t){var i=this;i._setSize(),i.buttonObj=new e(i.element),(""!=i.imgSrc||""!=i.textPosition||i.element.value&&i.element.value.indexOf("<")>=0||null!=i.value)&&(i.refresh(),i._addImage("jqxButton"),i.buttonObj=new e(i.element)),i._ariaDisabled||i.element.setAttribute("role","button"),""!==i.type&&i.element.setAttribute("type",i.type),i.overrideTheme||(i.buttonObj.addClass(i.toThemeProperty(e.jqx.cssroundedcorners(i.roundedCorners))),i.enableDefault&&i.buttonObj.addClass(i.toThemeProperty("jqx-button")),i.buttonObj.addClass(i.toThemeProperty("jqx-widget"))),i.isTouchDevice=e.jqx.mobile.isTouchDevice(),i._ariaDisabled||e.jqx.aria(this),"arrow"!=i.cursor&&(i.disabled?i.element.style.cursor="arrow":i.element.style.cursor=i.cursor);var s="mouseenter mouseleave mousedown focus blur";if(i._scrollAreaButton)s="mousedown";i.isTouchDevice&&(i.addHandler(i.host,e.jqx.mobile.getTouchEventName("touchstart"),function(e){i.isPressed=!0,i.refresh()}),i.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+i.element.id,function(e){i.isPressed=!1,i.refresh()})),i.addHandler(i.host,s,function(e){switch(e.type){case"mouseenter":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!0,i.refresh());break;case"mouseleave":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!1,i.refresh());break;case"mousedown":i.disabled||(i.isPressed=!0,i.refresh());break;case"focus":i.disabled||(i.isFocused=!0,i.refresh());break;case"blur":i.disabled||(i.isFocused=!1,i.refresh())}}),i.mouseupfunc=function(e){i.disabled||(i.isPressed||i.isMouseOver)&&(i.isPressed=!1,i.refresh())},i.addHandler(document,"mouseup.button"+i.element.id,i.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.that){var r="";if(window.parent&&document.referrer&&(r=document.referrer),-1!=r.indexOf(document.location.host)){window.top.document&&i.addHandler(e(window.top.document),"mouseup",function(e){i.isPressed=!1,i.refresh()})}}}catch(e){}i.propertyChangeMap.roundedCorners=function(t,i,s,r){t.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(s))),t.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},i.propertyChangeMap.disabled=function(t,i,s,r){s!=r&&(t.refresh(),t.element.setAttribute("disabled",r),t.element.disabled=r,t.element.style.cursor=r?"default":t.cursor,e.jqx.aria(t,"aria-disabled",t.disabled))},i.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},i.propertyChangeMap.template=function(e,t,i,s){i!=s&&(e.buttonObj.removeClass(e.toThemeProperty("jqx-"+i)),e.refresh())},i.propertyChangeMap.theme=function(t,i,s,r){t.buttonObj.removeClass(t.element),t.enableDefault&&t.buttonObj.addClass(t.toThemeProperty("jqx-button")),t.buttonObj.addClass(t.toThemeProperty("jqx-widget")),t.overrideTheme||t.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t._oldCSSCurrent=null,t.refresh()},i.disabled&&(i.element.disabled=!0,i.element.setAttribute("disabled","true"))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(){var t=this.host.find("input");return t.length>0?0==arguments.length||"object"==typeof value?t.val():(t.val(value),this.refresh(),t.val()):0==arguments.length||"object"==typeof value?"button"==this.element.nodeName.toLowerCase()?e(this.element).text():this.element.value:(this.element.value=arguments[0],"button"==this.element.nodeName.toLowerCase()&&e(this.element).text(arguments[0]),void this.refresh())},_setSize:function(){var e=this.height,t=this.width;e&&(isNaN(e)||(e+="px"),this.element.style.height=e),t&&(isNaN(t)||(t+="px"),this.element.style.width=t)},_removeHandlers:function(){this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"mousedown"),this.removeHandler(e(document),"mouseup.button"+this.element.id,this.mouseupfunc),this.isTouchDevice&&(this.removeHandler(this.host,e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+this.element.id)),this.mouseupfunc=null,delete this.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){this._removeHandlers();var t=e.data(this.element,"jqxButton");t&&delete t.instance,this.host.removeClass(),this.host.removeData(),this.host.remove(),delete this.set,delete this.get,delete this.call,delete this.element,delete this.host},render:function(){this.refresh()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e.refresh())},propertyChangedHandler:function(e,t,i,s){null!=this.isInitialized&&0!=this.isInitialized&&s!=i&&(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("type"===t&&e.element.setAttribute("type",s),"textImageRelation"!=t&&"textPosition"!=t&&"imgPosition"!=t||(e._img?e._positionTextAndImage():e._addImage("jqxButton")),"imgSrc"!=t&&"imgWidth"!=t&&"imgHeight"!=t&&"value"!=t||e._addImage("jqxButton"),"width"!=t&&"height"!=t||(e._setSize(),e.refresh())))},refresh:function(){if(!this.overrideTheme){var e=this.toThemeProperty("jqx-fill-state-focus"),t=this.toThemeProperty("jqx-fill-state-disabled"),i=this.toThemeProperty("jqx-fill-state-normal");this.enableDefault||(i="");var s=this.toThemeProperty("jqx-fill-state-hover"),r=this.toThemeProperty("jqx-fill-state-pressed"),n=this.toThemeProperty("jqx-fill-state-pressed");this.enablePressed||(r="");var o="";if(this.host){if(this.element.disabled=this.disabled,this.disabled)return this._oldCSSCurrent&&this.buttonObj.removeClass(this._oldCSSCurrent),o=i+" "+t,"default"!==this.template&&""!==this.template&&(o+=" jqx-"+this.template,""!=this.theme&&(o+=" jqx-"+this.template+"-"+this.theme)),this.buttonObj.addClass(o),void(this._oldCSSCurrent=o);o=this.isMouseOver&&!this.isTouchDevice?this.isPressed?n:s:this.isPressed?r:i,this.isFocused&&(o+=" "+e),"default"!==this.template&&""!==this.template&&(o+=" jqx-"+this.template,""!=this.theme&&(o+=" jqx-"+this.template+"-"+this.theme)),o!=this._oldCSSCurrent&&(this._oldCSSCurrent&&this.buttonObj.removeClass(this._oldCSSCurrent),this.buttonObj.addClass(o),this._oldCSSCurrent=o),this.rtl&&(this.buttonObj.addClass(this.toThemeProperty("jqx-rtl")),this.element.style.direction="rtl")}}}}),e.jqx.jqxWidget("jqxLinkButton","",{}),e.extend(e.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(t){var i=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var s=this.height||this.element.offsetHeight,r=this.width||this.element.offsetWidth;this.href=this.element.getAttribute("href"),this.target=this.element.getAttribute("target"),this.content=this.host.text(),this.element.innerHTML="";var n=document.createElement("input");n.type="button",n.className="jqx-wrapper "+this.toThemeProperty("jqx-reset"),this._setSize(n,r,s),n.value=this.content,new e(this.element).addClass(this.toThemeProperty("jqx-link")),this.element.style.color="inherit",this.element.appendChild(n),this._setSize(n,r,s);var o=null==t?{}:t[0]||{};e(n).jqxButton(o),this.wrapElement=n,this.disabled&&(this.element.disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,s){e.element.disabled=s,e.wrapElement.jqxButton({disabled:s})},this.addHandler(e(n),"click",function(e){return this.disabled||i.onclick(e),!1})},_setSize:function(e,t,i){i&&(isNaN(i)||(i+="px"),e.style.height=i),t&&(isNaN(t)||(t+="px"),e.style.width=t)},onclick:function(e){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),e.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),e.extend(e.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(t){var i=this,s=e.jqx.mobile.isTouchDevice(),r=s?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,n=s?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(e(document),r,function(e){null!=i.timeout&&(clearTimeout(i.timeout),i.timeout=null,i.refresh()),null!=i.timer&&(clearInterval(i.timer),i.timer=null,i.refresh())}),this.addHandler(this.base.host,n,function(e){null!=i.timer&&clearInterval(i.timer),i.timeout=setTimeout(function(){clearInterval(i.timer),i.timer=setInterval(function(e){i.ontimer(e)},i.delay)},150)}),this.mousemovefunc=function(e){s||0==e.which&&null!=i.timer&&(clearInterval(i.timer),i.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var t=e.jqx.mobile.isTouchDevice(),i=t?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,s=t?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,s),this.removeHandler(e(document),i),this.timer=null,delete this.mousemovefunc,delete this.timer;var r=e.data(this.base.element,"jqxRepeatButton");r&&delete r.instance,e(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(t){t=new e.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(t)}}),e.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),e.extend(e.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(t){var i=this;i.base.overrideTheme=!0,i.isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),i.propertyChangeMap.roundedCorners=function(t,i,s,r){t.base.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(s))),t.base.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},i.propertyChangeMap.toggled=function(e,t,i,s){e.refresh()},i.propertyChangeMap.disabled=function(e,t,i,s){e.base.disabled=s,e.refresh()},i.addHandler(i.base.host,"click",function(e){!i.base.disabled&&i.uiToggle&&i.toggle()}),i.isTouchDevice||(i.addHandler(i.base.host,"mouseenter",function(e){i.base.disabled||i.refresh()}),i.addHandler(i.base.host,"mouseleave",function(e){i.base.disabled||i.refresh()})),i.addHandler(i.base.host,"mousedown",function(e){i.base.disabled||i.refresh()}),i.addHandler(e(document),"mouseup.togglebutton"+i.base.element.id,function(e){i.base.disabled||i.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(e(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),e.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this.base.toThemeProperty("jqx-fill-state-disabled"),t=this.base.toThemeProperty("jqx-fill-state-normal");this.base.enableDefault||(t="");var i=this.base.toThemeProperty("jqx-fill-state-hover"),s=this.base.toThemeProperty("jqx-fill-state-pressed"),r=this.base.toThemeProperty("jqx-fill-state-pressed"),n="";if(this.base.element.disabled=this.base.disabled,this.base.disabled)return n=t+" "+e,void this.base.buttonObj.addClass(n);n=this.base.isMouseOver&&!this.isTouchDevice?this.base.isPressed||this.toggled?r:i:this.base.isPressed||this.toggled?s:t,"default"!==this.base.template&&""!==this.base.template&&(n+=" jqx-"+this.base.template,""!=this.base.theme&&(n+=" jqx-"+this.template+"-"+this.base.theme)),this.base.buttonObj.hasClass(e)&&e!=n&&this.base.buttonObj.removeClass(e),this.base.buttonObj.hasClass(t)&&t!=n&&this.base.buttonObj.removeClass(t),this.base.buttonObj.hasClass(i)&&i!=n&&this.base.buttonObj.removeClass(i),this.base.buttonObj.hasClass(s)&&s!=n&&this.base.buttonObj.removeClass(s),this.base.buttonObj.hasClass(r)&&r!=n&&this.base.buttonObj.removeClass(r),this.base.buttonObj.hasClass(n)||this.base.buttonObj.addClass(n)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxScrollBar","",{}),e.extend(e.jqx._jqxScrollBar.prototype,{defineInstance:function(){var t={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1,offset:0,reference:0,velocity:0,frame:0,timestamp:0,ticker:null,amplitude:0,target:0};return this===e.jqx._jqxScrollBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.render()},render:function(){this._mouseup=new Date;var t=this,i="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>";if(e.jqx.utilities&&"hidden"==e.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.host.html(i)}):this.element.innerHTML=i,null!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),null!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var s=this;e.jqx.utilities.resize(this.host,function(){s._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=e(this.element.firstChild),this.scrollWrap=e(this.scrollOuterWrap[0].firstChild),this.btnUp=e(this.scrollWrap[0].firstChild),this.areaUp=e(this.btnUp[0].nextSibling),this.btnThumb=e(this.areaUp[0].nextSibling),this.arrowUp=e(this.btnUp[0].firstChild),this.areaDown=e(this.btnThumb[0].nextSibling),this.btnDown=e(this.areaDown[0].nextSibling),this.arrowDown=e(this.btnDown[0].firstChild);var r=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+r,this.btnDown[0].id="jqxScrollBtnDown"+r,this.btnThumb[0].id="jqxScrollThumb"+r,this.areaUp[0].id="jqxScrollAreaUp"+r,this.areaDown[0].id="jqxScrollAreaDown"+r,this.scrollWrap[0].id="jqxScrollWrap"+r,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+r,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=e.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=e.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(e,t,i,s){isNaN(s)||i!=s&&e.setPosition(parseFloat(s),!0)},this.propertyChangeMap.width=function(e,t,i,s){null!=e.width&&parseInt(e.width)>0&&(e.host.width(parseInt(e.width)),e._arrange())},this.propertyChangeMap.height=function(e,t,i,s){null!=e.height&&parseInt(e.height)>0&&(e.host.height(parseInt(e.height)),e._arrange())},this.propertyChangeMap.theme=function(e,t,i,s){e.setTheme()},this.propertyChangeMap.max=function(e,t,i,s){isNaN(s)||i!=s&&(e.max=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.min=function(e,t,i,s){isNaN(s)||i!=s&&(e.min=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.disabled=function(e,t,i,s){i!=s&&(s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.btnUp.jqxRepeatButton("disabled",e.disabled),e.btnDown.jqxRepeatButton("disabled",e.disabled),e.btnThumb.jqxButton("disabled",e.disabled))},this.propertyChangeMap.touchMode=function(e,t,i,s){i!=s&&(e._updateTouchBehavior(),!0===s?(e.showButtons=!1,e.refresh()):!1===s&&(e.showButtons=!0,e.refresh()))},this.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=e.jqx.mobile.isTouchDevice(),1==this.touchMode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,e.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var t=this,i=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0,this._touchSupport=!0)}catch(e){}if((t.isTouchDevice||i)&&(this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchend"),function(e){var i=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),s=t.toThemeProperty("jqx-fill-state-pressed");return t.btnThumb.removeClass(i),t.btnThumb.removeClass(s),t.disabled||t.handlemouseup(t,e),!1}),this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchstart"),function(e){if(!t.disabled){if(1==t.touchMode)e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY;else{var i=e;i.originalEvent.touches&&i.originalEvent.touches.length?(e.clientX=i.originalEvent.touches[0].clientX,e.clientY=i.originalEvent.touches[0].clientY):(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)}t.handlemousedown(e),e.preventDefault&&e.preventDefault()}}),e.jqx.mobile.touchScroll(this.element,t.max,function(e,i,s,r,n){if("visible"==t.host.css("visibility")){if(1==t.touchMode)n.clientX=n.originalEvent.clientX,n.clientY=n.originalEvent.clientY;else{var o=n;o.originalEvent.touches&&o.originalEvent.touches.length?(n.clientX=o.originalEvent.touches[0].clientX,n.clientY=o.originalEvent.touches[0].clientY):(n.clientX=n.originalEvent.clientX,n.clientY=n.originalEvent.clientY)}var a=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");t.btnThumb.addClass(a),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.thumbCapture=!0,t.handlemousemove(n)}},t.element.id,t.host,t.host)),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s=null;if(window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)){var r=function(e){t.disabled||t.handlemouseup(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)}}}catch(e){}this.addHandler(this.btnDown,"click mouseup mousedown",function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonDownCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value+i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value+i);break;case"mouseup":if(!t.btnDownInstance.base.disabled&&t.buttonDownCapture)return t.buttonDownCapture=!1,t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","down"),t.handlemouseup(t,e),t.setPosition(t.value+i),!1;break;case"mousedown":if(!t.btnDownInstance.base.disabled)return t.buttonDownCapture=!0,t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","down"),!1}}),this.addHandler(this.btnUp,"click mouseup mousedown",function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonUpCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value-i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value-i);break;case"mouseup":if(!t.btnUpInstance.base.disabled&&t.buttonUpCapture)return t.buttonUpCapture=!1,t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","up"),t.handlemouseup(t,e),t.setPosition(t.value-i),!1;break;case"mousedown":if(!t.btnUpInstance.base.disabled)return t.buttonUpCapture=!0,t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","up"),!1}})}var n="click";if(this.isTouchDevice&&(n=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,n,function(e){if(!t.disabled){var i=t.largestep;return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value-i),!1}}),this.addHandler(this.areaDown,n,function(e){if(!t.disabled){var i=t.largestep;return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value+i),!1}}),this.addHandler(this.areaUp,"mousedown",function(e){if(!t.disabled)return t.areaUpCapture=!0,!1}),this.addHandler(this.areaDown,"mousedown",function(e){if(!t.disabled)return t.areaDownCapture=!0,!1}),this.addHandler(this.btnThumb,"mousedown dragstart",function(e){if("dragstart"===e.type)return!1;t.disabled||t.handlemousedown(e),e.preventDefault&&e.preventDefault()}),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.disabled||t.handlemouseup(t,e)}),!this.isTouchDevice&&(this.mousemoveFunc=function(e){t.disabled||t.handlemousemove(e)},this.addHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(e(document),"mouseleave."+this.element.id,function(e){t.disabled||t.handlemouseleave(e)}),this.addHandler(e(document),"mouseenter."+this.element.id,function(e){t.disabled||t.handlemouseenter(e)}),!t.disabled)){this.addHandler(this.btnUp,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","up")):t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","up"))});var o=t.toThemeProperty("jqx-scrollbar-thumb-state-hover");t.vertical||(o=t.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||1==t.touchMode||(t.btnThumb.addClass(o),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-hover"))):t.disabled||1==t.touchMode||(t.btnThumb.removeClass(o),t.btnThumb.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","down")):t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","down"))})}},destroy:function(){var t=this.btnUp,i=this.btnDown,s=this.btnThumb,r=(this.scrollWrap,this.areaUp),n=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,n.removeClass(),r.removeClass(),i.removeClass(),t.removeClass(),s.removeClass(),t.jqxRepeatButton("destroy"),i.jqxRepeatButton("destroy"),r.jqxRepeatButton("destroy"),n.jqxRepeatButton("destroy"),s.jqxButton("destroy");var o=e.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,o&&delete o.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(e(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(e(document),"mousemove."+this.element.id),this.removeHandler(e(document),"mouseleave."+this.element.id),this.removeHandler(e(document),"mouseenter."+this.element.id)},_addArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},_removeArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},setTheme:function(){var t=this.btnUp,i=this.btnDown,s=this.btnThumb,r=this.scrollWrap,n=(this.areaUp,this.areaDown,this.arrowUp),o=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var a=this.toThemeProperty("jqx-reset");this.areaDown[0].className=a,this.areaUp[0].className=a;var l=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(l),this.isTouchDevice&&this.host.addClass(this.toThemeProperty("jqx-scrollbar-mobile")),i[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var h="";if(this.vertical?(n[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-up"),o[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-down"),h=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(n[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-left"),o[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-right"),h=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),s[0].className=h,this.disabled?(r.addClass(this.toThemeProperty("jqx-fill-state-disabled")),r.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(r.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),r.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var d=e.jqx.cssroundedcorners("top");d=this.toThemeProperty(d),t.addClass(d);var c=e.jqx.cssroundedcorners("bottom");c=this.toThemeProperty(c),i.addClass(c)}else{var u=e.jqx.cssroundedcorners("left");u=this.toThemeProperty(u),t.addClass(u);var p=e.jqx.cssroundedcorners("right");p=this.toThemeProperty(p),i.addClass(p)}else{var f=e.jqx.cssroundedcorners(this.roundedCorners);f=this.toThemeProperty(f),elBtnUp.addClass(f),elBtnDown.addClass(f)}f=e.jqx.cssroundedcorners(this.roundedCorners);f=this.toThemeProperty(f),s.hasClass(f)||s.addClass(f),"none"===t.css("display")&&(this.showButtons=!1,this.touchModeStyle=!0,s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return null!=this.thumbCapture&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&null!=this.areaDownCapture&&null!=this.areaUpCapture&&(this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture)},track:function(){var e,t,i,s;t=(e=Date.now())-this.timestamp,this.timestamp=e,i=this.offset-this.frame,this.frame=this.offset,s=1e3*i/(1+t),this.velocity=.2*s+.2*this.velocity},handlemousedown:function(t){if(null==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var i=this.btnThumb;null!=i&&(i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}var s=this;this.thumbCapture&&e.jqx.scrollAnimation&&(s.reference=parseInt(s.btnThumb[0].style.top),s.offset=parseInt(s.btnThumb[0].style.top),s.vertical||(s.reference=parseInt(s.btnThumb[0].style.left),s.offset=parseInt(s.btnThumb[0].style.left)),s.velocity=s.amplitude=0,s.frame=s.offset,s.timestamp=Date.now(),clearInterval(s.ticker),s.ticker=setInterval(function(){s.track()},100)),this.dragStartX=t.clientX,this.dragStartY=t.clientY,this.dragStartValue=this.value},toggleHover:function(e,t){},refresh:function(){this._arrange()},_setElementPosition:function(e,t,i){isNaN(t)||parseInt(e[0].style.left)!=parseInt(t)&&(e[0].style.left=t+"px"),isNaN(i)||parseInt(e[0].style.top)!=parseInt(i)&&(e[0].style.top=i+"px")},_setElementTopPosition:function(e,t){isNaN(t)||(e[0].style.top=t+"px")},_setElementLeftPosition:function(e,t){isNaN(t)||(e[0].style.left=t+"px")},handlemouseleave:function(e){var t=this.btnUp,i=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var s=this.btnThumb,r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(e){var t=this.btnUp,i=this.btnDown;if(this.buttonUpCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(i.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var s=this.btnThumb;this.vertical?s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),s.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(e){var t=this.btnUp,i=this.btnDown;if(null!=i&&null!=t){if(null!=t&&null!=i&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&(this.buttonDownCapture&&0==e.which?(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&0==e.which&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var s=this.btnThumb;if(0==e.which&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");return s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}null!=e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation();var n=0;try{n=this.vertical?e.clientY-this.dragStartY:e.clientX-this.dragStartX;var o=this._btnAndThumbSize;this._btnAndThumbSize||(o=this.vertical?t.height()+i.height()+s.height():t.width()+i.width()+s.width());var a=(this.max-this.min)/(this.scrollBarSize-o);if("auto"!=this.thumbStep){if(n*=a,Math.abs(this.dragStartValue+n-this.value)>=parseInt(this.thumbStep)){var l=Math.round(parseInt(n)/this.thumbStep)*this.thumbStep;return this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-l):this.setPosition(this.dragStartValue+l),!1}return!1}l=n*=a;this.rtl&&!this.vertical&&(l=-n),this.setPosition(this.dragStartValue+l),this.offset=parseInt(s[0].style.left),this.vertical&&(this.offset=parseInt(s[0].style.top))}catch(e){alert(e)}return!1}},handlemouseup:function(t,i){var s=!1;if(this.thumbCapture){this.thumbCapture=!1;var r=this.btnThumb,n=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");if(r.removeClass(n),r.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),s=!0,this._mouseup=new Date,e.jqx.scrollAnimation){var o=this;clearInterval(this.ticker),(this.velocity>25||this.velocity<-25)&&(this.amplitude=.8*this.velocity,this.target=Math.round(this.offset+this.amplitude),this.vertical,this.target-=this.reference,this.timestamp=Date.now(),requestAnimationFrame(function e(){var t,i;if(o.amplitude)if(t=Date.now()-o.timestamp,(i=-o.amplitude*Math.exp(-t/325))>.5||i<-.5){var s=r=(o.max-o.min)/(o.scrollBarSize-o._btnAndThumbSize)*(o.target+i);o.rtl&&!o.vertical&&(s=-r),o.setPosition(o.dragStartValue+s),requestAnimationFrame(e)}else{var r;s=r=(o.max-o.min)/(o.scrollBarSize-o._btnAndThumbSize)*(o.target+i),o.rtl&&!o.vertical&&(s=-r),o.setPosition(o.dragStartValue+s)}}))}}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var a=this.btnUp,l=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),l.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),l.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),s=!0,this._mouseup=new Date}s&&(null!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),null!=i.stopPropagation&&i.stopPropagation())},setPosition:function(t,i){this.element;if(null!=t&&NaN!=t||(t=this.min),t>=this.max&&(t=this.max),t<this.min&&(t=this.min),this.value!==t||1==i){if(t==this.max){var s=new e.Event("complete");this.host.trigger(s)}var r=this.value;if(this._triggervaluechanged){var n=new e.Event("valueChanged");n.previousValue=this.value,n.currentValue=t}this.value=t,this._positionelements(),this._triggervaluechanged&&this.host.trigger(n),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:r})}return t},val:function(e){return function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length?this.value:(this.setPosition(e),e)},_getThumbSize:function(e){var t=this.max-this.min,i=0;return t>1?i=e/(t+e)*e:1==t?i=e-1:0==t&&(i=e),this.thumbSize>0&&(i=this.thumbSize),i<this.thumbMinSize&&(i=this.thumbMinSize),Math.min(i,e)},_positionelements:function(){this.element;var e=this.areaUp,t=this.areaDown,i=(this.btnUp,this.btnDown,this.btnThumb),s=(this.scrollWrap,this._height?this._height:this.host.height()),r=this._width?this._width:this.host.width(),n=this.vertical?r:s;this.showButtons||(n=0);var o=this.vertical?s:r;this.scrollBarSize=o;var a=this._getThumbSize(o-2*n);(a=Math.floor(a))<this.thumbMinSize&&(a=this.thumbMinSize),(NaN==s||s<10)&&(s=10),(NaN==r||r<10)&&(r=10),n+=2,this.btnSize=n;var l=this._btnAndThumbSize;if(!this._btnAndThumbSize){l=this.vertical?2*this.btnSize+i.outerHeight():2*this.btnSize+i.outerWidth();l=Math.round(l)}var h=(o-l)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(h=(o-l)/(this.max-this.min)*(this.max-this.value-this.min)),(h=Math.round(h))<0&&(h=0),this.vertical){var d=o-h-l;d<0&&(d=0),t[0].style.height=d+"px",e[0].style.height=h+"px",this._setElementTopPosition(e,n),this._setElementTopPosition(i,n+h),this._setElementTopPosition(t,n+h+a)}else e[0].style.width=h+"px",t[0].style.width=o-h-l>=0?o-h-l+"px":"0px",this._setElementLeftPosition(e,n),this._setElementLeftPosition(i,n+h),this._setElementLeftPosition(t,2+n+h+a)},_arrange:function(){if(this._initialLayout)this._initialLayout=!1;else{if(this.min>this.max){var e=this.min;this.min=this.max,this.max=e}if(this.min<0){var t=this.max-this.min;this.min=0,this.max=t}this.element;var i=this.areaUp,s=this.areaDown,r=this.btnUp,n=this.btnDown,o=this.btnThumb,a=this.scrollWrap,l=parseInt(this.element.style.height),h=parseInt(this.element.style.width);if(this.isPercentage)l=this.host.height(),h=this.host.width();isNaN(l)&&(l=0),isNaN(h)&&(h=0),this._width=h,this._height=l;var d=this.vertical?h:l;this.showButtons||(d=0),r[0].style.width=d+"px",r[0].style.height=d+"px",n[0].style.width=d+"px",n[0].style.height=d+"px",this.vertical?a[0].style.width=h+2+"px":a[0].style.height=l+2+"px",this._setElementPosition(r,0,0);var c=d+2;this.vertical?this._setElementPosition(n,0,l-c):this._setElementPosition(n,h-c,0);var u=this.vertical?l:h;this.scrollBarSize=u;var p=this._getThumbSize(u-2*c);(p=Math.floor(p-2))<this.thumbMinSize&&(p=this.thumbMinSize);var f=!1;this.isTouchDevice&&0!=this.touchModeStyle&&(f=!0),this.vertical?(o[0].style.width=h+"px",o[0].style.height=p+"px",f&&0!==this.thumbTouchSize&&(o.css({width:this.thumbTouchSize+"px"}),o.css("margin-left",(this.host.width()-this.thumbTouchSize)/2))):(o[0].style.width=p+"px",o[0].style.height=l+"px",f&&0!==this.thumbTouchSize&&(o.css({height:this.thumbTouchSize+"px"}),o.css("margin-top",(this.host.height()-this.thumbTouchSize)/2))),(NaN==l||l<10)&&(l=10),(NaN==h||h<10)&&(h=10),this.btnSize=d;var m=this.vertical?2*c+(2+parseInt(o[0].style.height)):2*c+(2+parseInt(o[0].style.width));m=Math.round(m),this._btnAndThumbSize=m;var g=(u-m)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(g=(u-m)/(this.max-this.min)*(this.max-this.value-this.min)),g=Math.round(g),(isNaN(g)||g<0||g===-1/0||g===1/0)&&(g=0),this.vertical){var v=u-g-m;v<0&&(v=0),s[0].style.height=v+"px",s[0].style.width=h+"px",i[0].style.height=g+"px",i[0].style.width=h+"px";var x=parseInt(this.element.style.height);this.isPercentage&&(x=this.host.height()),o[0].style.visibility="inherit",(x-3*parseInt(d)<0||x<m)&&(o[0].style.visibility="hidden"),this._setElementPosition(i,0,c),this._setElementPosition(o,0,c+g),this._setElementPosition(s,0,c+g+p)}else{g>0&&(i[0].style.width=g+"px"),l>0&&(i[0].style.height=l+"px");var b=u-g-m;b<0&&(b=0),s[0].style.width=b+"px",s[0].style.height=l+"px";var w=parseInt(this.element.style.width);this.isPercentage&&(w=this.host.width()),o[0].style.visibility="inherit",(w-3*parseInt(d)<0||w<m)&&(o[0].style.visibility="hidden"),this._setElementPosition(i,c,0),this._setElementPosition(o,c+g,0),this._setElementPosition(s,c+g+p,0)}}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDraw","",{}),e.extend(e.jqx._jqxDraw.prototype,{defineInstance:function(){var t={renderEngine:""};e.extend(!0,this,t);var i=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var s in i)this._addFn(e.jqx._jqxDraw.prototype,i[s]);return t},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(t){return e.jqx.createRenderer(this,t)},_internalRefresh:function(){if(!e.jqx.isHidden(this.host)){this.renderer||(this.host.empty(),this._initRenderer(this.host));var t=this.renderer;if(t){var i=t.getRect();this._render({x:1,y:1,width:i.width,height:i.height}),t instanceof e.jqx.HTML5Renderer&&t.refresh()}}},_saveAsImage:function(t,i,s,r){return e.jqx._widgetToImage(this,t,i,s,r)},_render:function(e){this.renderer;this._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect;return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}})}(jqxBaseFramework),function(e){e.jqx.toGreyScale=function(t){if(-1==t.indexOf("#"))return t;var i=e.jqx.cssToRgb(t);i[0]=i[1]=i[2]=Math.round(.3*i[0]+.59*i[1]+.11*i[2]);var s=e.jqx.rgbToHex(i[0],i[1],i[2]);return"#"+s[0]+s[1]+s[2]},e.jqx.adjustColor=function(t,i){if("string"!=typeof t)return"#000000";if(-1==t.indexOf("#"))return t;var s=e.jqx.cssToRgb(t),r=e.jqx.rgbToHsl(s);r[2]=Math.min(1,r[2]*i),r[1]=Math.min(1,r[1]*i*1.1),s=e.jqx.hslToRgb(r);t="#";for(var n=0;n<3;n++){var o=Math.round(s[n]);1==(o=e.jqx.decToHex(o)).toString().length&&(t+="0"),t+=o}return t.toUpperCase()},e.jqx.decToHex=function(e){return e.toString(16)},e.jqx.hexToDec=function(e){return parseInt(e,16)},e.jqx.rgbToHex=function(t,i,s){return[e.jqx.decToHex(t),e.jqx.decToHex(i),e.jqx.decToHex(s)]},e.jqx.hexToRgb=function(t,i,s){return[e.jqx.hexToDec(t),e.jqx.hexToDec(i),e.jqx.hexToDec(s)]},e.jqx.cssToRgb=function(t){return t.indexOf("rgb")<=-1?e.jqx.hexToRgb(t.substring(1,3),t.substring(3,5),t.substring(5,7)):t.substring(4,t.length-1).split(",")},e.jqx.hslToRgb=function(t){var i=parseFloat(t[0]),s=parseFloat(t[1]),n=parseFloat(t[2]);if(0==s)r=g=b=n;else{var o=n<.5?n*(1+s):n+s-n*s,a=2*n-o;r=e.jqx.hueToRgb(a,o,i+1/3),g=e.jqx.hueToRgb(a,o,i),b=e.jqx.hueToRgb(a,o,i-1/3)}return[255*r,255*g,255*b]},e.jqx.hueToRgb=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},e.jqx.rgbToHsl=function(e){var t,i,s=parseFloat(e[0])/255,r=parseFloat(e[1])/255,n=parseFloat(e[2])/255,o=Math.max(s,r,n),a=Math.min(s,r,n),l=(o+a)/2;if(o==a)t=i=0;else{var h=o-a;switch(i=l>.5?h/(2-o-a):h/(o+a),o){case s:t=(r-n)/h+(r<n?6:0);break;case r:t=(n-s)/h+2;break;case n:t=(s-r)/h+4}t/=6}return[t,i,l]},e.jqx.swap=function(e,t){var i=e;e=t,t=i},e.jqx.getNum=function(t){if(e.isArray(t)){for(var i=0;i<t.length;i++)if(!isNaN(t[i]))return t[i]}else if(isNaN(t))return 0;return 0},e.jqx._ptdist=function(e,t,i,s){return Math.sqrt((i-e)*(i-e)+(s-t)*(s-t))},e.jqx._ptrnd=function(t){if(!document.createElementNS)return Math.round(t)==t?t:e.jqx._rnd(t,1,!1,!0);var i=e.jqx._rnd(t,.5,!1,!0);return.5!=Math.abs(i-Math.round(i))?i>t?i-.5:i+.5:i},e.jqx._ptRotate=function(e,t,i,s,r){var n=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-s),2)),o=Math.asin((e-i)/n)+r;return{x:e=i+Math.cos(o)*n,y:t=s+Math.sin(o)*n}},e.jqx._rup=function(e){var t=Math.round(e);return e>t&&t++,t},e.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},e.jqx._mod=function(e,t){var i=Math.abs(e>t?t:e),s=1;if(0!=i)for(;i*s<100;)s*=10;return(e*=s)%(t*=s)/s},e.jqx._rnd=function(t,i,s,r){if(isNaN(t))return t;void 0===r&&(r=!0);var n=t-(1==r?t%i:e.jqx._mod(t,i));return t==n?n:(s?t>n&&(n+=i):n>t&&(n-=i),1==i?Math.round(n):n)},e.jqx.commonRenderer={pieSlicePath:function(e,t,i,s,r,n,o){s||(s=1);var a=Math.abs(r-n),l=a>180?1:0;a>=360&&(n=r+359.99);var h=r*Math.PI*2/360,d=n*Math.PI*2/360,c=e,u=e,p=t,f=t,m=!isNaN(i)&&i>0;if(m&&(o=0),o+i>0){if(o>0){var g=(a/2+r)*Math.PI*2/360;e+=o*Math.cos(g),t-=o*Math.sin(g)}if(m){var v=i;c=e+v*Math.cos(h),p=t-v*Math.sin(h),u=e+v*Math.cos(d),f=t-v*Math.sin(d)}}var x=e+s*Math.cos(h),b=e+s*Math.cos(d),w=t-s*Math.sin(h),y=t-s*Math.sin(d),_="",j=Math.abs(Math.abs(n-r)-360)>.02;return m?(_="M "+u+","+f,_+=" a"+i+","+i,_+=" 0 "+l+",1 "+(c-u)+","+(p-f),_+=j?" L"+x+","+w:" M"+x+","+w,_+=" a"+s+","+s,_+=" 0 "+l+",0 "+(b-x)+","+(y-w),j&&(_+=" Z")):(_="M "+b+","+y,_+=" a"+s+","+s,_+=" 0 "+l+",1 "+(x-b)+","+(w-y),j&&(_+=" L"+e+","+t,_+=" Z")),_},measureText:function(t,i,s,r,n){var o=n._getTextParts(t,i,s),a=o.width,l=o.height;0==r&&(l/=.6);var h={};if(isNaN(i)&&(i=0),0==i)h={width:e.jqx._rup(a),height:e.jqx._rup(l)};else{var d=i*Math.PI*2/360,c=Math.abs(Math.sin(d)),u=Math.abs(Math.cos(d)),p=Math.abs(a*c+l*u),f=Math.abs(a*u+l*c);h={width:e.jqx._rup(f),height:e.jqx._rup(p)}}return r&&(h.textPartsInfo=o),h},alignTextInRect:function(t,i,s,r,n,o,a,l,h,d){var c=h*Math.PI*2/360,u=Math.sin(c),p=Math.cos(c),f=n*u,m=n*p;"center"==a||""==a||"undefined"==a?t+=s/2:"right"==a&&(t+=s),"center"==l||"middle"==l||""==l||"undefined"==l?i+=r/2:"bottom"==l?i+=r-o/2:"top"==l&&(i+=o/2);var g="middle";-1!=(d=d||"").indexOf("top")?g="top":-1!=d.indexOf("bottom")&&(g="bottom");var v="center";return-1!=d.indexOf("left")?v="left":-1!=d.indexOf("right")&&(v="right"),"center"==v?(t-=m/2,i-=f/2):"right"==v&&(t-=m,i-=f),"top"==g?(t-=o*u,i+=o*p):"middle"==g&&(t-=o*u/2,i+=o*p/2),{x:t=e.jqx._rup(t),y:i=e.jqx._rup(i)}}},e.jqx.svgRenderer=function(){},e.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){e.append("<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>"),this.host=e;var t=e.find(".chartContainer");t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px";try{var i=document.createElementNS(this._svgns,"svg");i.setAttribute("id","svgChart"),i.setAttribute("version","1.1"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("overflow","hidden"),t[0].appendChild(i),this.canvas=i}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var t=this.canvas.getBoundingClientRect(),i=parseFloat(t.left)==parseInt(t.left),s=parseFloat(t.top)==parseInt(t.top);if(e.jqx.browser.msie){i=!0,s=!0;for(var r=this.host,n=0,o=0;r&&r.position&&r[0].parentNode;){var a=r.position();n+=parseFloat(a.left)-parseInt(a.left),o+=parseFloat(a.top)-parseInt(a.top),r=r.parent()}i=parseFloat(n)==parseInt(n),s=parseFloat(o)==parseInt(o)}i||(this.host.find(".tdLeft")[0].style.width="0.5px"),s||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var t=this.host.find(".chartContainer");this._width=Math.max(e.jqx._rup(this.host.width())-1,0),this._height=Math.max(e.jqx._rup(this.host.height())-1,0),t[0].style.width=this._width,t[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(null!=e){this.removeHandler(e);try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(e){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var t=e.jqx.browser;if(t&&"msie"==t.browser&&t.version<10)return"";var i=window.location.href;return i?i=(i=i.replace(/([\('\)])/g,"\\$1")).replace(/#.*$/,""):i},setClip:function(e,t){var i="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":i})},_clipId:0,addHandler:function(t,i,s){e(t).on?e(t).on(i,s):e(t).bind(i,s)},removeHandler:function(t,i,s){e(t).off?e(t).off(i,s):e(t).unbind(i,s)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var s in t)i.setAttribute(s,t[s]);return this._activeParent().appendChild(i),i}},_getTextParts:function(t,i,s){var r={width:0,height:0,parts:[]};if(void 0===t)return r;var n=t.toString().split("<br>"),o=this._activeParent(),a=document.createElementNS(this._svgns,"text");this.attr(a,s);for(var l=0;l<n.length;l++){var h,d=n[l],c=a.ownerDocument.createTextNode(d);a.appendChild(c),o.appendChild(a);try{h=a.getBBox()}catch(e){}var u=e.jqx._rup(h.width),p=e.jqx._rup(.6*h.height);a.removeChild(c),r.width=Math.max(r.width,u),r.height+=p+(l>0?4:0),r.parts.push({width:u,height:p,text:d})}return o.removeChild(a),r},_measureText:function(t,i,s,r){return e.jqx.commonRenderer.measureText(t,i,s,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,s,r,n,o,a,l,h,d,c){var u,p=this._measureText(t,o,a,!0).textPartsInfo,f=p.parts;if(h||(h="center"),d||(d="center"),(f.length>1||l)&&(u=this.beginGroup()),l){var m=this.createClipRect({x:e.jqx._rup(i)-1,y:e.jqx._rup(s)-1,width:e.jqx._rup(r)+2,height:e.jqx._rup(n)+2});this.setClip(u,m)}var g,v,x=this._activeParent();g=p.width,v=p.height,(isNaN(r)||r<=0)&&(r=g),(isNaN(n)||n<=0)&&(n=v);var b=r||0,w=n||0;if(!o||0==o){s+=v,"center"==d||"middle"==d?s+=(w-v)/2:"bottom"==d&&(s+=w-v),r||(r=g),n||(n=v);x=this._activeParent();for(var y=0,_=f.length-1;_>=0;_--){var j=document.createElementNS(this._svgns,"text");this.attr(j,a),this.attr(j,{cursor:"default"});var q=j.ownerDocument.createTextNode(f[_].text);j.appendChild(q);var S=i,T=f[_].width,C=f[_].height;"center"==h?S+=(b-T)/2:"right"==h&&(S+=b-T),this.attr(j,{x:e.jqx._rup(S),y:e.jqx._rup(s+y),width:e.jqx._rup(T),height:e.jqx._rup(C)}),x.appendChild(j),y-=f[_].height+4}return u?(this.endGroup(),u):j}var I=e.jqx.commonRenderer.alignTextInRect(i,s,r,n,g,v,h,d,o,c);i=I.x,s=I.y;var k=this.shape("g",{transform:"translate("+i+","+s+")"}),P=this.shape("g",{transform:"rotate("+o+")"});k.appendChild(P);for(y=0,_=f.length-1;_>=0;_--){var M=document.createElementNS(this._svgns,"text");this.attr(M,a),this.attr(M,{cursor:"default"});q=M.ownerDocument.createTextNode(f[_].text);M.appendChild(q);S=0,T=f[_].width,C=f[_].height;"center"==h?S+=(p.width-T)/2:"right"==h&&(S+=p.width-T),this.attr(M,{x:e.jqx._rup(S),y:e.jqx._rup(y),width:e.jqx._rup(T),height:e.jqx._rup(C)}),P.appendChild(M),y-=C+4}return x.appendChild(k),u&&this.endGroup(),k},line:function(e,t,i,s,r){var n=this.shape("line",{x1:e,y1:t,x2:i,y2:s});return this.attr(n,r),n},path:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(t,i,s,r,n){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),s=Math.max(1,e.jqx._rnd(s,1,!1)),r=Math.max(1,e.jqx._rnd(r,1,!1));var o=this.shape("rect",{x:t,y:i,width:s,height:r});return n&&this.attr(o,n),o},circle:function(e,t,i,s){var r=this.shape("circle",{cx:e,cy:t,r:i});return s&&this.attr(r,s),r},pieSlicePath:function(t,i,s,r,n,o,a){return e.jqx.commonRenderer.pieSlicePath(t,i,s,r,n,o,a)},pieslice:function(e,t,i,s,r,n,o,a){var l=this.pieSlicePath(e,t,i,s,r,n,o),h=this.shape("path");return h.setAttribute("d",l),a&&this.attr(h,a),h},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(t,i,s){var r="grd"+this._id+t.replace("#","")+(i?"v":"h"),n="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[n])return n;var o=document.createElementNS(this._svgns,"linearGradient");this.attr(o,{x1:"0%",y1:"0%",x2:i?"0%":"100%",y2:i?"100%":"0%",id:r});for(var a=0;a<s.length;a++){var l=s[a],h=document.createElementNS(this._svgns,"stop"),d="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(h,{offset:l[0]+"%",style:d}),o.appendChild(h)}return this._defs.appendChild(o),this._gradients[n]=!0,n},_toRadialGradient:function(t,i,s){var r="grd"+this._id+t.replace("#","")+"r"+(null!=s?s.key:""),n="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[n])return n;var o=document.createElementNS(this._svgns,"radialGradient");null==s?this.attr(o,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:r}):this.attr(o,{cx:s.x,cy:s.y,r:s.outerRadius,id:r,gradientUnits:"userSpaceOnUse"});for(var a=0;a<i.length;a++){var l=i[a],h=document.createElementNS(this._svgns,"stop"),d="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(h,{offset:l[0]+"%",style:d}),o.appendChild(h)}return this._defs.appendChild(o),this._gradients[n]=!0,n}},e.jqx.vmlRenderer=function(){},e.jqx.vmlRenderer.prototype={init:function(t){t.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>"),this.host=t;var i=t.find(".chartContainer");i[0].style.width=t.width()+"px",i[0].style.height=t.height()+"px";var s=!0;try{for(var r=0;r<document.namespaces.length;r++)if("v"==document.namespaces[r].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[r].urn){s=!1;break}}catch(e){return!1}return e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(s&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):s&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=i[0],this._width=Math.max(e.jqx._rup(i.width()),0),this._height=Math.max(e.jqx._rup(i.height()),0),i[0].style.width=this._width+2,i[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group");return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div");return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(t,i,s){e(t).on?e(t).on(i,s):e(t).bind(i,s)},removeHandler:function(t,i,s){e(t).off?e(t).off(i,s):e(t).unbind(i,s)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(t,i,s){var r={width:0,height:0,parts:[]},n=t.toString().split("<br>"),o=this._activeParent(),a=document.createElement("v:textbox");this.attr(a,s),o.appendChild(a);for(var l=0;l<n.length;l++){var h=n[l],d=document.createElement("span");d.appendChild(document.createTextNode(h)),a.appendChild(d),s&&s.class&&(d.className=s.class);var c=e(a),u=e.jqx._rup(c.width()),p=e.jqx._rup(.6*c.height());if(0==p&&e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9){var f=c.css("font-size");f&&(p=parseInt(f),isNaN(p)&&(p=0))}a.removeChild(d),r.width=Math.max(r.width,u),r.height+=p+(l>0?2:0),r.parts.push({width:u,height:p,text:h})}return o.removeChild(a),r},_measureText:function(t,i,s,r){return i=Math.abs(i)>45?90:0,e.jqx.commonRenderer.measureText(t,i,s,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,s,r,n,o,a,l,h,d){var c;a&&a.stroke&&(c=a.stroke),null==c&&(c="black");var u,p=this._measureText(t,o,a,!0),f=p.textPartsInfo.parts,m=p.width,g=p.height;if((isNaN(r)||0==r)&&(r=m),(isNaN(n)||0==n)&&(n=g),h||(h="center"),d||(d="center"),(f.length>0||l)&&(u=this.beginGroup()),l){var v=this.createClipRect({x:e.jqx._rup(i),y:e.jqx._rup(s),width:e.jqx._rup(r),height:e.jqx._rup(n)});this.setClip(u,v)}var x=this._activeParent(),b=r||0,w=n||0,y=0,_=0;"center"==h?y+=(b-m)/2:"right"==h&&(y+=b-m),"center"==d?_=(w-g)/2:"bottom"==d&&(_=w-g),0==(o=Math.abs(o)>45?90:0)?(s+=g+_,i+=y):(i+=m+y,s+=_);for(var j,q=0,S=f.length-1;S>=0;S--){var T=f[S],C=(m-T.width)/2;0==o&&"left"==h?C=0:0==o&&"right"==h?C=m-T.width:90==o&&(C=(g-T.width)/2);var I=q-T.height;_=90==o?C:I,y=90==o?I:C,(j=document.createElement("v:textbox")).style.position="absolute",j.style.left=e.jqx._rup(i+y),j.style.top=e.jqx._rup(s+_),j.style.width=e.jqx._rup(T.width),j.style.height=e.jqx._rup(T.height),90==o&&(j.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",j.style.height=e.jqx._rup(T.height)+5);var k=document.createElement("span");k.appendChild(document.createTextNode(T.text)),a&&a.class&&(k.className=a.class),j.appendChild(k),x.appendChild(j),q-=T.height+(S>0?2:0)}return u?(this.endGroup(),x):j},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e));if(i){for(var s in t)i.setAttribute(s,t[s]);return this._activeParent().appendChild(i),i}},line:function(e,t,i,s,r){var n="M "+e+","+t+" L "+i+","+s+" X E",o=this.path(n);return this.attr(o,r),o},_createElementMarkup:function(e){var t="<v:"+e+' style=""></v:'+e+">";return this._ie8mode&&(t=t.replace('style=""','style="behavior: url(#default#VML);"')),t},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"));return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(t,i,s,r,n){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),s=e.jqx._rup(s),r=e.jqx._rup(r);var o=this.shape("rect",n);return o.style.position="absolute",o.style.left=t,o.style.top=i,o.style.width=s,o.style.height=r,o.strokeweight=0,n&&this.attr(o,n),o},circle:function(t,i,s,r){var n=this.shape("oval");return t=e.jqx._ptrnd(t-s),i=e.jqx._ptrnd(i-s),s=e.jqx._rup(s),n.style.position="absolute",n.style.left=t,n.style.top=i,n.style.width=2*s,n.style.height=2*s,r&&this.attr(n,r),n},updateCircle:function(t,i,s,r){null==i&&(i=parseFloat(t.style.left)+parseFloat(t.style.width)/2),null==s&&(s=parseFloat(t.style.top)+parseFloat(t.style.height)/2),null==r&&(r=parseFloat(t.width)/2),i=e.jqx._ptrnd(i-r),s=e.jqx._ptrnd(s-r),r=e.jqx._rup(r),t.style.left=i,t.style.top=s,t.style.width=2*r,t.style.height=2*r},pieSlicePath:function(t,i,s,r,n,o,a){r||(r=1);var l=Math.abs(n-o);l>360&&(n=0,o=360);var h=n*Math.PI*2/360,d=o*Math.PI*2/360,c=t,u=i,p=!isNaN(s)&&s>0;if(p&&(a=0),a>0){var f=(l/2+n)*Math.PI*2/360;t+=a*Math.cos(f),i-=a*Math.sin(f)}if(p){var m=s;c=e.jqx._ptrnd(t+m*Math.cos(h)),u=e.jqx._ptrnd(i-m*Math.sin(h)),e.jqx._ptrnd(t+m*Math.cos(d)),e.jqx._ptrnd(i-m*Math.sin(d))}e.jqx._ptrnd(t+r*Math.cos(h));var g=e.jqx._ptrnd(t+r*Math.cos(d)),v=(e.jqx._ptrnd(i-r*Math.sin(h)),e.jqx._ptrnd(i-r*Math.sin(d)));r=e.jqx._ptrnd(r),s=e.jqx._ptrnd(s),t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);var x=Math.round(65535*n),b=Math.round(65536*(o-n));s<0&&(s=1);var w="";return p?(w="M"+c+" "+u,w+=" AE "+t+" "+i+" "+s+" "+s+" "+x+" "+b,w+=" L "+g+" "+v,x=Math.round(65535*(n-o)),w+=" AE "+t+" "+i+" "+r+" "+r+" "+(b=Math.round(65536*o))+" "+x,w+=" L "+c+" "+u):(w="M"+t+" "+i,w+=" AE "+t+" "+i+" "+r+" "+r+" "+x+" "+b),w+=" X E"},pieslice:function(e,t,i,s,r,n,o,a){var l=this.pieSlicePath(e,t,i,s,r,n,o),h=this.path(l,a);return a&&this.attr(h,a),h},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml;return e},attr:function(e,t){if(e&&t)for(var i in t){var s=this._translateParam(i);null!=t[i]&&("fillcolor"==s&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==s&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==s||"fillopacity"==s?e.fill&&(e.fill.opacity=t[i]):"textContent"==s?e.children[0].innerText=t[i]:"dashstyle"==s?e.dashstyle=t[i].replace(","," "):-1==s.indexOf("style.")?e[s]=t[i]:e.style[s.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){var i=this._translateParam(t);return"opacity"==i||"fillopacity"==i?e.fill?e.fill.opacity:1:-1==i.indexOf("style.")?e[i]:e.style[i.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(t,i,s){if(this._ie8mode)return t;var r="grd"+t.replace("#","")+(i?"v":"h"),n="#"+r;if(this._gradients[n])return n;var o=document.createElement(this._createElementMarkup("fill"));o.type="gradient",o.method="linear",o.angle=i?0:90;for(var a="",l=0;l<s.length;l++){var h=s[l];h>0&&(a+=", "),a+=h[0]+"% "+e.jqx.adjustColor(t,h[1])}o.colors=a;var d=document.createElement(this._createElementMarkup("shapetype"));return d.appendChild(o),d.id=r,this.canvas.appendChild(d),n}},e.jqx.HTML5Renderer=function(){},e.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return t<e&&(t-=1),t+.5},e.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){return this.host.find(".chartContainer")},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){null!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i={type:e,id:this._maxId++};for(var s in t)i[s]=t[s];return this._elements[i.id]=i,i},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,s,r){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(s))throw'Invalid value for "height"';var n=this.shape("rect",{x:e,y:t,width:i,height:s});return r&&this.attr(n,r),n},path:function(e,t){var i=this.shape("path",t);return this.attr(i,{d:e}),i},line:function(e,t,i,s,r){return this.path("M "+e+","+t+" L "+i+","+s,r)},circle:function(e,t,i,s){var r=this.shape("circle",{x:e,y:t,r:i});return s&&this.attr(r,s),r},pieSlicePath:function(t,i,s,r,n,o,a){return e.jqx.commonRenderer.pieSlicePath(t,i,s,r,n,o,a)},pieslice:function(e,t,i,s,r,n,o,a){var l=this.path(this.pieSlicePath(e,t,i,s,r,n,o),a);return this.attr(l,{x:e,y:t,innerRadius:i,outerRadius:s,angleFrom:r,angleTo:n}),l},_getCSSStyle:function(e){var t=document.styleSheets;try{for(var i=0;i<t.length;i++)for(var s=0;t[i].cssRules&&s<t[i].cssRules.length;s++)if(-1!=t[i].cssRules[s].selectorText.indexOf(e))return t[i].cssRules[s].style}catch(e){}return{}},_getTextParts:function(t,i,s){var r="Arial",n="10pt",o="";if(s&&s.class){var a=this._getCSSStyle(s.class);a.fontSize&&(n=a.fontSize),a.fontFamily&&(r=a.fontFamily),a.fontWeight&&(o=a.fontWeight)}this.ctx.font=o+" "+n+" "+r;for(var l={width:0,height:0,parts:[]},h=t.toString().split("<br>"),d=0;d<h.length;d++){var c=h[d],u=this.ctx.measureText(c).width,p=document.createElement("span.jqxchart");p.font=this.ctx.font,p.textContent=c,document.body.appendChild(p);var f=.6*p.offsetHeight;document.body.removeChild(p),l.width=Math.max(l.width,e.jqx._rup(u)),l.height+=f+(d>0?4:0),l.parts.push({width:u,height:f,text:c})}return l},_measureText:function(t,i,s,r){return e.jqx.commonRenderer.measureText(t,i,s,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,s,r,n,o,a,l,h,d){var c=this.shape("text",{text:e,x:t,y:i,width:s,height:r,angle:n,clip:a,halign:l,valign:h,rotateAround:d});if(o&&this.attr(c,o),c.fontFamily="Arial",c.fontSize="10pt",c.fontWeight="",c.color="#000000",o&&o.class){var u=this._getCSSStyle(o.class);c.fontFamily=u.fontFamily||c.fontFamily,c.fontSize=u.fontSize||c.fontSize,c.fontWeight=u.fontWeight||c.fontWeight,c.color=u.color||c.color}var p=this._measureText(e,0,o,!0);return this.attr(c,{textPartsInfo:p.textPartsInfo,textWidth:p.width,textHeight:p.height}),(s<=0||isNaN(s))&&this.attr(c,{width:p.width}),(r<=0||isNaN(r))&&this.attr(c,{height:p.height}),c},_toLinearGradient:function(t,i,s){if(this._renderers._gradients[t])return t;for(var r=[],n=0;n<s.length;n++)r.push({percent:s[n][0]/100,color:e.jqx.adjustColor(t,s[n][1])});var o="gr"+this._gradientId++;return this.createGradient(o,i?"vertical":"horizontal",r),o},_toRadialGradient:function(t,i){if(this._renderers._gradients[t])return t;for(var s=[],r=0;r<i.length;r++)s.push({percent:i[r][0]/100,color:e.jqx.adjustColor(t,i[r][1])});var n="gr"+this._gradientId++;return this.createGradient(n,"radial",s),n},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,s){e._gradients[t]={orientation:i,colorStops:s}},setStroke:function(e,t){var i=e.ctx;i.strokeStyle=t.stroke||"transparent",i.lineWidth=t["stroke-width"]||1,null!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:null!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))},setFillStyle:function(t,i){var s=t.ctx;if(s.fillStyle="transparent",null!=i["fill-opacity"]?s.globalAlpha=i["fill-opacity"]:null!=i.opacity?s.globalAlpha=i.opacity:s.globalAlpha=1,i.fill&&-1==i.fill.indexOf("#")&&t._gradients[i.fill]){var r,n="horizontal"!=t._gradients[i.fill].orientation,o="radial"==t._gradients[i.fill].orientation,a=e.jqx.ptrnd(i.x),l=e.jqx.ptrnd(i.y),h=e.jqx.ptrnd(i.x+(n?0:i.width)),d=e.jqx.ptrnd(i.y+(n?i.height:0));"circle"!=i.type&&"path"!=i.type&&"rect"!=i.type||!o||(x=e.jqx.ptrnd(i.x),y=e.jqx.ptrnd(i.y),r1=i.innerRadius||0,r2=i.outerRadius||i.r||0,"rect"==i.type&&(x+=i.width/2,y+=i.height/2),r=s.createRadialGradient(x,y,r1,x,y,r2)),o||((isNaN(a)||isNaN(h)||isNaN(l)||isNaN(d))&&(a=0,l=0,h=n?0:s.canvas.width,d=n?s.canvas.height:0),r=s.createLinearGradient(a,l,h,d));for(var c=t._gradients[i.fill].colorStops,u=0;u<c.length;u++)r.addColorStop(c[u].percent,c[u].color);s.fillStyle=r}else i.fill&&(s.fillStyle=i.fill)},rect:function(t,i){0!=i.width&&0!=i.height&&(t.fillRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height),t.strokeRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height))},circle:function(t,i){0!=i.r&&(t.beginPath(),t.arc(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.r,0,2*Math.PI,!1),t.closePath(),t.fill(),t.stroke())},_parsePoint:function(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if(e[i]>="0"&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&i>=1&&"e"==e[i-1])t=!0;else{if(t||" "!=e[i]&&","!=e[i])break;this._pos++}var s=parseFloat(e.substring(this._pos,i));if(!isNaN(s))return this._pos=i,s},_cmds:"mlcazq",_isRelativeCmd:function(t){return e.jqx.string.contains(this._cmds,t)},_parseCmd:function(t){for(var i=this._pos;i<t.length;i++){if(e.jqx.string.containsIgnoreCase(this._cmds,t[i]))return this._pos=i+1,this._lastCmd=t[i],this._lastCmd;if(" "!=t[i]){if(t[i]>="0"&&t[i]<="9"){if(this._pos=i,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d;this._pos=0,this._lastCmd="";var s=void 0;this._currentPoint={x:0,y:0},e.beginPath();for(;this._pos<i.length;){var r=this._parseCmd(i);if(null==r)break;if("M"!=r&&"m"!=r)if("L"!=r&&"l"!=r)if("A"!=r&&"a"!=r)if("Z"!=r&&"z"!=r||null==s)if("C"!=r&&"c"!=r)if("Q"!=r&&"q"!=r);else{n=this._parsePoint(i),o=this._parsePoint(i);e.quadraticCurveTo(n.x,n.y,o.x,o.y),this._currentPoint=o}else{var n=this._parsePoint(i),o=this._parsePoint(i),a=this._parsePoint(i);e.bezierCurveTo(n.x,n.y,o.x,o.y,a.x,a.y),this._currentPoint=a}else e.lineTo(s.x,s.y),this._currentPoint=s;else{var l=this._parseNumber(i),h=this._parseNumber(i),d=this._parseNumber(i)*(Math.PI/180),c=this._parseNumber(i),u=this._parseNumber(i),p=this._parsePoint(i);if(this._isRelativeCmd(r)&&(p=this._toAbsolutePoint(p)),0==l||0==h)continue;var f=this._currentPoint,m={x:Math.cos(d)*(f.x-p.x)/2+Math.sin(d)*(f.y-p.y)/2,y:-Math.sin(d)*(f.x-p.x)/2+Math.cos(d)*(f.y-p.y)/2},g=Math.pow(m.x,2)/Math.pow(l,2)+Math.pow(m.y,2)/Math.pow(h,2);g>1&&(l*=Math.sqrt(g),h*=Math.sqrt(g));var v=(c==u?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(h,2)-Math.pow(l,2)*Math.pow(m.y,2)-Math.pow(h,2)*Math.pow(m.x,2))/(Math.pow(l,2)*Math.pow(m.y,2)+Math.pow(h,2)*Math.pow(m.x,2)));isNaN(v)&&(v=0);var x={x:v*l*m.y/h,y:v*-h*m.x/l},b={x:(f.x+p.x)/2+Math.cos(d)*x.x-Math.sin(d)*x.y,y:(f.y+p.y)/2+Math.sin(d)*x.x+Math.cos(d)*x.y},w=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},y=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(w(e)*w(t))},_=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(y(e,t))},j=_([1,0],[(m.x-x.x)/l,(m.y-x.y)/h]),q=[(m.x-x.x)/l,(m.y-x.y)/h],S=[(-m.x-x.x)/l,(-m.y-x.y)/h],T=_(q,S);y(q,S)<=-1&&(T=Math.PI),y(q,S)>=1&&(T=0),0==u&&T>0&&(T-=2*Math.PI),1==u&&T<0&&(T+=2*Math.PI);y=l>h?l:h;var C=l>h?1:l/h,I=l>h?h/l:1;e.translate(b.x,b.y),e.rotate(d),e.scale(C,I),e.arc(0,0,y,j,j+T,1-u),e.scale(1/C,1/I),e.rotate(-d),e.translate(-b.x,-b.y)}else{if(null==(k=this._parsePoint(i)))break;e.lineTo(k.x,k.y),this._currentPoint=k}else{var k;if(null==(k=this._parsePoint(i)))break;e.moveTo(k.x,k.y),this._currentPoint=k,null==s&&(s=k)}}e.fill(),e.stroke(),e.closePath()},text:function(t,i){var s=e.jqx.ptrnd(i.x),r=e.jqx.ptrnd(i.y),n=e.jqx.ptrnd(i.width),o=e.jqx.ptrnd(i.height),a=i.halign,l=i.valign,h=i.angle,d=i.rotateAround,c=i.textPartsInfo,u=c.parts,p=i.clip;null==p&&(p=!0),t.save(),a||(a="center"),l||(l="center"),p&&(t.rect(s,r,n,o),t.clip());var f=i.textWidth,m=i.textHeight,g=n||0,v=o||0;if(t.fillStyle=i.color,t.font=i.fontWeight+" "+i.fontSize+" "+i.fontFamily,h&&0!=h){var x=e.jqx.commonRenderer.alignTextInRect(s,r,n,o,f,m,a,l,h,d);s=x.x,r=x.y;var b=h*Math.PI*2/360;t.translate(s,r),t.rotate(b);y=0;var w=c.width;for(_=u.length-1;_>=0;_--){q=0;"center"==a?q+=(w-u[_].width)/2:"right"==a&&(q+=w-u[_].width),t.fillText(u[_].text,q,y),y-=u[_].height+4}t.restore()}else{r+=m,"center"==l||"middle"==l?r+=(v-m)/2:"bottom"==l&&(r+=v-m),n||(n=f),o||(o=m);for(var y=0,_=u.length-1;_>=0;_--){var j=u[_],q=s,S=u[_].width;u[_].height;"center"==a?q+=(g-S)/2:"right"==a&&(q+=g-S),t.fillText(j.text,q,r+y),y-=j.height+(_>0?4:0)}t.restore()}}},refresh:function(){for(var e in this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height),this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},e.jqx.createRenderer=function(t,i){var s=t,r=s.renderer=null;if(document.createElementNS&&"HTML5"!=s.renderEngine&&"VML"!=s.renderEngine&&!(r=new e.jqx.svgRenderer).init(i)){if("SVG"==s.renderEngine)throw"Your browser does not support SVG";return null}if(null==r&&"HTML5"!=s.renderEngine){if(!(r=new e.jqx.vmlRenderer).init(i)){if("VML"==s.renderEngine)throw"Your browser does not support VML";return null}s._isVML=!0}if(null==r&&("HTML5"==s.renderEngine||null==s.renderEngine)&&!(r=new e.jqx.HTML5Renderer).init(i))throw"Your browser does not support HTML5 Canvas";return s.renderer=r,r},e.jqx._widgetToImage=function(t,i,s,r,n,o){var a=t;if(!a)return!1;null!=s&&""!=s||(s="image."+i);var l=a.renderEngine,h=a.enableAnimations;if(a.enableAnimations=!1,a.renderEngine="HTML5",a.renderEngine!=l)try{a.refresh()}catch(e){return a.renderEngine=l,a.refresh(),a.enableAnimations=h,!1}var d=a.renderer.getContainer().find("canvas")[0],c=!0;e.isFunction(o)&&(c=o(t,d));var u=!0;return c&&(u=e.jqx.exportImage(d,i,s,r,n)),a.renderEngine!=l&&(a.renderEngine=l,a.refresh(),a.enableAnimations=h),u},e.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i]);return t},e.jqx.exportImage=function(t,i,s,r,n){if(!t)return!1;var o="pdf"===i.toLowerCase();if(o&&(i="jpeg"),null!=s&&""!=s||(s="image."+i),null==r||""==r)throw"Please specifiy export server";var a=!0;try{if(t){var l=t.toDataURL("image/"+i);if(o){e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var h=595;switch(e.jqx.pdfExport.paperSize){case"legal":h=612;"portrait"!==e.jqx.pdfExport.orientation&&(h=1008);break;case"letter":h=612;"portrait"!==e.jqx.pdfExport.orientation&&(h=792);break;case"a3":h=841;"portrait"!==e.jqx.pdfExport.orientation&&(h=1190);break;case"a4":h=595;"portrait"!==e.jqx.pdfExport.orientation&&(h=842);break;case"a5":h=420;"portrait"!==e.jqx.pdfExport.orientation&&(h=595)}var d=72*e(t).width()/96;d>=h-20&&(d=h-20);var c=new pdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize);return c.addImage(l,"JPEG",10,10,d,0),void c.save(s)}if(l=l.replace("data:image/"+i+";base64,",""),n)e.ajax({dataType:"string",url:r,type:"POST",data:{content:l,fname:s},async:!1,success:function(e,t,i){a=!0},error:function(e,t,i){a=!1}});else{var u=document.createElement("form");u.method="POST",u.action=r,u.style.display="none",document.body.appendChild(u);var p=document.createElement("input");p.name="fname",p.value=s,p.style.display="none";var f=document.createElement("input");f.name="content",f.value=l,f.style.display="none",u.appendChild(p),u.appendChild(f),u.submit(),document.body.removeChild(u),a=!0}}}catch(e){a=!1}return a}}(jqxBaseFramework),function(e){jqxPlot=function(){},jqxPlot.prototype={get:function(e,t,i){return void 0!==i?e[t][i]:e[t]},min:function(e,t){for(var i=NaN,s=0;s<e.length;s++){var r=this.get(e,s,t);(isNaN(i)||r<i)&&(i=r)}return i},max:function(e,t){for(var i=NaN,s=0;s<e.length;s++){var r=this.get(e,s,t);(isNaN(i)||r>i)&&(i=r)}return i},sum:function(e,t){for(var i=0,s=0;s<e.length;s++){var r=this.get(e,s,t);isNaN(r)||(i+=r)}return i},count:function(e,t){for(var i=0,s=0;s<e.length;s++){var r=this.get(e,s,t);isNaN(r)||i++}return i},avg:function(e,t){return this.sum(e,t)/Math.max(1,count(e,t))},filter:function(e,t){if(!t)return e;for(var i=[],s=0;s<e.length;s++)t(e[s])&&i.push(e[s]);return i},scale:function(t,i,s,r){if(isNaN(t))return NaN;if((t<Math.min(i.min,i.max)||t>Math.max(i.min,i.max))&&(!r||!0!==r.ignore_range))return NaN;var n=NaN,o=1;if(void 0===i.type||"logarithmic"!=i.type){var a=Math.abs(i.max-i.min);a||(a=1),o=Math.abs(t-Math.min(i.min,i.max))/a}else if("logarithmic"===i.type){var l=i.base;isNaN(l)&&(l=10);var h=Math.min(i.min,i.max);h<=0&&(h=1);var d=Math.max(i.min,i.max);d<=0&&(d=1);var c=e.jqx.log(d,l);d=Math.pow(l,c);var u=e.jqx.log(h,l);h=Math.pow(l,u);var p=e.jqx.log(t,l);o=Math.abs(p-u)/(c-u)}if("logarithmic"===s.type){l=s.base;isNaN(l)&&(l=10);c=e.jqx.log(s.max,l),u=e.jqx.log(s.min,l);s.flip&&(o=1-o);p=Math.min(u,c)+o*Math.abs(c-u);n=Math.pow(l,p)}else n=Math.min(s.min,s.max)+o*Math.abs(s.max-s.min),s.flip&&(n=Math.max(s.min,s.max)-n+s.min);return n},axis:function(t,i,s){if(s<=1)return[i,t];(isNaN(s)||s<2)&&(s=2);for(var r=0;Math.round(t)!=t&&Math.round(i)!=i&&r<10;)t*=10,i*=10,r++;for(var n=(i-t)/s;r<10&&Math.round(n)!=n;)t*=10,i*=10,n*=10,r++;for(var o=[1,2,5],a=0;;){var l=a%o.length,h=Math.floor(a/o.length),d=Math.pow(10,h)*o[l];l=(a+1)%o.length,h=Math.floor((a+1)/o.length);var c=Math.pow(10,h)*o[l];if(n>=d&&n<c)break;a++}for(var u=c,p=[],f=e.jqx._rnd(t,u,!1),m=r<=0?1:Math.pow(10,r);f<i+u;)p.push(f/m),f+=u;return p}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxChart","",{}),e.extend(e.jqx._jqxChart.prototype,{defineInstance:function(){return e.extend(!0,this,this._defaultSettings),this._createColorsCache(),this._defaultSettings},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,toolTipShowDelay:500,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(t){if(!e.jqx.dataAdapter)throw"jqxdata.js is not loaded";var i=this;i._refreshOnDownloadComlete(),i._isTouchDevice=e.jqx.mobile.isTouchDevice(),i._jqxPlot||(i._jqxPlot=new jqxPlot),i.addHandler(i.host,i._getEvent("mousemove"),function(t){if(0!=i.enabled){i._isRangeSelectorInstance||i.host.css("cursor","default");var s=t.pageX||t.clientX||t.screenX,r=t.pageY||t.clientY||t.screenY,n=i.host.offset();if(i._isTouchDevice){var o=e.jqx.position(t);s=o.left,r=o.top}s-=n.left,r-=n.top,i.onmousemove(s,r)}}),i.addHandler(i.host,i._getEvent("mouseleave"),function(e){if(0!=i.enabled){var t=i._mouseX,s=i._mouseY,r=i._plotRect;r&&t>=r.x&&t<=r.x+r.width&&s>=r.y&&s<=r.y+r.height||(i._cancelTooltipTimer(),i._hideToolTip(0),i._unselect())}}),i.addHandler(i.host,"click",function(t){if(0!=i.enabled){var s=t.pageX||t.clientX||t.screenX,r=t.pageY||t.clientY||t.screenY,n=i.host.offset();if(i._isTouchDevice){var o=e.jqx.position(t);s=o.left,r=o.top}s-=n.left,r-=n.top,i._mouseX=s,i._mouseY=r,!isNaN(i._lastClickTs)&&(new Date).valueOf()-i._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){if(i._isTouchDevice||(i._cancelTooltipTimer(),i._hideToolTip(),i._unselect()),i._pointMarker&&i._pointMarker.element){var e=i.seriesGroups[i._pointMarker.gidx],s=e.series[i._pointMarker.sidx];t.stopImmediatePropagation(),i._raiseItemEvent("click",e,s,i._pointMarker.iidx)}},100))}});var s=i.element.style;if(s){var r=!1;null!=s.width&&(r|=-1!=s.width.toString().indexOf("%")),null!=s.height&&(r|=-1!=s.height.toString().indexOf("%")),r&&e.jqx.utilities.resize(this.host,function(){i.timer&&clearTimeout(i.timer);i.timer=setTimeout(function(){var e=i.enableAnimations;i.enableAnimations=!1,i.refresh(),i.enableAnimations=e},1)},!1,!0)}},_refreshOnDownloadComlete:function(){var t=this,i=this.source;if(i instanceof e.jqx.dataAdapter){var s=i._options;(null==s||null!=s&&!s.autoBind)&&(i.autoSync=!1,i.dataBind());var r=this.element.id;if(0==i.records.length){i.unbindDownloadComplete(r),i.bindDownloadComplete(r,function(){t.ready&&t.ready(),t.refresh()})}else t.ready&&t.ready();i.unbindBindingUpdate(r),i.bindBindingUpdate(r,function(){t._supressBindingRefresh||t.refresh()})}},propertyChangedHandler:function(e,t,i,s){null!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include jqxdraw.js";return e.jqx.createRenderer(this,t)},_internalRefresh:function(){if(!e.jqx.isHidden(this.host)){this._stopAnimations(),this.renderer&&(this._isToggleRefresh||this._isUpdate)||(this._hideToolTip(0),this._isVML=!1,this.host.empty(),this._measureDiv=void 0,this._initRenderer(this.host));var t=this.renderer;if(t){var i=t.getRect();this._render({x:1,y:1,width:i.width,height:i.height}),this._raiseEvent("refreshBegin",{instance:this}),t instanceof e.jqx.HTML5Renderer&&t.refresh(),this._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})}}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(t,i,s,r){for(var n=!1,o=0;o<this.seriesGroups.length&&!n;o++){var a=this._getXAxis(o);a&&a.rangeSelector&&(n=!0)}return e.jqx._widgetToImage(this,t,i,s,r,n?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(t,i){for(var s=t,r=0;r<s.seriesGroups.length;r++){var n=s._getXAxis(r);if(n&&n.rangeSelector&&!n.rangeSelector.renderTo){var o=s._rangeSelectorInstances[r];if(o){var a=o.jqxChart("getInstance"),l=(a.renderEngine,a.renderer.getRect()),h=a.renderer.getContainer().find("canvas")[0].getContext("2d"),d=s._sliders[r],c="horizontal"==s.seriesGroups[r].orientation,u=c?"height":"width",p=c?"width":"height",f=c?"y":"x",m=c?"x":"y",g={};g[f]=d.startOffset+d.rect[f],g[m]=d.rect[m],g[u]=d.endOffset-d.startOffset,g[p]=d.rect[p];var v=n.rangeSelector.colorSelectedRange||"blue",x=(n.rangeSelector.colorUnselectedRange,n.rangeSelector.colorRangeLine||"grey"),b=[];b.push(a.renderer.rect(g.x,g.y,g.width,g.height,{fill:v,opacity:.1})),c?(b.push(a.renderer.line(e.jqx._ptrnd(d.rect.x+d.rect.width),e.jqx._ptrnd(d.rect.y),e.jqx._ptrnd(d.rect.x+d.rect.width),e.jqx._ptrnd(g.y),{stroke:x,opacity:.5})),b.push(a.renderer.line(e.jqx._ptrnd(d.rect.x+d.rect.width),e.jqx._ptrnd(g.y+g.height),e.jqx._ptrnd(d.rect.x+d.rect.width),e.jqx._ptrnd(d.rect.y+d.rect.height),{stroke:x,opacity:.5})),b.push(a.renderer.line(e.jqx._ptrnd(d.rect.x),e.jqx._ptrnd(g.y),e.jqx._ptrnd(d.rect.x+d.rect.width),e.jqx._ptrnd(g.y),{stroke:x,opacity:.5})),b.push(a.renderer.line(e.jqx._ptrnd(d.rect.x),e.jqx._ptrnd(g.y+g.height),e.jqx._ptrnd(d.rect.x+d.rect.width),e.jqx._ptrnd(g.y+g.height),{stroke:x,opacity:.5}))):(b.push(a.renderer.line(e.jqx._ptrnd(d.rect.x),e.jqx._ptrnd(d.rect.y),e.jqx._ptrnd(g.x),e.jqx._ptrnd(d.rect.y),{stroke:x,opacity:.5})),b.push(a.renderer.line(e.jqx._ptrnd(g.x+g.width),e.jqx._ptrnd(d.rect.y),e.jqx._ptrnd(d.rect.x+d.rect.width),e.jqx._ptrnd(d.rect.y),{stroke:x,opacity:.5})),b.push(a.renderer.line(e.jqx._ptrnd(g.x),e.jqx._ptrnd(d.rect.y),e.jqx._ptrnd(g.x),e.jqx._ptrnd(d.rect.y+d.rect.height),{stroke:x,opacity:.5})),b.push(a.renderer.line(e.jqx._ptrnd(g.x+g.width),e.jqx._ptrnd(d.rect.y),e.jqx._ptrnd(g.x+g.width),e.jqx._ptrnd(d.rect.y+d.rect.height),{stroke:x,opacity:.5}))),a.renderer.refresh();var w=h.getImageData(l.x,l.y,l.width,l.height);i.getContext("2d").putImageData(w,parseInt(o.css("left")),parseInt(o.css("top")),1,1,l.width,l.height);for(var y=0;y<b.length;y++)a.renderer.removeElement(b[y]);a.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){for(var e in this._defaultSettings)this[e]=this._defaultSettings[e];this.title="",this.description="",this.refresh()},_validateSeriesGroups:function(){if(!e.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];if(!i.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!e.isArray(i.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(t){var i=this,s=i.renderer;i._validateSeriesGroups(),i._colorsCache.clear(),!i._isToggleRefresh&&i._isUpdate&&i._renderData&&i._renderDataClone(),i._renderData=[],s.clear(),i._unselect(),i._hideToolTip(0);var r=i.backgroundImage;null==r||""==r?i.host.css({"background-image":""}):i.host.css({"background-image":-1!=r.indexOf("(")?r:"url('"+r+"')"}),i._rect=t;var n=i.padding||{left:5,top:5,right:5,bottom:5},o=s.createClipRect(t),a=s.beginGroup();s.setClip(a,o);var l=s.rect(t.x,t.y,t.width-2,t.height-2);if(null==r||""==r?s.attr(l,{fill:i.backgroundColor||i.background||"white"}):s.attr(l,{fill:"transparent"}),0!=i.showBorderLine){var h=null==i.borderLineColor?i.borderColor:i.borderLineColor;null==h&&(h=i._defaultLineColor);var d=this.borderLineWidth;(isNaN(d)||d<0||d>10)&&(d=1),s.attr(l,{"stroke-width":d,stroke:h})}else e.jqx.browser.msie&&e.jqx.browser.version<9&&s.attr(l,{"stroke-width":1,stroke:i.backgroundColor||"white"});e.isFunction(i.drawBefore)&&i.drawBefore(s,t);var c={x:n.left,y:n.top,width:t.width-n.left-n.right,height:t.height-n.top-n.bottom};i._paddedRect=c;var u,p=i.titlePadding||{left:2,top:2,right:2,bottom:2};if(i.title&&i.title.length>0){var f=i.toThemeProperty("jqx-chart-title-text",null);u=s.measureText(i.title,0,{class:f}),s.text(i.title,c.x+p.left,c.y+p.top,c.width-(p.left+p.right),u.height,0,{class:f},!0,"center","center"),c.y+=u.height,c.height-=u.height}if(i.description&&i.description.length>0){var m=i.toThemeProperty("jqx-chart-title-description",null);u=s.measureText(i.description,0,{class:m}),s.text(i.description,c.x+p.left,c.y+p.top,c.width-(p.left+p.right),u.height,0,{class:m},!0,"center","center"),c.y+=u.height,c.height-=u.height}(i.title||i.description)&&(c.y+=p.bottom+p.top,c.height-=p.bottom+p.top);var g={x:c.x,y:c.y,width:c.width,height:c.height};i._plotRect=g,i._buildStats(g);for(var v,x=i._isPieOnlySeries(),b=i.seriesGroups,w={xAxis:{},valueAxis:{}},y=0;y<b.length&&!x;y++)if("pie"!=b[y].type&&"donut"!=b[y].type){if(!(ee=i._getXAxis(y)))throw"seriesGroup["+y+"] is missing xAxis definition";var _=ee==i._getXAxis()?-1:y;w.xAxis[_]=0}var j=i.axisPadding;isNaN(j)&&(j=5);var q={left:0,right:0,leftCount:0,rightCount:0},S=[];for(y=0;y<b.length;y++){if("pie"!=(W=b[y]).type&&"donut"!=W.type&&1!=W.spider&&1!=W.polar){v="horizontal"==W.orientation;_=(ee=i._getXAxis(y))==i._getXAxis()?-1:y;var T=(D=i._getValueAxis(y))==i._getValueAxis()?-1:y,C=v?ee.axisSize:D.axisSize,I={x:0,y:g.y,width:g.width,height:g.height},k=v?i._getXAxis(y).position:D.position;C&&"auto"!=C||(v?(C=this._renderXAxis(y,I,!0,g).width,1==(1&w.xAxis[_])?C=0:C>0&&(w.xAxis[_]|=1)):(C=i._renderValueAxis(y,I,!0,g).width,1==(1&w.valueAxis[T])?C=0:C>0&&(w.valueAxis[T]|=1))),"left"!=k&&1==i.rtl&&(k="right"),"right"!=k&&(k="left"),q[k+"Count"]>0&&q[k]>0&&C>0&&(q[k]+=j),S.push({width:C,position:k,xRel:q[k]}),q[k]+=C,q[k+"Count"]++}else S.push({width:0,position:0,xRel:0})}var P=Math.max(1,Math.max(t.width,t.height)),M={top:0,bottom:0,topCount:0,bottomCount:0},N=[];for(y=0;y<b.length;y++){if("pie"!=(W=b[y]).type&&"donut"!=W.type&&1!=W.spider&&1!=W.polar){v="horizontal"==W.orientation;T=(D=this._getValueAxis(y))==i._getValueAxis()?-1:y,_=(ee=i._getXAxis(y))==i._getXAxis()?-1:y;var D,B=v?D.axisSize:ee.axisSize;k=v?D.position:ee.position;B&&"auto"!=B||(v?(B=i._renderValueAxis(y,{x:0,y:0,width:P,height:0},!0,g).height,2==(2&w.valueAxis[T])?B=0:B>0&&(w.valueAxis[T]|=2)):(B=i._renderXAxis(y,{x:0,y:0,width:P,height:0},!0).height,2==(2&w.xAxis[_])?B=0:B>0&&(w.xAxis[_]|=2))),"top"!=k&&(k="bottom"),M[k+"Count"]>0&&M[k]>0&&B>0&&(M[k]+=j),N.push({height:B,position:k,yRel:M[k]}),M[k]+=B,M[k+"Count"]++}else N.push({height:0,position:0,yRel:0})}i._createAnimationGroup("series");var O=0!=i.showLegend,A=O?i._renderLegend(i.legendLayout?i._rect:c,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(A={width:0,height:0}),c.height<M.top+M.bottom+A.height||c.width<q.left+q.right)s.endGroup();else{g.height-=M.top+M.bottom+A.height,g.x+=q.left,g.width-=q.left+q.right,g.y+=M.top;var H=[];if(!x){i._getXAxis().tickMarksColor||i._defaultLineColor;for(y=0;y<b.length;y++){if(1!=(W=b[y]).polar&&1!=W.spider&&"pie"!=W.type&&"donut"!=W.type){v="horizontal"==W.orientation;_=i._getXAxis(y)==i._getXAxis()?-1:y,T=i._getValueAxis(y)==i._getValueAxis()?-1:y,I={x:g.x,y:0,width:g.width,height:N[y].height};if("top"!=N[y].position?I.y=g.y+g.height+N[y].yRel:I.y=g.y-N[y].yRel-N[y].height,v){if(4==(4&w.valueAxis[T]))continue;if(!i._isGroupVisible(y))continue;i._renderValueAxis(y,I,!1,g),w.valueAxis[T]|=4}else{if(H.push(I),4==(4&w.xAxis[_]))continue;if(!i._isGroupVisible(y))continue;i._renderXAxis(y,I,!1,g),w.xAxis[_]|=4}}}}if(O){var E=i.legendLayout?i._rect:c,z=c.x+e.jqx._ptrnd((c.width-A.width)/2),L=g.y+g.height+M.bottom;C=c.width,B=A.height;i.legendLayout&&(isNaN(i.legendLayout.left)||(z=i.legendLayout.left),isNaN(i.legendLayout.top)||(L=i.legendLayout.top),isNaN(i.legendLayout.width)||(C=i.legendLayout.width),isNaN(i.legendLayout.height)||(B=i.legendLayout.height)),z+C>E.x+E.width&&(C=E.x+E.width-z),L+B>E.y+E.height&&(B=E.y+E.height-L),i._renderLegend({x:z,y:L,width:C,height:B})}if(i._hasHorizontalLines=!1,!x)for(y=0;y<b.length;y++){if(1!=(W=b[y]).polar&&1!=W.spider&&"pie"!=W.type&&"donut"!=W.type){v="horizontal"==b[y].orientation;I={x:g.x-S[y].xRel-S[y].width,y:g.y,width:S[y].width,height:g.height};"left"!=S[y].position&&(I.x=g.x+g.width+S[y].xRel);_=i._getXAxis(y)==i._getXAxis()?-1:y,T=i._getValueAxis(y)==i._getValueAxis()?-1:y;if(v){if(H.push(I),8==(8&w.xAxis[_]))continue;if(!i._isGroupVisible(y))continue;i._renderXAxis(y,I,!1,g),w.xAxis[_]|=8}else{if(8==(8&w.valueAxis[T]))continue;if(!i._isGroupVisible(y))continue;i._renderValueAxis(y,I,!1,g),w.valueAxis[T]|=8}}}if(!(g.width<=0||g.height<=0)){for(i._plotRect={x:g.x,y:g.y,width:g.width,height:g.height},y=0;y<b.length;y++)this._drawPlotAreaLines(y,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(y,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(y=0;y<b.length;y++)this._drawPlotAreaLines(y,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(y,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var F=!1;for(y=0;y<b.length&&!F;y++){if(void 0!==(W=b[y]).annotations||e.isFunction(W.draw)||e.isFunction(W.drawBefore)){F=!0;break}}var R=s.beginGroup();if(!F){var V=s.createClipRect({x:g.x-2,y:g.y,width:g.width+4,height:g.height});s.setClip(R,V)}for(y=0;y<b.length;y++){var W=b[y],G=!1;for(var U in i._seriesTypes)if(i._seriesTypes[U]==W.type){G=!0;break}if(!G)throw'Invalid serie type "'+W.type+'"';e.isFunction(W.drawBefore)&&W.drawBefore(s,t,y,this),1!=W.polar&&1!=W.spider||-1==W.type.indexOf("pie")&&-1==W.type.indexOf("donut")&&i._renderSpiderAxis(y,g),i._renderAxisBands(y,g,!0),i._renderAxisBands(y,g,!1)}for(y=0;y<b.length;y++){W=b[y];if(i._isColumnType(W.type)?i._renderColumnSeries(y,g):-1!=W.type.indexOf("pie")||-1!=W.type.indexOf("donut")?i._renderPieSeries(y,g):-1!=W.type.indexOf("line")||-1!=W.type.indexOf("area")?i._renderLineSeries(y,g):-1!=W.type.indexOf("scatter")||-1!=W.type.indexOf("bubble")?i._renderScatterSeries(y,g):-1==W.type.indexOf("candlestick")&&-1==W.type.indexOf("ohlc")||i._renderCandleStickSeries(y,g,-1!=W.type.indexOf("ohlc")),W.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var X=0;X<W.annotations.length;X++)i._renderAnnotation(y,W.annotations[X],g)}e.isFunction(W.draw)&&i.draw(s,t,y,this)}if(s.endGroup(),0==i.enabled){var Y=s.rect(t.x,t.y,t.width,t.height);s.attr(Y,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}e.isFunction(i.draw)&&i.draw(s,t),s.endGroup(),i._startAnimation("series");var K=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109);if(!i._isRangeSelectorInstance&&-1==location.hostname.indexOf(K.substring(4))){var $={class:i.toThemeProperty("jqx-chart-legend-text",null),opacity:.5},J=s.measureText(K,0,$),Z=s.text(K,t.x+t.width-J.width-5,t.y+t.height-J.height-5,J.width,J.height,0,$);e(Z).on("click",function(){location.href="http://"+K+"/?ref="+i.widgetName})}var Q=!1;for(y=0;y<i.seriesGroups.length&&!Q;y++){var ee;(ee=i._getXAxis(y))&&ee.rangeSelector&&(Q=!0)}if(Q){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var te=[];for(this._isSelectorRefresh||(i.removeHandler(e(document),i._getEvent("mousemove"),i._onSliderMouseMove),i.removeHandler(e(document),i._getEvent("mousedown"),i._onSliderMouseDown),i.removeHandler(e(document),i._getEvent("mouseup"),i._onSliderMouseUp)),i._isSelectorRefresh||(i._rangeSelectorInstances={}),y=0;y<i.seriesGroups.length;y++){var ie=this._getXAxis(y);-1==te.indexOf(ie)&&this._renderXAxisRangeSelector(y,H[y])&&te.push(ie)}}}}},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(t,i,s,r){var n=this.renderer,o={x:i.x,y:i.y,width:i.width,height:i.height};o.width>=6&&(o.x+=3,o.width-=6),o.height>=6&&(o.y+=3,o.height-=6);for(var a={width:o.width,height:0},l=0,h=0,d=20,c=0,u=0,p=0;p<t.length;p++){var f=t[p].css;f||(f=this.toThemeProperty("jqx-chart-legend-text",null)),d=20;var m=t[p].text,g=n.measureText(m,0,{class:f});g.height>d&&(d=g.height),g.width>u&&(u=g.width),r?(0!=p&&(h+=d),h>o.height&&(h=0,l+=u+20+10,u=g.width,a.width=l+u)):(0!=l&&(l+=10),l+20+g.width>o.width&&g.width<o.width&&(l=0,h+=d,d=20,c=o.width,a.height=h+d));var v=!1;if(g.width>o.width){v=!0;for(var x=o.width,b=(H=m).split(/\s+/),w=[],y="",_=0;_<b.length;_++){var j=y+(y.length>0?" ":"")+b[_];(C=this.renderer.measureText(j,0,{class:f})).width>x&&j.length>0&&y.length>0?(w.push({text:y}),y=b[_]):y=j,_+1==b.length&&w.push({text:y})}g.width=0;for(var q=0,S=0;S<w.length;S++){var T=w[S].text,C=this.renderer.measureText(T,0,{class:f});g.width=Math.max(g.width,C.width),q+=g.height}g.height=q}var I=l+g.width<o.width&&h+g.height<i.height;if(this.legendLayout)I=o.x+l+g.width<this._rect.x+this._rect.width&&o.y+h+g.height<this._rect.y+this._rect.height;if(!s&&I){var k=t[p].seriesIndex,P=t[p].groupIndex,M=t[p].itemIndex,N=t[p].fillColor,D=t[p].lineColor,B=this._isSerieVisible(P,k,M),O=n.beginGroup(),A=B?t[p].opacity:.1;if(v){var H=m,E=(x=o.width,b=H.split(/\s+/),0);for(w=[],y="",_=0;_<b.length;_++){j=y+(y.length>0?" ":"")+b[_];(C=this.renderer.measureText(j,0,{class:f})).width>x&&j.length>0&&y.length>0?(w.push({text:y,dy:E}),E+=C.height,y=b[_]):y=j,_+1==b.length&&w.push({text:y,dy:E})}for(S=0;S<w.length;S++){T=w[S].text;E=w[S].dy;C=this.renderer.measureText(T,0,{class:f});r?this.renderer.text(T,o.x+l+15,o.y+h+E,g.width,d,0,{class:f},!1,"left","center"):this.renderer.text(T,o.x+l+15,o.y+h+E,g.width,d,0,{class:f},!1,"center","center")}var z=n.rect(o.x+l,o.y+h+5+E/2,10,10);r&&(h+=E),this.renderer.attr(z,{fill:N,"fill-opacity":A,stroke:D,"stroke-width":1,"stroke-opacity":t[p].opacity})}else{z=n.rect(o.x+l,o.y+h+5,10,10);this.renderer.attr(z,{fill:N,"fill-opacity":A,stroke:D,"stroke-width":1,"stroke-opacity":t[p].opacity}),r?this.renderer.text(m,o.x+l+15,o.y+h,g.width,g.height+5,0,{class:f},!1,"left","center"):this.renderer.text(m,o.x+l+15,o.y+h,g.width,d,0,{class:f},!1,"center","center")}this.renderer.endGroup(),this._setLegendToggleHandler(P,k,M,O)}r||c<(l+=g.width+20)&&(c=l)}if(s)return a.height=e.jqx._ptrnd(h+d+5),a.width=e.jqx._ptrnd(c),a},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(t,i,s){for(;this._itemsToggleState.length<t+1;)this._itemsToggleState.push([]);for(var r=this._itemsToggleState[t];r.length<i+1;)r.push(!!isNaN(s)||[]);var n=r[i];if(isNaN(s))return n;for(e.isArray(n)||(r[i]=n=[]);n.length<s+1;)n.push(!0);return n[s]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var s=0;s<i.length;s++)if(this._isSerieVisible(e,s)){t=!0;break}return t},_toggleSerie:function(t,i,s,r){var n=!this._isSerieVisible(t,i,s);null!=r&&(n=r);var o=this.seriesGroups[t],a=o.series[i];if(this._raiseEvent("toggle",{state:n,seriesGroup:o,serie:a,elementIndex:s}),isNaN(s))this._itemsToggleState[t][i]=n;else{var l=this._itemsToggleState[t][i];for(e.isArray(l)||(l=[]);l.length<s;)l.push(!0);l[s]=n}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(e,t,i,s){var r=this.seriesGroups[e],n=r.series[t].enableSeriesToggle;if(null==n&&(n=0!=r.enableSeriesToggle),n){var o=this;this.renderer.addHandler(s,"click",function(s){o._toggleSerie(e,t,i)})}},_renderLegend:function(e,t){for(var i=[],s=0;s<this.seriesGroups.length;s++){var r=this.seriesGroups[s];if(0!=r.showLegend)for(var n=0;n<r.series.length;n++){var o=r.series[n];if(0!=o.showLegend){var a,l=this._getSerieSettings(s,n);if("pie"!=r.type&&"donut"!=r.type){u=o.legendFormatSettings||r.legendFormatSettings,p=o.legendFormatFunction||r.legendFormatFunction;a=this._formatValue(o.displayText||o.dataField||"",u,p,s,n,NaN);g=this._getSeriesColors(s,n);var h=this._get([o.legendFillColor,o.legendColor,g.fillColor]),d=this._get([o.legendLineColor,o.legendColor,g.lineColor]);i.push({groupIndex:s,seriesIndex:n,text:a,css:o.displayTextClass,fillColor:h,lineColor:d,opacity:l.opacity})}else for(var c=this._getXAxis(s),u=o.legendFormatSettings||r.legendFormatSettings||c.formatSettings||o.formatSettings||r.formatSettings,p=o.legendFormatFunction||r.legendFormatFunction||c.formatFunction||o.formatFunction||r.formatFunction,f=this._getDataLen(s),m=0;m<f;m++){a=this._getDataValue(m,o.displayText,s),a=this._formatValue(a,u,p,s,n,m);var g=this._getColors(s,n,m);i.push({groupIndex:s,seriesIndex:n,itemIndex:m,text:a,css:o.displayTextClass,fillColor:g.fillColor,lineColor:g.lineColor,opacity:l.opacity})}}}}return this._renderChartLegend(i,e,t,this.legendLayout&&"vertical"==this.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return isNaN(e.step)||(i=e.step*t),i},_getOffsets:function(e,t,i,s,r,n,o,a,l){var h,d=this._getInterval(r[e],a),c=[];if((""==e||r[e].visible&&"custom"!=r[e].visible)&&(c=this._generateIntervalValues(s,d,a,o,l)),"labels"!=e){var u=o?n.left:0;if(!o&&a>1&&(u=n.left*(a+1)),1==c.length&&(u*=2),h=this._valuesToOffsets(c,t,s,i,n,!1,u),!o){var p=(n.left+n.right)*d/a;t.flip?h.unshift(h[0]+p):h.push(h[h.length-1]+p)}}else{u=n.left;1==c.length&&(u*=2),h=this._valuesToOffsets(c,t,s,i,n,o,u)}var f=this._arraysToObjectsArray([c,h],["value","offset"]);if(t[e]&&t[e].custom)for(var m=this._objectsArraysToArray(t[e].custom,"value"),g=this._objectsArraysToArray(t[e].custom,"offset"),v=this._valuesToOffsets(m,t,s,i,n,o,n.left),x=0;x<t[e].custom.length;x++)f.push({value:m[x],offset:isNaN(g[x])?v[x]:g[x]});return f},_renderXAxis:function(t,i,s,r){var n=this._getXAxis(t),o=this.seriesGroups[t],a="horizontal"==o.orientation,l={width:0,height:0},h=this._getAxisSettings(n);if(!n||!h.visible||"spider"==o.type)return l;if(!this._isGroupVisible(t)||this._isPieGroup(t))return l;for(var d=this._alignValuesWithTicks(t);this._renderData.length<t+1;)this._renderData.push({});this.rtl&&(n.flip=!0);var c=a?i.height:i.width,u=n.text,p=this._calculateXOffsets(t,c),f=p.axisStats,m=n.rangeSelector,g=0;if(m){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";g=this._selectorGetSize(n)}var v=a&&"right"==n.position||!a&&"top"==n.position;!s&&m&&(a?(i.width-=g,"right"!=n.position&&(i.x+=g)):(i.height-=g,"top"==n.position&&(i.y+=g)));var x={rangeLength:p.rangeLength,itemWidth:p.itemWidth,intervalWidth:p.intervalWidth,data:p,settings:h,isMirror:v,rect:i};this._renderData[t].xAxis=x;var b=f.interval;if(isNaN(b))return l;a&&(h.title.angle-=90,h.labels.angle-=90);var w,y=this._getInterval(h.gridLines,b),_=this._getInterval(h.tickMarks,b),j=this._getInterval(h.labels,b),q=f.min,S=f.max,T=p.padding,C=1==n.flip||this.rtl,I={min:q,max:S};f.logAxis.enabled&&(I.min=f.logAxis.minPow,I.max=f.logAxis.maxPow),"date"==n.type?(h.gridLines.offsets=this._generateDTOffsets(q,S,c,T,y,b,f.dateTimeUnit,d,NaN,!1,C),h.tickMarks.offsets=this._generateDTOffsets(q,S,c,T,_,b,f.dateTimeUnit,d,NaN,!1,C),w=this._generateDTOffsets(q,S,c,T,j,b,f.dateTimeUnit,d,NaN,!0,C)):(h.gridLines.offsets=this._getOffsets("gridLines",n,c,f,h,T,d,b),h.tickMarks.offsets=this._getOffsets("tickMarks",n,c,f,h,T,d,b),w=this._getOffsets("labels",n,c,f,h,T,d,b));var k;this.renderer.getRect().width,i.x,i.width,this._getDataLen(t);this._elementRenderInfo&&this._elementRenderInfo.length>t&&(k=this._elementRenderInfo[t].xAxis);var P,M,N=[];h.labels.formatFunction&&(P=h.labels.formatFunction),h.labels.formatSettings&&(M=e.extend({},h.labels.formatSettings)),"date"==n.type&&(n.dateFormat&&!P?M?M.dateFormat=M.dateFormat||n.dateFormat:M={dateFormat:n.dateFormat}:P||M&&(!M||M.dateFormat)||(P=this._getDefaultDTFormatFn(n.baseUnit||"day")));for(var D=0;D<w.length;D++){var B=w[D].value,O=w[D].offset;if(!isNaN(O)){var A=void 0;"date"!=n.type&&f.useIndeces&&n.dataField&&(A=Math.round(B),null==(B=this._getDataValue(A,n.dataField))&&(B="")),null!=(u=this._formatValue(B,M,P,t,void 0,A))&&""!=u.toString()||(isNaN(A)&&(A=D),A>=f.filterRange.min&&A<=f.filterRange.max&&(u=f.useIndeces?(f.min+A).toString():null==B?"":B.toString()));var H={key:B,text:u,targetX:O,x:O};k&&k.itemOffsets[B]&&(H.x=k.itemOffsets[B].x,H.y=k.itemOffsets[B].y),N.push(H)}}var E=this._getAnimProps(t),z=E.enabled&&N.length<500?E.duration:0;0==this.enableAxisTextAnimation&&(z=0);var L={items:N,renderData:x},F=this._renderAxis(a,v,h,{x:i.x,y:i.y,width:i.width,height:i.height},r,b,!1,!0,L,s,z);return a?F.width+=g:F.height+=g,F},_animateAxisText:function(e,t){for(var i=e.items,s=e.textSettings,r=0;r<i.length;r++){var n=i[r];if(n&&n.visible){var o=n.targetX,a=n.targetY;isNaN(n.x)||isNaN(n.y)||(o=n.x+(o-n.x)*t,a=n.y+(a-n.y)*t),n.element&&(this.renderer.removeElement(n.element),n.element=void 0),n.element=this.renderer.text(n.text,o,a,n.width,n.height,s.angle,{class:s.style},!1,s.halign,s.valign,s.textRotationPoint)}}},_getPolarAxisCoords:function(t,i){var s=this.seriesGroups[t],r=i.x+e.jqx.getNum([s.offsetX,i.width/2]),n=i.y+e.jqx.getNum([s.offsetY,i.height/2]),o=Math.min(i.width,i.height),a=s.radius;this._isPercent(a)&&(a=parseFloat(a)/100*o/2),isNaN(a)&&(a=o/2*.6);var l=this._alignValuesWithTicks(t),h=this._get([s.startAngle,s.minAngle,0])-90;h=isNaN(h)?0:2*Math.PI*h/360;var d=this._get([s.endAngle,s.maxAngle,360])-90;if(h>(d=isNaN(d)?2*Math.PI:2*Math.PI*d/360)){var c=h;h=d,d=c}var u=e.jqx._rnd(Math.abs(h-d)/(2*Math.PI),.001,!0),p=2*Math.PI*a*u,f=this._calcGroupOffsets(t,i).xoffsets;if(f){var m=!(Math.abs(Math.abs(d-h)-2*Math.PI)>1e-5);if(s.spider){axisStats=this._getXAxisStats(t,this._getXAxis(t),p);var g=axisStats.interval;(isNaN(g)||0==g)&&(g=1);var v=(axisStats.max-axisStats.min)/g+(m?1:0);if((v=Math.round(v))>2){var x=Math.cos(Math.abs(d-h)/2/v);0==(x=e.jqx._rnd(x,.01))&&(x=1);var b=a/x;b>a&&l&&(a=b)}}return{x:r,y:n,r:a=e.jqx._ptrnd(a),adjR:this._get([b,a]),itemWidth:f.itemWidth,rangeLength:f.rangeLength,valuesOnTicks:l,startAngle:h,endAngle:d,isClosedCircle:m,axisSize:p}}},_toPolarCoord:function(t,i,s,r){var n=Math.abs(t.startAngle-t.endAngle)/(2*Math.PI),o=2*(s-i.x)*Math.PI*n/Math.max(1,i.width)+t.startAngle,a=(i.height+i.y-r)*t.r/Math.max(1,i.height),l=t.x+a*Math.cos(o),h=t.y+a*Math.sin(o);return{x:e.jqx._ptrnd(l),y:e.jqx._ptrnd(h)}},_renderSpiderAxis:function(t,i){var s=this._getXAxis(t),r=this._getAxisSettings(s);if(s&&r.visible){var n=this.seriesGroups[t],o=this._getPolarAxisCoords(t,i);if(o){var a=e.jqx._ptrnd(o.x),l=e.jqx._ptrnd(o.y),h=o.adjR,d=o.startAngle,c=o.endAngle;if(!(h<1)){var u=e.jqx._rnd(Math.abs(d-c)/(2*Math.PI),.001,!0),p=2*Math.PI*h*u,f=o.isClosedCircle,m=this._renderData[t].xoffsets;if(m.rangeLength){var g=m.axisStats.interval;(isNaN(g)||g<1)&&(g=1);var v="horizontal"==n.orientation;for(v&&"right"==s.position||!v&&s.position;this._renderData.length<t+1;)this._renderData.push({});var x={rangeLength:m.rangeLength,itemWidth:m.itemWidth,data:m,rect:i,settings:r};this._renderData[t].xAxis=x,this._renderData[t].polarCoords=o;for(var b=!0,w=0;w<t;w++){this._renderData[w].xAxis;var y=this._renderData[w].polarCoords,_=this._getXAxis(w),j=!1;for(var q in o)if(o[q]!=y[q]){j=!0;break}j&&_==s||(b=!1)}var S,T=r.gridLines,C=r.tickMarks,I=r.labels,k=this._getInterval(T,g),P=this._getInterval(C,g),M=this._getInterval(I,g),N=this._alignValuesWithTicks(t),D=this.renderer,B=m.axisStats,O=B.min,A=B.max,H=this._getPaddingSize(m.axisStats,s,N,p,!0,f,!1),E=1==s.flip||this.rtl;"date"==s.type?(T.offsets=this._generateDTOffsets(O,A,p,H,k,g,s.baseUnit,!0,0,!1,E),C.offsets=this._generateDTOffsets(O,A,p,H,P,g,s.baseUnit,!0,0,!1,E),S=this._generateDTOffsets(O,A,p,H,M,g,s.baseUnit,!0,0,!0,E)):(r.gridLines.offsets=this._getOffsets("gridLines",s,p,B,r,H,!0,g),r.tickMarks.offsets=this._getOffsets("tickMarks",s,p,B,r,H,!0,g),S=this._getOffsets("labels",s,p,B,r,H,!0,g));var z;this.renderer.getRect().width,i.x,i.width,this._getDataLen(t);this._elementRenderInfo&&this._elementRenderInfo.length>t&&(z=this._elementRenderInfo[t].xAxis);var L=[],F=this._getDataLen(t);for(w=0;w<S.length;w++){var R=S[w].offset,V=S[w].value;if("date"!=s.type&&B.useIndeces&&s.dataField){var W=Math.round(V);if(W>=F)continue;null==(V=this._getDataValue(W,s.dataField))&&(V="")}var G=this._formatValue(V,I.formatSettings,I.formatFunction,t,void 0,W);null!=G&&""!=G.toString()||(G=B.useIndeces?(B.min+w).toString():null==V?"":V.toString());var U={key:V,text:G,targetX:R,x:R};z&&z.itemOffsets[V]&&(U.x=z.itemOffsets[V].x,U.y=z.itemOffsets[V].y),L.push(U)}var X={stroke:T.color,fill:"none","stroke-width":T.width,"stroke-dasharray":T.dashStyle||""};if(!n.spider)if(1==u)D.circle(a,l,h,X);else{var Y=-d/Math.PI*180,K=-c/Math.PI*180;this.renderer.pieslice(a,l,0,h,Math.min(Y,K),Math.max(Y,K),void 0,X)}var $=L.length,J=(Math.PI,d);if(T.visible&&b){N||f||T.offsets.unshift({offset:-H.right});for(w=0;w<T.offsets.length;w++){var Z=T.offsets[w].offset;if(N||(Z+=f?H.right/2:H.right),!((ae=J+2*Z*Math.PI*u/Math.max(1,p))-c>.01)){var Q=e.jqx._ptrnd(a+h*Math.cos(ae)),ee=e.jqx._ptrnd(l+h*Math.sin(ae));D.line(a,l,Q,ee,X)}}}if(C.visible&&b){var te={stroke:C.color,fill:"none","stroke-width":C.width,"stroke-dasharray":C.dashStyle||""};N||f||C.offsets.unshift({offset:-H.right});for(w=0;w<C.offsets.length;w++){Z=C.offsets[w].offset;if(N||(Z+=f?H.right/2:H.right),!((ae=J+2*Z*Math.PI*u/Math.max(1,p))-c>.01)){var ie={x:a+h*Math.cos(ae),y:l+h*Math.sin(ae)},se={x:a+(h+5)*Math.cos(ae),y:l+(h+5)*Math.sin(ae)};D.line(e.jqx._ptrnd(ie.x),e.jqx._ptrnd(ie.y),e.jqx._ptrnd(se.x),e.jqx._ptrnd(se.y),te)}}}var re=[];if(n.spider){var ne=[];ne="date"==s.type?this._generateDTOffsets(O,A,p,H,g,g,s.baseUnit,!0,0,!1,E):this._getOffsets("",s,p,B,r,H,!0,g),N||f||ne.unshift({offset:-H.right});for(w=0;w<ne.length;w++){Z=ne[w].offset;N||(Z+=f?H.right/2:H.right),(ae=J+2*Z*Math.PI*u/Math.max(1,p))-c>.01||re.push(ae)}x.offsetAngles=re}var oe=this._renderSpiderValueAxis(t,i,N?o.adjR:o.r,re);if(oe||(oe=[]),n.spider){if(!N)for(w=0;w<oe.length;w++)oe[w]=oe[w]*o.adjR/o.r;oe.push(h),this._renderSpiderLines(a,l,oe,o,re,X)}if(b&&I.visible){x.polarLabels=[];for(w=0;w<L.length;w++){var ae;(ae=(360-(ae=J+2*(Z=L[w].x)*Math.PI*u/Math.max(1,p))/(2*Math.PI)*360)%360)<0&&(ae=360+ae);var le,he=D.measureText(L[w].text,0,{class:r.labels.style}),de=(N?o.adjR:o.r)+(C.visible?7:2),ce=r.labels;if(ce.autoRotate){var ue=e.jqx._ptRotate(a-he.width/2,l-de-he.height,a,l,-ae/180*Math.PI),pe=e.jqx._ptRotate(a+he.width/2,l-de,a,l,-ae/180*Math.PI);he.width=Math.abs(ue.x-pe.x),he.height=Math.abs(ue.y-pe.y),le={x:Math.min(ue.x,pe.x),y:Math.min(ue.y,pe.y)}}else le=this._adjustTextBoxPosition(a,l,he,de,ae,!1,!1,!1);x.polarLabels.push({x:le.x,y:le.y,value:L[w].text}),D.text(L[w].text,le.x,le.y,he.width,he.height,ce.autoRotate?90-ae:ce.angle,{class:ce.style},!1,ce.halign,ce.valign)}}}}}}},_renderSpiderLines:function(t,i,s,r,n,o){for(var a=this.renderer,l=(r.startAngle,r.endAngle,r.isClosedCircle),h=0;h<s.length;h++){for(var d=s[h],c=void 0,u=void 0,p=0;p<n.length;p++){var f=n[p],m=e.jqx._ptrnd(t+d*Math.cos(f)),g=e.jqx._ptrnd(i+d*Math.sin(f));c&&a.line(c.x,c.y,m,g,o),c={x:m,y:g},u||(u={x:m,y:g})}u&&l&&a.line(c.x,c.y,u.x,u.y,o)}},_renderSpiderValueAxis:function(t,i,s,r){var n=this.seriesGroups[t],o=this._getPolarAxisCoords(t,i);if(o){var a=e.jqx._ptrnd(o.x),l=e.jqx._ptrnd(o.y);s=s||o.r;var h=o.startAngle,d=o.endAngle,c=e.jqx._rnd(Math.abs(h-d)/(2*Math.PI),.001,!0);if(!(s<1)){s=e.jqx._ptrnd(s);var u=this._getValueAxis(t);if(settings=this._getAxisSettings(u),u&&0!=settings.visible){var p=this._stats.seriesGroups[t].mu,f=settings.labels,m=f.formatSettings;-1!=n.type.indexOf("stacked")&&-1!=n.type.indexOf("100")&&!m&&(m={sufix:"%"});var g=this._get([f.step,f.unitInterval/p]);isNaN(g)&&(g=1),g=Math.max(1,Math.round(g)),this._calcValueAxisItems(t,s,g);var v=settings.gridLines,x=settings.tickMarks,b=(this._getInterval(v,p),this._getInterval(x,p),settings.labels),w={stroke:v.color,fill:"none","stroke-width":1,"stroke-dasharray":v.dashStyle||""},y=this._renderData[t].valueAxis,_=y.items,j=h;if(_.length&&settings.line.visible){isNaN(settings.line.angle)||(j=2*Math.PI*settings.line.angle/360);var q=a+Math.cos(j)*s,S=l+Math.sin(j)*s;if(-1==r.indexOf(j)){var T=e.extend({},w);T["stroke-width"]=settings.line.lineWidth,T.stroke=settings.line.color,T["stroke-dasharray"]=settings.line.dashStyle,this.renderer.line(a,l,q,S,T)}}_=_.reverse();var C=this.renderer;y.polarLabels=[];for(var I=0;I<_.length-1;I++){var k=_[I];if(!isNaN(k)){var P=b.formatFunction?b.formatFunction(k):this._formatNumber(k,m),M=C.measureText(P,0,{class:b.style}),N=a+(0!=u.showTickMarks?3:2),D=l-y.itemWidth*I-M.height/2,B=e.jqx._ptRotate(N,D,a,l,j),O=e.jqx._ptRotate(N+M.width,D+M.height,a,l,j);N=Math.min(B.x,O.x),D=Math.min(B.y,O.y),M.width=Math.abs(B.x-O.x),M.height=Math.abs(B.y-O.y),N+=settings.labels.textOffset.x,D+=settings.labels.textOffset.y,y.polarLabels.push({x:N,y:D,value:P}),C.text(P,N,D,M.width,M.height,b.autoRotate?90+180*h/Math.PI:b.angle,{class:b.style},!1,b.halign,b.valign)}}var A=1==u.logarithmicScale?_.length:y.rangeLength;aIncrement=2*Math.PI/A;var H=0!=u.valuesOnTicks,E=this._stats.seriesGroups[t],z=E.mu,L=1==u.logarithmicScale;u.logarithmicScaleBase;L&&(z=1);var F={min:E.min,max:E.max,logAxis:{enabled:1==L,base:u.logarithmicScaleBase,minPow:E.minPow,maxPow:E.maxPow}};(v.visible||n.spider||u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&(v.offsets=this._getOffsets("gridLines",u,s,F,settings,{left:0,right:0},H,z));var R=[];if(v.visible||n.spider)for(w={stroke:v.color,fill:"none","stroke-width":1,"stroke-dasharray":v.dashStyle||""},I=0;I<v.offsets.length;I++){if((D=e.jqx._ptrnd(v.offsets[I].offset))!=s)if(n.spider)R.push(D);else if(1!=c){var V=-h/Math.PI*180,W=-d/Math.PI*180;this.renderer.pieslice(a,l,0,D,Math.min(V,W),Math.max(V,W),void 0,w)}else C.circle(a,l,D,w)}if(u.tickMarks&&(u.tickMarks.visible||u.showTickMarks)||(x.visible=!1),x.visible){x.offsets=this._getOffsets("tickMarks",u,s,F,settings,{left:0,right:0},H,z),tickMarkSize=2*x.size;for(w={stroke:x.color,fill:"none","stroke-width":1,"stroke-dasharray":x.dashStyle||""},I=0;I<x.offsets.length;I++){var G=x.offsets[I].offset;B={x:a+G*Math.cos(j)-tickMarkSize/2*Math.sin(j+Math.PI/2),y:l+G*Math.sin(j)-tickMarkSize/2*Math.cos(j+Math.PI/2)},O={x:a+G*Math.cos(j)+tickMarkSize/2*Math.sin(j+Math.PI/2),y:l+G*Math.sin(j)+tickMarkSize/2*Math.cos(j+Math.PI/2)};C.line(e.jqx._ptrnd(B.x),e.jqx._ptrnd(B.y),e.jqx._ptrnd(O.x),e.jqx._ptrnd(O.y),w)}}return R}}}},_renderAxis:function(t,i,s,r,n,o,a,l,h,d,c){if(s.customDraw&&!d)return{width:NaN,height:NaN};var u=s.title,p=s.labels,f=(s.gridLines,s.tickMarks),m=s.padding,g=f.visible?f.size:0,v={width:0,height:0},x={width:0,height:0};t?v.height=x.height=r.height:v.width=x.width=r.width,!d&&i&&t&&(r.x-=r.width);var b=h.renderData,w=b.itemWidth;if(u.visible&&null!=u.text&&""!=u){var y=u.angle,_=this.renderer.measureText(u.text,y,{class:u.style});x.width=_.width,x.height=_.height,d||this.renderer.text(u.text,r.x+u.offset.x+(t?i?-m.right-2+2*r.width-x.width:2+m.left:0),r.y+u.offset.y+(t?0:i?m.top+2:r.height-2-x.height-m.bottom),t?x.width:r.width,t?r.height:x.height,y,{class:u.style},!0,u.halign,u.valign,u.rotationPoint)}var j=0,q=l?-w/2:0;l&&!t&&(p.halign="center");var S=r.x,T=r.y,C=p.textOffset;C&&(isNaN(C.x)||(S+=C.x),isNaN(C.y)||(T+=C.y)),t?(S+=m.left+2+(x.width>0?x.width+2:0)+(i?r.width-x.width:0),T+=q):(S+=q,i?(T+=x.height>0?x.height+6:4,T+=g-(l?g:g/4)):T+=l?g:g/4,T+=m.top);var I=0,k=0,P=h.items;b.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(c=0);for(var M=!1,N=0,D=0;D<P.length&&p.visible;D++,j+=w)if(P[D]&&!isNaN(w)){var B=P[D].text;if(isNaN(P[D].targetX)||(j=P[D].targetX),(_=this.renderer.measureText(B,p.angle,{class:p.style})).width>k&&(k=_.width),_.height>I&&(I=_.height),N+=t?I:k,!d){if(t&&j>r.height+2||!t&&j>r.width+2)continue;var O=t?S+(i?0==x.width?g:g-2:0):S+j,A=t?T+j:T;b.itemOffsets[P[D].key]={x:O,y:A},M||(!isNaN(P[D].x)||!isNaN(P[D].y)&&c)&&(M=!0),P[D].targetX=O,P[D].targetY=A,P[D].width=t?r.width-m.left-m.right-4-g-(x.width>0?x.width+2:0):w,P[D].height=t?w:r.height-m.top-m.bottom-4-g-(x.height>0?x.height+2:0),P[D].visible=!0}}if(b.avgWidth=0==P.length?0:N/P.length,!d){var H={items:P,textSettings:p};if(!isNaN(c)&&M||(c=0),this._animateAxisText(H,0==c?1:0),0!=c){var E=this;this._enqueueAnimation("series",void 0,void 0,c,function(e,t,i){E._animateAxisText(t,i)},H)}}if(v.width+=4+g+x.width+k+(t&&x.width>0?2:0),v.height+=4+g+x.height+I+(!t&&x.height>0?2:0),t?v.width+=m.left+m.right:v.height+=m.top+m.bottom,!d&&s.line.visible){var z={stroke:s.line.color,"stroke-width":s.line.width,"stroke-dasharray":s.line.dashStyle||""};if(t){O=r.x+r.width+(i?m.left:-m.right);O=e.jqx._ptrnd(O),this.renderer.line(O,r.y,O,r.y+r.height,z)}else{A=e.jqx._ptrnd(r.y+(i?r.height-m.bottom:m.top));this.renderer.line(e.jqx._ptrnd(r.x),A,e.jqx._ptrnd(r.x+r.width+1),A,z)}}return v.width=e.jqx._rup(v.width),v.height=e.jqx._rup(v.height),v},_drawPlotAreaLines:function(t,i,s){var r=this.seriesGroups[t],n="horizontal"!=r.orientation;if(this._renderData&&!(this._renderData.length<=t)){var o=i?"valueAxis":"xAxis",a=this._renderData[t][o];if(a){var l=this._renderData.axisDrawState;l||(l=this._renderData.axisDrawState={});var h,d="";i?(d="valueAxis_"+(r.valueAxis?t:"")+(n?"swap":""),h=this._getValueAxis(t)):(d="xAxis_"+(r.xAxis||r.categoryAxis?t:"")+(n?"swap":""),h=this._getXAxis(t)),l=l[d]?l[d]:l[d]={},i||(n=!n);var c=a.settings;if(c&&!c.customDraw){var u=c.gridLines,p=c.tickMarks,f=c.padding,m=a.rect,g=this._plotRect;if(u&&p){var v={},x={stroke:u.color,"stroke-width":u.width,"stroke-dasharray":u.dashStyle||""},b=i?m.y+m.height:m.x,w=u.offsets;if(i&&!h.flip&&(w=(w=e.extend([],w)).reverse()),w&&w.length>0)for(var y=NaN,_=(w.length,0);_<w.length;_++)if(n?(lineOffset=e.jqx._ptrnd(m.y+w[_].offset),lineOffset<m.y-.5&&(lineOffset=e.jqx._ptrnd(m.y)),lineOffset>m.y+m.height&&(lineOffset=m.y+m.height)):(lineOffset=e.jqx._ptrnd(m.x+w[_].offset),lineOffset>m.x+m.width+.5&&(lineOffset=e.jqx._ptrnd(m.x+m.width))),!isNaN(lineOffset)&&(isNaN(y)||!(Math.abs(lineOffset-y)<2))){if(y=lineOffset,s.gridLines&&0!=u.visible&&1!=l.gridLines&&(n?this.renderer.line(e.jqx._ptrnd(g.x),lineOffset,e.jqx._ptrnd(g.x+g.width),lineOffset,x):this.renderer.line(lineOffset,e.jqx._ptrnd(g.y),lineOffset,e.jqx._ptrnd(g.y+g.height),x)),v[lineOffset]=!0,s.alternatingBackground&&(u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&1!=l.alternatingBackground){var j,q=_%2==0?u.alternatingBackgroundColor2:u.alternatingBackgroundColor;if(_>0&&q)j=n?this.renderer.rect(e.jqx._ptrnd(g.x),b,e.jqx._ptrnd(g.width-1),lineOffset-b,x):this.renderer.rect(b,e.jqx._ptrnd(g.y),lineOffset-b,e.jqx._ptrnd(g.height),x),this.renderer.attr(j,{"stroke-width":0,fill:q,opacity:u.alternatingBackgroundOpacity||1})}b=lineOffset}x={stroke:p.color,"stroke-width":p.width,"stroke-dasharray":p.dashStyle||""};if(s.tickMarks&&p.visible&&1!=l.tickMarks){var S=p.size;for(w=p.offsets,y=NaN,_=0;_<w.length;_++)if(n?(lineOffset=e.jqx._ptrnd(m.y+w[_].offset),lineOffset<m.y-.5&&(lineOffset=e.jqx._ptrnd(m.y)),lineOffset>m.y+m.height&&(lineOffset=m.y+m.height)):(lineOffset=e.jqx._ptrnd(m.x+w[_].offset),lineOffset>m.x+m.width+.5&&(lineOffset=e.jqx._ptrnd(m.x+m.width))),!isNaN(lineOffset)&&(isNaN(y)||!(Math.abs(lineOffset-y)<2))){if(v[lineOffset-1]?lineOffset--:v[lineOffset+1]&&lineOffset++,n){if(lineOffset>m.y+m.height+.5)break}else if(lineOffset>m.x+m.width+.5)break;y=lineOffset;var T=a.isMirror?S:-S;if(n){var C=m.x+m.width+("right"==h.position?f.left:-f.right);i||(C=m.x+(a.isMirror?f.left:-f.right+m.width)),this.renderer.line(C,lineOffset,C+T,lineOffset,x)}else{var I=m.y+(a.isMirror?m.height:0);I+=a.isMirror?-f.bottom:f.top,I=e.jqx._ptrnd(I),this.renderer.line(lineOffset,I,lineOffset,I-T,x)}}}l.tickMarks=l.tickMarks||s.tickMarks,l.gridLines=l.gridLines||s.gridLines,l.alternatingBackground=l.alternatingBackground||s.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var s=this._stats.seriesGroups[e];if(!s||!s.isValid)return!1;var r=this.seriesGroups[e],n=(r.orientation,this._getValueAxis(e)),o=0!=n.valuesOnTicks,a=(n.dataField,s.intervals),l=t/a,h=s.min,d=s.mu,c=1==n.logarithmicScale,u=n.logarithmicScaleBase||10,p=-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100");for(c&&(d=isNaN(n.unitInterval)?1:n.unitInterval),o||(a=Math.max(a-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};var f=this._renderData[e].valueAxis;f.itemWidth=f.intervalWidth=l,f.items=[];for(var m=f.items,g=0;g<=a;g++){var v=0;v=c?p?s.max/Math.pow(u,a-g):h*Math.pow(u,g):o?h+g*d:h+(g+.5)*d,g%i==0?m.push(v):m.push(NaN)}return f.rangeLength=c&&!p?s.intervals:s.intervals*d,1!=n.flip&&(m=m.reverse()),!0},_getDecimalPlaces:function(e,t,i){var s=0;isNaN(i)&&(i=10);for(var r=0;r<e.length;r++){var n=void 0===t?e[r]:e[r][t];if(!isNaN(n)){for(var o=n.toString(),a=0;a<o.length;a++)if((o[a]<"0"||o[a]>"9")&&(s=o.length-(a+1))>=0)return Math.min(s,i);for(s>0&&(n*=Math.pow(10,s));Math.round(n)!=n&&s<i;)s++,n*=10}}return s},_renderValueAxis:function(e,t,i,s){var r=this.seriesGroups[e],n="horizontal"==r.orientation,o=this._getValueAxis(e);if(!o)throw"SeriesGroup "+e+" is missing valueAxis definition";var a={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==r.type)return a;var l=0!=o.valuesOnTicks,h=this._stats.seriesGroups[e],d=h.mu,c=1==o.logarithmicScale;o.logarithmicScaleBase;if(c&&(d=isNaN(o.unitInterval)?1:o.unitInterval),0==d&&(d=1),isNaN(d))return a;var u=this._getAxisSettings(o),p=u.title,f=u.labels,m=o.labels||{};this._get([o.horizontalTextAlignment,m.horizontalAlignment])||0!=f.angle||(f.halign=n?"center":"right"==o.position?"left":"right");var g=this._get([f.step,f.unitInterval/d]);if(isNaN(g)&&(g=1),g=Math.max(1,Math.round(g)),!this._calcValueAxisItems(e,n?t.width:t.height,g)||!u.visible)return a;n||(p.angle=this.rtl?90:-90,"centercenter"==p.rotationPoint&&("top"==p.valign?p.rotationPoint="rightcenter":"bottom"==p.valign&&(p.rotationPoint="leftcenter")));var v=this._renderData[e].valueAxis,x=f.formatSettings;-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100")&&!x&&(x={sufix:"%"}),f.formatFunction||x&&x.decimalPlaces||((x=x||{}).decimalPlaces=this._getDecimalPlaces([h.min,h.max,d],void 0,3));var b=u.gridLines,w=(c||this._getInterval(b,d),n?t.width:t.height),y=1==o.flip;o.flip=!y;var _={min:h.min,max:h.max,logAxis:{enabled:1==c,base:o.logarithmicScaleBase,minPow:h.minPow,maxPow:h.maxPow}};(b.visible||o.alternatingBackgroundColor||o.alternatingBackgroundColor2)&&(b.offsets=this._getOffsets("gridLines",o,w,_,u,{left:0,right:0},l,d));var j=u.tickMarks;j.visible&&(j.offsets=this._getOffsets("tickMarks",o,w,_,u,{left:0,right:0},l,d)),labelOffsets=this._getOffsets("labels",o,w,_,u,{left:0,right:0},l,d,!l),o.flip=y;var q,S=[];this._elementRenderInfo&&this._elementRenderInfo.length>e&&(q=this._elementRenderInfo[e].valueAxis);for(var T=0;T<labelOffsets.length;T++){var C=labelOffsets[T].value;if(isNaN(labelOffsets[T].offset))S.push(void 0);else{var I={key:C,text:f.formatFunction?f.formatFunction(C):isNaN(C)?C:this._formatNumber(C,x)};q&&q.itemOffsets[C]&&(I.x=q.itemOffsets[C].x,I.y=q.itemOffsets[C].y),I.targetX=labelOffsets[T].offset,isNaN(I.targetX)||S.push(I)}}var k=n&&"top"==o.position||!n&&"right"==o.position||!n&&this.rtl&&"left"!=o.position,P={items:S,renderData:v},M=this._getAnimProps(e),N=M.enabled&&S.length<500?M.duration:0;return 0==this.enableAxisTextAnimation&&(N=0),v.settings=u,v.isMirror=k,v.rect=t,this._renderAxis(!n,k,u,t,s,d,c,!0,P,i,N)},_objectsArraysToArray:function(t,i){var s=[];if(!e.isArray(t))return s;for(var r=0;r<t.length;r++)s.push(t[r][i]);return s},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var s=0;s<e.length;s++)for(var r=0;r<e[s].length;r++)i.length<=r&&i.push({}),i[r][t[s]]=e[s][r];return i},_valuesToOffsets:function(t,i,s,r,n,o,a){var l=[];if(!i||!e.isArray(t))return l;var h,d=s.logAxis.base,c=s.logAxis.enabled?"logarithmic":"linear",u=i.flip,p=0,f=0;n&&!isNaN(n.left)&&(p=n.left),n&&!isNaN(n.right)&&(f=n.right),r=h=r-p-f;for(var m=0;m<t.length;m++)x=this._jqxPlot.scale(t[m],{min:s.min.valueOf(),max:s.max.valueOf(),type:c,base:d},{min:0,max:o?r:h,flip:u},{}),isNaN(x)?l.push(NaN):(isNaN(a)||(x+=a),x<=r+p+f+1?l.push(e.jqx._ptrnd(x)):l.push(NaN));return l},_generateIntervalValues:function(e,t,i,s,r){var n=[],o=e.min,a=e.max;if(e.logAxis&&e.logAxis.enabled&&(o=e.logAxis.minPow,a=e.logAxis.maxPow),null==o||null==a)return n;if(o==a)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,o)]:[o];var l=1;i<1&&(o*=l=1e6,a*=l,i*=l);for(var h=o;h<=a;h+=i)n.push(h/l+(r?i/2:0));if(t>i){var d=[],c=Math.round(t/i);for(h=0;h<n.length;h++)h%c==0&&d.push(n[h]);n=d}if(e.logAxis&&e.logAxis.enabled)for(h=0;h<n.length;h++)n[h]=Math.pow(e.logAxis.base,n[h]);return n},_generateDTOffsets:function(t,i,s,r,n,o,a,l,h,d,c){a||(a="day");var u=[];if(t>i)return u;if(t==i)return d?u.push({offset:l?s/2:r.left,value:t}):l&&u.push({offset:s/2,value:t}),u;var p=s-r.left-r.right,f=t,m=r.left,g=m,v=o=Math.max(o,1),x=Math.min(1,o);for(o>1&&"millisecond"!=a&&(o=1);e.jqx._ptrnd(g)<=e.jqx._ptrnd(r.left+p+(l?0:r.right));){u.push({offset:g,value:f});var b=new Date(f.valueOf());if("millisecond"==a)b.setMilliseconds(f.getMilliseconds()+o);else if("second"==a)b.setSeconds(f.getSeconds()+o);else if("minute"==a)b.setMinutes(f.getMinutes()+o);else if("hour"==a){var w=b.valueOf();b.setHours(f.getHours()+o),w==b.valueOf()&&b.setHours(f.getHours()+o+1)}else"day"==a?b.setDate(f.getDate()+o):"month"==a?b.setMonth(f.getMonth()+o):"year"==a&&b.setFullYear(f.getFullYear()+o);g=m+((f=b).valueOf()-t.valueOf())*x/(i.valueOf()-t.valueOf())*p}if(c)for(var y=0;y<u.length;y++)u[y].offset=s-u[y].offset;if(v>1&&"millisecond"!=a){var _=[];for(y=0;y<u.length;y+=v)_.push({offset:u[y].offset,value:u[y].value});u=_}if(!l&&!d&&u.length>1){(_=[]).push({offset:0,value:void 0});for(y=1;y<u.length;y++)_.push({offset:u[y-1].offset+(u[y].offset-u[y-1].offset)/2,value:void 0});var j=_.length;j>1?_.push({offset:_[j-1].offset+(_[j-1].offset-_[j-2].offset)}):_.push({offset:s,value:void 0}),u=_}if(n>o){_=[];var q=Math.round(n/v);for(y=0;y<u.length;y++)y%q==0&&_.push({offset:u[y].offset,value:u[y].value});u=_}return u},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e];if(!(-1!=i.type.indexOf("stacked")))return!1;for(var s=-1!=i.type.indexOf("waterfall"),r=this._getDataLen(e),n=!1,o=[],a=0;a<i.series.length;a++)o[a]=this._isSerieVisible(e,a);for(var l=0;l<r;l++){var h=void 0;s||(n=!1);for(var d=0;d<i.series.length;d++)if(o[d]&&(val=this._getDataValueAsNumber(l,i.series[d].dataField,e),!isNaN(val))){if(i.series[d].summary)if(void 0!==this._getDataValue(l,i.series[d].summary,e))continue;var c=n?val<0:val<t;if(n=!0,null==h&&(h=c),c!=h)return!0;h=c,val}}return!1},_getValueAxis:function(e){var t=null==e?this.valueAxis:this.seriesGroups[e].valueAxis||this.valueAxis;return t||(t=this.valueAxis={}),t},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var s=this.seriesGroups[i];t.seriesGroups[i]={};var r=this._getXAxis(i),n=this._getValueAxis(i),o=this._getXAxisStats(i,r,"horizontal"!=s.orientation?e.width:e.height);(V=t.seriesGroups[i]).isValid=!0;var a="horizontal"==s.orientation?e.width:e.height,l=1==n.logarithmicScale,h=n.logarithmicScaleBase;isNaN(h)&&(h=10);var d=-1!=s.type.indexOf("stacked"),c=d&&-1!=s.type.indexOf("100"),u=-1!=s.type.indexOf("range"),p=-1!=s.type.indexOf("waterfall");if(p&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";c&&(V.psums=[],V.nsums=[]);var f=NaN,m=NaN,g=NaN,v=NaN,x=n?n.baselineValue:NaN;isNaN(x)&&(x=l&&!c?1:0);var b=!1;0!=x&&d&&(b=this._hasStackValueReversal(i,x))&&(x=0),d&&p&&(b=this._hasStackValueReversal(i,x));var w=this._getDataLen(i),y=0,_=NaN,j=[];if(p)for(var q=0;q<s.series.length;q++)j.push(NaN);for(var S=NaN,T=0;T<w&&V.isValid;T++){if(r.rangeSelector){var C=r.dataField?this._getDataValue(T,r.dataField,i):T;if(C&&o.isDateTime&&(C=this._castAsDate(C,r.dateFormat)),o.useIndeces&&(C=T),C&&(C.valueOf()<o.min.valueOf()||C.valueOf()>o.max.valueOf()))continue}var I=n.minValue,k=n.maxValue;n.baselineValue&&(I=isNaN(I)?x:Math.min(x,I),k=isNaN(k)?x:Math.max(x,k));var P=0,M=0;for(q=0;s.series&&q<s.series.length;q++)if(this._isSerieVisible(i,q)){var N=NaN,D=NaN,B=NaN;if(-1!=s.type.indexOf("candle")||-1!=s.type.indexOf("ohlc")){var O=["Open","Low","Close","High"];for(var A in O){var H=this._getDataValueAsNumber(T,s.series[q]["dataField"+O[A]],i);isNaN(H)||(B=isNaN(D)?H:Math.min(B,H),D=isNaN(D)?H:Math.max(D,H))}}else if(u){var E=this._getDataValueAsNumber(T,s.series[q].dataFieldFrom,i),z=this._getDataValueAsNumber(T,s.series[q].dataFieldTo,i);D=Math.max(E,z),B=Math.min(E,z)}else{if(N=this._getDataValueAsNumber(T,s.series[q].dataField,i),p){if(this._isSummary(i,T))if(void 0!==this._getDataValue(T,s.series[q].summary,i))continue;d?(isNaN(S)||(N+=S),S=N):(isNaN(j[q])?j[q]=N:N+=j[q],j[q]=N)}if(isNaN(N)||l&&N<=0)continue;B=D=N}(isNaN(k)||D>k)&&(isNaN(n.maxValue)||D<=n.maxValue)&&(k=D),(isNaN(I)||B<I)&&(isNaN(n.minValue)||B>=n.minValue)&&(I=B),isNaN(N)||!d||p||(N>x?P+=N:N<x&&(M+=N))}if(c||(isNaN(n.maxValue)||(P=Math.min(n.maxValue,P)),isNaN(n.minValue)||(M=Math.max(n.minValue,M))),l&&c)for(q=0;q<s.series.length;q++)if(this._isSerieVisible(i,q)){N=this._getDataValueAsNumber(T,s.series[q].dataField,i);if(isNaN(N)||N<=0)_=.01;else{var L=0==P?0:N/P;(isNaN(_)||L<_)&&(_=L)}}else _=.01;var F=P-M;y<F&&(y=F),c&&(V.psums[T]=P,V.nsums[T]=M),(k>m||isNaN(m))&&(m=k),(I<f||isNaN(f))&&(f=I),(P>g||isNaN(g))&&(g=P),(M<v||isNaN(v))&&(v=M)}c&&(g=0==g?0:Math.max(g,-v),v=0==v?0:Math.min(v,-g)),f==m&&(0==f?(f=-1,m=1):f<0?m=0:l?1==f&&(f/=h,m*=h):f=0);var R={gmin:f,gmax:m,gsumP:g,gsumN:v,gbase:x,isLogAxis:l,logBase:h,minPercent:_,gMaxRange:y,isStacked:d,isStacked100:c,isWaterfall:p,hasStackValueReversal:b,valueAxis:n,valueAxisSize:a};R.isStacked&&(R.gsumN<0&&(R.gmin=Math.min(R.gmin,R.gbase+R.gsumN)),R.gsumP>0&&(R.gmax=Math.max(R.gmax,R.gbase+R.gsumP))),V.context=R}this._mergeCommonValueAxisStats();for(T=0;T<t.seriesGroups.length;T++){var V;if((V=t.seriesGroups[T]).isValid){var W=this._calcOutputGroupStats(V.context);for(var A in W)V[A]=W[A];delete V.context}}},_mergeCommonValueAxisStats:function(){for(var e={},t=0;t<this.seriesGroups.length;t++)if(this._isGroupVisible(t)&&!this.seriesGroups[t].valueAxis){var i=this._stats.seriesGroups[t].context;e.gbase=i.gbase,(isNaN(e.gmin)||i.gmin<e.gmin)&&(e.gmin=i.gmin),(isNaN(e.gmax)||i.gmax>e.gmax)&&(e.gmax=i.gmax),(isNaN(e.gsumP)||i.gsumP>e.gsumP)&&(e.gsumP=i.gsumP),(isNaN(e.gsumN)||i.gsumN<e.gsumN)&&(e.gsumN=i.gsumN),(isNaN(e.logBase)||i.logBase<e.logBase)&&(e.logBase=i.logBase),(isNaN(e.minPercent)||i.minPercent<e.minPercent)&&(e.minPercent=i.minPercent),e.gsumN>0&&(e.gmin=Math.min(e.gmin,e.gbase+e.gsumN)),e.gsumP>0&&(e.gmax=Math.max(e.gmax,e.gbase+e.gsumP))}for(t=0;t<this.seriesGroups.length;t++)if(!this.seriesGroups[t].valueAxis){var s=this._stats.seriesGroups[t].context;for(var r in e)s[r]=e[r]}},_calcOutputGroupStats:function(t){var i=t.gmin,s=t.gmax,r=t.gsumP,n=t.gsumN,o=t.gbase,a=t.isLogAxis,l=t.logBase,h=t.minPercent,d=t.gMaxRange,c=t.isStacked,u=t.isStacked100,p=t.isWaterfall,f=t.hasStackValueReversal,m=t.valueAxis,g=t.valueAxisSize,v=t.valueAxis.unitInterval;v||(v=this._calcInterval(i,s,Math.max(g/80,2))),i==s&&(i=o,s*=2);var x=NaN,b=0,w=0;if(a){if(u){x=0;var y=1;for(b=w=e.jqx.log(100,l);y>h;)y/=l,b--,x++;i=Math.pow(l,b)}else c&&!p&&(s=Math.max(s,r)),w=e.jqx._rnd(e.jqx.log(s,l),1,!0),s=Math.pow(l,w),b=e.jqx._rnd(e.jqx.log(i,l),1,!1),i=Math.pow(l,b);v=l}i<n&&(n=i),s>r&&(r=s);var _=a?i:e.jqx._rnd(i,v,!1),j=a?s:e.jqx._rnd(s,v,!0);if(u&&j>100&&(j=100),u&&!a&&(j=j>0?100:0,_=_<0?-100:0,v=m.unitInterval,(isNaN(v)||v<=0||v>=100)&&(v=10),100%v!=0))for(;v>=1&&100%v!=0;v--);return isNaN(j)||isNaN(_)||isNaN(v)?{}:(isNaN(x)&&(x=parseInt(((j-_)/(0==v?1:v)).toFixed())),a&&!u&&(x=w-b,d=Math.pow(l,x)),x<1?{}:{min:_,max:j,logarithmic:a,logBase:l,base:a?_:o,minPow:b,maxPow:w,sumP:r,sumN:n,mu:v,maxRange:d,intervals:x,hasStackValueReversal:f})},_getDataLen:function(t){var i=this.source;return null!=t&&-1!=t&&this.seriesGroups[t].source&&(i=this.seriesGroups[t].source),i instanceof e.jqx.dataAdapter&&(i=i.records),i?i.length:0},_getDataValue:function(t,i,s){var r=this.source;if(null!=s&&-1!=s&&(r=this.seriesGroups[s].source||r),r instanceof e.jqx.dataAdapter&&(r=r.records),!(!r||t<0||t>r.length-1))return e.isFunction(i)?i(t,r):i&&""!=i?r[t][i]:r[t]},_getDataValueAsNumber:function(e,t,i){var s=this._getDataValue(e,t,i);return this._isDate(s)?s.valueOf():("number"!=typeof s&&(s=parseFloat(s)),"number"!=typeof s&&(s=void 0),s)},_isPieGroup:function(e){var t=this.seriesGroups[e];return!(!t||!t.type)&&(-1!=t.type.indexOf("pie")||-1!=t.type.indexOf("donut"))},_renderPieSeries:function(t,i){for(var s=this._getDataLen(t),r=this.seriesGroups[t],n=this._calcGroupOffsets(t,i).offsets,o=0;o<r.series.length;o++){var a=r.series[o];if(!a.customDraw){var l=this._getSerieSettings(t,o),h=(a.colorScheme||r.colorScheme||this.colorScheme,this._getAnimProps(t,o)),d=h.enabled&&s<5e3&&!this._isToggleRefresh&&1!=this._isVML?h.duration:0;e.jqx.mobile.isMobileBrowser()&&this.renderer instanceof e.jqx.HTML5Renderer&&(d=0);var c=this._get([a.minAngle,a.startAngle]);(isNaN(c)||c<0||c>360)&&(c=0);var u=this._get([a.maxAngle,a.endAngle]);(isNaN(u)||u<0||u>360)&&(u=360);for(var p={rect:i,minAngle:c,maxAngle:u,groupIndex:t,serieIndex:o,settings:l,items:[]},f=0;f<s;f++){var m=n[o][f];if(m.visible){var g=m.fromAngle,v=m.toAngle,x=this.renderer.pieslice(m.x,m.y,m.innerRadius,m.outerRadius,g,0==d?v:g,m.centerOffset);this._setRenderInfo(t,o,f,{element:x});var b={displayValue:m.displayValue,itemIndex:f,visible:m.visible,x:m.x,y:m.y,innerRadius:m.innerRadius,outerRadius:m.outerRadius,fromAngle:g,toAngle:v,centerOffset:m.centerOffset};p.items.push(b)}}this._animatePieSlices(p,0);var w=this;this._enqueueAnimation("series",void 0,void 0,d,function(e,t,i){w._animatePieSlices(t,i)},p)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){var i;this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var s=this.seriesGroups[e.groupIndex],r=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),n=r.visible,o=[],a=0;a<e.items.length;a++){if((p=e.items[a]).visible){var l=p.fromAngle,h=p.fromAngle+t*(p.toAngle-p.fromAngle);if(i&&i[p.displayValue]){var d=i[p.displayValue].fromAngle,c=i[p.displayValue].toAngle;l=d+(l-d)*t,h=c+(h-c)*t}o.push({index:a,from:l,to:h})}}i&&o.sort(this._sliceSortFunction);var u=NaN;for(a=0;a<o.length;a++){var p=e.items[o[a].index],f=this._getRenderInfo(e.groupIndex,e.serieIndex,p.itemIndex);l=o[a].from,h=o[a].to;i&&(!isNaN(u)&&l>u&&(l=u),u=h,a==o.length-1&&h!=o[0].from&&(h=e.maxAngle+o[0].from));var m=this.renderer.pieSlicePath(p.x,p.y,p.innerRadius,p.outerRadius,l,h,p.centerOffset);this.renderer.attr(f.element,{d:m});var g=this._getColors(e.groupIndex,e.serieIndex,p.itemIndex,"radialGradient",p.outerRadius),v=e.settings;f.colors=g,f.settings=v,this.renderer.attr(f.element,{fill:g.fillColor,stroke:g.lineColor,"stroke-width":v.stroke,"fill-opacity":v.opacity,"stroke-opacity":v.opacity,"stroke-dasharray":"none"});s.series[e.serieIndex];n&&this._showPieLabel(e.groupIndex,e.serieIndex,p.itemIndex,r),1==t&&this._installHandlers(f.element,"pieslice",e.groupIndex,e.serieIndex,p.itemIndex)}},_showPieLabel:function(t,i,s,r,n){var o=this._renderData[t].offsets[i][s];if(o.elementInfo.labelElement&&this.renderer.removeElement(o.elementInfo.labelElement),r||(r=this._getLabelsSettings(t,i,NaN)),r.visible){var a=o.fromAngle,l=o.toAngle,h=Math.abs(a-l);h>360&&(a=0,l=360);Math.PI,Math.PI;var d,c=h/2+a,u=(c%=360)*Math.PI*2/360;1==r.autoRotate&&(d=c<90||c>270?360-c:180-c);var p=r.linesEnabled,f=this._showLabel(t,i,s,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,d),m=r.radius||o.outerRadius+Math.max(f.width,f.height);this._isPercent(m)&&(m=parseFloat(m)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),m+=o.centerOffset,isNaN(n)&&(n=0),m+=n;var g=this.seriesGroups[t],v=g.series[i],x=e.jqx.getNum([v.offsetX,g.offsetX,this._plotRect.width/2]),b=e.jqx.getNum([v.offsetY,g.offsetY,this._plotRect.height/2]),w=this._plotRect.x+x,y=this._plotRect.y+b,_=this._adjustTextBoxPosition(w,y,f,m,c,o.outerRadius>m,0!=r.linesAngles,1==r.autoRotate),j={};if(o.elementInfo.labelElement=this._showLabel(t,i,s,{x:_.x,y:_.y,width:f.width,height:f.height},"left","top",!1,!1,!1,d,j),m>o.outerRadius+5&&0!=p){var q={lineColor:o.elementInfo.colors.lineColor,stroke:o.elementInfo.settings.stroke,opacity:o.elementInfo.settings.opacity,dashStyle:o.elementInfo.settings.dashStyle};o.elementInfo.labelArrowPath=this._updateLebelArrowPath(o.elementInfo.labelArrowPath,w,y,m,o.outerRadius+n,u,0!=r.linesAngles,q,j)}}},_updateLebelArrowPath:function(t,i,s,r,n,o,a,l,h){var d=e.jqx._ptrnd(i+(r-0)*Math.cos(o)),c=e.jqx._ptrnd(s-(r-0)*Math.sin(o)),u=e.jqx._ptrnd(i+(n+2)*Math.cos(o)),p=e.jqx._ptrnd(s-(n+2)*Math.sin(o)),f=[];f.push({x:h.x+h.width/2,y:h.y}),f.push({x:h.x+h.width/2,y:h.y+h.height}),f.push({x:h.x,y:h.y+h.height/2}),f.push({x:h.x+h.width,y:h.y+h.height/2}),a||(f.push({x:h.x,y:h.y}),f.push({x:h.x+h.width,y:h.y}),f.push({x:h.x+h.width,y:h.y+h.height}),f.push({x:h.x,y:h.y+h.height})),f=(f=f.sort(function(t,r){return e.jqx._ptdist(t.x,t.y,i,s)-e.jqx._ptdist(r.x,r.y,i,s)})).sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-s)-(Math.abs(t.x-i)+Math.abs(t.y-s))});for(var m=0;m<f.length;m++)f[m].x=e.jqx._ptrnd(f[m].x),f[m].y=e.jqx._ptrnd(f[m].y);var g="M "+(d=f[0].x)+","+(c=f[0].y)+" L"+u+","+p;return a&&(g="M "+d+","+c+" L"+u+","+c+" L"+u+","+p),t?this.renderer.attr(t,{d:g}):t=this.renderer.path(g,{}),this.renderer.attr(t,{fill:"none",stroke:l.lineColor,"stroke-width":l.stroke,"stroke-opacity":l.opacity,"stroke-dasharray":"none"}),t},_adjustTextBoxPosition:function(t,i,s,r,n,o,a,l){var h=n*Math.PI*2/360,d=e.jqx._ptrnd(t+r*Math.cos(h)),c=e.jqx._ptrnd(i-r*Math.sin(h));if(l){var u=s.width,p=s.height,f=Math.atan(p/u)%(2*Math.PI),m=h%(2*Math.PI),g=0;m<=f?g=u/2*Math.cos(h):m>=f&&m<Math.PI-f?g=p/2*Math.sin(h):m>=Math.PI-f&&m<Math.PI+f?g=u/2*Math.cos(h):m>=Math.PI+f&&m<2*Math.PI-f?g=p/2*Math.sin(h):m>=2*Math.PI-f&&m<2*Math.PI&&(g=u/2*Math.cos(h)),r+=Math.abs(g)+3;d=e.jqx._ptrnd(t+r*Math.cos(h)),c=e.jqx._ptrnd(i-r*Math.sin(h));return{x:d-=s.width/2,y:c-=s.height/2}}return o?(d-=s.width/2,c-=s.height/2):a?n>=90&&n<270?(c-=s.height/2,d-=s.width):c-=s.height/2:n>=0&&n<45||n>=315&&n<360?c-=s.height/2:n>=45&&n<135?(c-=s.height,d-=s.width/2):n>=135&&n<225?(c-=s.height/2,d-=s.width):n>=225&&n<315&&(d-=s.width/2),{x:d,y:c}},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){var t=0;e=e||"vertical";for(var i=this.seriesGroups,s=0;s<i.length;s++){var r=i[s].orientation||"vertical";this._isColumnType(i[s].type)&&r==e&&t++}return this.columnSeriesOverlap&&(t=1),t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",s=0;s<e;s++){var r=this.seriesGroups[s],n=r.orientation||"vertical";this._isColumnType(r.type)&&n==i&&t++}return t},_renderAxisBands:function(t,i,s){var r=s?this._getXAxis(t):this._getValueAxis(t),n=this.seriesGroups[t],o=s?void 0:n.bands;if(!o){for(var a=0;a<t;a++){if((s?this._getXAxis(a):this._getValueAxis(a))==r)return}o=r.bands}if(e.isArray(o)){var l=i,h="horizontal"==n.orientation;h&&(l={x:i.y,y:i.x,width:i.height,height:i.width}),this._calcGroupOffsets(t,l);for(a=0;a<o.length;a++){var d,c=o[a],u=this._get([c.minValue,c.from]),p=this._get([c.maxValue,c.to]),f=s?this.getXAxisDataPointOffset(u,t):this.getValueAxisDataPointOffset(u,t),m=s?this.getXAxisDataPointOffset(p,t):this.getValueAxisDataPointOffset(p,t),g=Math.abs(f-m);if(n.polar||n.spider){var v=this._renderData[t],x=v.polarCoords;if(s)if(n.spider){p1=this.getPolarDataPointOffset(u,this._stats.seriesGroups[t].max,t),p2=this.getPolarDataPointOffset(p,this._stats.seriesGroups[t].max,t);P="M "+x.x+","+x.y;P+=" L "+p1.x+","+p1.y,P+=" L "+p2.x+","+p2.y,d=this.renderer.path(P)}else{var b={},w={x:Math.min(f,m),y:i.y,width:g,height:i.height};this._columnAsPieSlice(b,i,x,w),d=b.element}else{var y=this._toPolarCoord(x,i,i.x,v.baseOffset),_=this._toPolarCoord(x,i,i.x,f),j=this._toPolarCoord(x,i,i.x,m),q=e.jqx._ptdist(y.x,y.y,_.x,_.y),S=e.jqx._ptdist(y.x,y.y,j.x,j.y),T=Math.round(360*-x.startAngle/(2*Math.PI)),C=Math.round(360*-x.endAngle/(2*Math.PI));if(T>C){var I=T;T=C,C=I}if(n.spider){var k=v.xAxis.offsetAngles,P="",M=[S,q],N=k;for(var D in x.isClosedCircle&&(N=e.extend([],k)).push(N[0]),M){for(var B=0;B<N.length;B++){var O=0==D?B:k.length-B-1,A=x.x+M[D]*Math.cos(N[O]),H=x.y+M[D]*Math.sin(N[O]);P+=""==P?"M ":" L",P+=e.jqx._ptrnd(A)+","+e.jqx._ptrnd(H)}if(0==D){A=x.x+M[1]*Math.cos(N[O]),H=x.y+M[1]*Math.sin(N[O]);P+=" L"+e.jqx._ptrnd(A)+","+e.jqx._ptrnd(H)}}P+=" Z",d=this.renderer.path(P)}else d=this.renderer.pieslice(x.x,x.y,q,S,T,C)}}else{var E={x:Math.min(f,m),y:l.y,width:g,height:l.height};if(s||(E={x:l.x,y:Math.min(f,m),width:l.width,height:g}),h){I=E.x;E.x=E.y,E.y=I,I=E.width,E.width=E.height,E.height=I}d=0==g||1==g?this.renderer.line(e.jqx._ptrnd(E.x),e.jqx._ptrnd(E.y),e.jqx._ptrnd(E.x+(h?0:E.width)),e.jqx._ptrnd(E.y+(h?E.height:0))):this.renderer.rect(E.x,E.y,E.width,E.height)}var z=c.fillColor||c.color||"#AAAAAA",L=c.lineColor||z,F=c.lineWidth;isNaN(F)&&(F=1);var R=c.opacity;(isNaN(R)||R<0||R>1)&&(R=1),this.renderer.attr(d,{fill:z,"fill-opacity":R,stroke:L,"stroke-opacity":R,"stroke-width":F,"stroke-dasharray":c.dashStyle})}}},_getColumnGroupWidth:function(e,t,i){var s=this.seriesGroups[e],r=-1!=s.type.indexOf("stacked"),n=(r||s.series.length,this._getColumnGroupsCount(s.orientation));(isNaN(n)||0==n)&&(n=1);var o=t.rangeLength>=1?t.itemWidth:.9*i,a=s.columnsMinWidth;isNaN(a)&&(a=1),isNaN(s.columnsMaxWidth)||(a=Math.min(s.columnsMaxWidth,a)),a>o&&t.length>0&&(o=Math.max(o,.9*i/t.length));var l=a;if(!r){var h=s.seriesGapPercent;(isNaN(h)||h<0)&&(h=10);var d=a;d*=1+(h/=100),l+=s.series.length*d}return{requiredWidth:l,availableWidth:o,targetWidth:Math.max(o/n,l)}},_getColumnSerieWidthAndOffset:function(e,t){var i=this.seriesGroups[e],s=(i.series[t],"horizontal"==i.orientation),r=this._plotRect;s&&(r={x:r.y,y:r.x,width:r.height,height:r.width});var n=this._calcGroupOffsets(e,r);if(n&&0!=n.xoffsets.length){var o=this._getColumnGroupsCount(i.orientation);"candlestick"!=i.type&&"ohlc"!=i.type||(o=1);var a=this._getColumnGroupIndex(e),l=this._getColumnGroupWidth(e,n.xoffsets,s?r.height:r.width),h=0,d=l.targetWidth;(1==this.columnSeriesOverlap||Math.round(d)>Math.round(l.availableWidth/o))&&(o=1,a=0),h-=d*o/2,h+=d*a;var c=i.columnsGapPercent;c<=0&&(c=0),(isNaN(c)||c>=100)&&(c=25);var u=d*(c/=100);u+l.requiredWidth>l.targetWidth&&(u=Math.max(0,l.targetWidth-l.requiredWidth)),Math.round(d)>Math.round(l.availableWidth)&&(u=0),d-=u,h+=u/2;var p=i.seriesGapPercent;(isNaN(p)||p<0)&&(p=10);var f=-1!=i.type.indexOf("stacked"),m=d;f||(m/=i.series.length);var g=this._get([i.seriesGap,d*p/100/(i.series.length-1)]);(1==i.polar||1==i.spider||f||i.series.length<=1)&&(g=0);var v=g*(i.series.length-1);i.series.length>1&&v>d-1*i.series.length&&(g=(v=d-1*i.series.length)/Math.max(1,i.series.length-1));var x=m-v/i.series.length,b=0,w=i.columnsMaxWidth;isNaN(w)||x>w&&(b=x-w,x=w);var y=0;if(f)y=b/2;else y=(d-x*i.series.length-v)/2+x*t+Math.max(0,t)*g;return{width:x,offset:h+y}}},_renderColumnSeries:function(t,i){var s=this.seriesGroups[t];if(s.series&&0!=s.series.length){this._getDataLen(t);var r="horizontal"==s.orientation,n=i;r&&(n={x:i.y,y:i.x,width:i.height,height:i.width});var o=this._calcGroupOffsets(t,n);if(o&&0!=o.xoffsets.length){var a;1!=s.polar&&1!=s.spider||(a=this._getPolarAxisCoords(t,n));var l={groupIndex:t,rect:i,vertical:!r,seriesCtx:[],renderData:o,polarAxisCoords:a};l.columnGroupWidth=this._getColumnGroupWidth(t,o.xoffsets,r?n.height:n.width);for(var h=this._getGroupGradientType(t),d=0;d<s.series.length;d++){var c=s.series[d];if(!c.customDraw){c.dataField;var u=this._getAnimProps(t,d),p=u.enabled&&!this._isToggleRefresh&&o.xoffsets.length<100?u.duration:0,f=this._getColumnSerieWidthAndOffset(t,d),m=this._isSerieVisible(t,d),g=this._getSerieSettings(t,d),v=this._getColors(t,d,NaN,this._getGroupGradientType(t),4),x=[];if(e.isFunction(c.colorFunction)&&!a)for(var b=o.xoffsets.first;b<=o.xoffsets.last;b++)x.push(this._getColors(t,d,b,h,4));var w={seriesIndex:d,serieColors:v,itemsColors:x,settings:g,columnWidth:f.width,xAdjust:f.offset,isVisible:m};l.seriesCtx.push(w)}}this._animColumns(l,0==p?1:0);var y=this;this._enqueueAnimation("series",void 0,void 0,p,function(e,t,i){y._animColumns(t,i)},l)}}},_getPercent:function(e,t,i,s){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&e<i&&(e=i),!isNaN(s)&&!isNaN(e)&&e>s&&(e=s),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,s,r,n){var o=this.seriesGroups[t],a=this._getPercent(o.columnsTopWidthPercent,100,0,100),l=this._getPercent(o.columnsBottomWidthPercent,100,0,100);0==a&&0==l&&(l=100);for(var h=this._getPercent(o.columnsNeckHeightPercent,NaN,0,100)/100,d=this._getPercent(o.columnsNeckWidthPercent,100,0,100)/100,c=[],u=NaN,p=0;p<i.length;p++){var f,m=(P=i[p]).seriesIndex,g=(o.series[m],e.offsets[m][s].from),v=e.offsets[m][s].to,x=e.xoffsets.data[s],b=P.isVisible;b||(v=g);var w=this._elementRenderInfo;if(b&&w&&w.length>t&&w[t].series.length>m){var y=e.xoffsets.xvalues[s];!(f=w[t].series[m][y])||isNaN(f.from)||isNaN(f.to)||(g=f.from+(g-f.from)*n,v=f.to+(v-f.to)*n,x=f.xoffset+(x-f.xoffset)*n)}f||(v=g+(v-g)*(r?1:n)),isNaN(g)&&(g=isNaN(u)?e.baseOffset:u),u=!isNaN(v)&&r?v:g,isNaN(v)&&(v=g);var _={from:g,to:v,xOffset:x};100==a&&100==l||(_.funnel=!0,_.toWidthPercent=a,_.fromWidthPercent=l),c.push(_)}if(r&&c.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var j=0,q=0,S=-1/0,T=1/0,C=1/0,I=-1/0,k=0;k<c.length;k++){var P;(P=i[k]).isVisible&&(c[k].to>=c[k].from?(q+=c[k].to-c[k].from,C=Math.min(C,c[k].from),I=Math.max(I,c[k].to)):(j+=c[k].from-c[k].to,S=Math.max(S,c[k].from),T=Math.min(T,c[k].to)))}var M=j,N=q;j*=n,q*=n;var D=0,B=0;for(k=0;k<c.length;k++){var O;if(c[k].to>=c[k].from)(O=c[k].to-c[k].from)+B>q&&(O=Math.max(0,q-B),c[k].to=c[k].from+O),100==a&&100==l||(c[k].funnel=!0,!isNaN(h)&&N*h>=B?c[k].fromWidthPercent=100*d:c[k].fromWidthPercent=Math.abs(c[k].from-C)/N*(a-l)+l,!isNaN(h)&&N*h>=0+(B+O)?c[k].toWidthPercent=100*d:c[k].toWidthPercent=Math.abs(c[k].to-C)/N*(a-l)+l),B+=O;else(O=c[k].from-c[k].to)+D>j&&(O=Math.max(0,j-D),c[k].to=c[k].from-O),100==a&&100==l||(c[k].funnel=!0,!isNaN(h)&&M*h>=D?c[k].fromWidthPercent=100*d:c[k].fromWidthPercent=Math.abs(c[k].from-S)/M*(a-l)+l,!isNaN(h)&&M*h>=0+(D+O)?c[k].toWidthPercent=100*d:c[k].toWidthPercent=Math.abs(c[k].to-S)/M*(a-l)+l),D+=O}}return c},_columnAsPieSlice:function(t,i,s,r){var n=this._toPolarCoord(s,i,r.x,r.y),o=this._toPolarCoord(s,i,r.x,r.y+r.height),a=e.jqx._ptdist(s.x,s.y,o.x,o.y),l=e.jqx._ptdist(s.x,s.y,n.x,n.y),h=i.width,d=180*Math.abs(s.startAngle-s.endAngle)/Math.PI,c=-(r.x-i.x)*d/h,u=-(r.x+r.width-i.x)*d/h,p=s.startAngle;if(c-=p=360*p/(2*Math.PI),u-=p,t)if(null!=t.element){var f=this.renderer.pieSlicePath(s.x,s.y,a,l,u,c,0);f+=" Z",this.renderer.attr(t.element,{d:f})}else t.element=this.renderer.pieslice(s.x,s.y,a,l,u,c,0);return{fromAngle:u,toAngle:c,innerRadius:a,outerRadius:l}},_setRenderInfo:function(e,t,i,s){this._renderData[e].offsets[t][i].elementInfo=s},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(t,i){for(var s=t.groupIndex,r=this.seriesGroups[s],n=t.renderData,o=-1!=r.type.indexOf("waterfall"),a=this._getXAxis(s),l=-1!=r.type.indexOf("stacked"),h=t.polarAxisCoords,d=(this._getGroupGradientType(s),t.columnGroupWidth.targetWidth,-1),c=0;c<r.series.length;c++)if(this._isSerieVisible(s,c)){d=c;break}var u=NaN,p=NaN;for(c=0;c<t.seriesCtx.length;c++){var f=t.seriesCtx[c];(isNaN(u)||u>f.xAdjust)&&(u=f.xAdjust),(isNaN(p)||p<f.xAdjust+f.columnWidth)&&(p=f.xAdjust+f.columnWidth)}var m=Math.abs(p-u),g=this._get([r.columnsGapPercent,25])/100;(isNaN(g)<0||g>=1)&&(g=.25);for(var v=g*m,x=t.renderData.xoffsets,b=-1,w={},y=1==r.skipOverlappingPoints,_=x.first;_<=x.last;_++){var j=x.data[_];if(!isNaN(j)&&!(-1!=b&&Math.abs(j-b)<m-1+v&&y)){b=j;var q=this._getColumnVOffsets(n,s,t.seriesCtx,_,l,i),S=!1;if(o)for(var T=0;T<r.series.length;T++)r.series[T].summary&&x.xvalues[_][r.series[T].summary]&&(S=!0);for(T=0;T<t.seriesCtx.length;T++){var C=(f=t.seriesCtx[T]).seriesIndex,I=r.series[C],k=q[T].from,P=q[T].to,M=q[T].xOffset,N=(t.vertical?t.rect.x:t.rect.y)+f.xAdjust,D=f.settings,B=0!=f.itemsColors.length?f.itemsColors[_-n.xoffsets.first]:f.serieColors,O=this._isSerieVisible(s,C);if(O){var A={x:j=e.jqx._ptrnd(N+M),width:f.columnWidth};q[T].funnel&&(A.fromWidthPercent=q[T].fromWidthPercent,A.toWidthPercent=q[T].toWidthPercent);var H=!0;t.vertical?(A.y=k,A.height=P-k,A.height<0&&(A.y+=A.height,A.height=-A.height,H=!1)):(A.x=k<P?k:P,A.width=Math.abs(k-P),H=k-P<0,A.y=j,A.height=f.columnWidth);var E=k-P;if(!isNaN(E)){E=Math.abs(E);var z=void 0,L=this._getRenderInfo(s,C,_),F=L.element,R=L.labelElement,V=null==F;if(R&&(this.renderer.removeElement(R),R=void 0),h){var W={element:F};z=this._columnAsPieSlice(W,t.rect,h,A),F=W.element;B=this._getColors(s,C,void 0,"radialGradient",z.outerRadius)}else if(q[T].funnel){var G=this._getTrapezoidPath(e.extend({},A),t.vertical,H);V?F=this.renderer.path(G,{}):this.renderer.attr(F,{d:G})}else V?F=this.renderer.rect(A.x,A.y,t.vertical?A.width:0,t.vertical?0:A.height):1==t.vertical?this.renderer.attr(F,{x:A.x,y:A.y,height:E}):this.renderer.attr(F,{x:A.x,y:A.y,width:E});if(E<1&&(1!=i||h)?this.renderer.attr(F,{display:"none"}):this.renderer.attr(F,{display:"block"}),V&&this.renderer.attr(F,{fill:B.fillColor,"fill-opacity":D.opacity,"stroke-opacity":D.opacity,stroke:B.lineColor,"stroke-width":D.stroke,"stroke-dasharray":D.dashStyle}),R&&this.renderer.removeElement(R),!O||0==E&&i<1)L={element:F,labelElement:R},this._setRenderInfo(s,C,_,L);else{if(o&&0!=this._get([I.showWaterfallLines,r.showWaterfallLines])){if(!l||l&&T==d){var U=l?-1:T;if(1==i&&!isNaN(n.offsets[T][_].from)&&!isNaN(n.offsets[T][_].to)){var X=w[U];if(null!=X){var Y={x:X.x,y:e.jqx._ptrnd(X.y)},K={x:j,y:Y.y},$=r.columnsTopWidthPercent/100;isNaN($)?$=1:($>1||$<0)&&($=1);var J=r.columnsBottomWidthPercent/100;isNaN(J)?J=1:(J>1||J<0)&&(J=1);var Z=t.vertical?A.width:A.height;if(Y.x=Y.x-Z/2+Z/2*$,S){var Q=Z*$/2;K.x=K.x+Z/2-(a.flip?-Q:Q)}else{Q=Z*J/2;K.x=K.x+Z/2-(a.flip?-Q:Q)}t.vertical||(this._swapXY([Y]),this._swapXY([K])),this.renderer.line(Y.x,Y.y,K.x,K.y,{stroke:X.color,"stroke-width":D.stroke,"stroke-opacity":D.opacity,"fill-opacity":D.opacity,"stroke-dasharray":D.dashStyle})}}}1==i&&0!=E&&(w[l?-1:T]={y:P,x:t.vertical?A.x+A.width:A.y+A.height,color:B.lineColor})}if(h){this._toPolarCoord(h,t.rect,A.x+A.width/2,A.y),Z=this._showLabel(s,C,_,A,void 0,void 0,!0);var ee=z.outerRadius+10;labelOffset=this._adjustTextBoxPosition(h.x,h.y,Z,ee,(z.fromAngle+z.toAngle)/2,!0,!1,!1),R=this._showLabel(s,C,_,{x:labelOffset.x,y:labelOffset.y},void 0,void 0,!1,!1,!1)}else R=this._showLabel(s,C,_,A,void 0,void 0,!1,!1,H);L={element:F,labelElement:R},this._setRenderInfo(s,C,_,L),1==i&&this._installHandlers(F,"column",s,C,_)}}}}}}},_getTrapezoidPath:function(t,i,s){var r="",n=t.fromWidthPercent/100,o=t.toWidthPercent/100;if(!i){var a=t.width;t.width=t.height,t.height=a,a=t.x,t.x=t.y,t.y=a}var l=t.x+t.width/2,h=[{x:l-t.width*(s?o:n)/2,y:t.y+t.height},{x:l-t.width*(s?n:o)/2,y:t.y},{x:l+t.width*(s?n:o)/2,y:t.y},{x:l+t.width*(s?o:n)/2,y:t.y+t.height}];i||this._swapXY(h),r+="M "+e.jqx._ptrnd(h[0].x)+","+e.jqx._ptrnd(h[0].y);for(var d=1;d<h.length;d++)r+=" L "+e.jqx._ptrnd(h[d].x)+","+e.jqx._ptrnd(h[d].y);return r+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(t,i,s){var r=this,n=r.seriesGroups[t];if(n.series&&0!=n.series.length){var o="horizontal"==n.orientation,a=i;o&&(a={x:i.y,y:i.x,width:i.height,height:i.width});var l=r._calcGroupOffsets(t,a);if(l&&0!=l.xoffsets.length){var h;a.width;(n.polar||n.spider)&&2*(h=r._getPolarAxisCoords(t,a)).r;r._alignValuesWithTicks(t);for(var d=r._getGroupGradientType(t),c=[],u=0;u<n.series.length;u++)c[u]=r._getColumnSerieWidthAndOffset(t,u);for(u=0;u<n.series.length;u++)if(this._isSerieVisible(t,u)){var p=r._getSerieSettings(t,u),f=n.series[u];if(!f.customDraw){var m=e.isFunction(f.colorFunction)?void 0:r._getColors(t,u,NaN,d),g={rect:i,inverse:o,groupIndex:t,seriesIndex:u,symbolType:f.symbolType,symbolSize:f.symbolSize,"fill-opacity":p.opacity,"stroke-opacity":p.opacity,"stroke-width":p.stroke,"stroke-dasharray":p.dashStyle,gradientType:d,colors:m,renderData:l,polarAxisCoords:h,columnsInfo:c,isOHLC:s,items:[],self:r},v=r._getAnimProps(t,u),x=v.enabled&&!r._isToggleRefresh&&l.xoffsets.length<5e3?v.duration:0;r._animCandleStick(g,0),r._enqueueAnimation("series",void 0,void 0,x,function(e,t,i){r._animCandleStick(t,i)},g)}}}}},_animCandleStick:function(t,i){var s=["Open","Low","Close","High"],r=t.columnsInfo[t.seriesIndex].width,n=t.self.seriesGroups[t.groupIndex],o=t.renderData.xoffsets,a=-1,l=Math.abs(o.data[o.last]-o.data[o.first]);l*=i;for(var h=NaN,d=NaN,c=0;c<t.columnsInfo.length;c++){var u=t.columnsInfo[c];(isNaN(h)||h>u.offset)&&(h=u.offset),(isNaN(d)||d<u.offset+u.width)&&(d=u.offset+u.width)}for(var p=Math.abs(d-h),f=0!=n.skipOverlappingPoints,m=o.first;m<=o.last;m++){var g=o.data[m];if(!isNaN(g)&&!(-1!=a&&Math.abs(g-a)<p&&f)){if(Math.abs(o.data[m]-o.data[o.first])>l)break;a=g;var v=t.items[m]=t.items[m]||{};for(var c in s){var x=t.self._getDataValueAsNumber(m,n.series[t.seriesIndex]["dataField"+s[c]],t.groupIndex);if(isNaN(x))break;var b=t.renderData.offsets[t.seriesIndex][m][s[c]];if(isNaN(b))break;v[s[c]]=b}if(g+=t.inverse?t.rect.y:t.rect.x,t.polarAxisCoords){var w=this._toPolarCoord(t.polarAxisCoords,this._plotRect,g,b);g=w.x,b=w.y}for(var y in g=e.jqx._ptrnd(g),s)v[y]=e.jqx._ptrnd(v[y]);var _=t.colors;if(_||(_=t.self._getColors(t.groupIndex,t.seriesIndex,m,t.gradientType)),t.isOHLC){var j="M"+g+","+v.Low+" L"+g+","+v.High+" M"+(g-r/2)+","+v.Open+" L"+g+","+v.Open+" M"+(g+r/2)+","+v.Close+" L"+g+","+v.Close;t.inverse&&(j="M"+v.Low+","+g+" L"+v.High+","+g+" M"+v.Open+","+(g-r/2)+" L"+v.Open+","+g+" M"+v.Close+","+g+" L"+v.Close+","+(g+r/2)),(q=v.lineElement)||(q=this.renderer.path(j,{}),this.renderer.attr(q,{fill:_.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:_.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),v.lineElement=q),1==i&&this._installHandlers(q,"column",t.groupIndex,t.seriesIndex,m)}else{var q;(q=v.lineElement)||(q=t.inverse?this.renderer.line(v.Low,g,v.High,g):this.renderer.line(g,v.Low,g,v.High),this.renderer.attr(q,{fill:_.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:_.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),v.lineElement=q);var S=v.stickElement;if(g-=r/2,!S){var T=_.fillColor;v.Close<=v.Open&&_.fillColorAlt&&(T=_.fillColorAlt),S=t.inverse?this.renderer.rect(Math.min(v.Open,v.Close),g,Math.abs(v.Close-v.Open),r):this.renderer.rect(g,Math.min(v.Open,v.Close),r,Math.abs(v.Close-v.Open)),this.renderer.attr(S,{fill:T,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:_.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),v.stickElement=S}1==i&&this._installHandlers(S,"column",t.groupIndex,t.seriesIndex,m)}}}},_renderScatterSeries:function(t,i,s){var r=this.seriesGroups[t];if(r.series&&0!=r.series.length){var n=-1!=r.type.indexOf("bubble"),o="horizontal"==r.orientation,a=i;o&&(a={x:i.y,y:i.x,width:i.height,height:i.width});var l=this._calcGroupOffsets(t,a);if(l&&0!=l.xoffsets.length){var h,d=a.width;(r.polar||r.spider)&&(d=2*(h=this._getPolarAxisCoords(t,a)).r);this._alignValuesWithTicks(t);var c=this._getGroupGradientType(t);s||(s="to");for(var u=0;u<r.series.length;u++){var p=this._getSerieSettings(t,u),f=r.series[u];if(!f.customDraw){var m=f.dataField,g=e.isFunction(f.colorFunction),v=this._getColors(t,u,NaN,c),x=NaN,b=NaN;if(n)for(var w=l.xoffsets.first;w<=l.xoffsets.last;w++){if("number"!=typeof(I=this._getDataValueAsNumber(w,f.radiusDataField||f.sizeDataField,t)))throw"Invalid radiusDataField value at ["+w+"]";isNaN(I)||((isNaN(x)||I<x)&&(x=I),(isNaN(b)||I>b)&&(b=I))}var y=f.minRadius||f.minSymbolSize;isNaN(y)&&(y=d/50);var _=f.maxRadius||f.maxSymbolSize;isNaN(_)&&(_=d/25),y>_&&(_=y);var j=f.radius;j=isNaN(j)&&!isNaN(f.symbolSize)?"circle"==f.symbolType?f.symbolSize/2:f.symbolSize:5;var q=this._getAnimProps(t,u),S=q.enabled&&!this._isToggleRefresh&&l.xoffsets.length<5e3?q.duration:0,T={groupIndex:t,seriesIndex:u,symbolType:f.symbolType,symbolSize:f.symbolSize,"fill-opacity":p.opacity,"stroke-opacity":p.opacity,"stroke-width":p.stroke,"stroke-width-symbol":p.strokeSymbol,"stroke-dasharray":p.dashStyle,items:[],polarAxisCoords:h},C=void 0;for(w=l.xoffsets.first;w<=l.xoffsets.last;w++){var I;if("number"==typeof(I=this._getDataValueAsNumber(w,m,t))){var k=l.xoffsets.data[w],P=l.xoffsets.xvalues[w],M=l.offsets[u][w][s];if(!(M<a.y||M>a.y+a.height||isNaN(k)||isNaN(M))){if(o){var N=k;k=M,M=N+i.y}else k+=i.x;if(!(!g&&C&&this.enableSampling&&e.jqx._ptdist(C.x,C.y,k,M)<1)){C={x:k,y:M};var D=j;if(n){var B=this._getDataValueAsNumber(w,f.radiusDataField||f.sizeDataField,t);if("number"!=typeof B)continue;D=y+(_-y)*(B-x)/Math.max(1,b-x),isNaN(D)&&(D=y)}l.offsets[u][w].radius=D;var O=NaN,A=NaN,H=0,E=this._elementRenderInfo;if(null!=P&&E&&E.length>t&&E[t].series.length>u){var z=E[t].series[u][P];if(z&&!isNaN(z.to)){if(O=z.to,A=z.xoffset,H=j,o){N=A;A=O,O=N+i.y}else A+=i.x;n&&(H=y+(_-y)*(z.valueRadius-x)/Math.max(1,b-x),isNaN(H)&&(H=y))}}g&&(v=this._getColors(t,u,w,c)),T.items.push({from:H,to:D,itemIndex:w,fill:v.fillColor,stroke:v.lineColor,x:k,y:M,xFrom:A,yFrom:O})}}}}this._animR(T,0);var L=this;this._enqueueAnimation("series",void 0,void 0,S,function(e,t,i){L._animR(t,i)},T)}}}}},_animR:function(t,i){for(var s=t.items,r=t.symbolType||"circle",n=t.symbolSize,o=0;o<s.length;o++){var a=s[o],l=a.x,h=a.y,d=Math.round((a.to-a.from)*i+a.from);if(isNaN(a.yFrom)||(h=a.yFrom+(h-a.yFrom)*i),isNaN(a.xFrom)||(l=a.xFrom+(l-a.xFrom)*i),t.polarAxisCoords){var c=this._toPolarCoord(t.polarAxisCoords,this._plotRect,l,h);l=c.x,h=c.y}l=e.jqx._ptrnd(l),h=e.jqx._ptrnd(h),d=e.jqx._ptrnd(d);var u=this._getRenderInfo(t.groupIndex,t.seriesIndex,s[o].itemIndex),p=u.element,f=u.labelElement;"circle"==r?(p||(p=this.renderer.circle(l,h,d),this.renderer.attr(p,{fill:a.fill,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:a.stroke,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(p,void 0,void 0,d):this.renderer.attr(p,{r:d,cy:h,cx:l})):(p&&this.renderer.removeElement(p),p=this._drawSymbol(r,l,h,a.fill,t["fill-opacity"],a.stroke,t["stroke-opacity"]||t["fill-opacity"],t["stroke-width-symbol"],t["stroke-dasharray"],n||d)),f&&this.renderer.removeElement(f),f=this._showLabel(t.groupIndex,t.seriesIndex,a.itemIndex,{x:l-d,y:h-d,width:2*d,height:2*d}),i>=1&&this._installHandlers(p,"circle",t.groupIndex,t.seriesIndex,a.itemIndex),this._setRenderInfo(t.groupIndex,t.seriesIndex,s[o].itemIndex,{element:p,labelElement:f})}},_showToolTip:function(t,i,s,r,n){var o=this._getXAxis(s),a=this._getValueAxis(s);if(!this._ttEl||s!=this._ttEl.gidx||r!=this._ttEl.sidx||n!=this._ttEl.iidx){var l=this.seriesGroups[s],h=l.series[r],d=this.enableCrosshairs;this._pointMarker?(t=parseInt(this._pointMarker.x+5),i=parseInt(this._pointMarker.y-5)):d=!1;var c=d&&0==this.showToolTips;t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);this._ttEl;if(0!=l.showToolTips&&0!=h.showToolTips){var u=this._get([h.toolTipFormatSettings,l.toolTipFormatSettings,a.toolTipFormatSettings,this.toolTipFormatSettings]),p=this._get([h.toolTipFormatFunction,l.toolTipFormatFunction,a.toolTipFormatFunction,this.toolTipFormatFunction]),f=this._getColors(s,r,n),m=this._getDataValue(n,o.dataField,s);null!=o.dataField&&""!=o.dataField||(m=n),"date"==o.type&&(m=this._castAsDate(m,(u?u.dateFormat:void 0)||o.dateFormat));var g="";if(e.isFunction(p)){var v={},x=0;for(var b in h)0==b.indexOf("dataField")&&(v[b.substring(9,b.length).toLowerCase()]=this._getDataValue(n,h[b],s),x++);0==x?v=this._getDataValue(n,void 0,s):1==x&&(v=v[""]),g=p(v,n,h,l,m,o)}else{g=this._getFormattedValue(s,r,n,u,p);var w=this._getAxisSettings(o),y=w.toolTipFormatSettings,_=w.toolTipFormatFunction;_||y||"date"!=o.type||(_=this._getDefaultDTFormatFn(o.baseUnit||"day"));var j=this._formatValue(m,y,_,s,r,n);if(this._isPieGroup(s))m=this._getDataValue(n,h.displayText||h.dataField,s),g=(j=this._formatValue(m,y,_,s,r,n))+": "+g;else{var q=o.displayText||o.dataField||"";g=q.length>0?q+": "+j+"<br>"+g:j+"<br>"+g}}if(this._ttEl||(this._ttEl={}),this._ttEl.sidx=r,this._ttEl.gidx=s,this._ttEl.iidx=n,rect=this.renderer.getRect(),d){var S=e.jqx._ptrnd(this._pointMarker.x),T=e.jqx._ptrnd(this._pointMarker.y),C=this.crosshairsColor||this._defaultLineColor;if(l.polar||l.spider){var I=this._getPolarAxisCoords(s,this._plotRect);if(e.jqx._ptdist(S,T,I.x,I.y)>I.r)return;var k=Math.atan2(T-I.y,S-I.x),P=Math.cos(k)*I.r+I.x,M=Math.sin(k)*I.r+I.y;this._ttEl.vLine?this.renderer.attr(this._ttEl.vLine,{x1:I.x,y1:I.y,x2:P,y2:M}):this._ttEl.vLine=this.renderer.line(I.x,I.y,P,M,{stroke:C,"stroke-width":this.crosshairsLineWidth||1,"stroke-dasharray":this.crosshairsDashStyle||""})}else this._ttEl.vLine&&this._ttEl.hLine?(this.renderer.attr(this._ttEl.vLine,{x1:S,x2:S}),this.renderer.attr(this._ttEl.hLine,{y1:T,y2:T})):(this._ttEl.vLine=this.renderer.line(S,this._plotRect.y,S,this._plotRect.y+this._plotRect.height,{stroke:C,"stroke-width":this.crosshairsLineWidth||1,"stroke-dasharray":this.crosshairsDashStyle||""}),this._ttEl.hLine=this.renderer.line(this._plotRect.x,T,this._plotRect.x+this._plotRect.width,T,{stroke:C,"stroke-width":this.crosshairsLineWidth||1,"stroke-dasharray":this.crosshairsDashStyle||""}))}if(!c&&0!=this.showToolTips){var N=h.toolTipClass||l.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null),D=h.toolTipBackground||l.toolTipBackground||"#FFFFFF",B=h.toolTipLineColor||l.toolTipLineColor||f.lineColor,O=this._get([h.toolTipOpacity,l.toolTipOpacity,1]),A=this.getItemCoord(s,r,n),H=0;this._pointMarker&&this._pointMarker.element&&(H=h.symbolSizeSelected,isNaN(H)&&(H=h.symbolSize),(isNaN(H)||H>50||H<0)&&(H=l.symbolSize),(isNaN(H)||H>50||H<0)&&(H=8)),this._createTooltip(A,l,g,{css:N,fill:D,stroke:B,fillOpacity:O,symbolSize:H})}}}},_fitTooltip:function(e,t,i,s,r){var n={},o=2+r/2;if(t.x-i.width-7-o>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.left={arrowLocation:"right",x:t.x-i.width-7-o,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.x+t.width+i.width+7+o<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.right={arrowLocation:"left",x:t.x+t.width+o,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.y-i.height-o-7>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-o-7,width:i.width,height:i.height+7}),t.y+t.height+i.height+7+o<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+o,width:i.width,height:i.height+7}),t.width>t.height||(-1!=s.type.indexOf("stackedcolumn")||-1!=s.type.indexOf("stackedwaterfall"))&&"horizontal"!=s.orientation){if(n.left)return n.left;if(n.right)return n.right}else{if(n.top)return n.top;if(n.bottom)return n.bottom}for(var a in n)if(n[a])return n[a];return{arrowLocation:""}},_createTooltip:function(t,i,s,r){var n=i.type,o=!1,a=this._ttEl.box;if(!a){o=!0;(a=this._ttEl.box=document.createElement("div")).style.position="absolute",a.style.cursor="default",e(l).css({"z-index":1e7,"box-sizing":"content-box"}),e(document.body).append(a);var l=document.createElement("div");l.id="arrowOuterDiv",l.style.width="0px",l.style.height="0px",l.style.position="absolute",e(l).css({"z-index":1e7+1,"box-sizing":"content-box"});var h=document.createElement("div");h.id="arrowInnerDiv",h.style.width="0px",h.style.height="0px",h.style.position="absolute";var d=document.createElement("div");d.id="contentDiv",d.style.position="absolute",e(d).css({"box-sizing":"content-box"}),e(d).addClass("jqx-rc-all jqx-button"),e(d).appendTo(e(a)),e(l).appendTo(e(a)),e(h).appendTo(e(a)),e(h).css({"z-index":1e7+2,"box-sizing":"content-box"})}if(s&&0!=s.length){d=e(a).find("#contentDiv")[0],l=e(a).find("#arrowOuterDiv")[0],(h=e(a).find("#arrowInnerDiv")[0]).style.opacity=l.style.opacity=r.fillOpacity,d.style.backgroundColor=r.fill,d.style.borderColor=r.stroke,d.style.opacity=r.fillOpacity;var c="<span class='"+r.css+"'>"+s+"</span>";e(d).html(c);var u=this._measureHtml(c,"jqx-rc-all jqx-button");if(rect=this._plotRect,!(u.width>rect.width||u.height>rect.height)){var p={width:u.width,height:u.height};arrowLocation="";var f=this._isColumnType(n);if(x=Math.max(t.x,rect.x),y=Math.max(t.y,rect.y),"dataPoint"==this.toolTipAlignment){if(-1!=n.indexOf("pie")||-1!=n.indexOf("donut")){var m=(t.fromAngle+t.toAngle)/2;m*=Math.PI/180;var g=!isNaN(t.innerRadius)&&t.innerRadius>0?(t.innerRadius+t.outerRadius)/2:.75*t.outerRadius;x=t.x=t.center.x+Math.cos(m)*g,y=t.y=t.center.y-Math.sin(m)*g,t.width=t.height=1}else f&&(i.polar||i.spider)&&(t.width=t.height=1);var v=this._fitTooltip(this._plotRect,t,p,i,r.symbolSize);""!=v.arrowLocation&&(arrowLocation=v.arrowLocation,x=v.x,y=v.y,p.width=v.width,p.height=v.height)}else arrowLocation="";"top"==arrowLocation||"bottom"==arrowLocation?(p.height+=7,x-=3.5,"bottom"==arrowLocation&&(y-=7)):"left"!=arrowLocation&&"right"!=arrowLocation||(p.width+=7,y-=3.5,"right"==arrowLocation&&(x-=7)),x+p.width>rect.x+rect.width&&(arrowLocation="",x=rect.x+rect.width-p.width),y+p.height>rect.y+rect.height&&(arrowLocation="",y=rect.y+rect.height-p.height);var b={x:0,y:0};e(d).css({width:u.width,height:u.height,left:0,top:0}),l.style["margin-top"]=l.style["margin-left"]=0,h.style["margin-top"]=h.style["margin-left"]=0,d.style["margin-top"]=d.style["margin-left"]=0;switch(arrowLocation){case"left":b={x:0,y:(u.height-7)/2},contentPostion={x:7,y:0},d.style["margin-left"]="7px",l.style["margin-left"]="0px",l.style["margin-top"]=b.y+"px",l.style["border-left"]="",l.style["border-right"]="7px solid "+r.stroke,l.style["border-top"]="7px solid transparent",l.style["border-bottom"]="7px solid transparent",h.style["margin-left"]="1px",h.style["margin-top"]=b.y+"px",h.style["border-left"]="",h.style["border-right"]="7px solid "+r.fill,h.style["border-top"]="7px solid transparent",h.style["border-bottom"]="7px solid transparent";break;case"right":b={x:p.width-7,y:(u.height-7)/2},contentPostion={x:0,y:0},l.style["margin-left"]=b.x+"px",l.style["margin-top"]=b.y+"px",l.style["border-left"]="7px solid "+r.stroke,l.style["border-right"]="",l.style["border-top"]="7px solid transparent",l.style["border-bottom"]="7px solid transparent",h.style["margin-left"]=b.x-1+"px",h.style["margin-top"]=b.y+"px",h.style["border-left"]="7px solid "+r.fill,h.style["border-right"]="",h.style["border-top"]="7px solid transparent",h.style["border-bottom"]="7px solid transparent";break;case"top":b={x:p.width/2-3.5,y:0},contentPostion={x:0,y:7},d.style["margin-top"]=contentPostion.y+"px",l.style["margin-left"]=b.x+"px",l.style["border-top"]="",l.style["border-bottom"]="7px solid "+r.stroke,l.style["border-left"]="7px solid transparent",l.style["border-right"]="7px solid transparent",h.style["margin-left"]=b.x+"px",h.style["margin-top"]="1px",h.style["border-top"]="",h.style["border-bottom"]="7px solid "+r.fill,h.style["border-left"]="7px solid transparent",h.style["border-right"]="7px solid transparent";break;case"bottom":b={x:p.width/2-3.5,y:p.height-7},contentPostion={x:0,y:0},l.style["margin-left"]=b.x+"px",l.style["margin-top"]=b.y+"px",l.style["border-top"]="7px solid "+r.stroke,l.style["border-bottom"]="",l.style["border-left"]="7px solid transparent",l.style["border-right"]="7px solid transparent",h.style["margin-left"]=b.x+"px",h.style["margin-top"]=b.y-1+"px",h.style["border-top"]="7px solid "+r.fill,h.style["border-bottom"]="",h.style["border-left"]="7px solid transparent",h.style["border-right"]="7px solid transparent"}""==arrowLocation?(e(l).hide(),e(h).hide()):(e(l).show(),e(h).show()),e(a).css({width:p.width+"px",height:p.height+"px"});var w=this.host.coord();o&&(e(a).fadeOut(0,0),a.style.left=x+w.left+"px",a.style.top=y+w.top+"px"),e(a).clearQueue(),e(a).animate({left:x+w.left,top:y+w.top,opacity:1},this.toolTipMoveDuration,"easeInOutCirc"),e(a).fadeTo(400,1)}}else e(a).fadeTo(0,0)},_measureHtml:function(t,i){var s=this._measureDiv;s||(this._measureDiv=s=document.createElement("div"),s.style.position="absolute",s.style.cursor="default",s.style.overflow="hidden",s.style.display="none",e(s).addClass(i),this.host.append(s)),e(s).html(t);var r={width:e(s).width()+2,height:e(s).height()+2};return e.jqx.browser&&e.jqx.browser.mozilla&&(r.height+=3),r},_hideToolTip:function(t){this._ttEl&&(this._ttEl.box&&(0==t?e(this._ttEl.box).hide():e(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(t){return e.jqx.getByPriority(t)},_getAxisSettings:function(e){if(!e)return{};var t=e.gridLines||{},i={visible:this._get([t.visible,e.showGridLines,!0]),color:this._get([t.color,e.gridLinesColor,this._defaultLineColor]),unitInterval:this._get([t.unitInterval,t.interval,e.gridLinesInterval]),step:this._get([t.step,e.gridLinesStep]),dashStyle:this._get([t.dashStyle,e.gridLinesDashStyle]),width:this._get([t.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},s=e.tickMarks||{},r={visible:this._get([s.visible,e.showTickMarks,!0]),color:this._get([s.color,e.tickMarksColor,this._defaultLineColor]),unitInterval:this._get([s.unitInterval,s.interval,e.tickMarksInterval]),step:this._get([s.step,e.tickMarksStep]),dashStyle:this._get([s.dashStyle,e.tickMarksDashStyle]),width:this._get([s.lineWidth,1]),size:this._get([s.size,4]),offsets:[]},n=e.title||{},o={visible:this._get([n.visible,!0]),text:this._get([e.description,n.text]),style:this._get([e.descriptionClass,n.class,this.toThemeProperty("jqx-chart-axis-description",null)]),halign:this._get([e.horizontalDescriptionAlignment,n.horizontalAlignment,"center"]),valign:this._get([e.verticalDescriptionAlignment,n.verticalAlignment,"center"]),angle:0,rotationPoint:this._get([n.rotationPoint,"centercenter"]),offset:this._get([n.offset,{x:0,y:0}])},a=e.line||{},l={visible:this._get([a.visible,!0]),color:this._get([a.color,i.color,this._defaultLineColor]),dashStyle:this._get([a.dashStyle,i.dashStyle,""]),width:this._get([a.lineWidth,1]),angle:this._get([a.angle,NaN])},h=e.padding||{};h={left:h.left||0,right:h.right||0,top:h.top||0,bottom:h.bottom||0};var d=this._getAxisLabelsSettings(e);return{visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:i,tickMarks:r,line:l,title:o,labels:d,padding:h,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,d.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,d.formatSettings])}},_getAxisLabelsSettings:function(e){var t=e.labels||{};return{visible:this._get([e.showLabels,t.visible,!0]),unitInterval:this._get([t.unitInterval,t.interval,e.labelsInterval]),step:this._get([t.step,e.labelsStep]),angle:this._get([e.textRotationAngle,t.angle,0]),style:this._get([e.class,t.class,this.toThemeProperty("jqx-chart-axis-text",null)]),halign:this._get([e.horizontalTextAlignment,t.horizontalAlignment,"center"]),valign:this._get([e.verticalTextAlignment,t.verticalAlignment,"center"]),textRotationPoint:this._get([e.textRotationPoint,t.rotationPoint,"auto"]),textOffset:this._get([e.textOffset,t.offset,{x:0,y:0}]),autoRotate:this._get([e.labelsAutoRotate,t.autoRotate,!1]),formatSettings:this._get([e.formatSettings,t.formatSettings,void 0]),formatFunction:this._get([e.formatFunction,t.formatFunction,void 0])}},_getLabelsSettings:function(t,i,s,r){for(var n=this.seriesGroups[t],o=n.series[i],a=isNaN(s)?void 0:this._getDataValue(s,o.dataField,t),l=r||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],h={},d=0;d<l.length;d++){var c=l[d],u="labels"+c,p="label"+c,f=c.substring(0,1).toLowerCase()+c.substring(1),m=void 0;n.labels&&"object"==typeof n.labels&&(m=n.labels[f]),o.labels&&"object"==typeof o.labels&&null!=o.labels[f]&&(m=o.labels[f]),m=this._get([o[u],o[p],m,n[u],n[p]]),e.isFunction(m)?h[f]=m(a,s,o,n):h[f]=m}h.class=h.class||this.toThemeProperty("jqx-chart-label-text",null),h.visible=this._get([h.visible,o.showLabels,n.showLabels,null!=o.labels||void 0,null!=n.labels||void 0]);var g=h.padding||1;return h.padding={left:this._get([g.left,isNaN(g)?1:g]),right:this._get([g.right,isNaN(g)?1:g]),top:this._get([g.top,isNaN(g)?1:g]),bottom:this._get([g.bottom,isNaN(g)?1:g])},h},_showLabel:function(e,t,i,s,r,n,o,a,l,h,d){this.seriesGroups[e].series[t];var c={width:0,height:0};if(!isNaN(i)){var u=this._getLabelsSettings(e,t,i);if(!u.visible)return o?c:void 0;if(s.width<0||s.height<0)return o?c:void 0;var p=u.angle;isNaN(h)||(p=h);var f=u.offset||{},m={x:f.x,y:f.y};isNaN(m.x)&&(m.x=0),isNaN(m.y)&&(m.y=0),r=r||u.horizontalAlignment||"center",n=n||u.verticalAlignment||"center";var g=this._getFormattedValue(e,t,i,void 0,void 0,!0),v=s.width,x=s.height;if(1==a&&"center"!=r&&(r="right"==r?"left":"right"),1==l&&"center"!=n&&"middle"!=n&&(n="top"==n?"bottom":"top",m.y*=-1),c=this.renderer.measureText(g,p,{class:u.class}),o)return c;var b=0,w=0;v>0&&(""==r||"center"==r?b+=(v-c.width)/2:"right"==r&&(b+=v-c.width)),x>0&&(""==n||"center"==n?w+=(x-c.height)/2:"bottom"==n&&(w+=x-c.height)),b+=s.x+m.x,w+=s.y+m.y;var y=this._plotRect;b<=y.x&&(b=y.x+2),w<=y.y&&(w=y.y+2);var _,j=Math.max(c.width,1),q=Math.max(c.height,1);w+q>=y.y+y.height&&(w=y.y+y.height-q-2),b+j>=y.x+y.width&&(b=y.x+y.width-j-2);var S=u.backgroundColor,T=u.borderColor,C=u.padding;if(S||T){_=this.renderer.beginGroup();s=this.renderer.rect(b-C.left,w-C.top,c.width+C.left+C.right,c.height+C.bottom+C.bottom,{fill:S||"transparent","fill-opacity":u.backgroundOpacity||1,stroke:T||"transparent","stroke-opacity":u.borderOpacity,"stroke-width":1})}var I=this.renderer.text(g,b,w,c.width,c.height,p,{class:u.class,opacity:u.opacity||1},!1,"center","center");return d&&(d.x=b-C.left,d.y=w-C.top,d.width=c.width+C.left+C.right,d.height=c.height+C.bottom+C.bottom),this._isVML&&(this.renderer.removeElement(I),this.renderer.getContainer()[0].appendChild(I)),_&&this.renderer.endGroup(),_||I}},_getAnimProps:function(e,t){var i=this.seriesGroups[e],s=isNaN(t)?void 0:i.series[t],r=1==this.enableAnimations;i.enableAnimations&&(r=1==i.enableAnimations),s&&s.enableAnimations&&(r=1==s.enableAnimations);var n=this.animationDuration;isNaN(n)&&(n=1e3);var o=i.animationDuration;if(isNaN(o)||(n=o),s){var a=s.animationDuration;isNaN(a)||(n=a)}return n>5e3&&(n=1e3),{enabled:r,duration:n}},_isColorTransition:function(e,t,i,s){if(s-1<i.xoffsets.first)return!1;var r=this._getColors(e,t,s,this._getGroupGradientType(e)),n=this._getColors(e,t,s-1,this._getGroupGradientType(e));return r.fillColor!=n.fillColor},_renderLineSeries:function(t,i){var s=this.seriesGroups[t];if(s.series&&0!=s.series.length){var r=-1!=s.type.indexOf("area"),n=-1!=s.type.indexOf("stacked"),o=n&&-1!=s.type.indexOf("100"),a=-1!=s.type.indexOf("spline"),l=-1!=s.type.indexOf("step"),h=-1!=s.type.indexOf("range"),d=1==s.polar||1==s.spider;if(d&&(l=!1),!l||!a){var c=this._getDataLen(t),u=(i.width,"horizontal"==s.orientation),p=1==this._getXAxis(t).flip,f=i;u&&(f={x:i.y,y:i.x,width:i.height,height:i.width});var m=this._calcGroupOffsets(t,f);if(m&&0!=m.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[t]={};for(var g=s.series.length-1;g>=0;g--){var v=this._getSerieSettings(t,g),x={groupIndex:t,rect:f,serieIndex:g,swapXY:u,isArea:r,isSpline:a,isRange:h,isPolar:d,settings:v,segments:[],pointsLength:0};if(this._isSerieVisible(t,g)){var b=s.series[g];if(!b.customDraw){var w,y=e.isFunction(b.colorFunction),_=m.xoffsets.first,j=_,q=this._getColors(t,g,NaN,this._getGroupGradientType(t));do{var S=[],T=[],C=[],I=0,k=0,P=NaN,M=NaN,N=NaN;if(!(m.xoffsets.length<1)){var D=this._getAnimProps(t,g),B=D.enabled&&!this._isToggleRefresh&&m.xoffsets.length<1e4&&1!=this._isVML?D.duration:0,O=_;w=!1;this._getColors(t,g,_,this._getGroupGradientType(t));for(var A=void 0,H=_;H<=m.xoffsets.last;H++){_=H;var E=m.xoffsets.data[H],z=m.xoffsets.xvalues[H];if(!isNaN(E)&&(I=E=Math.max(E,1),k=m.offsets[g][H].to,!(!y&&A&&this.enableSampling&&e.jqx._ptdist(A.x,A.y,I,k)<1))){A={x:I,y:k};var L=m.offsets[g][H].from;if(isNaN(k)||isNaN(L)){if("connect"==b.emptyPointsDisplay)continue;if("zero"!=b.emptyPointsDisplay){w=!0;break}isNaN(k)&&(k=m.baseOffset),isNaN(L)&&(L=m.baseOffset)}if(y&&this._isColorTransition(t,g,m,_)&&S.length>1){_--;break}var F=this._elementRenderInfo;if(F&&F.length>t&&F[t].series.length>g){var R=F[t].series[g][z],V=(N=e.jqx._ptrnd(R?R.to:void 0),e.jqx._ptrnd(f.x+(R?R.xoffset:void 0)));C.push(u?{y:V,x:N,index:H}:{x:V,y:N,index:H})}j=H,v.stroke<2&&(k-f.y<=1&&(k=f.y+1),L-f.y<=1&&(L=f.y+1),f.y+f.height-k<=1&&(k=f.y+f.height-1),f.y+f.height-L<=1&&(L=f.y+f.height-1)),!r&&o&&(k<=f.y&&(k=f.y+1),k>=f.y+f.height&&(k=f.y+f.height-1),L<=f.y&&(L=f.y+1),L>=f.y+f.height&&(L=f.y+f.height-1)),I=(E=Math.max(E,1))+f.x,1==s.skipOverlappingPoints&&!isNaN(P)&&Math.abs(P-I)<=1||(!l||isNaN(P)||isNaN(M)||M!=k&&S.push(u?{y:I,x:e.jqx._ptrnd(M)}:{x:I,y:e.jqx._ptrnd(M)}),S.push(u?{y:I,x:e.jqx._ptrnd(k),index:H}:{x:I,y:e.jqx._ptrnd(k),index:H}),T.push(u?{y:I,x:e.jqx._ptrnd(L),index:H}:{x:I,y:e.jqx._ptrnd(L),index:H}),P=I,M=k,isNaN(N)&&(N=k))}}if(0!=S.length){var W=S[S.length-1].index;y&&(q=this._getColors(t,g,W,this._getGroupGradientType(t)));var G=f.x+m.xoffsets.data[O],U=f.x+m.xoffsets.data[j];if(r&&1==s.alignEndPointsWithIntervals){if(G>f.x&&(G=f.x),U<f.x+f.width&&(U=f.x+f.width),p){var X=G;G=U,U=X}}U=e.jqx._ptrnd(U),G=e.jqx._ptrnd(G);var Y=m.baseOffset;N=e.jqx._ptrnd(N);var K=e.jqx._ptrnd(k)||Y;h&&(S=S.concat(T.reverse())),x.pointsLength+=S.length;var $={lastItemIndex:W,colorSettings:q,pointsArray:S,pointsStart:C,left:G,right:U,pyStart:N,pyEnd:K,yBase:Y,labelElements:[],symbolElements:[]};x.segments.push($)}else _++}}while(_<m.xoffsets.length-1||w);this._linesRenderInfo[t][g]=x}}else this._linesRenderInfo[t][g]=x}var J=this._linesRenderInfo[t],Z=[];for(var H in J)Z.push(J[H]);Z=Z.sort(function(e,t){return e.serieIndex-t.serieIndex}),r&&n&&Z.reverse();for(H=0;H<Z.length;H++){x=Z[H];this._animateLine(x,0==B?1:0);var Q=this;this._enqueueAnimation("series",void 0,void 0,B,function(e,t,i){Q._animateLine(t,i)},x)}}}}},_animateLine:function(e,t){var i=e.settings,s=e.groupIndex,r=e.serieIndex,n=this.seriesGroups[s],o=n.series[r],a=this._getSymbol(s,r),l=this._getLabelsSettings(s,r,NaN,["Visible"]).visible,h=!0;e.isPolar&&(isNaN(n.endAngle)||360==Math.round(Math.abs((isNaN(n.startAngle)?0:n.startAngle)-n.endAngle))||(h=!1));for(var d=0,c=0;c<e.segments.length;c++){var u=e.segments[c],p=this._calculateLine(s,e.pointsLength,d,u.pointsArray,u.pointsStart,u.yBase,t,e.isArea,e.swapXY);if(d+=u.pointsArray.length,""!=p){var f=p.split(" "),m=(f.length,p);m=""!=m?this._buildLineCmd(p,e.isRange,u.left,u.right,u.pyStart,u.pyEnd,u.yBase,e.isArea,e.isPolar,h,e.isSpline,e.swapXY):"M 0 0";var g=u.colorSettings;if(u.pathElement?this.renderer.attr(u.pathElement,{d:m}):(u.pathElement=this.renderer.path(m,{"stroke-width":i.stroke,stroke:g.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?g.fillColor:"none"}),this._installHandlers(u.pathElement,"path",s,r,u.lastItemIndex)),u.labelElements){for(var v=0;v<u.labelElements.length;v++)this.renderer.removeElement(u.labelElements[v]);u.labelElements=[]}if(u.symbolElements){for(v=0;v<u.symbolElements.length;v++)this.renderer.removeElement(u.symbolElements[v]);u.symbolElements=[]}if(u.pointsArray.length==f.length&&("none"!=a||l)){var x=o.symbolSize,b=this._plotRect;for(v=0;v<f.length;v++){var w=f[v].split(",");if(!((w={x:parseFloat(w[0]),y:parseFloat(w[1])}).x<b.x||w.x>b.x+b.width||w.y<b.y||w.y>b.y+b.height)){if("none"!=a){var y=this._getColors(s,r,u.pointsArray[v].index,this._getGroupGradientType(s)),_=this._drawSymbol(a,w.x,w.y,y.fillColorSymbol,i.opacity,y.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,x);u.symbolElements.push(_)}if(l){var j=(v>0?f[v-1]:f[v]).split(",");j={x:parseFloat(j[0]),y:parseFloat(j[1])};var q=(v<f.length-1?f[v+1]:f[v]).split(",");if(q={x:parseFloat(q[0]),y:parseFloat(q[1])},w=this._adjustLineLabelPosition(s,r,u.pointsArray[v].index,w,j,q)){var S=this._showLabel(s,r,u.pointsArray[v].index,{x:w.x,y:w.y,width:0,height:0});u.labelElements.push(S)}}}}}if(1==t&&"none"!=a)for(v=0;v<u.symbolElements.length;v++)isNaN(u.pointsArray[v].index)||this._installHandlers(u.symbolElements[v],"symbol",s,r,u.pointsArray[v].index)}}},_adjustLineLabelPosition:function(e,t,i,s,r,n){var o=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(o){var a={x:s.x-o.width/2,y:0};return a.y=s.y-1.5*o.height,a}},_calculateLine:function(t,i,s,r,n,o,a,l,h){var d,c=this.seriesGroups[t];1!=c.polar&&1!=c.spider||(d=this._getPolarAxisCoords(t,this._plotRect));var u="",p=r.length;l||0!=n.length||(p=i*a-s);for(var f=0;f<p+1&&f<r.length;f++){f>0&&(u+=" ");var m=r[f].y,g=r[f].x,v=l?o:m,x=g;if(n&&n.length>f&&(v=n[f].y,x=n[f].x,(isNaN(v)||isNaN(x))&&(v=m,x=g)),x,p<=r.length&&f>0&&f==p&&(x=r[f-1].x,v=r[f-1].y),h?(g=e.jqx._ptrnd((g-v)*(l?a:1)+v),m=e.jqx._ptrnd(m)):(g=e.jqx._ptrnd((g-x)*a+x),m=e.jqx._ptrnd((m-v)*a+v)),d){var b=this._toPolarCoord(d,this._plotRect,g,m);g=b.x,m=b.y}u+=g+","+m}return u},_buildLineCmd:function(e,t,i,s,r,n,o,a,l,h,d,c){var u=e,p=c?o+","+i:i+","+o;!a||l||t||(u=p+" "+e+" "+(c?o+","+s:s+","+o)),d&&(u=this._getBezierPoints(u));var f=u.split(" ");if(0==f.length)return"";if(1==f.length){var m=f[0].split(",");return"M "+f[0]+" L"+(parseFloat(m[0])+1)+","+(parseFloat(m[1])+1)}var g=f[0].replace("M","");return a&&!l?u=t?"M "+g+" L "+g+(d?"":" L "+g+" ")+u:"M "+p+" L "+g+" "+u:d||(u="M "+g+" L "+g+" "+u),(l&&h||t)&&(u+=" Z"),u},_getSerieSettings:function(e,t){var i=this.seriesGroups[e],s=-1!=i.type.indexOf("area"),r=-1!=i.type.indexOf("line"),n=i.series[t],o=n.dashStyle||i.dashStyle||"",a=n.opacity||i.opacity;(isNaN(a)||a<0||a>1)&&(a=1);var l=n.lineWidth;isNaN(l)&&"auto"!=l&&(l=i.lineWidth),("auto"==l||isNaN(l)||l<0||l>15)&&(l=s?2:r?3:1);var h=n.lineWidthSymbol;return isNaN(h)&&(h=1),{stroke:l,strokeSymbol:h,opacity:a,dashStyle:o}},_getColors:function(t,i,s,r,n){var o=this.seriesGroups[t],a=o.series[i],l=this._get([a.useGradientColors,o.useGradientColors,o.useGradient,!0]),h=this._getSeriesColors(t,i,s);h.fillColor||(h.fillColor=x,h.fillColorSelected=e.jqx.adjustColor(x,1.1),h.fillColorAlt=e.jqx.adjustColor(x,4),h.fillColorAltSelected=e.jqx.adjustColor(x,3),h.lineColor=h.symbolColor=e.jqx.adjustColor(x,.9),h.lineColorSelected=h.symbolColorSelected=e.jqx.adjustColor(x,.9));var d=[[0,1.4],[100,1]],c=[[0,1],[25,1.1],[50,1.4],[100,1]],u=NaN;if(isNaN(n)||(u=2==n?d:c),l){var p={};for(var f in h)p[f]=h[f];if(h=p,"verticalLinearGradient"==r||"horizontalLinearGradient"==r){var m="verticalLinearGradient"==r?u||d:u||c,g=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(var v in g){var x=h[g[v]];x&&(h[g[v]]=this.renderer._toLinearGradient(x,"verticalLinearGradient"==r,m))}}else if("radialGradient"==r){var b;u=d;("pie"==o.type||"donut"==o.type||o.polar)&&null!=s&&this._renderData[t]&&this._renderData[t].offsets[i]&&(b=this._renderData[t].offsets[i][s],u=[[0,1.3],[90,1.2],[100,1]]),h.fillColor=this.renderer._toRadialGradient(h.fillColor,u,b),h.fillColorSelected=this.renderer._toRadialGradient(h.fillColorSelected,u,b)}}return h},_installHandlers:function(e,t,i,s,r){if(!this.enableEvents)return!1;var n=this,o=this.seriesGroups[i],a=this.seriesGroups[i].series[s],l=-1!=o.type.indexOf("line")||-1!=o.type.indexOf("area");l||0==o.enableSelection||0==a.enableSelection||(this.renderer.addHandler(e,"mousemove",function(e){var t=n._selected;if(!t||!t.isLineType||"click"!=t.linesUnselectMode||t.group==i&&t.series==s){var o=e.pageX||e.clientX||e.screenX,a=e.pageY||e.clientY||e.screenY,l=n.host.offset();o-=l.left,a-=l.top,n._mouseX==o&&n._mouseY==a||n._ttEl&&n._ttEl.gidx==i&&n._ttEl.sidx==s&&n._ttEl.iidx==r||n._startTooltipTimer(i,s,r)}}),this.renderer.addHandler(e,"mouseout",function(e){})),0!=o.enableSelection&&0!=a.enableSelection&&this.renderer.addHandler(e,"mouseover",function(o){var a=n._selected;a&&a.isLineType&&"click"==a.linesUnselectMode&&(a.group!=i||a.series!=s)||n._select(e,t,i,s,r,r)}),this.renderer.addHandler(e,"click",function(e){clearTimeout(n._hostClickTimer),n._lastClickTs=(new Date).valueOf(),l&&"symbol"!=t&&"pointMarker"!=t||(n._isColumnType(o.type)&&n._unselect(),isNaN(r)||(e.stopImmediatePropagation(),n._raiseItemEvent("click",o,a,r)))})},_getHorizontalOffset:function(t,i,s,r){var n=this._plotRect;if(0==this._getDataLen(t))return{index:void 0,value:s};var o=this._calcGroupOffsets(t,this._plotRect);if(0==o.xoffsets.length)return{index:void 0,value:void 0};var a,l=s,h=r,d=this.seriesGroups[t];(d.polar||d.spider)&&(a=this._getPolarAxisCoords(t,n));this._getXAxis(t).flip;for(var c,u,p,f,m=o.xoffsets.first;m<=o.xoffsets.last;m++){var g=o.xoffsets.data[m],v=o.offsets[i][m].to,x=0;if(a){var b=this._toPolarCoord(a,n,g+n.x,v);g=b.x,v=b.y,x=e.jqx._ptdist(l,h,g,v)}else if("horizontal"==d.orientation){var w=v;v=g+=n.y,g=w,x=e.jqx._ptdist(l,h,g,v)}else g+=n.x,x=Math.abs(l-g);(isNaN(c)||c>x)&&(c=x,u=m,p=g,f=v)}return{index:u,value:o.xoffsets.data[u],polarAxisCoords:a,x:p,y:f}},onmousemove:function(t,i){if((this._mouseX!=t||this._mouseY!=i)&&(this._mouseX=t,this._mouseY=i,this._selected)){var s=this._selected.group,r=this._selected.series,n=this.seriesGroups[s],o=n.series[r],a=this._plotRect;if(this.renderer&&((a=this.renderer.getRect()).x+=5,a.y+=5,a.width-=10,a.height-=10),t<a.x||t>a.x+a.width||i<a.y||i>a.y+a.height)return this._hideToolTip(),void this._unselect();var l="horizontal"==n.orientation;a=this._plotRect;if(-1!=n.type.indexOf("line")||-1!=n.type.indexOf("area")){var h=this._getHorizontalOffset(s,this._selected.series,t,i),d=h.index;if(null==d)return;if(this._selected.item!=d){for(var c=this._linesRenderInfo[s][r].segments,u=0;d>c[u].lastItemIndex;)if(++u>=c.length)return;var p=c[u].pathElement,f=c[u].lastItemIndex;this._unselect(!1),this._select(p,"path",s,r,d,f)}var m=this._getSymbol(this._selected.group,this._selected.series);"none"==m&&(m="circle");var g=this._calcGroupOffsets(s,a),v=g.offsets[this._selected.series][d].to,x=v;-1!=n.type.indexOf("range")&&(x=g.offsets[this._selected.series][d].from);var b=l?t:i;if(i=!isNaN(x)&&Math.abs(b-x)<Math.abs(b-v)?x:v,isNaN(i))return;if(t=h.value,l){var w=t;t=i,i=w+a.y}else t+=a.x;if(h.polarAxisCoords&&(t=h.x,i=h.y),i=e.jqx._ptrnd(i),t=e.jqx._ptrnd(t),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(t)||isNaN(i))return;var y=this._getSeriesColors(s,r,d),_=this._getSerieSettings(s,r),j=o.symbolSizeSelected;isNaN(j)&&(j=o.symbolSize),(isNaN(j)||j>50||j<0)&&(j=n.symbolSize),(isNaN(j)||j>50||j<0)&&(j=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:m,x:t,y:i,gidx:s,sidx:r,iidx:d},this._pointMarker.element=this._drawSymbol(m,t,i,y.fillColorSymbolSelected,_.opacity,y.lineColorSymbolSelected,_.opacity,_.strokeSymbol,_.dashStyle,j),this._installHandlers(this._pointMarker.element,"pointMarker",s,r,d)),this._startTooltipTimer(s,this._selected.series,d)}}},_drawSymbol:function(e,t,i,s,r,n,o,a,l,h){var d,c=h||6,u=c/2;switch(e){case"none":return;case"circle":d=this.renderer.circle(t,i,c/2);break;case"square":u=(c-=1)/2,d=this.renderer.rect(t-u,i-u,c,c);break;case"diamond":var p="M "+(t-u)+","+i+" L"+t+","+(i-u)+" L"+(t+u)+","+i+" L"+t+","+(i+u)+" Z";d=this.renderer.path(p);break;case"triangle_up":case"triangle":p="M "+(t-u)+","+(i+u)+" L "+(t+u)+","+(i+u)+" L "+t+","+(i-u)+" Z";d=this.renderer.path(p);break;case"triangle_down":p="M "+(t-u)+","+(i-u)+" L "+t+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";d=this.renderer.path(p);break;case"triangle_left":p="M "+(t-u)+","+i+" L "+(t+u)+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";d=this.renderer.path(p);break;case"triangle_right":p="M "+(t-u)+","+(i-u)+" L "+(t-u)+","+(i+u)+" L "+(t+u)+","+i+" Z";d=this.renderer.path(p);break;default:d=this.renderer.circle(t,i,c)}return this.renderer.attr(d,{fill:s,"fill-opacity":r,stroke:n,"stroke-width":a,"stroke-opacity":o,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(d,{r:c/2}),"square"!=e&&this.renderer.attr(d,{x:t,y:i})),d},_getSymbol:function(e,t){var i,s=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],r=this.seriesGroups[e],n=r.series[t];return null!=n.symbolType&&(i=n.symbolType),null==i&&(i=r.symbolType),"default"==i?s[t%s.length]:null!=i?i:"none"},_startTooltipTimer:function(e,t,i,s,r,n,o){this._cancelTooltipTimer();var a=this,l=(a.seriesGroups[e],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||l>1e4||l<0)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(n)||(l=n),clearTimeout(this._tttimerHide),isNaN(s)&&(s=a._mouseX),isNaN(r)&&(r=a._mouseY-3),0==l&&a._showToolTip(s,r,e,t,i),this._tttimer=setTimeout(function(){0!=l&&a._showToolTip(s,r,e,t,i);var n=a.toolTipHideDelay;isNaN(o)||(n=o),isNaN(n)&&(n=4e3),a._tttimerHide=setTimeout(function(){a._hideToolTip(),a._unselect()},n)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,s,r,n){if(this._selected){if(this._selected.item==r&&this._selected.series==s&&this._selected.group==i)return;this._unselect()}var o=this.seriesGroups[i],a=o.series[s];if(0!=o.enableSelection&&0!=a.enableSelection){var l=-1!=o.type.indexOf("line")&&-1==o.type.indexOf("area");this._selected={element:e,type:t,group:i,series:s,item:r,iidxBase:n,isLineType:l,linesUnselectMode:a.linesUnselectMode||o.linesUnselectMode};var h=this._getColors(i,s,n||r,this._getGroupGradientType(i)),d=h.fillColorSelected;l&&(d="none");var c=this._getSerieSettings(i,s),u="symbol"==t?h.lineColorSymbolSelected:h.lineColorSelected;d="symbol"==t?h.fillColorSymbolSelected:d;var p="symbol"==t?1:c.stroke;this.renderer.getAttr(e,"fill")==h.fillColorAlt&&(d=h.fillColorAltSelected),this.renderer.attr(e,{stroke:u,fill:d,"stroke-width":p}),-1==o.type.indexOf("pie")&&-1==o.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",o,a,r)}},_applyPieSelect:function(){var e=this;e._createAnimationGroup("animPieSlice");var t=this._selected;if(t){var i=this.getItemCoord(t.group,t.series,t.item);if(i){var s={element:this._getRenderInfo(t.group,t.series,t.item),coord:i};this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(i,s,r){var n=s.coord,o=n.selectedRadiusChange*r,a=e.renderer.pieSlicePath(n.center.x,n.center.y,0==n.innerRadius?0:n.innerRadius+o,n.outerRadius+o,n.fromAngle,n.toAngle,n.centerOffset);e.renderer.attr(s.element.element,{d:a}),e._showPieLabel(t.group,t.series,t.item,void 0,o)},s),e._startAnimation("animPieSlice")}}},_applyPieUnselect:function(){this._stopAnimations();var e=this._selected;if(e){var t=this.getItemCoord(e.group,e.series,e.item);if(t&&t.center){var i=this.renderer.pieSlicePath(t.center.x,t.center.y,t.innerRadius,t.outerRadius,t.fromAngle,t.toAngle,t.centerOffset);this.renderer.attr(e.element,{d:i}),this._showPieLabel(e.group,e.series,e.item,void 0,0)}}},_unselect:function(){if(this._selected){var e=this._selected.group,t=this._selected.series,i=this._selected.item,s=this._selected.iidxBase,r=this._selected.type,n=this.seriesGroups[e],o=n.series[t],a=-1!=n.type.indexOf("line")&&-1==n.type.indexOf("area"),l=this._getColors(e,t,s||i,this._getGroupGradientType(e)),h=l.fillColor;a&&(h="none");var d=this._getSerieSettings(e,t),c="symbol"==r?l.lineColorSymbol:l.lineColor;h="symbol"==r?l.fillColorSymbol:h,this.renderer.getAttr(this._selected.element,"fill")==l.fillColorAltSelected&&(h=l.fillColorAlt);var u="symbol"==r?1:d.stroke;this.renderer.attr(this._selected.element,{stroke:c,fill:h,"stroke-width":u}),-1==n.type.indexOf("pie")&&-1==n.type.indexOf("donut")||this._applyPieUnselect(),this._selected=void 0,isNaN(i)||this._raiseItemEvent("mouseout",n,o,i)}this._pointMarker&&(this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),this._pointMarker=void 0,this._hideCrosshairs())},_raiseItemEvent:function(t,i,s,r){for(var n=s[t]||i[t],o=0;o<this.seriesGroups.length&&this.seriesGroups[o]!=i;o++);if(o!=this.seriesGroups.length){var a={event:t,seriesGroup:i,serie:s,elementIndex:r,elementValue:this._getDataValue(r,s.dataField,o)};n&&e.isFunction(n)&&n(a),this._raiseEvent(t,a)}},_raiseEvent:function(t,i){var s=new e.Event(t);return s.owner=this,i.event=t,s.args=i,this.host.trigger(s)},_calcInterval:function(e,t,i){var s=Math.abs(t-e)/i,r=.1,n=[1,2,3,4,5,10,15,20,25,50,100];s<1&&(n=[.5,.25,.125,.1],r=10);var o=0;do{o=0,s>=1?r*=10:r/=10;for(var a=1;a<n.length&&Math.abs(n[o]*r-s)>Math.abs(n[a]*r-s);a++)o=a}while(o==n.length-1);return n[o]*r},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],s=this._renderData[t];if(s.offsets){if(s.valueAxis)for(var r in i.valueAxis={itemOffsets:{}},s.valueAxis.itemOffsets)i.valueAxis.itemOffsets[r]=s.valueAxis.itemOffsets[r];if(s.xAxis)for(var r in i.xAxis={itemOffsets:{}},s.xAxis.itemOffsets)i.xAxis.itemOffsets[r]=s.xAxis.itemOffsets[r];i.series=[];for(var n=i.series,o=this._isPieGroup(t),a=0;a<s.offsets.length;a++){n.push({});for(var l=0;l<s.offsets[a].length;l++)if(o){var h=s.offsets[a][l];n[a][h.displayValue]={value:h.value,x:h.x,y:h.y,fromAngle:h.fromAngle,toAngle:h.toAngle}}else n[a][s.xoffsets.xvalues[l]]={value:s.offsets[a][l].value,valueRadius:s.offsets[a][l].valueRadius,xoffset:s.xoffsets.data[l],from:s.offsets[a][l].from,to:s.offsets[a][l].to}}}}}},getPolarDataPointOffset:function(e,t,i){var s=this._renderData[i];if(!s)return{x:NaN,y:NaN};var r=this.getValueAxisDataPointOffset(t,i),n=this.getXAxisDataPointOffset(e,i),o=this._toPolarCoord(s.polarCoords,s.xAxis.rect,n,r);return{x:o.x,y:o.y}},_getDataPointOffsetDiff:function(e,t,i,s,r,n,o){var a=this._getDataPointOffset(e,i,s,r,n,o),l=this._getDataPointOffset(t,i,s,r,n,o);return Math.abs(a-l)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(null==t.xAxis){for(var s=0;s<=e&&null!=this.seriesGroups[s].xAxis;s++);i=this._renderData[s].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;if(renderData=this._getXAxisRenderData(t),!renderData)return NaN;var s=renderData.data.axisStats,r=s.min.valueOf(),n=s.max.valueOf(),o=n-r;if(0==o&&(o=1),e.valueOf()>n||e.valueOf()<r)return NaN;var a=this._getXAxis(t),l="horizontal"==i.orientation?"height":"width",h="horizontal"==i.orientation?"y":"x",d=(e.valueOf()-r)/o,c=renderData.rect[l]-renderData.data.padding.left-renderData.data.padding.right;(i.polar||i.spider)&&(this._renderData[t].polarCoords.isClosedCircle&&(c=renderData.data.axisSize));return this._plotRect[h]+renderData.data.padding.left+c*(a.flip?1-d:d)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;var s=this._renderData[t];if(!s)return NaN;var r=1==i.flip,n=s.logBase,o=s.scale,a=s.gbase,l=s.baseOffset;return this._getDataPointOffset(e,a,n,o,l,r)},_getDataPointOffset:function(t,i,s,r,n,o){var a;return isNaN(t)&&(t=i),a=isNaN(s)?(t-i)*r:(e.jqx.log(t,s)-e.jqx.log(i,s))*r,this._isVML&&(a=Math.round(a)),a=o?n+a:n-a},_calcGroupOffsets:function(t,i){for(var s=this.seriesGroups[t];this._renderData.length<t+1;)this._renderData.push({});if(null!=this._renderData[t]&&null!=this._renderData[t].offsets)return this._renderData[t];if(this._isPieGroup(t))return this._calcPieSeriesGroupOffsets(t,i);var r=this._getValueAxis(t);if(!r||!s.series||0==s.series.length)return this._renderData[t];var n=1==r.flip,o=1==r.logarithmicScale,a=r.logarithmicScaleBase||10,l=[],h=-1!=s.type.indexOf("stacked"),d=h&&-1!=s.type.indexOf("100"),c=-1!=s.type.indexOf("range"),u=this._isColumnType(s.type),p=-1!=s.type.indexOf("waterfall"),f=this._getDataLen(t),m=s.baselineValue||r.baselineValue||0;d&&(m=0);var g=this._stats.seriesGroups[t];if(g&&g.isValid){var v=g.hasStackValueReversal;if(v&&(m=0),p&&h){if(v)return;m=g.base}m>g.max&&(m=g.max),m<g.min&&(m=g.min);var x=d||o?g.maxRange:g.max-g.min,b=g.min,w=g.max,y=i.height/(o?g.intervals:x),_=0;_=d?b*w<0?-((x/=2)+m)*y:-m*y:-(m-b)*y,n?_=i.y-_:_+=i.y+i.height;var j,q=[],S=[],T=[];o&&(j=e.jqx.log(w,a)-e.jqx.log(m,a),h&&(j=g.intervals,m=d?0:b),g.intervals-j,n||(_=i.y+j/g.intervals*i.height)),_=e.jqx._ptrnd(_);var C=b*w<0?i.height/2:i.height,I=[],k=[],P=h&&(u||o),M=[];l=new Array(s.series.length);for(var N=0;N<s.series.length;N++)l[N]=new Array(f);for(var D=0;D<f;D++){!p&&h&&(k=[]);for(N=0;N<s.series.length;N++){!h&&o&&(I=[]);var B=s.series[N],O=B.dataField,A=B.dataFieldFrom,H=B.dataFieldTo,E=B.radiusDataField||B.sizeDataField;l[N][D]={};var z=this._isSerieVisible(t,N);if(-1==s.type.indexOf("candle")&&-1==s.type.indexOf("ohlc")){if(h)for(;k.length<=D;)k.push(0);var L=NaN;c&&(L=this._getDataValueAsNumber(D,A,t),isNaN(L)&&(L=m));var F=NaN;F=c?this._getDataValueAsNumber(D,H,t):this._getDataValueAsNumber(D,O,t);var R=this._getDataValueAsNumber(D,E,t);if(h&&(k[D]+=z?F:0),z||(F=NaN),isNaN(F)||o&&F<=0)l[N][D]={from:void 0,to:void 0};else{var V;h&&(P?V=F>=m?q:S:F=k[D]);var W=y*(F-m);if(c&&(W=y*(F-L)),h&&P&&(M[D]?W=y*F:(M[D]=!0,W=y*(F-m))),o){for(;I.length<=D;)I.push({p:{value:0,height:0},n:{value:0,height:0}});var G=c||c?L:m,U=F>G?I[D].p:I[D].n;U.value+=F,d?(F=U.value/(g.psums[D]+g.nsums[D])*100,W=(e.jqx.log(F,a)-g.minPow)*y):(W=e.jqx.log(U.value,a)-e.jqx.log(G,a),W*=y),W-=U.height,U.height+=W}var X=_;if(c){var Y=0;Y=o?(e.jqx.log(L,a)-e.jqx.log(m,a))*y:(L-m)*y,X+=n?Y:-Y}if(h){if(d&&!o){var K=g.psums[D]-g.nsums[D];F>m?(W=g.psums[D]/K*C,0!=g.psums[D]&&(W*=F/g.psums[D])):(W=g.nsums[D]/K*C,0!=g.nsums[D]&&(W*=F/g.nsums[D]))}P&&(isNaN(V[D])&&(V[D]=X),X=V[D])}isNaN(T[D])&&(T[D]=0);var $=T[D],J=W=Math.abs(W);if(W>=1&&(h_new=this._isVML?Math.round(W):e.jqx._ptrnd(W)-1,W=Math.abs(W-h_new)>.5?Math.round(W):h_new),$+=W-J,h||($=0),Math.abs($)>.5&&($>0?(W-=1,$-=1):(W+=1,$+=1)),T[D]=$,N==s.series.length-1&&d){for(var Z=0,Q=0;Q<N;Q++)Z+=Math.abs(l[Q][D].to-l[Q][D].from);if((Z+=W)<C)if(W>.5)W=e.jqx._ptrnd(W+C-Z);else for(Q=N-1;Q>=0;){if(Math.abs(l[Q][D].to-l[Q][D].from)>1){l[Q][D].from>l[Q][D].to&&(l[Q][D].from+=C-Z);break}Q--}}n&&(W*=-1);var ee=F<m;c&&(ee=L>F);var te=isNaN(L)?F:{from:L,to:F};ee?(P&&(V[D]+=W),l[N][D]={from:X,to:X+W,value:te,valueRadius:R}):(P&&(V[D]-=W),l[N][D]={from:X,to:X-W,value:te,valueRadius:R})}}else{var ie=["Open","Close","High","Low"];for(var se in ie){var re="dataField"+ie[se];B[re]&&(l[N][D][ie[se]]=this._getDataPointOffset(this._getDataValueAsNumber(D,B[re],t),m,o?a:NaN,y,_,n))}}}}var ne=this._renderData[t];return ne.baseOffset=_,ne.gbase=m,ne.logBase=o?a:NaN,ne.scale=y,ne.offsets=p?this._applyWaterfall(l,f,t,_,m,o?a:NaN,y,n,h):l,ne.xoffsets=this._calculateXOffsets(t,i.width),this._renderData[t]}},_isPercent:function(e){return"string"==typeof e&&e.length>0&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(t,i){for(var s=this._getDataLen(t),r=this.seriesGroups[t],n=this._renderData[t]={},o=n.offsets=[],a=0;a<r.series.length;a++){var l=r.series[a],h=this._get([l.minAngle,l.startAngle]);(isNaN(h)||h<0||h>360)&&(h=0);var d=this._get([l.maxAngle,l.endAngle]);(isNaN(d)||d<0||d>360)&&(d=360);var c=d-h,u=l.initialAngle||0;u<h&&(u=h),u>d&&(u=d);var p=l.centerOffset||0,f=e.jqx.getNum([l.offsetX,r.offsetX,i.width/2]),m=e.jqx.getNum([l.offsetY,r.offsetY,i.height/2]),g=Math.min(i.width,i.height)/2,v=u,x=l.radius;this._isPercent(x)&&(x=parseFloat(x)/100*g),isNaN(x)&&(x=.4*g);var b=l.innerRadius;this._isPercent(b)&&(b=parseFloat(b)/100*g),(isNaN(b)||b>=x)&&(b=0);var w=l.selectedRadiusChange;this._isPercent(w)&&(w=parseFloat(w)/100*(x-b)),isNaN(w)&&(w=.1*(x-b)),o.push([]);for(var y=0,_=0,j=0;j<s;j++){var q=this._getDataValueAsNumber(j,l.dataField,t);isNaN(q)||(this._isSerieVisible(t,a,j)||1==l.hiddenPointsDisplay)&&(q>0?y+=q:_+=q)}var S=y-_;0==S&&(S=1);for(j=0;j<s;j++){q=this._getDataValueAsNumber(j,l.dataField,t);if(isNaN(q))o[a].push({});else{var T=l.displayText||l.displayField,C=this._getDataValue(j,T,t);null==C&&(C=j);var I=0,k=this._isSerieVisible(t,a,j);(k||1==l.hiddenPointsDisplay)&&(I=Math.abs(q)/S*c);var P=i.x+f,M=i.y+m,N=p;e.isFunction(p)&&(N=p({seriesIndex:a,seriesGroupIndex:t,itemIndex:j})),isNaN(N)&&(N=0);var D={key:t+"_"+a+"_"+j,value:q,displayValue:C,x:P,y:M,fromAngle:v,toAngle:v+I,centerOffset:N,innerRadius:b,outerRadius:x,selectedRadiusChange:w,visible:k};o[a].push(D),v+=I}}}return n},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];for(var s in e)if(-1!=i.type.indexOf(e[s]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],s=this._getXAxis(e),r=null==s.valuesOnTicks?t:0!=s.valuesOnTicks;return s.logarithmicScale&&(r=!0),null==e?r:null==i.valuesOnTicks?r:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(t,i,s,r){var n=0;switch("year"!=s&&"month"!=s&&(n=i.valueOf()-t.valueOf()),s){case"year":n=this._getYearsDiff(t,i);break;case"month":n=this._getMonthsDiff(t,i);break;case"day":n/=864e5;break;case"hour":n/=36e5;break;case"minute":n/=6e4;break;case"second":n/=1e3}return"year"!=s&&"month"!=s&&0!=r&&(n=e.jqx._rnd(n,1,!0)),n},_getBestDTUnit:function(e,t,i,s,r){var n="day",o=t.valueOf()-e.valueOf();n=o<1e3?"second":o<36e5?"minute":o<864e5?"hour":o<2592e6?"day":o<31104e6?"month":"year";for(var a=[{key:"year",cnt:o/31536e6},{key:"month",cnt:o/2592e6},{key:"day",cnt:o/864e5},{key:"hour",cnt:o/36e5},{key:"minute",cnt:o/6e4},{key:"second",cnt:o/1e3},{key:"millisecond",cnt:o}],l=-1,h=0;h<a.length;h++)if(a[h].key==n){l=h;break}for(var d=-1,c=-1;l<a.length&&!(a[l].cnt/100>s);l++){var u=this._estAxisInterval(e,t,i,s,a[l].key,r),p=this._getDTIntCnt(e,t,u,a[l].key);(-1==d||d<p)&&(d=p,c=l)}return n=a[c].key},_getXAxisStats:function(t,i,s){var r=this._getDataLen(t),n="date"==i.type||"time"==i.type;if(n&&!this._autoDateFormats){this._autoDateFormats||(this._autoDateFormats=[]);var o=this._testXAxisDateFormat();o&&this._autoDateFormats.push(o)}var a=n?this._castAsDate(i.minValue,i.dateFormat):this._castAsNumber(i.minValue),l=n?this._castAsDate(i.maxValue,i.dateFormat):this._castAsNumber(i.maxValue);if(this._selectorRange&&this._selectorRange[t]){var h=this._selectorRange[t].min;isNaN(h)||(a=n?this._castAsDate(h,i.dateFormat):this._castAsNumber(h));var d=this._selectorRange[t].max;isNaN(d)||(l=n?this._castAsDate(d,i.dateFormat):this._castAsNumber(d))}for(var c,u,p=a,f=l,m=null==i.type||"auto"==i.type,g=m||"basic"==i.type,v=0,x=0,b=0;b<r&&i.dataField;b++){var w=this._getDataValue(b,i.dataField,t);w=n?this._castAsDate(w,i.dateFormat):this._castAsNumber(w),isNaN(w)||(n?v++:x++,(isNaN(c)||w<c)&&(c=w),(isNaN(u)||w>=u)&&(u=w))}m&&(!n&&x==r||n&&v==r)&&(g=!1),g&&(c=0,u=Math.max(0,r-1)),isNaN(p)&&(p=c),isNaN(f)&&(f=u),n?(this._isDate(p)||(p=this._isDate(f)?f:new Date),this._isDate(f)||(f=this._isDate(p)?p:new Date)):(isNaN(p)&&(p=0),isNaN(f)&&(f=g?Math.max(0,r-1):p)),null==c&&(c=p),null==u&&(u=f);var y=i.rangeSelector;if(y){var _=y.minValue||p;_&&n&&(_=this._castAsDate(_,y.dateFormat||i.dateFormat));var j=y.maxValue||f;j&&n&&(j=this._castAsDate(j,y.dateFormat||i.rangeSelector)),p<_&&(p=_),f<_&&(f=j),p>j&&(p=_),f>j&&(f=j)}var q,S,T=i.unitInterval;n&&((q=i.baseUnit)||(q=this._getBestDTUnit(p,f,t,s)),S="hour"==q||"minute"==q||"second"==q||"millisecond"==q);var C=1==i.logarithmicScale,I=i.logarithmicScaleBase;(isNaN(I)||I<=1)&&(I=10);T=i.unitInterval;C?T=1:(isNaN(T)||T<=0)&&(T=this._estAxisInterval(p,f,t,s,q));var k={min:p,max:f},P=this.seriesGroups[t];if(C){p||(p=1,f&&p>f&&(p=f)),f||(f=p),k={min:p,max:f};var M=e.jqx._rnd(e.jqx.log(p,I),1,!1),N=e.jqx._rnd(e.jqx.log(f,I),1,!0);f=Math.pow(I,N),p=Math.pow(I,M)}else n||!P.polar&&!P.spider||(p=e.jqx._rnd(p,T,!1),f=e.jqx._rnd(f,T,!0));return{min:p,max:f,logAxis:{enabled:C,base:I,minPow:M,maxPow:N},dsRange:{min:c,max:u},filterRange:k,useIndeces:g,isDateTime:n,isTimeUnit:S,dateTimeUnit:q,interval:T}},_getDefaultDTFormatFn:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return"year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},_getDTIntCnt:function(e,t,i,s){var r=0,n=new Date(e),o=new Date(t);if(o=o.valueOf(),i<=0)return 1;for(;n.valueOf()<o;)"millisecond"==s?n=new Date(n.valueOf()+i):"second"==s?n=new Date(n.valueOf()+1e3*i):"minute"==s?n=new Date(n.valueOf()+6e4*i):"hour"==s?n=new Date(n.valueOf()+6e4*i*24):"day"==s?n.setDate(n.getDate()+i):"month"==s?n.setMonth(n.getMonth()+i):"year"==s&&n.setFullYear(n.getFullYear()+i),r++;return r},_estAxisInterval:function(e,t,i,s,r,n){if(isNaN(e)||isNaN(t))return NaN;var o=[1,2,5,10,15,20,50,100,200,500],a=0,l=s/(!isNaN(n)&&n>0?n:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)){var h=Math.max(1,this._renderData[i].xAxis.avgWidth);0!=h&&isNaN(n)&&(l=.9*s/h)}if(l<=1)return Math.abs(t-e);for(;;){var d=a>=o.length?Math.pow(10,3+a-o.length):o[a];if((this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,d,r):(t-e)/d)<=l)break;a++}var c=this.seriesGroups[i];return(c.spider||c.polar)&&2*d>t-e&&(d=t-e),d},_getPaddingSize:function(e,t,i,s,r,n,o){var a=e.min,l=e.max;e.logAxis.enabled&&(a=e.logAxis.minPow,l=e.logAxis.maxPow);var h=e.interval,d=e.dateTimeUnit;if(r){var c=s/Math.max(1,l-a+h)*h;return n?{left:0,right:c}:i?{left:0,right:0}:{left:c/2,right:c/2}}if(i&&!o)return{left:0,right:0};if(this._isDate(a)&&this._isDate(l)){var u,p=this._getDTIntCnt(a,l,Math.min(h,l-a),d);return{left:(u=s/Math.max(2,p))/2,right:u/2}}return 1==(p=Math.max(1,l-a))?(sz=s/4,{left:sz,right:sz}):{left:(u=s/(p+1))/2,right:u/2}},_calculateXOffsets:function(t,i){var s=this.seriesGroups[t],r=this._getXAxis(t),n=[],o=[],a=this._getDataLen(t),l=this._getXAxisStats(t,r,i),h=l.min,d=l.max,c=l.isDateTime,u=l.isTimeUnit,p=this._hasColumnSeries(),f=s.polar||s.spider,m=this._get([s.startAngle,s.minAngle,0]),g=this._get([s.endAngle,s.maxAngle,360]),v=f&&!(Math.abs(Math.abs(g-m)-360)>1e-4),x=this._alignValuesWithTicks(t),b=this._getPaddingSize(l,r,x,i,f,v,p),w=d-h,y=l.filterRange;0==w&&(w=1);var _=i-b.left-b.right;f&&x&&!v&&(b.left=b.right=0);for(var j=-1,q=-1,S=0;S<a;S++){var T=void 0===r.dataField?S:this._getDataValue(S,r.dataField,t);if(l.useIndeces){if(S<y.min||S>y.max){n.push(NaN),o.push(void 0);continue}if(I=b.left+(S-h)/w*_,1==l.logAxis.enabled){var C=l.logAxis.base;I=this._jqxPlot.scale(T,{min:h.valueOf(),max:d.valueOf(),type:"logarithmic",base:C},{min:0,max:_,flip:!1})}n.push(e.jqx._ptrnd(I)),o.push(T),-1==j&&(j=S),(-1==q||q<S)&&(q=S)}else if(T=c?this._castAsDate(T,r.dateFormat):this._castAsNumber(T),isNaN(T)||T<y.min||T>y.max)n.push(NaN),o.push(void 0);else{var I=0;if(1==l.logAxis.enabled){C=l.logAxis.base;I=this._jqxPlot.scale(T,{min:h.valueOf(),max:d.valueOf(),type:"logarithmic",base:C},{min:0,max:_,flip:!1})}else!c||c&&u?(diffFromMin=T-h,I=(T-h)*_/w):I=(T.valueOf()-h.valueOf())/(d.valueOf()-h.valueOf())*_;I=e.jqx._ptrnd(b.left+I),n.push(I),o.push(T),-1==j&&(j=S),(-1==q||q<S)&&(q=S)}}if(1==r.flip)for(S=0;S<n.length;S++)isNaN(n[S])||(n[S]=i-n[S]);(u||c)&&(w=this._getDateDiff(h,d,r.baseUnit),w=e.jqx._rnd(w,1,!1));var k=Math.max(1,w),P=_/k;return j==q&&1==k&&(n[j]=b.left+_/2),{axisStats:l,data:n,xvalues:o,first:j,last:q,length:-1==q?0:q-j+1,itemWidth:P,intervalWidth:P*l.interval,rangeLength:w,useIndeces:l.useIndeces,padding:b,axisSize:_}},_getXAxis:function(e){return null==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){var i=this.seriesGroups[e],s=i.series[t];return 1==s.greyScale||0!=s.greyScale&&(1==i.greyScale||0!=i.greyScale&&1==this.greyScale)},_getSeriesColors:function(t,i,s){var r=this._getSeriesColorsInternal(t,i,s);if(this._isGreyScale(t,i))for(var n in r)r[n]=e.jqx.toGreyScale(r[n]);return r},_getColorFromScheme:function(e,t,i){var s="#000000",r=this.seriesGroups[e],n=r.series[t];if(this._isPieGroup(e)){var o=this._getDataLen(e);s=this._getItemColorFromScheme(n.colorScheme||r.colorScheme||this.colorScheme,t*o+i,e,t)}else{for(var a=0,l=0;l<=e;l++)for(var h in this.seriesGroups[l].series){if(l==e&&h==t)break;a++}var d=this.colorScheme;if(r.colorScheme&&(d=r.colorScheme,sidex=seriesIndex),null!=d&&""!=d||(d=this.colorSchemes[0].name),!d)return s;for(l=0;l<this.colorSchemes.length;l++){var c=this.colorSchemes[l];if(c.name==d){for(;a>c.colors.length;)a-=c.colors.length,++l>=this.colorSchemes.length&&(l=0),c=this.colorSchemes[l];s=c.colors[a%c.colors.length]}}}return s},_createColorsCache:function(){this._colorsCache={get:function(e){if(this._store[e])return this._store[e]},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(t,i,s){var r=this.seriesGroups[t],n=r.series[i];e.isFunction(n.colorFunction)||"pie"==r.type||"donut"==r.type||(s=NaN);var o=t+"_"+i+"_"+(isNaN(s)?"NaN":s);if(this._colorsCache.get(o))return this._colorsCache.get(o);var a,l={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(e.isFunction(n.colorFunction)){var h=isNaN(s)?NaN:this._getDataValue(s,n.dataField,t);if(-1!=r.type.indexOf("range")&&!isNaN(s))h={from:this._getDataValue(s,n.dataFieldFrom,t),to:this._getDataValue(s,n.dataFieldTo,t)};if("object"==typeof(a=n.colorFunction(h,s,n,r)))for(var d in a)l[d]=a[d];else l.fillColor=a}else{for(var d in l)n[d]&&(l[d]=n[d]);n.fillColor||n.color?n.fillColor=n.fillColor||n.color:l.fillColor=this._getColorFromScheme(t,i,s)}var c={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var d in l)"object"==typeof a&&a[d]||n[d]&&(l[d]=n[d]);for(var d in l)"object"==typeof a&&a[d]||n[d]||(l[d]=e.jqx.adjustColor(l[c[d].baseColor],c[d].adjust));return this._colorsCache.set(o,l),l},_getItemColorFromScheme:function(t,i,s,r){null!=t&&""!=t||(t=this.colorSchemes[0].name);for(var n=0;n<this.colorSchemes.length&&t!=this.colorSchemes[n].name;n++);for(var o=0;o<=i;){n==this.colorSchemes.length&&(n=0);var a=this.colorSchemes[n].colors.length;if(!(o+a<=i)){var l=this.colorSchemes[n].colors[i-o];return this._isGreyScale(s,r)&&0==l.indexOf("#")&&(l=e.jqx.toGreyScale(l)),l}o+=a,n++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(t,i,s,r,n,o){if(null==t)return"";if(this._isObject(t)&&!this._isDate(t)&&!s)return"";if(s){if(!e.isFunction(s))return t.toString();try{return s(t,o,n,r)}catch(e){return e.message}}return this._isNumber(t)?this._formatNumber(t,i):this._isDate(t)?this._formatDate(t,i):i?(i.prefix||"")+t.toString()+(i.sufix||""):t.toString()},_getFormattedValue:function(t,i,s,r,n,o){var a=this.seriesGroups[t],l=a.series[i],h="",d=r,c=n;c||(c=l.formatFunction||a.formatFunction),d||(d=l.formatSettings||a.formatSettings),!l.formatFunction&&l.formatSettings&&(c=void 0);var u={},p=0;for(var f in l)0==f.indexOf("dataField")&&(u[f.substring(9).toLowerCase()]=this._getDataValue(s,l[f],t),p++);if(0==p&&(u=this._getDataValue(s,void 0,t)),-1!=a.type.indexOf("waterfall")&&this._isSummary(t,s)&&(u=this._renderData[t].offsets[i][s].value,p=0),c&&e.isFunction(c))try{return c(1==p?u[""]:u,s,l,a)}catch(e){return e.message}if(1==p&&this._isPieGroup(t))return this._formatValue(u[""],d,c,t,i,s);if(p>0){var m=0;for(var f in u){m>0&&""!=h&&(h+="<br>");var g="dataField"+(f.length>0?f.substring(0,1).toUpperCase()+f.substring(1):""),v=l["displayText"+(f.length>0?f.substring(0,1).toUpperCase()+f.substring(1):"")]||l[g],x=u[f];null!=x&&(x=this._formatValue(x,d,c,t,i,s),h+=!0===o?x:v+": "+x,m++)}}else null!=u&&(h=this._formatValue(u,d,c,t,i,s));return h||""},_isNumberAsString:function(t){if("string"!=typeof t)return!1;t=e.trim(t);for(var i=0;i<t.length;i++){var s=t.charAt(i);if(!(s>="0"&&s<="9"||","==s||"."==s)&&(("-"!=s||0!=i)&&!("("==s&&0==i||")"==s&&i==t.length-1)))return!1}return!0},_castAsDate:function(t,i){if(t instanceof Date&&!isNaN(t))return t;if("string"==typeof t){var s;if(i&&(s=e.jqx.dataFormat.parsedate(t,i),this._isDate(s)))return s;if(this._autoDateFormats)for(var r=0;r<this._autoDateFormats.length;r++)if(s=e.jqx.dataFormat.parsedate(t,this._autoDateFormats[r]),this._isDate(s))return s;var n=this._detectDateFormat(t);return n&&(s=e.jqx.dataFormat.parsedate(t,n),this._isDate(s))?(this._autoDateFormats.push(n),s):(s=new Date(t),this._isDate(s)&&-1==t.indexOf(":")&&s.setHours(0,0,0,0),s)}},_castAsNumber:function(e){if(e instanceof Date&&!isNaN(e))return e.valueOf();if("string"==typeof e)if(this._isNumber(e))e=parseFloat(e);else if(!/[a-zA-Z]/.test(e)){var t=new Date(e);null!=t&&(e=t.valueOf())}return e},_isNumber:function(e){return"string"==typeof e&&this._isNumberAsString(e)&&(e=parseFloat(e)),"number"==typeof e&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},_formatDate:function(t,i){var s=t.toString();return i&&(i.dateFormat&&(s=e.jqx.dataFormat.formatDate(t,i.dateFormat)),s=(i.prefix||"")+s+(i.sufix||"")),s},_formatNumber:function(e,t){if(!this._isNumber(e))return e;t=t||{};var i=".",s="";this.localization&&(i=this.localization.decimalSeparator||this.localization.decimalseparator||i,s=this.localization.thousandsSeparator||this.localization.thousandsseparator||s),t.decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(s=t.thousandsSeparator);var r=t.prefix||"",n=t.sufix||"",o=t.decimalPlaces;isNaN(o)&&(o=this._getDecimalPlaces([e],void 0,3));var a=t.negativeWithBrackets||!1,l=e<0;l&&a&&(e*=-1);var h,d=e.toString(),c=Math.pow(10,o);if(d=(Math.round(e*c)/c).toString(),isNaN(d)&&(d=""),h=d.lastIndexOf("."),o>0)for(h<0?h=(d+=i).length-1:"."!==i&&(d=d.replace(".",i));d.length-1-h<o;)d+="0";h=(h=d.lastIndexOf(i))>-1?h:d.length;for(var u=d.substring(h),p=0,f=h;f>0;f--,p++)p%3==0&&f!==h&&(!l||f>1||l&&a)&&(u=s+u),u=d.charAt(f-1)+u;return d=u,l&&a&&(d="("+d+")"),r+d+n},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],s=e[t+1],r=e[t+2],n=e[t+3],o=e[t+4],a=e[t+5],l=Math.sqrt(Math.pow(r-i,2)+Math.pow(n-s,2)),h=l+Math.sqrt(Math.pow(o-r,2)+Math.pow(a-n,2));0==h&&(h=1);var d=.4*l/h,c=.4-d;return[r+d*(i-o),n+d*(s-a),r-c*(i-o),n-c*(s-a)]},_getBezierPoints:function(t){for(var i="",s=[],r=[],n=t.split(" "),o=0;o<n.length;o++){var a=n[o].split(",");s.push(parseFloat(a[0])),s.push(parseFloat(a[1])),!isNaN(s[s.length-1])&&isNaN(s[s.length-2])}var l=s.length;if(l<=1)return"";if(2==l)return i="M"+e.jqx._ptrnd(s[0])+","+e.jqx._ptrnd(s[1])+" L"+e.jqx._ptrnd(s[0]+1)+","+e.jqx._ptrnd(s[1]+1)+" ";for(o=0;o<l-4;o+=2)r=r.concat(this._calculateControlPoints(s,o));for(o=2;o<l-5;o+=2)i+=" C"+e.jqx._ptrnd(r[2*o-2])+","+e.jqx._ptrnd(r[2*o-1])+" "+e.jqx._ptrnd(r[2*o])+","+e.jqx._ptrnd(r[2*o+1])+" "+e.jqx._ptrnd(s[o+2])+","+e.jqx._ptrnd(s[o+3])+" ";return i=l<=4||Math.abs(s[0]-s[2])<3||Math.abs(s[1]-s[3])<3||this._isVML?"M"+e.jqx._ptrnd(s[0])+","+e.jqx._ptrnd(s[1])+" L"+e.jqx._ptrnd(s[2])+","+e.jqx._ptrnd(s[3])+" "+i:"M"+e.jqx._ptrnd(s[0])+","+e.jqx._ptrnd(s[1])+" Q"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" "+e.jqx._ptrnd(s[2])+","+e.jqx._ptrnd(s[3])+" "+i,l>=4&&(Math.abs(s[l-2]-s[l-4])<3||Math.abs(s[l-1]-s[l-3])<3||this._isVML)?i+=" L"+e.jqx._ptrnd(s[l-2])+","+e.jqx._ptrnd(s[l-1])+" ":l>=5&&(i+=" Q"+e.jqx._ptrnd(r[2*l-10])+","+e.jqx._ptrnd(r[2*l-9])+" "+e.jqx._ptrnd(s[l-2])+","+e.jqx._ptrnd(s[l-1])+" "),i},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=(new Date).getTime();this._animGroups[e].startTick=t,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,s,r,n,o){s<0&&(s=0),null==o&&(o="easeInOutSine"),this._animGroups[e].animations.push({key:t,properties:i,duration:s,fn:r,context:n,easing:o})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){if(!this._animtimer){var e=this;this._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt)}},_runAnimation:function(t){if(this._animGroups){var i=(new Date).getTime(),s={};for(var r in this._animGroups){for(var n=this._animGroups[r].animations,o=this._animGroups[r].startTick,a=0,l=0;l<n.length;l++){var h=n[l],d=i-o;h.duration>a&&(a=h.duration);var c=h.duration>0?d/h.duration:1,u=c;if(h.easing&&0!=h.duration&&(u=e.easing[h.easing](c,d,0,1,h.duration)),c>1&&(c=1,u=1),h.fn)h.fn(h.key,h.context,u);else{var p={};for(r=0;r<h.properties.length;r++){var f=h.properties[r],m=0;m=1==c?f.to:easeParecent*(f.to-f.from)+f.from,p[f.key]=m}this.renderer.attr(h.key,p)}}o+a>i&&(s[r]={startTick:o,animations:n})}this._animGroups=s,this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()}for(var r in this._animtimer=null,this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){if(!("horizontal"==this.seriesGroups[t].orientation))return e;var i=e.x;e.x=e.y,e.y=i+this._plotRect.y-this._plotRect.x;i=e.width;return e.width=e.height,e.height=i,e},getItemCoord:function(e,t,i){if(this._isPieGroup(e)&&(!this._isSerieVisible(e,t,i)||!this._renderData||this._renderData.length<=e))return{x:NaN,y:NaN};if(!this._isSerieVisible(e,t)||!this._renderData||this._renderData.length<=e)return{x:NaN,y:NaN};var s=this.seriesGroups[e],r=s.series[t],n=this._getItemCoord(e,t,i);if(this._isPieGroup(e)){if(isNaN(n.x)||isNaN(n.y)||isNaN(n.fromAngle)||isNaN(n.toAngle))return{x:NaN,y:NaN};var o=this._plotRect,a=n.fromAngle*(Math.PI/180),l=n.toAngle*(Math.PI/180);x1=o.x+n.center.x+Math.cos(a)*n.outerRadius,x2=o.x+n.center.x+Math.cos(l)*n.outerRadius,y1=o.y+n.center.y-Math.sin(a)*n.outerRadius,y2=o.y+n.center.y-Math.sin(l)*n.outerRadius;var h=Math.min(x1,x2),d=Math.abs(x2-x1);return n={x:h,y:u=Math.min(y1,y2),width:d,height:Math.abs(y2-y1),center:n.center,centerOffset:n.centerOffset,innerRadius:n.innerRadius,outerRadius:n.outerRadius,selectedRadiusChange:n.selectedRadiusChange,fromAngle:n.fromAngle,toAngle:n.toAngle}}if(-1!=s.type.indexOf("column")||-1!=s.type.indexOf("waterfall")){var c=this._getColumnSerieWidthAndOffset(e,t);n.height=Math.abs(n.y.to-n.y.from),n.y=Math.min(n.y.to,n.y.from),n.x+=c.offset,n.width=c.width}else if(-1!=s.type.indexOf("ohlc")||-1!=s.type.indexOf("candlestick")){c=this._getColumnSerieWidthAndOffset(e,t);var u=n.y,p=Math.min(u.Open,u.Close,u.Low,u.High),f=Math.max(u.Open,u.Close,u.Low,u.High);n.height=Math.abs(f-p),n.y=p,n.x+=c.offset,n.width=c.width}else if(-1!=s.type.indexOf("line")||-1!=s.type.indexOf("area"))n.width=n.height=0,n.y=n.y.to;else if(-1!=s.type.indexOf("bubble")||-1!=s.type.indexOf("scatter")){n.center={x:n.x,y:n.y.to};var m=n.y.radius;"circle"!=r.symbolType&&null!=r.symbolType&&(m/=2),n.y=n.y.to,n.radius=m,n.width=2*m,n.height=2*m}if(n=this._fixCoords(n,e),s.polar||s.spider){var g=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,n.x,n.y);n.x=g.x,n.y=g.y,n.center&&(n.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,n.center.x,n.center.y))}return-1==s.type.indexOf("bubble")&&-1==s.type.indexOf("scatter")||(n.x-=m,n.y-=m),n},_getItemCoord:function(e,t,i){var s,r,n=this.seriesGroups[e];if(!n||!this._renderData)return{x:NaN,y:NaN};if(!n.series[t])return{x:NaN,y:NaN};var o=this._plotRect;if(this._isPieGroup(e)){var a=this._renderData[e].offsets[t][i];if(!a)return{x:NaN,y:NaN};var l=(a.fromAngle+a.toAngle)/2*(Math.PI/180);return{x:s=o.x+a.x+Math.cos(l)*a.outerRadius,y:r=o.y+a.y-Math.sin(l)*a.outerRadius,center:{x:a.x,y:a.y},centerOffset:a.centerOffset,innerRadius:a.innerRadius,outerRadius:a.outerRadius,selectedRadiusChange:a.selectedRadiusChange,fromAngle:a.fromAngle,toAngle:a.toAngle}}if(s=o.x+this._renderData[e].xoffsets.data[i],r=this._renderData[e].offsets[t][i],isNaN(s)||!r)return{x:NaN,y:NaN};var h={};for(var d in r)h[d]=r[d];return{x:s,y:h}},getXAxisValue:function(t,i){var s=this.seriesGroups[i];if(s){var r=this._getXAxis(i),n=this._plotRect,o=0,a=NaN,l=this._renderData[0].xoffsets.axisStats,h=0,d=0;if(s.polar||s.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var c=this._getPolarAxisCoords(i,n);if(e.jqx._ptdist(t.x,t.y,c.x,c.y)>c.r)return NaN;var u=Math.atan2(c.y-t.y,t.x-c.x);(u=Math.PI/2-u)<0&&(u=2*Math.PI+u),a=u*c.r;var p=c.startAngle+Math.PI/2,f=c.endAngle+Math.PI/2;h=p*c.r,d=f*c.r,o=(f-p)*c.r;var m=this._getPaddingSize(l,r,r.valuesOnTicks,o,!0,c.isClosedCircle,this._hasColumnSeries());c.isClosedCircle?(o-=m.left+m.right,d-=m.left+m.right):r.valuesOnTicks||(h+=m.left,d-=m.right)}else{if("horizontal"!=s.orientation){if(t<n.x||t>n.x+n.width)return NaN;a=t-n.x,o=n.width}else{if(t<n.y||t>n.y+n.height)return NaN;a=t-n.y,o=n.height}if(this._renderData[i]&&this._renderData[i].xoffsets)o-=(m=this._renderData[i].xoffsets.padding).left+m.right,a-=m.left;d=o}return this._jqxPlot.scale(a,{min:h,max:d},{min:l.min.valueOf(),max:l.max.valueOf(),type:l.logAxis.enabled?"logarithmic":"linear",base:l.logAxis.base,flip:r.flip})}},getValueAxisValue:function(t,i){var s=this.seriesGroups[i];if(s){var r=this._getValueAxis(i),n=this._plotRect,o=0,a=NaN;if(s.polar||s.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var l=this._getPolarAxisCoords(i,n);a=e.jqx._ptdist(t.x,t.y,l.x,l.y),a=(o=l.r)-a}else if("horizontal"==s.orientation){if(t<n.x||t>n.x+n.width)return NaN;a=t-n.x,o=n.width}else{if(t<n.y||t>n.y+n.height)return NaN;a=t-n.y,o=n.height}var h=this._stats.seriesGroups[i];return this._jqxPlot.scale(a,{min:0,max:o},{min:h.min.valueOf(),max:h.max.valueOf(),type:h.logarithmic?"logarithmic":"linear",base:h.logBase,flip:!r.flip})}},_detectDateFormat:function(t,i){var s={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};i&&(s=e.extend({},s,i));var r=[];for(var n in e.isArray(t)?r=t:r.push(t),s)s[n]={format:s[n],count:0};for(var o=0;o<r.length;o++)if(value=r[o],null!=value&&null!=value)for(var n in s){null!=e.jqx.dataFormat.parsedate(value,s[n].format)&&s[n].count++}var a={key:void 0,count:0};for(var n in s)s[n].count>a.count&&(a.key=n,a.count=s[n].count);return a.key?s[a.key].format:""},_testXAxisDateFormat:function(e){var t=this._getXAxis(e),i=this._getDataLen(e),s={};if(this.localization&&this.localization.patterns)for(var r in this.localization.patterns)s["local_"+r]=this.localization.patterns[r];for(var n=[],o=0;o<i&&o<10;o++)value=this._getDataValue(o,t.dataField,e),null!=value&&null!=value&&n.push(value);return this._detectDateFormat(n,s)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleApi:!0,getItemsCount:function(e,t){var i=this.seriesGroups[e];if(!this._isSerieVisible(e,t))return 0;var s=this._renderData;return!i||!s||s.length<=e?0:i.series[t]?s[e].offsets[t].length:0},getXAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].xAxis)return t[e].xAxis.rect},getXAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].xAxis))return t;var s=this.seriesGroups[e];if(s.polar||s.spider){for(var r=0;r<i.polarLabels.length;r++){var n=i.polarLabels[r];t.push({offset:{x:n.x,y:n.y},value:n.value})}return t}var o=this._getXAxis(e),a=this.getXAxisRect(e),l="top"==o.position||"right"==o.position,h="horizontal"==s.orientation;for(r=0;r<i.data.length;r++)h?t.push({offset:{x:a.x+(l?0:a.width),y:a.y+i.data.data[r]},value:i.data.xvalues[r]}):t.push({offset:{x:a.x+i.data.data[r],y:a.y+(l?a.height:0)},value:i.data.xvalues[r]});return t},getValueAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].valueAxis)return t[e].valueAxis.rect},getValueAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].valueAxis))return t;var s=this._getValueAxis(e),r="top"==s.position||"right"==s.position,n=this.seriesGroups[e],o="horizontal"==n.orientation;if(n.polar||n.spider){for(var a=0;a<i.polarLabels.length;a++){var l=i.polarLabels[a];t.push({offset:{x:l.x,y:l.y},value:l.value})}return t}for(a=0;a<i.items.length;a++)o?t.push({offset:{x:i.itemOffsets[i.items[a]].x+i.itemWidth/2,y:i.rect.y+(r?i.rect.height:0)},value:i.items[a]}):t.push({offset:{x:i.rect.x+i.rect.width,y:i.itemOffsets[i.items[a]].y+i.itemWidth/2},value:i.items[a]});return t},getPlotAreaRect:function(){return this._plotRect},getRect:function(){return this._rect},showToolTip:function(e,t,i,s,r){var n=this.getItemCoord(e,t,i);isNaN(n.x)||isNaN(n.y)||this._startTooltipTimer(e,t,i,n.x,n.y,s,r)},hideToolTip:function(e){isNaN(e)&&(e=0);var t=this;t._cancelTooltipTimer(),setTimeout(function(){t._hideToolTip(0)},e)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleRangeSelector:!0,_renderXAxisRangeSelector:function(t,i){this._isTouchDevice=e.jqx.mobile.isTouchDevice();var s=this.seriesGroups[t],r=this._getXAxis(t),n=r?r.rangeSelector:void 0;this._isSelectorRefresh||(n&&n.renderTo?n.renderTo:this.host).find(".rangeSelector").remove();if(!r||0==r.visible||"spider"==s.type)return!1;if(!this._isGroupVisible(t))return!1;if(!n)return!1;var o="horizontal"==s.orientation;n.renderTo&&(o=!1),this.rtl&&(r.flip=!0);var a=o?this.host.height():this.host.width();a-=4;var l=this._getXAxisStats(t,r,a),h=r.position;if(n.renderTo&&n.position&&(h=n.position),!this._isSelectorRefresh){var d=n.renderTo,c=e("<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>").appendTo(d||this.renderer.getContainer());if(d)c.css({width:d.width(),height:d.height()}),i.width=d.width(),i.height=d.height();else{var u=this.host.coord();u.top=0,u.left=0,selectorSize=this._selectorGetSize(r),o?(c.css("left",u.left+1+i.x+("right"!=h?-selectorSize:i.width)),c.css("top",u.top),c.css("height",a),c.css("width",selectorSize),i.height=selectorSize):(c.css("left",u.left+1),c.css("top",u.top+i.y+("top"!=h?i.height:-selectorSize)),c.css("height",selectorSize),c.css("width",a))}this._refreshSelector(t,r,l,c,i,o)}return this._isSelectorRefresh=!1,!0},_refreshSelector:function(t,i,s,r,n,o){var a={},l=i.rangeSelector;this.seriesGroups[t];for(var h in l)a[h]=l[h];delete a.padding;var d=a.minValue,c=a.maxValue;null==d&&(d=Math.min(s.min.valueOf(),s.dsRange.min.valueOf())),null==c&&(c=Math.max(s.max.valueOf(),s.dsRange.max.valueOf())),this._isDate(s.min)&&(d=new Date(d)),this._isDate(s.max)&&(c=new Date(c));var u=i.position;l.renderTo&&l.position&&(u=l.position),a.dataField=i.dataField,delete a.rangeSelector,a.type=i.type,a.baseUnit=l.baseUnit||i.baseUnit,a.minValue=d,a.maxValue=c,a.flip=i.flip,a.position=u;var p=2,f=2,m=2,g=2;l.renderTo||(p=o?0:n.x,f=o?0:this._rect.width-n.x-n.width,m=o?n.y:5,g=o?this._paddedRect.height-this._plotRect.height:5);var v=l.padding;v=null!=v||l.renderTo?{left:v&&v.left?v.left:p,top:v&&v.top?v.top:m,right:v&&v.right?v.right:f,bottom:v&&v.bottom?v.bottom:g}:{left:p,top:m,right:f,bottom:g};var x=i.rangeSelector.dataField;for(h=0;null==x&&h<this.seriesGroups.length;h++)for(var b=0;null==x&&b<this.seriesGroups[h].series.length;b++)x=this.seriesGroups[h].series[b].dataField;var w={padding:v,_isRangeSelectorInstance:!0,title:l.title||"",description:l.description||"",titlePadding:l.titlePadding,colorScheme:l.colorScheme||this.colorScheme,backgroundColor:l.backgroundColor||this.backgroundColor||"transparent",backgroundImage:l.backgroundImage||"",showBorderLine:l.showBorderLine||!!l.renderTo,borderLineWidth:l.borderLineWidth||this.borderLineWidth,borderLineColor:l.borderLineColor||this.borderLineColor,rtl:l.rtl||this.rtl,greyScale:l.greyScale||this.greyScale,renderEngine:this.renderEngine,showLegend:!1,enableAnimations:!1,enableEvents:!1,showToolTips:!1,source:this.source,xAxis:a,seriesGroups:[{orientation:o?"horizontal":"vertical",valueAxis:{visible:!1},type:i.rangeSelector.serieType||"area",skipOverlappingPoints:e.jqx.getByPriority([i.rangeSelector.skipOverlappingPoints,!0]),columnSeriesOverlap:e.jqx.getByPriority([i.rangeSelector.columnSeriesOverlap,!1]),columnsGapPercent:e.jqx.getByPriority([i.rangeSelector.columnsGapPercent,25]),seriesGapPercent:e.jqx.getByPriority([i.rangeSelector.seriesGapPercent,25]),series:[{dataField:x,opacity:.8,lineWidth:1}]}]};w.showBorderLine||(w.borderLineWidth=1,w.borderLineColor=e.jqx.getByPriority([this.backgroundColor,this.background,"#FFFFFF"]),w.showBorderLine=!0);var y=this;y._supressBindingRefresh=!0,r.empty(),r.jqxChart(w),y._rangeSelectorInstances[t]=r,y._supressBindingRefresh=!1,r.on(y._getEvent("mousemove"),function(){y._unselect(),y._hideToolTip()});var _=r.jqxChart("getInstance");if(_._plotRect){var j=_._paddedRect;if(j.height=_._plotRect.height,o||"top"!=u){if(o){var q=_._renderData[0].xAxis.rect.width;j.width-=q,"right"!=u&&(j.x+=q)}}else j.y+=_._renderData[0].xAxis.rect.height;y._createSliderElements(t,r,j,l),y.removeHandler(e(document),y._getEvent("mousemove")+"."+this.element.id,y._onSliderMouseMove),y.removeHandler(e(document),y._getEvent("mousedown"),y._onSliderMouseDown),y.removeHandler(e(document),y._getEvent("mouseup")+"."+this.element.id,y._onSliderMouseUp),y.addHandler(e(document),y._getEvent("mousemove")+"."+this.element.id,y._onSliderMouseMove,{self:this,groupIndex:t,renderTo:r,swapXY:o}),y.addHandler(e(r),y._getEvent("mousedown"),this._onSliderMouseDown,{self:this,groupIndex:t,renderTo:r,swapXY:o}),y.addHandler(e(document),y._getEvent("mouseup")+"."+this.element.id,y._onSliderMouseUp,{element:this.element.id,self:this,groupIndex:t,renderTo:r,swapXY:o})}},_createSliderElements:function(t,i,s,r){i.find(".slider").remove();var n=r.selectedRangeColor||"blue",o=e.jqx.getByPriority([r.selectedRangeOpacity,.1]),a=e.jqx.getByPriority([r.unselectedRangeOpacity,.5]),l=r.unselectedRangeColor||"white",h=r.rangeLineColor||"grey",d=e("<div class='slider' style='position: absolute;'></div>");for(d.css({background:n,opacity:o,left:s.x,top:s.y,width:s.width,height:s.height}),d.appendTo(i);this._sliders.length<t+1;)this._sliders.push({});var c="<div class='slider' style='position: absolute;  background: "+l+"; opacity: "+a+";'></div>",u="<div class='slider' style='position: absolute; background:"+h+"; opacity: "+a+";'></div>",p="<div class='slider jqx-rc-all' style='position: absolute; background: white; border-style: solid; border-width: 1px; border-color: "+h+";'></div>";this._sliders[t]={element:d,host:i,_sliderInitialAbsoluteRect:{x:d.coord().left,y:d.coord().top,width:s.width,height:s.height},_hostInitialAbsolutePos:{x:i.coord().left,y:i.coord().top},getRect:function(){return{x:this.host.coord().left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:this.host.coord().top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:s,left:e(c),right:e(c),leftTop:e(u),rightTop:e(u),leftBorder:e(u),leftBar:e(p),rightBorder:e(u),rightBar:e(p)},this._sliders[t].left.appendTo(i),this._sliders[t].right.appendTo(i),this._sliders[t].leftTop.appendTo(i),this._sliders[t].rightTop.appendTo(i),this._sliders[t].leftBorder.appendTo(i),this._sliders[t].rightBorder.appendTo(i),this._sliders[t].leftBar.appendTo(i),this._sliders[t].rightBar.appendTo(i);var f=this._renderData[t].xAxis.data.axisStats,m=f.min.valueOf(),g=f.max.valueOf(),v=this._valueToOffset(t,m),x=this._valueToOffset(t,g);if(v>x){var b=x;x=v,v=b}"horizontal"!=this.seriesGroups[t].orientation?d.css({left:Math.round(s.x+v),top:s.y,width:Math.round(x-v),height:s.height}):d.css({top:Math.round(s.y+v),left:s.x,height:Math.round(x-v),width:s.width}),this._setSliderPositions(t,v,x)},_setSliderPositions:function(e,t,i){var s=this.seriesGroups[e],r=this._getXAxis(e),n=r.rangeSelector,o="horizontal"==s.orientation;r.rangeSelector.renderTo&&(o=!1);var a=r.position;n.renderTo&&n.position&&(a=n.position);var l=this._sliders[e],h=o?"top":"left",d=o?"left":"top",c=o?"height":"width",u=o?"width":"height",p=o?"y":"x",f=o?"x":"y",m=l.rect;l.startOffset=t,l.endOffset=i,l.left.css(h,m[p]),l.left.css(d,m[f]),l.left.css(c,t),l.left.css(u,m[u]),l.right.css(h,m[p]+i),l.right.css(d,m[f]),l.right.css(c,m[c]-i+1),l.right.css(u,m[u]),l.leftTop.css(h,m[p]),l.leftTop.css(d,m[f]+(o&&"right"==a||!o&&"top"!=a?0:m[u])),l.leftTop.css(c,t),l.leftTop.css(u,1),l.rightTop.css(h,m[p]+i),l.rightTop.css(d,m[f]+(o&&"right"==a||!o&&"top"!=a?0:m[u])),l.rightTop.css(c,m[c]-i+1),l.rightTop.css(u,1),l.leftBorder.css(h,m[p]+t),l.leftBorder.css(d,m[f]),l.leftBorder.css(c,1),l.leftBorder.css(u,m[u]);var g=m[u]/4;g>20&&(g=20),g<3&&(g=3),l.leftBar.css(h,m[p]+t-3),l.leftBar.css(d,m[f]+m[u]/2-g/2),l.leftBar.css(c,5),l.leftBar.css(u,g),l.rightBorder.css(h,m[p]+i),l.rightBorder.css(d,m[f]),l.rightBorder.css(c,1),l.rightBorder.css(u,m[u]),l.rightBar.css(h,m[p]+i-3),l.rightBar.css(d,m[f]+m[u]/2-g/2),l.rightBar.css(c,5),l.rightBar.css(u,g)},_resizeState:{},_onSliderMouseDown:function(t){t.stopImmediatePropagation(),t.stopPropagation();var i=t.data.self;i._sliders[t.data.groupIndex]&&(null==i._resizeState.state&&i._testAndSetReadyResize(t),"ready"==i._resizeState.state&&(e.jqx._rangeSelectorTarget=i,i._resizeState.state="resizing"))},_valueToOffset:function(e,t){var i=this.seriesGroups[e],s=this._sliders[e],r=s.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats,n=r.min.valueOf(),o=r.max.valueOf()-n;0==o&&(o=1);var a=this._getXAxis(e),l="horizontal"==i.orientation?"height":"width",h=(t.valueOf()-n)/o;return s.getRect()[l]*(a.flip?1-h:h)},_offsetToValue:function(e,t){var i=this._sliders[e],s=this.seriesGroups[e],r=this._getXAxis(e),n="horizontal"==s.orientation?"height":"width",o=i.getRect()[n];0==o&&(o=1);var a=i.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats,l=a.min.valueOf(),h=a.max.valueOf(),d=t/o*(h-l)+l;return 1==r.flip&&(d=h-t/o*(h-l)),this._isDate(a.min)||this._isDate(a.max)?d=new Date(d):((null==r.dataField||a.useIndeces)&&(d=Math.round(d)),d<a.min&&(d=a.min),d>a.max&&(d=a.max)),d},_onSliderMouseUp:function(t){var i=e.jqx._rangeSelectorTarget;if(i){var s=t.data.groupIndex,r=t.data.swapXY,n=i._sliders[s];if(n&&"resizing"==i._resizeState.state){t.stopImmediatePropagation(),t.stopPropagation(),i._resizeState={},i.host.css("cursor","default");var o=r?"top":"left",a=r?"y":"x",l=n.element.coord()[o],h=l+(r?n.element.height():n.element.width()),d=n.getRect(),c=i._offsetToValue(s,l-d[a]),u=i._offsetToValue(s,h-d[a]);!n.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats.isTimeUnit&&u.valueOf()-c.valueOf()>864e5&&(c.setHours(0,0,0,0),u.setDate(u.getDate()+1),u.setHours(0,0,0,0));var p=i._getXAxis(s);if(p.flip){var f=c;c=u,u=f}for(var m=0;m<i.seriesGroups.length;m++){i._getXAxis(m)==p&&(i._selectorRange[m]={min:c,max:u})}i._isSelectorRefresh=!0;var g=i.enableAnimations;i._raiseEvent("rangeSelectionChanging",{instance:i,minValue:c,maxValue:u}),i.enableAnimations=!1,i.update(),i.enableAnimations=g,i._raiseEvent("rangeSelectionChanged",{instance:i,minValue:c,maxValue:u})}}},_onSliderMouseMove:function(t){var i=t.data.self,s=(t.data.renderTo,t.data.groupIndex),r=i._sliders[s],n=t.data.swapXY;if(r){var o=r.getRect(),a=r.element,l=e.jqx.position(t),h=a.coord(),d=n?"top":"left",c=n?"height":"width",u=n?"y":"x";if("resizing"==i._resizeState.state){if(t.stopImmediatePropagation(),t.stopPropagation(),"left"==i._resizeState.side){var p=Math.round(l[d]-h[d]),f=o[u];if(h[d]+p>=f&&h[d]+p<=f+o[c]){var m=parseInt(a.css(d)),g=Math.max(2,(n?a.height():a.width())-p);a.css(c,g),a.css(d,m+p)}}else if("right"==i._resizeState.side){var v=n?a.height():a.width();p=Math.round(l[d]-h[d]-v),f=o[u];if(h[d]+v+p>=f&&h[d]+p+v<=f+o[c]){g=Math.max(2,v+p);a.css(c,g)}}else if("move"==i._resizeState.side){v=n?a.height():a.width(),m=parseInt(a.css(d)),p=Math.round(l[d]-i._resizeState.startPos);h[d]+p>=o[u]&&h[d]+p+v<=o[u]+o[c]&&(i._resizeState.startPos=l[d],a.css(d,m+p))}var x=parseInt(a.css(d))-r.rect[u],b=x+(n?a.height():a.width());i._setSliderPositions(s,x,b)}else i._testAndSetReadyResize(t)}},_testAndSetReadyResize:function(t){var i=t.data.self,s=t.data.renderTo,r=t.data.groupIndex,n=i._sliders[r],o=t.data.swapXY,a=n.getRect(),l=n.element,h=e.jqx.position(t),d=l.coord(),c=o?"left":"top",u=o?"top":"left",p=o?"width":"height",f=i._isTouchDevice?30:5;h[c]>=d[c]&&h[c]<=d[c]+a[p]?Math.abs(h[u]-d[u])<=f?(s.css("cursor",o?"row-resize":"col-resize"),i._resizeState={state:"ready",side:"left"}):Math.abs(h[u]-d[u]-(o?l.height():l.width()))<=f?(s.css("cursor",o?"row-resize":"col-resize"),i._resizeState={state:"ready",side:"right"}):h[u]+f>d[u]&&h[u]-f<d[u]+(o?l.height():l.width())?(s.css("cursor","pointer"),i._resizeState={state:"ready",side:"move",startPos:h[u]}):(s.css("cursor","default"),i._resizeState={}):(s.css("cursor","default"),i._resizeState={})},_selectorGetSize:function(e){return e.rangeSelector.renderTo?0:e.rangeSelector.size||this._paddedRect.height/3}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleAnnotations:!0,_renderAnnotation:function(e,t,i){var s=this.seriesGroups[e],r=this.renderer;if(!isNaN(e)){var n=this._get([this.getXAxisDataPointOffset(t.xValue,e),t.x]),o=this._get([this.getValueAxisDataPointOffset(t.yValue,e),t.y]),a=this._get([this.getXAxisDataPointOffset(t.xValue2,e),t.x2]),l=this._get([this.getValueAxisDataPointOffset(t.yValue2,e),t.y2]);if(s.polar||s.spider){var h=this.getPolarDataPointOffset(t.xValue,t.yValue,e);!h||isNaN(h.x)||isNaN(h.y)?(n=t.x,o=t.y):(n=h.x,o=h.y)}if(isNaN(o)||isNaN(n))return!1;if("horizontal"==s.orientation){var d=n;n=o,o=d,d=a,a=l,l=d}t.offset&&(isNaN(t.offset.x)||(n+=t.offset.x,a+=t.offset.x),isNaN(t.offset.y)||(o+=t.offset.y,l+=t.offset.y));var c,u,p=this._get([t.width,a-n]),f=this._get([t.height,l-o]);switch(t.type){case"rect":c=r.rect(n,o,p,f);break;case"circle":c=r.rect(n,o,t.radius);break;case"line":c=r.rect(n,o,a,l);break;case"path":c=r.path(t.path)}if(r.attr(c,{fill:t.fillColor,stroke:t.lineColor,opacity:this._get([t.fillOpacity,t.opacity]),"stroke-opacity":this._get([t.lineOpacity,t.opacity]),"stroke-width":t.lineWidth,"stroke-dasharray":t.dashStyle||"none"}),t.text){var m=t.text,g=0,v=0;m.offset&&(isNaN(m.offset.x)||(g+=m.offset.x),isNaN(m.offset.y)||(v+=m.offset.y)),u=r.text(m.value,n+g,o+v,NaN,NaN,m.angle,{},!0===m.clip,m.horizontalAlignment||"center",m.verticalAlignment||"center",m.rotationPoint||"centermiddle"),r.attr(u,{fill:m.fillColor,stroke:m.lineColor,class:m.class})}for(var x=["click","mouseenter","mouseleave"],b=this,w=0;w<x.length;w++){var y=this._getEvent(x[w])||x[w];c&&this.renderer.addHandler(c,y,function(){b._raiseAnnotationEvent(t,y)}),u&&this.renderer.addHandler(u,y,function(){b._raiseAnnotationEvent(t,y)})}}},_raiseAnnotationEvent:function(e,t){this._raiseEvent("annotation_"+t,{annotation:e})}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleWaterfall:!0,_isSummary:function(e,t){for(var i=this.seriesGroups[e],s=0;s<i.series.length;s++)if(void 0!==i.series[s].summary&&(summaryValue=this._getDataValue(t,i.series[s].summary,e),void 0!==summaryValue))return!0;return!1},_applyWaterfall:function(e,t,i,s,r,n,o,a,l){var h=this.seriesGroups[i];if(0==e.length)return e;for(var d=s,c={},u=[],p=void 0,f=[],m=0;m<h.series.length;m++)f.push(this._isSerieVisible(i,m));for(var g={},v=0;v<t;v++){var x=s,b=0,w=this._isSummary(i,v);for(m=0;m<e.length;m++)if(f[m]){var y=0;if(w){y=x==s?r:0,e[m][v].value=c[m],e[m][v].summary=!0,p=e[m][v].value<y,a&&(p=!p);var _=0;_=isNaN(n)?this._getDataPointOffsetDiff(e[m][v].value,y,y,NaN,o,s,a):this._getDataPointOffsetDiff(e[m][v].value+b,0==b?r:b,y||r,n,o,s,a),e[m][v].to=x+(p?_:-_),e[m][v].from=x,l&&(b+=e[m][v].value,x=e[m][v].to)}else{var j=l?-1:m;if(!isNaN(e[m][v].value)){void 0===g[j]&&(y=r,g[j]=!0),p=e[m][v].value<y,a&&(p=!p);var q=NaN;_=NaN;q=l?d:0==v?s:e[m][u[m]].to;_=0;_=isNaN(n)?this._getDataPointOffsetDiff(e[m][v].value,y,y,NaN,o,s,a):this._getDataPointOffsetDiff(e[m][v].value+(isNaN(c[j])?0:c[j]),isNaN(c[j])?r:c[j],y||r,n,o,q,a),e[m][v].to=d=q+(p?_:-_),e[m][v].from=q,isNaN(c[j])?c[j]=e[m][v].value:c[j]+=e[m][v].value,-1==j&&(isNaN(c[m])?c[m]=e[m][v].value:c[m]+=e[m][v].value),l||(u[m]=v)}}}}return e}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNumberInput","",{}),e.extend(e.jqx._jqxNumberInput.prototype,{defineInstance:function(){var t={value:null,decimal:0,min:-99999999,max:99999999,width:200,validationMessage:"Invalid value",height:25,textAlign:"right",readOnly:!1,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:!1,negativeSymbol:"-",disabled:!1,inputMode:"advanced",spinButtons:!1,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:!0,spinMode:"advanced",enableMouseWheel:!0,touchMode:"auto",allowNull:!0,placeHolder:"",changeType:null,template:"",rtl:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"]};return this===e.jqx._jqxNumberInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){var t=this.host.attr("value");null!=t&&(this.decimal=t),null!=this.value&&(this.decimal=this.value);this._createFromInput("jqxNumberInput"),this.render()},_createFromInput:function(t){if("input"==this.element.nodeName.toLowerCase()){this.field=this.element,this.field.className&&(this._className=this.field.className);var i={title:this.field.title};if(this.field.value&&(this.decimal=parseFloat(this.field.value)),this.field.getAttribute("min")){var s=this.field.getAttribute("min");this.min=parseFloat(s)}if(this.field.getAttribute("step")){var r=this.field.getAttribute("step");this.spinButtonsStep=parseFloat(r)}if(this.field.getAttribute("max")){var n=this.field.getAttribute("max");this.max=parseFloat(n)}this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t;var o=e("<div></div>",i);o[0].style.cssText=this.field.style.cssText,this.width||(this.width=e(this.field).width()),this.height||(this.height=e(this.field).outerHeight()),e(this.field).hide().after(o);var a=this.host.data();if(this.host=o,this.host.data(a),this.element=o[0],this.element.id=this.field.id,this.field.id=i.id,this._className&&(this.host.addClass(this._className),e(this.field).removeClass(this._className)),this.field.tabIndex){var l=this.field.tabIndex;this.field.tabIndex=-1,this.element.tabIndex=l}}},_doTouchHandling:function(){var e=this,t=e.savedValue;if(e.parsing||(e.parsing=!0),e.parsing){e.numberInput.val()&&0==e.numberInput.val().indexOf("-")?e.setvalue("negative",!0):e.setvalue("negative",!1);for(var i=e.numberInput.val(),s=0;s<i.length-1;s++){var r=i.substring(s,s+1);if(isNaN(parseFloat(r))&&-1===e.symbol.toString().indexOf(r)&&"%"!=r&&"$"!=r&&"."!=r&&","!=r&&"-"!=r)return e.numberInput[0].value=t,void(e.parsing=!1)}e.ValueString=e.GetValueString(e.numberInput.val(),e.decimalSeparator,""!=e.decimalSeparator),e._parseDecimalInSimpleMode(),e.decimal=e.ValueString,e.getvalue("negative")&&(e.decimal="-"+e.ValueString),e.parsing=!1}},render:function(){this.host.attr({role:"spinbutton"}),this.host.attr("data-role","input"),e.jqx.aria(this),e.jqx.aria(this,"aria-multiline",!1);var t=this;(this.officeMode||this.theme&&-1!=this.theme.indexOf("office"))&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),(e.jqx.mobile.isTouchDevice()||!0===this.touchMode)&&(this.inputMode="textbox",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons?this._spinButtons():(this.numberInput=e("<input style='border:none;' autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.numberInput.attr("placeholder",this.placeHolder);var i=this.host.attr("name");(i&&this.numberInput.attr("name",i),this.host.attr("tabindex")&&(this.numberInput.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")),e.jqx.mobile.isTouchDevice()||!0===this.touchMode||"textbox"==this.inputMode)&&((t=this).savedValue="",this.addHandler(this.numberInput,"focus",function(){t.savedValue=t.numberInput[0].value}),this.addHandler(this.numberInput,"change",function(){t._doTouchHandling()}));e.data(this.host[0],"jqxNumberInput").jqxNumberInput=this;t=this;this.host.parents("form").length>0&&this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){t.setDecimal(0)},10)}),this.propertyChangeMap.disabled=function(e,t,i,r){r?(e.numberInput.addClass(s.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!0)):(e.host.removeClass(s.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!1)),e.spinButtons&&e.host.jqxRepeatButton&&(e.upbutton.jqxRepeatButton({disabled:r}),e.downbutton.jqxRepeatButton({disabled:r}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1;this.element.id,this.element;var s=this;this.oldValue=this._value(),this.items=new Array;this.value;var r=this.decimal;this._initializeLiterals(),this._render(),this.setDecimal(r);t=this;setTimeout(function(){},100),this._addHandlers(),e.jqx.utilities.resize(this.host,function(){t._render()})},refresh:function(e){e||this._render()},wheel:function(e,t){if(t.enableMouseWheel){t.changeType="mouse";var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation(),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return e<0?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var t=this;this.addHandler(this.numberInput,"paste",function(i){var s=t._selection();i.preventDefault(),i.originalEvent.clipboardData?content=(i.originalEvent||i).clipboardData.getData("text/plain"):window.clipboardData&&(content=window.clipboardData.getData("Text")),this.selectedText=content,e.data(document.body,"jqxSelection",this.selectedText),"simple"!=t.inputMode?t._pasteSelectedText():t.val(content),setTimeout(function(){t._setSelectionStart(s.start)})}),this.addHandler(this.numberInput,"mousedown",function(e){return t._raiseEvent(2,e)}),this._mousewheelfunc=this._mousewheelfunc||function(e){if(!t.editcell)return t.wheel(e,t),!1},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var i="";this.addHandler(this.numberInput,"focus",function(s){e.data(t.numberInput,"selectionstart",t._selection().start),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.addClass(t.toThemeProperty("jqx-numberinput-focus")),i=t.numberInput.val(),t._savedValue=t.decimal}),this.addHandler(this.numberInput,"blur",function(s){if("simple"==t.inputMode&&t._exitSimpleInputMode(s,t,!1,i),t.autoValidate){var r=parseFloat(t.decimal);t.getvalue("negative")&&t.decimal>0&&(r=-parseFloat(t.decimal)),r>t.max&&(t._disableSetSelection=!0,t.setDecimal(t.max),t._disableSetSelection=!1),r<t.min&&(t._disableSetSelection=!0,t.setDecimal(t.min),t._disableSetSelection=!1)}return t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.removeClass(t.toThemeProperty("jqx-numberinput-focus")),t.numberInput.val()!=i&&(t._raiseEvent(7,s),e.jqx.aria(t,"aria-valuenow",t.decimal),t.element.value=t.decimal),!0}),this.addHandler(this.numberInput,"mouseup",function(e){return t._raiseEvent(3,e)}),this.addHandler(this.numberInput,"keydown",function(e){return t.changeType="keyboard",t._raiseEvent(4,e)}),this.addHandler(this.numberInput,"keyup",function(e){return t._raiseEvent(5,e)}),this.addHandler(this.numberInput,"keypress",function(e){return t._raiseEvent(6,e)})},focus:function(){try{this.numberInput.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.numberInput,"mousedown"),e.jqx.mobile.isOperaMiniMobileBrowser()&&this.removeHandler(e(document),"click."+this.element.id,this._exitSimpleInputMode,this),this.removeHandler(this.numberInput,"paste"),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(!this.host.jqxRepeatButton)throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.");this.numberInput?this.numberInput.css("float","left"):(this.numberInput=e("<input autocomplete='off' style='border: none; position: relative; float: left;' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer&&(this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.spincontainer.remove()),this.spincontainer=e('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>'),this.rtl&&(this.spincontainer.css("float","right"),this.numberInput.css("float","right"),this.spincontainer.css("left","-1px")),this.host.append(this.spincontainer),this.upbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"}),this.template&&(this.upbutton.addClass(this.toThemeProperty("jqx-"+this.template)),this.downbutton.addClass(this.toThemeProperty("jqx-"+this.template)));var t=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",function(e){t.disabled||(t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")))}),this.addHandler(this.upbutton,"mouseup",function(e){t.disabled||(t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")))}),this.removeHandler(e(document),"mouseup."+this.element.id),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))}),this.addHandler(this.downbutton,"mousedown",function(i){if(!t.disabled)return e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),i.preventDefault(),i.stopPropagation(),!1}),this.addHandler(this.upbutton,"mousedown",function(i){if(!t.disabled)return e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),i.preventDefault(),i.stopPropagation(),!1}),this.addHandler(this.upbutton,"mouseenter",function(e){t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.upbutton,"mouseleave",function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.downbutton,"mouseenter",function(e){t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.addHandler(this.downbutton,"mouseleave",function(e){t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.rtl?this.spincontainer.css("border-right-width","1px"):this.spincontainer.css("border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"));t=this;this._upArrow.hover(function(){t.disabled||t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))},function(){t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this._downArrow.hover(function(){t.disabled||t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))},function(){t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))});var i=e.jqx.mobile.isTouchDevice(),s="click";i&&(s=e.jqx.mobile.getTouchEventName("touchstart")),i&&(this.addHandler(this.downbutton,"click",function(e){t.spinDown()}),this.addHandler(this.upbutton,"click",function(e){t.spinUp()})),this.addHandler(this.downbutton,s,function(s){return i?(s.preventDefault(),s.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinDown(),!1}),this.addHandler(this.upbutton,s,function(s){return i?(s.preventDefault(),s.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinUp(),!1})},spinDown:function(){var t=this,i=this.decimal;if("none"!=t.spinMode)if(null!=this.decimal){var s=(m=this.getvalue("negative"))?-1:0;if((e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling(),!t.disabled){var r=this._selection(),n=this.decimal;if((d=this.getDecimal())<this.min)return d=this.min,this.setDecimal(this.min),this._setSelectionStart(r.start),void this.spinDown();if(d>this.max)return d=this.max,this.setDecimal(this.max),this._setSelectionStart(r.start),void this.spinDown();t.spinButtonsStep<0&&(t.spinButtonsStep=1);var o=s+(parseInt(t.decimal)-t.spinButtonsStep).toString().length<=t.digits;if("advanced"!=t.spinMode){if(d-t.spinButtonsStep>=t.min&&o){var a=1;for(u=0;u<t.decimalDigits;u++)a*=10;var l=a*d-a*t.spinButtonsStep;l/=a,l=this._parseDecimalValueToEditorValue(l),t.setDecimal(l)}}else{var h=this._getspindecimal(),d=(this._getSeparatorPosition(),parseFloat(h.decimal));t.spinButtonsStep<0&&(t.spinButtonsStep=1);o=s+(parseInt(d)-t.spinButtonsStep).toString().length<=t.digits,a=1;if(-1!=(p=h.decimal.indexOf("."))){for(var c=h.decimal.length-p-1,u=(a=1,0);u<c;u++)a*=10;var p;-1==(p=(d=(d-=new Number(t.spinButtonsStep/a)).toFixed(c)).toString().indexOf("."))&&(d=d.toString()+".");var f=d.toString()+h.afterdecimal;(f=(f=new Number(f)).toFixed(t.decimalDigits))>=t.min&&(f=this._parseDecimalValueToEditorValue(f),t.setDecimal(f))}else if(d-t.spinButtonsStep>=t.min&&o){l=a*d-a*t.spinButtonsStep;(f=(l/=a).toString()+h.afterdecimal)>=t.min&&(f=this._parseDecimalValueToEditorValue(f),t.setDecimal(f))}}if(null==f||"simple"!=this.inputMode)return this._setSelectionStart(r.start),t.savedValue=t.numberInput[0].value,i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void e.jqx.aria(self,"aria-valuenow",this.decimal);f=this.decimal.toString();var m=this.getvalue("negative");0==s&&m?this._setSelectionStart(r.start+1):null==f||null!=n&&n.toString().length!=f.length?m?this._setSelectionStart(r.start+1):this._setSelectionStart(r.start-1):this._setSelectionStart(r.start),i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),e.jqx.aria(self,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_getspindecimal:function(){var e=this._selection(),t="",i=(this._getSeparatorPosition(),this._getVisibleItems()),s=this._getHiddenPrefixCount(),r=this.numberInput.val();this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection());for(var n="advanced"!=this.inputMode,o=0;o<e.start;o++)if(n){var a=r.substring(o,o+1);!isNaN(parseInt(a))&&(t+=a),a==this.decimalSeparator&&(t+=a)}else i[o].canEdit&&i[o].character!=this.promptChar?t+=i[o].character:i[o].canEdit||-1==this.decimalSeparatorPosition||i[o]!=i[this.decimalSeparatorPosition-s]||(0==t.length&&(t="0"),t+=i[o].character);var l="";for(o=e.start;o<i.length;o++)if(n){a=r.substring(o,o+1);!isNaN(parseInt(a))&&(l+=a),a==this.decimalSeparator&&(l+=a)}else i[o].canEdit&&i[o].character!=this.promptChar?l+=i[o].character:i[o].canEdit||-1==this.decimalSeparatorPosition||i[o]!=i[this.decimalSeparatorPosition-s]||(l+=i[o].character);return{decimal:this.getvalue("negative")?"-"+this._parseDecimalValue(t).toString():this._parseDecimalValue(t).toString(),afterdecimal:this._parseDecimalValue(l)}},_parseDecimalValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>=0)return e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalValueToEditorValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(".");if(t>=0)return e.toString().substring(0,t)+this.decimalSeparator+e.toString().substring(t+1)}return e},spinUp:function(){var t=this,i=this.decimal;if("none"!=t.spinMode)if(null!=this.decimal){(e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling();var s=(m=this.getvalue("negative"))?-1:0;if(!t.disabled){var r=this._selection(),n=t.decimal;if((c=t.getDecimal())<this.min)return c=this.min,this.setDecimal(this.min),this._setSelectionStart(r.start),void this.spinUp();if(c>this.max)return c=this.max,this.setDecimal(this.max),this._setSelectionStart(r.start),void this.spinUp();t.spinButtonsStep<0&&(t.spinButtonsStep=1);var o=s+(parseInt(t.decimal)+t.spinButtonsStep).toString().length<=t.digits;if("advanced"!=t.spinMode){if(c+t.spinButtonsStep<=t.max&&o){for(var a=1,l=0;l<t.decimalDigits;l++)a*=10;var h=a*c+a*t.spinButtonsStep;h/=a,h=this._parseDecimalValueToEditorValue(h),t.setDecimal(h)}}else{var d=this._getspindecimal(),c=(this._getSeparatorPosition(),parseFloat(d.decimal));t.spinButtonsStep<0&&(t.spinButtonsStep=1);o=s+(parseInt(c)+t.spinButtonsStep).toString().length<=t.digits,a=1;if(-1!=(p=d.decimal.indexOf("."))){var u=d.decimal.length-p-1;for(a=1,l=0;l<u;l++)a*=10;var p;-1==(p=(c=(c+=new Number(t.spinButtonsStep/a)).toFixed(u)).toString().indexOf("."))&&(c=c.toString()+".");var f=c.toString()+d.afterdecimal;f=(f=new Number(f)).toFixed(t.decimalDigits),new Number(f).toFixed(t.decimalDigits)<=t.max?(f=this._parseDecimalValueToEditorValue(f),t.setDecimal(f)):f=void 0}else if(c+t.spinButtonsStep<=t.max&&o){h=a*c+a*t.spinButtonsStep,f=(h/=a).toString()+d.afterdecimal;new Number(f).toFixed(t.decimalDigits)<=t.max?(f=this._parseDecimalValueToEditorValue(f),m&&-1==f.indexOf("-")&&"-0"!=d.decimal&&(f="-"+f),t.setDecimal(f)):f=void 0}}if(null==f||"simple"!=this.inputMode)return this._setSelectionStart(r.start),t.savedValue=t.numberInput[0].value,i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void e.jqx.aria(self,"aria-valuenow",this.decimal);f=this.decimal.toString();var m=this.getvalue("negative");-1!=s||m?null==f||null!=n&&n.toString().length!=f.length?m?this._setSelectionStart(r.start):this._setSelectionStart(1+r.start):this._setSelectionStart(r.start):this._setSelectionStart(-1+r.start),i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),e.jqx.aria(self,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_exitSimpleInputMode:function(t,i,s,r){if(null==i&&(i=t.data),null!=i){if(null==s){if(null!=t.target&&null!=i.element&&(null!=t.target.id&&t.target.id.toString().length>0&&i.host.find("#"+t.target.id).length>0||t.target==i.element))return;var n=i.host.offset(),o=n.left,a=n.top,l=i.host.width(),h=i.host.height(),d=e(t.target).offset();if(d.left>=o&&d.left<=o+l&&d.top>=a&&d.top<=a+h)return}if(e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!0),!i.disabled&&!i.readOnly)if(null!=e.data(i.numberInput,"simpleInputMode"))return e.data(i.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}},_getDecimalInSimpleMode:function(){var e=this.decimal;if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>0)e=e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalInSimpleMode:function(e){var t=this.getvalue("negative"),i=this.ValueString;if(null==i&&(i=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var s=i.toString().indexOf(".");if(s>0)i=i.toString().substring(0,s)+this.decimalSeparator+i.toString().substring(s+1)}var r=t?"-":"";"left"==this.symbolPosition&&(r+=this.symbol);var n=this.digits%this.groupSize;0==n&&(n=this.groupSize);var o=i.toString();o.indexOf("-")>=0&&(o=o.substring(o.indexOf("-")+1)),r+=o,"right"==this.symbolPosition&&(r+=this.symbol),0!=e&&this.numberInput.val(r)},_enterSimpleInputMode:function(t,i){null==i&&(i=t.data);var s=this._selection();if(null!=i){var r=i.getvalue("negative"),n=i.decimal;r&&n>0&&(n=-n),i.numberInput.val(n),e.data(i.numberInput,"simpleInputMode",!0),e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(s.start)}},setvalue:function(e,t){void 0!==this[e]&&("decimal"==e?this._setDecimal(t):(this[e]=t,this.propertyChangedHandler(this,e,t,t)))},getvalue:function(e){return"decimal"==e&&null!=this.negative&&1==this.negative?-Math.abs(this[e]):e in this?this[e]:null},_getString:function(){for(var e="",t=0;t<this.items.length;t++){e+=this.items[t].character}return e},_literal:function(e,t,i,s){return{character:e,regex:t,canEdit:i,isSeparator:s}},_initializeLiterals:function(){if("textbox"!=this.inputMode){for(var e=0,t=this.negativeSymbol.length,i=0;i<t;i++){var s=this.negativeSymbol.substring(i,i+1),r="",n=!1,o=null;o=this.negative?this._literal(s,r,n,!1):this._literal("",r,n,!1),this.items[e]=o,e++}var a=this.symbol.length;if("left"==this.symbolPosition)for(i=0;i<a;i++){s=this.symbol.substring(i,i+1),r="",n=!1,o=this._literal(s,r,n,!1);this.items[e]=o,e++}var l=this.digits%this.groupSize;0==l&&(l=this.groupSize);for(i=0;i<this.digits;i++){s=this.promptChar,r="\\d",n=!0,o=this._literal(s,r,n,!1);if(this.items[e]=o,e++,i<this.digits-1&&null!=this.groupSeparator&&this.groupSeparator.length>0){if(0==--l){l=this.groupSize;var h=this._literal(this.groupSeparator,"",!1,!1);this.items[e]=h,e++}}else i==this.digits-1&&(o.character=0)}if(this.decimalSeparatorPosition=-1,null!=this.decimalDigits&&this.decimalDigits>0){0==(s=this.decimalSeparator).length&&(s=".");o=this._literal(s,"",!1,!0);this.items[e]=o,this.decimalSeparatorPosition=e,e++;for(i=0;i<this.decimalDigits;i++){r="\\d";var d=this._literal(0,r,!0,!1);this.items[e]=d,e++}}if("right"==this.symbolPosition)for(i=0;i<a;i++){s=this.symbol.substring(i,i+1),r="",n=!1,o=this._literal(s,r,n);this.items[e]=o,e++}}},_match:function(e,t){return new RegExp(t,"i").test(e)},_raiseEvent:function(t,i){var s=this.events[t],r={};if(r.owner=this,"none"==this.host.css("display"))return!0;var n=i.charCode?i.charCode:i.keyCode?i.keyCode:0,o=!0,a=this.readOnly;if((3==t||2==t)&&!this.disabled){if("simple"==this.inputMode||"textbox"==this.inputMode)return!0;this._handleMouse(i)}if(0==t){var l=this.getvalue("decimal");this.max<l||this.min>l?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))}var h=new e.Event(s);h.owner=this,r.value=this.getvalue("decimal"),r.text=this.numberInput.val(),h.args=r,7==t&&(r.type=this.changeType,this.changeType=null),null!=s&&4!=t&&5!=t&&6!=t&&(o=this.host.trigger(h));var d=this;if("textbox"==this.inputMode)return o;if("simple"!=this.inputMode){if(4==t){if(a||this.disabled)return!1;o=d._handleKeyDown(i,n)}else if(5==t)(a||this.disabled)&&(o=!1);else if(6==t){if(a||this.disabled)return!1;o=d._handleKeyPress(i,n)}}else if(4==t||5==t||6==t){if(e.jqx.mobile.isTouchDevice()||!0===this.touchMode)return!0;if(a||this.disabled)return!1;var c=String.fromCharCode(n),u=(parseInt(c),!0);if(i.ctrlKey||i.shiftKey||i.metaKey||n>=65&&n<=90&&(u=!1),6==t&&null!=e.jqx.browser.opera&&8==n)return!1;if(u){if(4==t&&(u=d._handleSimpleKeyDown(i,n)),189==n||45==n||109==n||173==n){var p=d._selection();if(4==t)0==d.getvalue("negative")?d.setvalue("negative",!0):d.setvalue("negative",!1),d.decimal=d.ValueString,d._parseDecimalInSimpleMode(),d._setSelectionStart(p.start),u=!1,d._raiseEvent(0,d.value),d._raiseEvent(1,d.numberInput.val())}var f=r.ctrlKey||r.metaKey;if(!e.jqx.browser.msie)if(f&&99==n||f&&67==n||f&&122==n||f&&90==n||f&&118==n||f&&86==n||i.shiftKey&&45==n)return(e.jqx.browser.webkit||e.jqx.browser.chrome)&&d._handleSimpleKeyDown(i,n),67==n;if(f&&97==n||f&&65==n)return!0;if(6==t&&u)return this._isSpecialKey(n)}return u}return o},GetSelectionInValue:function(e,t,s,r){var n=0;for(i=0;i<t.length&&!(i>=e);i++){var o=t.substring(i,i+1);(!isNaN(parseInt(o))||r&&t.substring(i,i+1)==s)&&n++}return n},GetSelectionLengthInValue:function(e,t,s,r){var n=0;for(i=0;i<s.length&&!(i>=e+t);i++){var o=s.substring(i,i+1),a=!isNaN(parseInt(o));(t>0&&i>=e&&a||i>=e&&s[i].toString()==r)&&n++}return n},GetInsertTypeByPositionInValue:function(e,t,i,s){var r="before",n=this.GetValueString(i,t,s);return e>this.GetDigitsToSeparator(0,n,t)&&(r="after"),r},RemoveRange:function(e,t,i,s,r,n){var o=this.digits,a=e,l=t,h=0,d=(this.decimal,this._selection(),""!=(s=this.decimalSeparator));if(0==l&&this.ValueString.length<this.decimalPossibleChars-1)return h;var c=this.GetSeparatorPositionInText(s,i);r||(c=this.GetSeparatorPositionInText(s,i)),c<0&&!d&&i.length>1&&(c=i.length),-1==c&&(c=i.length);var u=d?1:0;t<2&&1==n&&(this.ValueString.length-this.decimalDigits-u==o&&e+t<c&&l++);for(var p="",f=0;f<i.length;f++){if(f<a||f>=a+l)p+=i.substring(f,f+1);else if((m=i.substring(f,f+1))!=s){var m=i.substring(f,f+1);if(!(this.symbol&&""!=this.symbol&&this.symbol.indexOf(m)>=0))if(f>c)p+="0";else{m=i.substring(f,f+1);!isNaN(parseInt(m))&&h++}}else p+=s}0==p.length&&(p="0"),r?this.numberInput.val(p):this.ValueString=p;var g=p.substring(0,1);g==s&&isNaN(parseInt(g))&&(p="0"+p);return this.ValueString=this.GetValueString(p,s,d),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(a),h},InsertDigit:function(e,t){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var i=1+this.digits,s=this._selection(),r=this.getvalue("negative"),n=!1;0==s.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(s.start+1),s=this._selection(),n=!0),(r&&n||r&&!n&&0==s.start)&&(this._setSelectionStart(s.start+1),s=this._selection());var o=this.numberInput.val().substring(s.start,s.start+1),a=this.numberInput.val(),l=this.decimalSeparator,h=""!=l&&this.decimalDigits>0;if(o==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(a,l,h),this.ValueString.length>=i)return}this.ValueString=this.GetValueString(a,l,h),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits));var d=this.ValueString;this.decimalDigits>0&&t>=d.length&&(t=d.length-1);var c="";t<d.length&&(c=d.substring(t,t+1));var u=!1;"after"==this.GetInsertTypeByPositionInValue(t,l,a,h)&&(u=!0);var p=h?1:0;c!=l&&this.ValueString.length-this.decimalDigits-p>=i-1&&(u=!0),"0"===c&&1===this.ValueString.length&&0===this.decimalDigits&&(u=!0);var f=h?1:0;if(!(!u&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+f)){if(u&&c!=l){if((x=d.substring(0,t)).length==d.length&&this.ValueString.length>=this.digits+this.decimalDigits+f)return;var m=e,g="";t+1<d.length&&(g=d.substring(t+1));var v=x+m+g;this.ValueString=v}else{var x;v=(x=d.substring(0,t))+(m=e)+(g=d.substring(t));"0"==d.substring(0,1)&&d.substring(1,2)==l&&(v=m+d.substring(1),c==l&&(this._setSelectionStart(s.start-1),s=this._selection())),this.ValueString=v}this.decimal=r?-this.ValueString:this.ValueString,this._parseDecimalInSimpleMode();var b=s.start;b+=1,this._setSelectionStart(b),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(e,t,i){var s=this.GetSeparatorPositionInText(t,e),r=e.subString(0,s);return this.GetValueString(r,t,i)},GetSeparatorPositionInText:function(e,t){var s=-1;for(i=0;i<t.length;i++)if(t.substring(i,i+1)==e){s=i;break}return s},GetValueString:function(e,t,i){for(var s="",r=0;r<e.length;r++){var n=e.substring(r,r+1);!isNaN(parseInt(n))&&(s+=n),n==t&&(s+=t)}return s},Backspace:function(){var e=this._selection(),t=this._selection(),i=this.numberInput.val();if(0!=e.start||0!=e.length){this.isBackSpace=!0;var s=i.substring[(e.start,e.start+1)];isNaN(parseInt(s));if(e.start>0&&0==e.length){this._setSelectionStart(e.start-1);e=this._selection()}this.Delete(),this._setSelectionStart(t.start-1),this.isBackSpace=!1}},Delete:function(e){var t=this._selection(),i=this.numberInput.val();if(0===t.start&&"-"==i.substring(0,1)){this.setvalue("negative",!1);t=this._selection(),i=this.numberInput.val()}var s=t.start,r=t.length;r=Math.max(r,1),this.ValueString=this.GetValueString(i,this.decimalSeparator,""!=this.decimalSeparator),s>this.ValueString.indexOf(this.decimalSeparator)&&this.decimalDigits>0&&s++;var n=0;this.symbol&&("left"==this.symbolPosition&&n--,this.negative&&n--),this.RemoveRange(t.start+n,r,this.ValueString,".",!1);var o=this.ValueString.substring(0,1);!isNaN(parseInt(o))||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(s),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(e){var t=this._selection(),i=this.numberInput.val();if(!(t.start==i.length&&null!=this.decimal&&this.decimalDigits>0)){this.decimal;var s=this.decimalSeparator;this.ValueString=this.GetValueString(i,s,""!=s);var r=this.GetSelectionInValue(t.start,i,s,""!=s),n=this.GetSelectionLengthInValue(t.start,t.length,i,s);this.GetDigitsToSeparator(0,this.ValueString,s);if(this.decimalDigits>0&&r>=this.ValueString.length&&r--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),this.ValueString=this.ValueString.replace(".",s),this.RemoveRange(t.start,n,this.ValueString,s,!1,!0),void this.InsertDigit(e,0,t);this.RemoveRange(t.start,n,this.ValueString,s,!1,!0),this.InsertDigit(e,r,t)}},GetDigitsToSeparator:function(e,t,s){if(null==s&&(s="."),t.indexOf(s)<0)return t.length;for(i=0;i<t.length;i++)if(t.substring(i,i+1)==s){e=i;break}return e},_handleSimpleKeyDown:function(t,i){var s,r=this._selection(),n=t.ctrlKey||t.metaKey;if((8==i||46==i)&&n)return this.setDecimal(null),!1;if(r.start>=0&&r.start<this.items.length)var o=String.fromCharCode(i);27===i&&(this.setDecimal(this._savedValue),-1!=(s=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(s),t.preventDefault());if(this.rtl&&37==i){var a=(l=t.shiftKey)?1:0;return l?this._setSelection(r.start+1-a,r.start+r.length+1):this._setSelection(r.start+1-a,r.start+1),!1}if(this.rtl&&39==i){var l;a=(l=t.shiftKey)?1:0;return l?this._setSelection(r.start-1,r.length+a+r.start-1):this._setSelection(r.start-1,r.start-1),!1}if(8==i)return this.Backspace(),!1;if(190==i||110==i)return-1!=(s=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(s+1),!1;if(188==i){var h=this.numberInput.val();for(u=r.start;u<h.length;u++)if(h[u]==this.groupSeparator){this._setSelectionStart(1+u);break}return!1}if((n=t.ctrlKey||t.metaKey)&&99==i||n&&67==i){r=this._selection();var d="",c=this.numberInput.val();if(r.start>0||r.length>0)for(var u=r.start;u<r.end;u++)d+=c.substring(u,u+1);if(e.data(document.body,"jqxSelection",d),e.jqx.browser.msie)window.clipboardData.setData("Text",d);else{var p=this,f=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');f.val(d),e("body").append(f),f.select(),setTimeout(function(){document.designMode="off",f.select(),f.remove(),p.focus()},100)}return this.savedText=d,!0}if(n&&122==i||n&&90==i)return!1;if(n&&118==i||n&&86==i||t.shiftKey&&45==i)return e.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),null!=this.savedText&&this.savedText.length>0?this.val(this.savedText):this.val(e.data(document.body,"jqxSelection")),!1;o=String.fromCharCode(i);var m=parseInt(o);if(i>=96&&i<=105&&(m=i-96,i-=48),!isNaN(m)){p=this;return this.insertsimple(m),!1}if(46==i)return this.Delete(),!1;if(38==i)return this.spinUp(),!1;if(40==i)return this.spinDown(),!1;var g=this._isSpecialKey(i);return!e.jqx.browser.mozilla||g},_getEditRange:function(){var e=0,t=0;for(i=0;i<this.items.length;i++)if(this.items[i].canEdit){e=i;break}for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit){t=i;break}return{start:e,end:t}},_getVisibleItems:function(){var e=new Array,t=0;for(i=0;i<this.items.length;i++)this.items[i].character.toString().length>0&&(e[t]=this.items[i],t++);return e},_hasEmptyVisibleItems:function(){var e=this._getVisibleItems();for(i=0;i<e.length;i++)if(e[i].canEdit&&e[i].character==this.promptChar)return!0;return!1},_getFirstVisibleNonEmptyIndex:function(){var e=this._getVisibleItems();for(i=0;i<e.length;i++)if(e[i].canEdit&&e[i].character!=this.promptChar)return i},_handleMouse:function(e,t){var i=this._selection();if(i.length<=1){var s=this._getFirstVisibleNonEmptyIndex();i.start<s&&this._setSelectionStart(s)}},_insertKey:function(t){this.numberInput[0].focus();var s=String.fromCharCode(t),r=parseInt(s);if(!isNaN(r)){var n=0;for(i=0;i<this.items.length;i++)0==this.items[i].character.length&&n++;var o=this._selection(),a=this;if(o.start>=0&&o.start<=this.items.length){var l=!1,h=this._getFirstVisibleNonEmptyIndex();o.start<h&&0==o.length&&(isNaN(s)&&" "!=s||(this._setSelectionStart(h),o=this._selection()));this._getFirstEditableItemIndex();var d=this._getLastEditableItemIndex(),c=this._getVisibleItems();e.each(c,function(e,t){if(!(o.start>e&&e!=c.length-1)){var i=c[e];if(e>d&&(i=c[d]),!isNaN(s)&&" "!=s&&i.canEdit){var r=a._getSeparatorPosition();if(a._match(s,i.regex)){if(!l&&o.length>0){for(j=o.start+n;j<o.end+n;j++)a.items[j].canEdit&&(j>r?a.items[j].character="0":a.items[j].character=a.promptChar);var h=a._getString();l=!0}r=a._getSeparatorPosition();var u=a._hasEmptyVisibleItems();if(null==a.decimal&&(o.start=r-1,o.start<0&&(o.start=0),o.end=o.start),o.start<=r&&u){var f=e;-1==a.decimalSeparatorPosition&&o.start==r&&(f=e+1),null==a.decimal&&(f=o.start);var m="";for(p=0;p<f;p++)c[p].canEdit&&c[p].character!=a.promptChar&&(m+=c[p].character);m+=s;var g=a.decimal<1?1:0;for(o.start==r&&-1!=a.decimalSeparatorPosition&&(m+=a.decimalSeparator,g=0),p=f+g;p<c.length;p++)c[p].character==a.decimalSeparator&&c[p].isSeparator?m+=c[p].character:c[p].canEdit&&c[p].character!=a.promptChar&&(m+=c[p].character);"."!=a.decimalSeparator&&(m=a._parseDecimalValue(m)),m=parseFloat(m).toString(),m=(m=new Number(m)).toFixed(a.decimalDigits),"."!=a.decimalSeparator&&(m=a._parseDecimalValueToEditorValue(m)),a.setvalue("decimal",m);h=a._getString();if(o.end<r?a._setSelectionStart(o.end+g):a._setSelectionStart(o.end),o.length>=1&&a._setSelectionStart(o.end),o.length==a.numberInput.val().length){var v=a._moveCaretToDecimalSeparator(),x=a.decimalSeparatorPosition>=0?1:0;a._setSelectionStart(v-x)}}else if(o.start<r||o.start>r){if(a.numberInput.val().length==o.start&&-1!=a.decimalSeparatorPosition)return!1;if(a.numberInput.val().length==o.start&&-1==a.decimalSeparatorPosition&&!u)return!1;m="";var b=!1;for(p=0;p<e;p++)c[p].canEdit&&c[p].character!=a.promptChar&&(m+=c[p].character),c[p].character==a.decimalSeparator&&c[p].isSeparator&&(m+=c[p].character,b=!0);m+=s;g=a.decimal<1?1:0;for(b||o.start!=r-1||(m+=a.decimalSeparator,b=!0),p=e+1;p<c.length;p++)!b&&c[p].character==a.decimalSeparator&&c[p].isSeparator?m+=c[p].character:c[p].canEdit&&c[p].character!=a.promptChar&&(m+=c[p].character);a.setvalue("decimal",m);h=a._getString();if(a.decimalSeparatorPosition<0&&i==c[d])return a._setSelectionStart(e),!1;var w=h.indexOf(a.symbol);if(w<=(a.getvalue("negative")?1:0)&&(w=h.length),o.start<w?a._setSelectionStart(e+1):a._setSelectionStart(e),o.length,o.length==a.numberInput.val().length){v=a._moveCaretToDecimalSeparator();a._setSelectionStart(v-1)}}return!1}}}})}}},_handleKeyPress:function(t,i){var s=this._selection(),r=t.ctrlKey||t.metaKey;if(r&&97==i||r&&65==i)return!0;if(8==i)return s.start>0&&this._setSelectionStart(s.start),!1;if(46==i)return s.start<this.items.length&&this._setSelectionStart(s.start),!1;e.jqx.browser.mozilla||(45!=i&&173!=i&&109!=i&&189!=i||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)));return e.jqx.browser.msie&&this._insertKey(i),this._isSpecialKey(i)},_deleteSelectedText:function(){var e=this._selection(),t="",s=this._getSeparatorPosition(),r=this._getVisibleItems(),n=this._getHiddenPrefixCount();for(this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection()),i=0;i<e.start;i++)r[i].canEdit&&r[i].character!=this.promptChar?t+=r[i].character:r[i].canEdit||-1==this.decimalSeparatorPosition||r[i]!=r[this.decimalSeparatorPosition-n]||(0==t.length&&(t="0"),t+=r[i].character);for(i=e.start;i<e.end;i++)i>s&&-1!=this.decimalSeparatorPosition?r[i].canEdit&&r[i].character!=this.promptChar&&(t+="0"):r[i].canEdit||-1==this.decimalSeparatorPosition||r[i]!=r[this.decimalSeparatorPosition-n]||(0==t.length&&(t="0"),t+=r[i].character);for(i=e.end;i<r.length;i++)r[i].canEdit&&r[i].character!=this.promptChar?t+=r[i].character:r[i].canEdit||-1==this.decimalSeparatorPosition||r[i]!=r[this.decimalSeparatorPosition-n]||(0==t.length&&(t="0"),t+=r[i].character);return this.setvalue("decimal",t),e.length>0},_restoreInitialState:function(){var e=parseInt(this.decimalDigits);for(e>0&&(e+=2),k=this.items.length-1;k>this.items.length-1-e&&this.items[k];k--)this.items[k].canEdit&&this.items[k].character==this.promptChar&&(this.items[k].character=0)},clear:function(){this.setDecimal(0)},clearDecimal:function(){if("textbox"!=this.inputMode){for(var e=0;e<this.items.length;e++)this.items[e].canEdit&&(this.items[e].character=this.promptChar);this._restoreInitialState()}else this.numberInput.val()},_saveSelectedText:function(){var t=this._selection(),s="",r=this._getVisibleItems();if(t.start>0||t.length>0)for(i=t.start;i<t.end;i++)r[i].canEdit&&r[i].character!=this.promptChar?s+=r[i].character:r[i].isSeparator&&(s+=r[i].character);return e.jqx.browser.msie&&window.clipboardData.setData("Text",s),s},_pasteSelectedText:function(){var t=this._selection();if(this.selectedText=e.data(document.body,"jqxSelection"),window.clipboardData){var i=window.clipboardData.getData("Text");if(i!=this.selectedText&&i.length>0&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||null==this.selectedText))return}t.start,this._getVisibleItems();if(null!=this.selectedText)for(var s=0;s<this.selectedText.length;s++){var r=parseInt(this.selectedText[s]);if(!isNaN(r)){var n=48+r;this._insertKey(n)}}},_getHiddenPrefixCount:function(){var e=0;if(this.negative||e++,"left"==this.symbolPosition)for(i=0;i<this.symbol.length;i++)""==this.symbol.substring(i,i+1)&&e++;return e},_getEditableItem:function(){var e=this._selection();for(i=0;i<this.items.length;i++)if(i<e.start&&this.items[i].canEdit&&this.items[i].character!=this.promptChar)return this.items[i];return null},_getEditableItems:function(){var e=new Array,t=0;for(i=0;i<this.items.length;i++)this.items[i].canEdit&&(e[t]=this.items[i],t++);return e},_getValidSelectionStart:function(e){for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit&&this.items[i].character!=this.promptChar)return i;return-1},_getEditableItemIndex:function(e){var t=this._selection(),s=this._getHiddenPrefixCount(),r=this._getVisibleItems(),n=t.start,o=-1;for(i=0;i<n;i++)i<r.length&&r[i].canEdit&&(o=i+s);if(-1==o&&t.length>0)for(n=t.end,i=0;i<n;i++)if(i<r.length&&r[i].canEdit){o=i+s;break}return o},_getEditableItemByIndex:function(e){for(k=0;k<this.items.length;k++)if(k>e&&this.items[k].canEdit&&this.items[k].character!=this.promptChar)return k;return-1},_getFirstEditableItemIndex:function(){var e=this._getVisibleItems();for(m=0;m<e.length;m++)if(e[m].character!=this.promptChar&&e[m].canEdit&&"0"!=e[m].character)return m;return-1},_getLastEditableItemIndex:function(){var e=this._getVisibleItems();for(m=e.length-1;m>=0;m--)if(e[m].character!=this.promptChar&&e[m].canEdit)return m;return-1},_moveCaretToDecimalSeparator:function(){for(i=this.items.length-1;i>=0;i--)if(this.items[i].character==this.decimalSeparator&&this.items[i].isSeparator)return this.negative?(this._setSelectionStart(i+1),i):(this._setSelectionStart(i),i);return this.numberInput.val().length},_handleBackspace:function(){var e=this._selection(),t=this._getHiddenPrefixCount(),i=this._getEditableItemIndex()-t,s=this._getFirstVisibleNonEmptyIndex(),r=!1;if(this.negative&&(r=!0,(s>=i+1||0==e.start)&&(this.setvalue("negative",!1),0==e.length))){this._setSelectionStart(e.start-1);e=this._selection()}if(i>=0){0==e.length&&-1!=i&&this._setSelection(i,i+1);var n=e.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;n&&(e=this._selection());this._deleteSelectedText();if(e.length<1||n?this._setSelectionStart(e.start):e.length>=1&&this._setSelectionStart(e.end),e.length==this.numberInput.val().length||r){var o=this._moveCaretToDecimalSeparator();this._setSelectionStart(o-1)}}else this._setSelectionStart(e.start)},_handleKeyDown:function(t,s){var r=this._selection(),n=t.ctrlKey||t.metaKey;if((8==s||46==s)&&n)return this.setDecimal(null),!1;if(this.rtl&&37==s){var o=(a=t.shiftKey)?1:0;return a?this._setSelection(r.start+1-o,r.start+r.length+1):this._setSelection(r.start+1-o,r.start+1),!1}if(this.rtl&&39==s){var a;o=(a=t.shiftKey)?1:0;return a?this._setSelection(r.start-1,r.length+o+r.start-1):this._setSelection(r.start-1,r.start-1),!1}if(n&&97==s||n&&65==s)return!0;if(n&&120==s||n&&88==s)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),this._handleBackspace(),!1;if(n&&99==s||n&&67==s)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),!1;if(n&&122==s||n&&90==s)return!1;if(n&&118==s||n&&86==s||t.shiftKey&&45==s)return this._pasteSelectedText(),!1;if(r.start>=0&&r.start<this.items.length){var l=String.fromCharCode(s);this.items[r.start]}if(8==s)return this._handleBackspace(),!1;if(190==s||110==s)return this._moveCaretToDecimalSeparator(),!1;if(188==s){var h=this.numberInput.val();for(i=r.start;i<h.length;i++)if(h[i]==this.groupSeparator){this._setSelectionStart(1+i);break}return!1}if(null==e.jqx.browser.msie){l=String.fromCharCode(s);var d=parseInt(l);if(s>=96&&s<=105&&(d=s-96,s-=48),!isNaN(d)){return this._insertKey(s),!1}}if(46==s){var c=this._getVisibleItems();if(r.start<c.length){o=0==c[r.start].canEdit?2:1;if(0==r.start)if(this.negative)if(this.setvalue("negative",!1),0==r.length&&this._setSelectionStart(0),0==(r=this._selection()).length)return!1;0==r.length&&this._setSelection(r.start+o,r.start+o+r.length),this._handleBackspace(),new Number(this.decimal)<1||r.start>this._getSeparatorPosition()?this._setSelectionStart(r.end+o):r.start+1<this.decimalSeparatorPosition&&this._setSelectionStart(r.end+o)}return!1}if(38==s)return this.spinUp(),!1;if(40==s)return this.spinDown(),!1;27===s&&(this.setDecimal(this._savedValue),this._setSelectionStart(r.end),t.preventDefault());var u=this._isSpecialKey(s);e.jqx.browser.mozilla&&(45!=s&&173!=s&&109!=s&&189!=s||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)));return!e.jqx.browser.mozilla||u},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){try{if("selectionStart"in this.numberInput[0]){var e=this.numberInput[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var s=this.numberInput[0].createTextRange(),r=s.duplicate();s.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",s);t=i.text.length;return{start:r.text.length,end:r.text.length+i.text.length,length:t,text:i.text}}catch(e){return{start:0,end:0,length:0}}},selectAll:function(){var e=this.numberInput;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},_setSelection:function(t,i){if(1!=this._disableSetSelection&&(!e.jqx.mobile.isTouchDevice()&&1!=this.touchMode))try{if("selectionStart"in this.numberInput[0])this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(t,i);else{var s=this.numberInput[0].createTextRange();s.collapse(!0),s.moveEnd("character",i),s.moveStart("character",t),s.select()}}catch(e){}},_setSelectionStart:function(t){this._setSelection(t,t),e.data(this.numberInput,"selectionstart",t)},resize:function(e,t){this.width=e,this.height=t,this._render(!1)},_render:function(t){var i=parseInt(this.host.css("border-left-width")),s=parseInt(this.host.css("border-left-width")),r=parseInt(this.host.css("border-left-width")),n=parseInt(this.host.css("border-left-width"));this.numberInput.css("padding-top","0px"),this.numberInput.css("padding-bottom","0px"),this.host.height(this.height),this.host.width(this.width);var o=this.host.width(),a=this.host.height();this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),isNaN(r)&&(r=1),isNaN(s)&&(s=1),isNaN(n)&&(n=1),isNaN(i)&&(i=1),this.numberInput.css("text-align",this.textAlign);var l=this.numberInput.css("font-size");""==l&&(l=13),this.numberInput.css("height",parseInt(l)+4+"px"),this.numberInput.css("width",o-2);var h=a-2*r-parseInt(l)-2;(isNaN(h)&&(h=0),h<0&&(h=0),this.spinButtons&&this.spincontainer)&&(o-=parseInt(this.spinButtonsWidth-2),e.jqx.mobile.isTouchDevice()||!0===this.touchMode?(this.spincontainer.width(2*this.spinButtonsWidth),o-=this.spinButtonsWidth,this.upbutton.height("100%"),this.downbutton.height("100%"),this.downbutton.css("float","left"),this.upbutton.css("float","right"),this.upbutton.width(this.spinButtonsWidth),this.downbutton.width(1+this.spinButtonsWidth)):(this.spincontainer.width(this.spinButtonsWidth),this.upbutton.width(this.spinButtonsWidth+2),this.downbutton.width(this.spinButtonsWidth+2),this.upbutton.height("50%"),this.downbutton.height("50%"),this.spincontainer.width(this.spinButtonsWidth)),this._upArrow.height("100%"),this._downArrow.height("100%"),this.numberInput.css("width",o-6),this.numberInput.css("margin-right","2px"));var d=h/2;e.jqx.browser.msie&&e.jqx.browser.version<8&&(d=h/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",Math.round(d)+"px"),this.numberInput.css("padding-bottom",Math.round(d)+"px"),null!=t&&1!=t||(this.numberInput.val(this._getString()),"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode())},destroy:function(){this._removeHandlers(),this.host.remove()},inputValue:function(e){return void 0===e?this._value():(this.propertyChangedHandler(this,"value",this._value,e),this._refreshValue(),this)},_value:function(){return this.numberInput.val()},val:function(e){if((void 0===e||"object"==typeof e)&&null!==e)return this.getDecimal();if(null!==e){var t=e;(t=t.toString()).indexOf(this.symbol)>-1&&(t=t.replace(this.symbol,""));t=(t=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(t,this.groupSeparator,"")).replace(this.decimalSeparator,".");for(var i="",s=0;s<t.length;s++){var r=t.substring(s,s+1);"-"===r&&(i+="-"),"."===r&&(i+="."),null!=r.match(/^[0-9]+$/)&&(i+=r)}t=(t=i).replace(/ /g,""),t=new Number(t),this.setDecimal(t)}else this.setDecimal(null)},getDecimal:function(){return null==this.decimal?null:("simple"==this.inputMode&&(this._parseDecimalInSimpleMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),""==this.decimal?0:this.getvalue("negative")&&this.decimal>0?-parseFloat(this.decimal):parseFloat(this.decimal))},setDecimal:function(e){var t=e;if("."!=this.decimalSeparator)if(null===e)this._setDecimal(e);else{var i,s,r,n=e;if("number"!=typeof e)if(-1!=(i=(e=e.toString()).indexOf(".")))n=(s=e.substring(0,i))+"."+(r=e.substring(i+1)),-1!=s.indexOf("-")&&(s=s.substring(1)),e="advanced"!=this.inputMode?s+"."+r:s+this.decimalSeparator+r;else if(-1!=(i=e.indexOf(this.decimalSeparator)))n=(s=e.substring(0,i))+"."+(r=e.substring(i+1)),-1!=s.indexOf("-")&&(s=s.substring(1)),e="advanced"!=this.inputMode?s+"."+r:s+this.decimalSeparator+r;n<0?this.setvalue("negative",!0):this.setvalue("negative",!1),this._setDecimal(e)}else e<0?this.setvalue("negative",!0):this.setvalue("negative",!1),null===e?this._setDecimal(e):this._setDecimal(Math.abs(e));null==t&&this.numberInput.val("")},_setDecimal:function(e){if(this.allowNull||null!=e||(this.decimal=0,e=0),null==e)return this.decimal=null,this.value=null,this.clearDecimal(),this._refreshValue(),this.decimal=null,void(this.value=null);-1!=e.toString().indexOf("e")&&(e=new Number(e).toFixed(this.decimalDigits).toString()),this.clearDecimal();var t=e.toString(),i="",s="",r=!0;0==t.length&&(t="0");for(var n=0;n<t.length;n++){if("number"==typeof e){if("."==t.substring(n,n+1)){r=!1;continue}}else if(t.substring(n,n+1)==this.decimalSeparator){r=!1;continue}r?i+=t.substring(n,n+1):s+=t.substring(n,n+1)}i.length>0&&(i=parseFloat(i).toString());var o=this.digits;o<i.length&&(i=i.substr(0,o));var a=0,l=this._getSeparatorPosition();for(n=l+=this._getHiddenPrefixCount();n>=0;n--)n<this.items.length&&this.items[n].canEdit&&a<i.length&&(this.items[n].character=i.substring(i.length-a-1,i.length-a),a++);a=0;for(n=l;n<this.items.length;n++)this.items[n].canEdit&&a<s.length&&(this.items[n].character=s.substring(a,a+1),a++);if(this._refreshValue(),"."==this.decimalSeparator)this.ValueString=new Number(e).toFixed(this.decimalDigits);else{var h=e.toString().indexOf(this.decimalSeparator);if(h>0){var d=e.toString().substring(0,h)+"."+e.toString().substring(h+1);this.ValueString=new Number(d).toFixed(this.decimalDigits)}else this.ValueString=new Number(e).toFixed(this.decimalDigits)}("advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString)),"textbox"==this.inputMode)&&(this.decimal=this.ValueString,this.getvalue("negative")&&(this.decimal="-"+this.ValueString));(e=this.val())<this.min||e>this.max?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid")},_getSeparatorPosition:function(){var e=this._getHiddenPrefixCount();return this.decimalSeparatorPosition>0?this.decimalSeparatorPosition-e:this.items.length-e},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&e._render()},propertyChangedHandler:function(t,s,r,n){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==s&&(t.upbutton.removeClass(t.toThemeProperty("jqx-"+t.template)),t.downbutton.removeClass(t.toThemeProperty("jqx-"+t.template)),t.upbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t.downbutton.addClass(t.toThemeProperty("jqx-"+t.template))),("digits"==s||"groupSize"==s||"decimalDigits"==s)&&n<0)throw new Exception(this.invalidArgumentExceptions[0]);if("placeHolder"==s&&t.numberInput.attr("placeholder",t.placeHolder),"theme"===s&&e.jqx.utilities.setTheme(r,n,t.host),"digits"==s&&n!=r&&(t.digits=parseInt(n)),"min"!=s&&"max"!=s||(e.jqx.aria(t,"aria-value"+s,n.toString()),t._refreshValue()),"decimalDigits"==s&&n!=r&&(t.decimalDigits=parseInt(n)),"decimalSeparator"==s||"digits"==s||"symbol"==s||"symbolPosition"==s||"groupSize"==s||"groupSeparator"==s||"decimalDigits"==s||"negativeSymbol"==s){var o=t.decimal;if("decimalSeparator"==s&&""==n&&(n=" "),r!=n){var a=t._selection();t.items=new Array,t._initializeLiterals(),t.value=t._getString(),t._refreshValue(),t._setDecimal(o)}}if("rtl"==s&&(t.rtl?(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","right")):(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","left"))),"spinButtons"==s&&(t.spincontainer?(n?t.spincontainer.css("display","block"):t.spincontainer.css("display","none"),t._render()):t._spinButtons()),"touchMode"===s&&(t.inputMode="textbox",t.spinMode="simple",t.render()),"negative"==s&&"advanced"==t.inputMode){a=t._selection();var l=0;n?(t.items[0].character=t.negativeSymbol[0],l=1):(t.items[0].character="",l=-1),t._refreshValue(),t.isInitialized&&t._setSelection(a.start+l,a.end+l)}if("decimal"==s&&(t.value=n,t.setDecimal(n)),"value"===s&&(t.value=n,t.setDecimal(n),t._raiseEvent(1,n)),"textAlign"==s&&(t.textAlign=n,t._render()),"disabled"==s&&(t.numberInput.attr("disabled",n),t.disabled?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",n.toString())),"readOnly"==s&&(t.readOnly=n),"promptChar"==s){for(i=0;i<t.items.length;i++)t.items[i].character==t.promptChar&&(t.items[i].character=n);t.promptChar=n}"width"==s?(t.width=n,t._render()):"height"==s&&(t.height=n,t._render())}},_value:function(){return this.value},_refreshValue:function(){var e=this.value;if("textbox"!==this.inputMode){this.value=this._getString(),e=this.value;for(var t="",i=0;i<this.items.length;i++){var s=this.items[i];s.canEdit&&s.character!=this.promptChar&&(t+=s.character),i==this.decimalSeparatorPosition&&(t+=".")}this.decimal=t;var r=!1;this.oldValue!==e&&(this.oldValue=e,this._raiseEvent(0,e),r=!0),"simple"!=this.inputMode&&(this.numberInput.val(e),r&&this._raiseEvent(1,e)),null==e&&this.numberInput.val("")}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxFormattedInput","",{}),e.extend(e.jqx._jqxFormattedInput.prototype,{defineInstance:function(){var t={width:null,height:null,radix:10,outputNotation:"default",value:"0",min:"-9223372036854775808",max:"9223372036854775807",upperCase:!1,spinButtons:!0,spinButtonsStep:1,spinButtonsWidth:18,dropDown:!1,dropDownWidth:null,popupZIndex:2e4,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,readOnly:!1,textAlign:"right",int64:"s",digits:8,decimalDigits:null,decimalSeparator:".",spinMode:"simple",_opened:!1,$popup:document.createElement("ul"),events:["open","close","change","radixChange","valueChanged","textChanged"]};e.extend(!0,this,t)},createInstance:function(){if(this._IE8=e.jqx.browser.msie&&e.jqx.browser.version<9,"none"!==this.host.css("display")&&!1!==document.body.contains(this.element)||(this._initiallyHidden=!0),this._regex={2:new RegExp(/([0-1])/),8:new RegExp(/([0-7])/),10:new RegExp(/([0-9\-\+e])/i),16:new RegExp(/([0-9]|[a-f])/i)},!1!==this.int64){try{BigNumber}catch(e){throw new Error("jqxFormattedInput: Missing reference to jqxmath.js")}this._regex[10]=new RegExp(/([0-9\-])/),"s"===this.int64&&this._Long()}this.spinButtonsWidth<16&&(this.spinButtonsWidth=16),this._checkStructure(),this.render()},render:function(){var t,i=this;function s(e){function t(t){t.className=i.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button"),t.style.width=i.spinButtonsWidth-1+"px",e.appendChild(t)}function s(e,t,s){e.setAttribute("unselectable","on"),e.className=i.toThemeProperty("jqx-input-icon jqx-formatted-input-icon jqx-icon-arrow-"+s),t.appendChild(e)}i._spinButtonsContainerElement=e,e.className=i.toThemeProperty("jqx-formatted-input-spin-buttons-container"),e.style.width=i.spinButtonsWidth+"px",i._upbutton=document.createElement("div"),t(i._upbutton),i._downbutton=document.createElement("div"),t(i._downbutton),i._upArrow=document.createElement("div"),s(i._upArrow,i._upbutton,"up"),i._downArrow=document.createElement("div"),s(i._downArrow,i._downbutton,"down"),"s"===i.int64?i._spinButtonsStepObject=new i.longObj.math.Long.fromNumber(i.spinButtonsStep):"u"===i.int64?i._spinButtonsStepObject=new BigNumber(i.spinButtonsStep):!1===i.int64&&(i._spinButtonsStepObject=Number(i.spinButtonsStep))}function r(e){if(i._addon=e,e.className=i.toThemeProperty("jqx-formatted-input-addon"),!i._arrow){var t=document.createElement("div");t.className=i.toThemeProperty("jqx-icon jqx-icon-arrow-down"),e.appendChild(t),i._arrow=t}}if(i._radixNumber=i._getRadix(i.radix),!1===i.int64?(10!==i._radixNumber&&(i.radix=10,i._radixNumber=10),!0===i.dropDown&&(i.dropDown=!1),"-9223372036854775808"===i.min&&(i.min=Number.NEGATIVE_INFINITY),"9223372036854775807"===i.max&&(i.max=1/0)):(null!==i.decimalDigits&&(i.decimalDigits=null),i.min===Number.NEGATIVE_INFINITY&&("s"===i.int64?i.min="-9223372036854775808":i.min="0"),i.max===1/0&&("s"===i.int64?i.max="9223372036854775807":i.max="18446744073709551615")),""!==i.value&&("s"===i.int64?i._number=new i.longObj.math.Long.fromString(i.value.toString(),i._radixNumber):"u"===i.int64?i._number=i._toBigNumberDecimal(i.value):!1===i.int64&&(i._number=Number(i._discardDecimalSeparator(i.value)))),i.baseHost&&(i.host=i.baseHost,i.element=i.host[0]),"div"===this.element.nodeName.toLowerCase()){this.baseElement=this.element;var n=i.element.getElementsByTagName("input")[0];if(!n)throw new Error('jqxFormattedInput: Missing <input type="text" /> in the widget\'s HTML structure.');this.baseHost=e(this.baseElement);var o=this.host.data();this.host=e(n),this.element=n,this.host.data(o),this.baseElement.className=i.toThemeProperty("jqx-widget jqx-input-group");for(var a=i.baseHost.children(),l=0;l<a.length;l++){var h=a[l],d="jqx-input-group-addon";h!==i.element&&(d+=" jqx-fill-state-normal"),"div"===h.nodeName.toLowerCase()&&(!1===i.rtl?i._spinButtonsContainerElement||!0!==i.spinButtons?i._addon||!0!==i.dropDown||2!==l&&(1!==l||!1!==i.spinButtons)||r(h):s(h):i._addon||!0!==i.dropDown?i._spinButtonsContainerElement||!0!==i.spinButtons||1!==l&&(0!==l||!1!==i.dropDown)||(s(h),d+=" jqx-formatted-input-spin-buttons-container-rtl",!0===i.dropDown&&-1===i._addon.className.indexOf("jqx-formatted-input-addon-rtl")&&(i._addon.className+=" "+i.toThemeProperty("jqx-formatted-input-addon-rtl"))):(r(h),!0===i.spinButtons&&(d+=" jqx-formatted-input-addon-rtl"))),h.className+=" "+i.toThemeProperty(d)}}!0===i._initialized&&i.removeHandlers(),this.addHandlers(),i.rtl&&(i.element.className+=" "+i.toThemeProperty("jqx-rtl")),!0===i.readOnly&&(i.element.readOnly=!0),"s"===i.int64?(10!==i._radixNumber&&"-9223372036854775808"===i.min.toString()?i._minObject=new i.longObj.math.Long.fromNumber(i.min):i._setMinMax("min"),10!==i._radixNumber&&"9223372036854775807"===i.max.toString()?i._maxObject=new i.longObj.math.Long.fromNumber(i.max):i._setMinMax("max")):"u"===i.int64?("-9223372036854775808"===i.min&&(i.min="0"),"9223372036854775807"===i.max&&(i.max="18446744073709551615"),10!==i._radixNumber&&"0"===i.min.toString()?i._minObject=new BigNumber(i.min):i._setMinMax("min"),10!==i._radixNumber&&"18446744073709551615"===i.max.toString()?i._maxObject=new BigNumber(i.max):i._setMinMax("max")):(i._minObject=Number(i._discardDecimalSeparator(i.min)),i._maxObject=Number(i._discardDecimalSeparator(i.max))),""!==i.value&&null!==i.value?(!0===i.upperCase?i.element.className+=" "+i.toThemeProperty("jqx-formatted-input-upper-case"):i.element.className+=" "+i.toThemeProperty("jqx-formatted-input-lower-case"),t=i._validateValue(i.value,!0),i._checkNotation(i.value),10!==i._radixNumber||"exponential"!==i.outputNotation&&"engineering"!==i.outputNotation?i._eNotation&&(i._number=i._largeExponentialToDecimal(i._number),t=i._number):(i._eNotation&&(i._number=i._largeExponentialToDecimal(i._number)),t=i._getDecimalNotation(i.outputNotation)),i.element.value=t):i._spinButtonsContainerElement&&(i._spinButtonsContainerElement.className+=" "+i.toThemeProperty("jqx-fill-state-disabled")),i._checkNotation(),i._eNotation||(i.element.value=i._validateDigits(i.element.value),i._handleOutputNotation())},_addClasses:function(){var t="";this.dropDown&&(this.$popup.className=this.toThemeProperty("jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content"),e.jqx.browser.msie&&(this.$popup.className+=" "+this.toThemeProperty("jqx-noshadow"))),this.roundedCorners&&(this.baseHost?(this.dropDown&&(this.$popup.className+=" "+this.toThemeProperty("jqx-rc-all")),this.baseElement.className+=" "+this.toThemeProperty("jqx-rc-all"),!1===this.rtl?(t+=" jqx-rc-l",this._addon&&(this._addon.className+=" "+this.toThemeProperty("jqx-rc-r"))):(t+=" jqx-rc-r",this._addon&&(this._addon.className+=" "+this.toThemeProperty("jqx-rc-l")))):t+=" jqx-rc-all"),this.disabled&&(t+=" jqx-fill-state-disabled",this.baseHost&&(this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&(this._addon.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")))),this.element.className+=" "+this.toThemeProperty(t)},selectAll:function(){var e=this.host;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(e){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e);else{var i=t[0].createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},focus:function(){try{var e=this;e.element.focus(),setTimeout(function(){e.element.focus()},25)}catch(e){}},refresh:function(e){if(this.element.className+=" "+this.toThemeProperty("jqx-widget-content jqx-input jqx-formatted-input jqx-widget jqx-formatted-input-align-"+this.textAlign),e&&this._addClasses(),this.baseHost){if(this.width&&(this.baseElement.style.width=this._toPx(this.width)),this.height){this.baseElement.style.height=this._toPx(this.height);for(var t=0,i=this.baseHost.children(),s=0;s<i.length;s++){var r=i[s];r.style.height="100%",r!==this.element&&(t+=r.offsetWidth)}var n="string"==typeof this.width&&-1!==this.width.indexOf("%")?1:0;if(this._IE8){var o=this.element.style;o.width=this.baseElement.offsetWidth-t-n+"px",this._spinButtonsContainerElement&&(!1===this.rtl||!0===this.rtl&&this._addon)&&(this._spinButtonsContainerElement.style.borderLeftWidth="0px"),this._addon&&(!1===this.rtl?this._addon.style.borderLeftWidth="0px":this._spinButtonsContainerElement||(this._addon.style.borderRightWidth="0px"));var a=this.element.currentStyle,l=function(e){return"string"==typeof e?"medium"===e?1:parseInt(e,10):e},h=Math.max(0,this.baseElement.offsetHeight-(l(a.borderTopWidth)+l(a.borderBottomWidth)+l(a.paddingTop)+l(a.paddingBottom)))+"px";o.lineHeight=h}else this.element.style.width="calc(100% - "+(t+n)+"px)"}}else this.width&&(this.element.style.width=this._toPx(this.width)),this.height&&(this.element.style.height=this._toPx(this.height));this.element.disabled=this.disabled,this.element.placeholder||this._refreshPlaceHolder(),e&&(this._initialized=!0)},_toPx:function(e){return"number"==typeof e?e+"px":e},_refreshPlaceHolder:function(){if("placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9))this.element.placeholder=this.placeHolder;else{""===this.element.value&&(this.element.value=this.placeHolder)}},destroy:function(){this.removeHandlers(),this.baseHost?(e.jqx.utilities.resize(this.baseHost,null,!0),this.baseHost.remove()):this.host.remove(),this.$popup&&e(this.$popup).remove()},propertyChangedHandler:function(t,i,s,r){function n(e,i){!1===i?(e.style.display="none",!0===t.rtl&&(!0===t.spinButtons&&(t._spinButtonsContainerElement.className+=" "+t.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),!0===t.dropDown&&t._removeClass(t._addon,t.toThemeProperty("jqx-formatted-input-addon-rtl")))):(e.style.display="block",!0===t.rtl&&!0===t.spinButtons&&!0===t.dropDown&&(t._removeClass(t._spinButtonsContainerElement,t.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),t._addon.className+=" "+t.toThemeProperty("jqx-formatted-input-addon-rtl")));var s=0;t.spinButtons&&(s+=t.spinButtonsWidth),t.dropDown&&(s+=t._addon.offsetWidth),t._IE8?t.element.style.width=t.baseElement.offsetWidth-s-("string"==typeof t.width&&-1!==t.width.indexOf("%")?1:0)+"px":t.element.style.width="calc(100% - "+s+"px)"}function o(i){var s=t.element,r=document.createElement("div");if(t.baseHost){var n,o=t.baseHost.children();n="div"===o[1].nodeName.toLowerCase()||t.rtl&&"spinButtons"===i?o[1]:o[0],!1===t.rtl&&"spinButtons"===i||!0===t.rtl&&"dropDown"===i?t.baseElement.insertBefore(r,n):t.rtl?t.baseElement.insertBefore(r,n):t.baseElement.appendChild(r),t.render();var a="string"==typeof t.width&&-1!==t.width.indexOf("%");t._IE8?(t.element.style.width=t.baseElement.offsetWidth-t.spinButtonsWidth-t._addon.offsetWidth-(a?1:0)+"px",a&&(r.style.borderLeftWidth="0px")):t.element.style.width=t.element.style.width="calc(100% - "+(t.spinButtonsWidth+t._addon.offsetWidth+(a?1:0))+"px)"}else{var l=s.id,h=s.parentNode,d=s.nextSibling,c=document.createElement("div");t.element.removeAttribute("id"),c.setAttribute("id",l),c.appendChild(s),t.rtl?c.insertBefore(r,s):c.appendChild(r),d?h.insertBefore(c,d):h.appendChild(c),t.baseElement=c,t.baseHost=e(c);var u=t.host.data();u.jqxFormattedInput.host=t.baseHost,u.jqxFormattedInput.element=c,t.baseHost.data(u),t.element.style.height="",t.render(),t.refresh()}t._addClasses()}if(r!==s)switch(i){case"roundedCorners":r?t.baseHost?(t.dropDown&&(t.$popup.className+=" "+t.toThemeProperty("jqx-rc-all")),t.baseElement.className+=" "+t.toThemeProperty("jqx-rc-all"),!1===t.rtl?(t.element.className+=" "+t.toThemeProperty("jqx-rc-l"),t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-rc-r"))):(t.element.className+=" "+t.toThemeProperty("jqx-rc-r"),t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-rc-l")))):t.element.className+=" "+t.toThemeProperty("jqx-rc-all"):t.baseHost?(t.dropDown&&t._removeClass(t.$popup,t.toThemeProperty("jqx-rc-all")),t._removeClass(t.baseElement,t.toThemeProperty("jqx-rc-all")),!1===t.rtl?(t._removeClass(t.element,t.toThemeProperty("jqx-rc-l")),t._addon&&t._removeClass(t._addon,t.toThemeProperty("jqx-rc-r"))):(t._removeClass(t.element,t.toThemeProperty("jqx-rc-r")),t._addon&&t._removeClass(t._addon,t.toThemeProperty("jqx-rc-l")))):t._removeClass(t.element,t.toThemeProperty("jqx-rc-all"));break;case"placeHolder":t._refreshPlaceHolder();break;case"theme":e.jqx.utilities.setTheme(s,r,t.host);break;case"disabled":r?(t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"),t.baseHost&&(t._spinButtonsContainerElement&&(t._spinButtonsContainerElement.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")),t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")))):(t._removeClass(t.element,t.toThemeProperty("jqx-fill-state-disabled")),t.baseHost&&""!==t.value&&null!==t.value&&(t._spinButtonsContainerElement&&t._removeClass(t._spinButtonsContainerElement,t.toThemeProperty("jqx-fill-state-disabled")),t._addon&&t._removeClass(t._addon,t.toThemeProperty("jqx-fill-state-disabled")))),t.refresh();break;case"value":s.toString().toUpperCase()!==r.toString().toUpperCase()&&t.val(r);break;case"radix":!1!==t.int64?t._changeRadix(r):(t.radix=10,t._radixNumber=10);break;case"outputNotation":var a;if(10===t._radixNumber)a="exponential"===r?t._number.toExponential():"engineering"===r?t._getDecimalNotation("engineering"):t._number.toString(10),t.element.value=t._applyDecimalSeparator(a),t.refresh();break;case"min":case"max":!1!==t.int64&&("min"===i&&r===Number.NEGATIVE_INFINITY?"s"===t.int64?t.min="-9223372036854775808":t.min="0":"max"===i&&r===1/0&&("s"===t.int64?t.max="9223372036854775807":t.max="18446744073709551615")),t._setMinMax(i),t._validateValue(t.value,!0),t.value=t.element.value;break;case"upperCase":""!==t.element.value&&(!0===r?(t._removeClass(t.element,t.toThemeProperty("jqx-formatted-input-lower-case")),t.element.className+=" "+t.toThemeProperty("jqx-formatted-input-upper-case")):(t._removeClass(t.element,t.toThemeProperty("jqx-formatted-input-upper-case")),t.element.className+=" "+t.toThemeProperty("jqx-formatted-input-lower-case")));break;case"spinButtons":t._spinButtonsContainerElement?n(t._spinButtonsContainerElement,r):o("spinButtons");break;case"spinButtonsStep":"s"===t.int64?t._spinButtonsStepObject=new t.longObj.math.Long.fromNumber(r):"u"===t.int64?t._spinButtonsStepObject=new BigNumber(r):!1===t.int64&&(t._spinButtonsStepObject=Number(r));break;case"dropDown":if(!1===t.int64)return void(t.dropDown=!1);t._addon?n(t._addon,r):o("dropDown");break;case"readOnly":!0===r?t.host.attr("readonly",!0):t.host.removeAttr("readonly");break;case"textAlign":t._removeClass(t.element,t.toThemeProperty("jqx-formatted-input-align-"+s)),t.element.className+=" "+t.toThemeProperty("jqx-formatted-input-align-"+r);break;case"spinButtonsWidth":r<16&&(t.spinButtonsWidth=16,r=16),t._spinButtonsContainerElement.style.width=r+"px",t._upbutton.style.width=r-1+"px",t._downbutton.style.width=r-1+"px",t.refresh();break;case"digits":t.element.value=t._validateDigits(t.element.value),t.refresh();break;case"decimalDigits":!1===t.int64?t.element.value=t._validateDigits(t.element.value):t.decimalDigits=null,t.refresh();break;case"decimalSeparator":var l=t._discardDecimalSeparator(t.element.value,s);t.element.value=t._applyDecimalSeparator(l),t.refresh();break;default:t.refresh()}},select:function(e,t,i){i||(i=this._find("jqx-fill-state-pressed",this.$popup).getAttribute("data-value")),this._changeRadix(parseInt(i,10)),this._setMaxLength(!0),this.close()},setValue:function(e){var t=this.element.value;t!=e&&(this.element.value=e,this.value=e,this._raiseEvent("4",{value:e,oldValue:t}),this._raiseEvent("2",{value:e,oldValue:t,radix:this._radixNumber}))},val:function(t){if(void 0===t&&""!==t||"object"==typeof t&&!0===e.isEmptyObject(t)||"binary"===t||"octal"===t||"decimal"===t||"exponential"===t||"scientific"===t||"engineering"===t||"hexadecimal"===t){if(!t||"object"==typeof t&&!0===e.isEmptyObject(t))return this.element.value;if(!1!==this.int64||"exponential"!==t&&"scientific"!==t&&"engineering"!==t){if(!1===this.int64||"binary"!==t&&"octal"!==t&&"decimal"!==t&&"hexadecimal"===t)return this.element.value;var i=this._getRadix(t);return this._number.toString(i)}return this._getDecimalNotation(t)}if((t=t.toString()).toUpperCase()!==this.element.value.toString().toUpperCase()){var s=this.element.value;!0===this.upperCase&&(t=t.toUpperCase());for(var r=t.split(""),n=0;n<r.length;n++){var o=r[n];if(!this._regex[""+this._radixNumber].test(o)&&o!==this.decimalSeparator||10!==this._radixNumber&&o===this.decimalSeparator)return}var a=this._validateValue(t,!0);return!1===this.int64&&Number(s)===Number(a)?void(this.element.value=s):(this._handleOutputNotation(),a=this.element.value,this.value=a,this._raiseEvent("4",{value:a,oldValue:s}),this._raiseEvent("2",{value:a,oldValue:s,radix:this._radixNumber}),a)}return t},clear:function(){this.val(""),this._removeClass(this.element,this.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-disabled"))},_changeRadix:function(e){var t=this._getRadix(e),i=""!==this.value?this._number.toString(t):"",s=this.radix,r=this.value;this.radix=e,this._radixNumber=t,this.element.value=i,this.value=i,this._raiseEvent("3",{radix:e,oldRadix:s,value:i,oldValue:r})},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.baseHost?this.baseHost.trigger(r):this.host.trigger(r)},open:function(){var t=this,i=t.baseElement?t.baseElement.id:t.element.id,s=e(t.$popup).children();function r(e){var i=t._find("jqx-fill-state-pressed",t.$popup);i&&t._removeClass(i,"jqx-fill-state-pressed"),e.currentTarget.className+=" "+t.toThemeProperty("jqx-fill-state-pressed")}for(var n=0;n<s.length;n++){var o=s[n];t.removeHandler(o,"mouseenter.jqxFormattedInput"+i)}if(t._setPopupOptions(),t._render(t._popupOptions),!e.jqx.isHidden(this.host)){var a;if(a=t.baseHost?e.extend({},t.baseHost.coord(!0),{height:t.baseElement.offsetHeight}):e.extend({},t.host.coord(!0),{height:t.host[0].offsetHeight}),!this.$popup.parentElement){var l=i+"_popup";this.$popup.setAttribute("id",l),e.jqx.aria(this,"aria-owns",l),document.body.appendChild(t.$popup)}t.$popup.style.position="absolute",t.$popup.style.zIndex=this.popupZIndex,t.$popup.style.top=a.top+a.height+"px",t.$popup.style.left=a.left+"px",t.$popup.style.display="block";for(var h=e(t.$popup).children(),d=0,c=0;c<h.length;c++){var u=h[c];t.addHandler(u,"mouseenter.jqxFormattedInput"+i,r),d+=u.offsetHeight+1}return t.$popup.style.height=d+"px",this._opened=!0,t.baseHost&&(t._addon.className+=" "+t.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected"),t._arrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-selected")),this._raiseEvent("0",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this._opened=!1,this.baseHost&&(this._removeClass(this._addon,this.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),this._removeClass(this._arrow,this.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},_render:function(e){for(var t="",i=0;i<e.length;i++){var s,r=e[i],n="jqx-item jqx-menu-item jqx-formatted-input-item";switch(i){case 0:s=2;break;case 1:s=8;break;case 2:s=10;break;case 3:s=16}s===this._radixNumber&&(n+=" jqx-fill-state-pressed"),this.rtl&&(n+=" jqx-rtl jqx-formatted-input-item-rtl"),this.roundedCorners&&(n+=" jqx-rc-all"),t+='<li class="'+this.toThemeProperty(n)+'" data-value="'+s+'"><a href="#">'+r+"</a></li>"}if(this.$popup.innerHTML=t,this.dropDownWidth)this.$popup.style.width=this.dropDownWidth+"px";else if(this.baseHost){var o="string"==typeof this.width&&-1!==this.width.indexOf("%")?1:0;this.$popup.style.width=this.baseElement.offsetWidth-6-o+"px"}else this.$popup.style.width=this.element.offsetWidth-6+"px";return this},next:function(){var e=this._find("jqx-fill-state-pressed",this.$popup),t=e.nextSibling;this._removeClass(e,"jqx-fill-state-pressed"),t||(t=this.$popup.firstChild),t.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var e=this._find("jqx-fill-state-pressed",this.$popup),t=e.previousSibling;this._removeClass(e,"jqx-fill-state-pressed"),t||(t=this.$popup.lastChild),t.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var t=this,i=t.baseElement?t.baseElement.id:t.element.id;this.addHandler(this.host,"focus.jqxFormattedInput"+i,function(){t.onFocus()}),this.addHandler(this.host,"blur.jqxFormattedInput"+i,function(){t.onBlur()}),this.addHandler(this.host,"keypress.jqxFormattedInput"+i,function(e){t.keypress(e)}),this.addHandler(this.host,"keyup.jqxFormattedInput"+i,function(e){t.keyup(e)}),this.addHandler(this.host,"keydown.jqxFormattedInput"+i,function(e){t.keydown(e)}),this.addHandler(this.$popup,"mousedown.jqxFormattedInput"+i,function(e){t.click(e)}),this.addHandler(this.host,"change.jqxFormattedInput"+i,function(e){e.stopPropagation(),e.preventDefault()}),this.addHandler(this.host,"mousewheel.jqxFormattedInput"+i,function(e){t.element===document.activeElement&&(e.wheelDelta>0?t._incrementOrDecrement("add"):t._incrementOrDecrement("subtract"))}),t.baseHost&&(t._spinButtonsContainerElement&&(t.addHandler(t._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+i,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement("add"))}),t.addHandler(t._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+i,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+i,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement("subtract"))}),t.addHandler(t._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+i,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._upbutton,"mouseenter.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._upArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-up-hover"))}),t.addHandler(t._downbutton,"mouseenter.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._downArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-hover"))}),t.addHandler(t._upbutton,"mouseleave.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._upArrow,t.toThemeProperty("jqx-icon-arrow-up-hover")))}),t.addHandler(t._downbutton,"mouseleave.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._downArrow,t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(document.body,"mouseup.jqxFormattedInputSpinButtons"+i,function(){t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed")),t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))})),t._addon&&(t.addHandler(t._addon,"click.jqxFormattedInputAddon"+i,function(){t.disabled||(t._opened?t.close():t.open())}),t.addHandler(t._addon,"mouseenter.jqxFormattedInputAddon"+i,function(){t.disabled||""===t.value||null===t.value||(t._addon.className+=" "+t.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover"),t._arrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-hover"))}),t.addHandler(t._addon,"mouseleave.jqxFormattedInputAddon"+i,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._addon,t.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),t._removeClass(t._arrow,t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(t._addon,"blur.jqxFormattedInputAddon"+i,function(){t._opened&&!t.disabled&&t.close()}),t.addHandler(t._arrow,"blur.jqxFormattedInputAddon"+i,function(){t._opened&&!t.disabled&&t.close()})),e.jqx.utilities.resize(t.baseHost,function(){var e;!0===t._opened&&t.close(),t._IE8?(e=0,t.spinButtons&&(e+=t.spinButtonsWidth),t._addon&&(e+=t._addon.offsetWidth),t.element.style.width=t.baseElement.offsetWidth-e-1+"px",t.element.style.lineHeight=t.baseElement.offsetHeight+"px"):!0===t._initiallyHidden&&(e=0,t.spinButtons&&(e+=t.spinButtonsWidth),t.dropDown&&(e+=t._addon.offsetWidth),t.element.style.width="calc(100% - "+e+"px)",t._initiallyHidden=!1)}))},removeHandlers:function(){var e=this.baseElement?this.baseElement.id:this.element.id;this.removeHandler(this.host,"focus.jqxFormattedInput"+e),this.removeHandler(this.host,"blur.jqxFormattedInput"+e),this.removeHandler(this.host,"keypress.jqxFormattedInput"+e),this.removeHandler(this.host,"keyup.jqxFormattedInput"+e),this.removeHandler(this.host,"keydown.jqxFormattedInput"+e),this.removeHandler(this.$popup,"mousedown.jqxFormattedInput"+e),this.removeHandler(this.host,"mousewheel.jqxFormattedInput"+e),this.removeHandler(this.host,"change.jqxFormattedInput"+e),this.removeHandler(this.host,"mousewheel.jqxFormattedInput"+e),this.baseHost&&(this._spinButtonsContainerElement&&(this.removeHandler(this._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+e),this.removeHandler(this._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+e),this.removeHandler(this._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+e),this.removeHandler(this._upbutton,"mouseenter.jqxFormattedInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mouseenter.jqxFormattedInputSpinButtonDown"+e),this.removeHandler(this._upbutton,"mouseleave.jqxFormattedInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mouseleave.jqxFormattedInputSpinButtonDown"+e),this.removeHandler(document.body,"mouseup.jqxFormattedInputSpinButtons"+e)),this._addon&&(this.removeHandler(this._addon,"click.jqxFormattedInputAddon"+e),this.removeHandler(this._addon,"mouseenter.jqxFormattedInputAddon"+e),this.removeHandler(this._addon,"mouseleave.jqxFormattedInputAddon"+e),this.removeHandler(this._addon,"blur.jqxFormattedInputAddon"+e),this.removeHandler(this._arrow,"blur.jqxFormattedInputAddon"+e)))},move:function(e){if(this._opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(e){var t=e.charCode?e.charCode:e.which;if(this.readOnly)return!1;this.suppressKeyPressRepeat=-1!==[40,38,9,13,27].indexOf(e.keyCode),this.move(e),40!==t?38!==t||(!0===e.altKey?this._addon&&this.close():this._incrementOrDecrement("add")):!0===e.altKey?this._addon&&(this.onBlur(),this.open()):this._incrementOrDecrement("subtract")},keypress:function(t){var i=t.key||String.fromCharCode(t.keyCode);if(this.valChanged=!1,(!e.jqx.browser.mozilla||"ArrowLeft"!==i&&"ArrowRight"!==i&&"ArrowUp"!==i&&"ArrowDown"!==i&&"Backspace"!==i&&"Delete"!==i&&"Home"!==i&&"End"!==i)&&!this.suppressKeyPressRepeat&&!this.readOnly){this.move(t);var s=this.element.value;if(i===this.decimalSeparator){if((s.match(new RegExp("\\"+this.decimalSeparator,"g"))||[]).length>0)return t.preventDefault(),!1}else{if("Enter"===i)return;if(!0!==this._regex[this._radixNumber.toString()].test(i))return!1===t.ctrlKey?(t.preventDefault(),!1):void 0;if("+"===i||"-"===i)if(!1!==this.int64)"-"===s.charAt(0)?this._minus=!1:this._minus=!0,t.preventDefault();else{var r=(s.match(/-/g)||[]).length+(s.match(/\+/g)||[]).length;if(r>0&&-1===s.toLowerCase().indexOf("e")||r>1)return t.preventDefault(),!1}else if("e"===i.toLowerCase()&&10===this._radixNumber){if((s.toLowerCase().match(/e/g)||[]).length>0)return t.preventDefault(),!1}}var n=this._getCaretPosition(),o=s,a=o.slice(0,n)+i+o.slice(n);a!==o&&(this.valChanged=!0,this.valueChangedOld=o,this.valueChangedNew=a,this._raiseEvent("5",{value:a,oldValue:o}))}},keyup:function(e){switch(this.valChanged&&(this._raiseEvent("4",{value:this.valueChangedNew,oldValue:this.valueChangedOld}),this._supressValueChangedEvent=!0),e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:this._opened&&this.select(e,this);break;case 27:if(!this._opened)return;this.close();break;case 189:if("s"!==this.int64)return;if(10===this._radixNumber){var t=this.element.value.replace(/-/g,"");!0===this._minus?this.element.value="-"+t:this.element.value=t}}e.stopPropagation(),e.preventDefault(),""!==this.element.value?this._spinButtonsContainerElement&&this._removeClass(this._spinButtonsContainerElement,this.toThemeProperty("jqx-fill-state-disabled")):(this._removeClass(this.element,this.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")))},_getCaretPosition:function(){var e=this.element,t=0;if(document.selection){e.focus();var i=document.selection.createRange();i.moveStart("character",-e.value.length),t=i.text.length}else(e.selectionStart||"0"===e.selectionStart)&&(t=e.selectionStart);return t},_setCaretPosition:function(e){var t=this.element;setTimeout(function(){if("selectionStart"in t)t.focus(),t.setSelectionRange(e,e);else{var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},onBlur:function(){this._opened&&this.close(),this._setMaxLength(),this._removeClass(this.element,"jqx-fill-state-focus"),this._removeClass(this._spinButtonsContainerElement,"jqx-fill-state-focus"),this._removeClass(this._addon,"jqx-fill-state-focus"),this._change(),!1===this.int64&&(this.element.value=this._validateDigits(this.element.value)),this._handleOutputNotation(),this._checkNotation(),this.upperCase?this.element.className+=" "+this.toThemeProperty("jqx-formatted-input-upper-case"):this.element.className+=" "+this.toThemeProperty("jqx-formatted-input-lower-case"),"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||""!==this.element.value&&this.element.value!==this.placeHolder||(this.element.value=this.placeHolder)},_handleOutputNotation:function(){if(this._checkNotation(),!1===this.int64){var e=Number(this._discardDecimalSeparator(this.element.value));switch(this._number=e,this.outputNotation){case"default":if(this._eNotation){var t=-1!==e.toString().indexOf("e");this.element.value=t?this._largeExponentialToDecimal(e):this._validateDigits(e)}break;case"exponential":var i;i=this._eNotation?e.toExponential():this._getDecimalNotation("exponential"),this.element.value=this._applyDecimalSeparator(i);break;case"engineering":this.element.value=this._applyDecimalSeparator(this._getDecimalNotation("engineering"))}}},_largeExponentialToDecimal:function(e){var t=e.toString(),i=t.indexOf("e"),s=new BigNumber(t.slice(0,i)),r=t.slice(i+2),n=t.slice(i+1,i+2),o=new BigNumber(10).pow(n+r);return s.multiply(o).toString()},onFocus:function(){this._setMaxLength(!0),this.element.className+=" "+this.toThemeProperty("jqx-fill-state-focus"),this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-focus")),this._addon&&(this._addon.className+=" "+this.toThemeProperty("jqx-fill-state-focus")),this._removeClass(this.element,this.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||this.element.value!==this.placeHolder||(this.element.value="")},click:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.getAttribute("data-value");this.select(e,this,t)},_change:function(){var e=this.value,t=this._validateValue(this.element.value,!0);this._removeClass(this.element,"jqx-input-invalid"),this._removeClass(this._spinButtonsContainerElement,"jqx-input-invalid"),this._removeClass(this._addon,"jqx-input-invalid"),!1===this.int64&&Number(e)===Number(t)||t.toUpperCase()!==e.toString().toUpperCase()&&(this._checkNotation(),!0!==this._supressValueChangedEvent?this._raiseEvent("4",{value:t,oldValue:e}):this._supressValueChangedEvent=!1,this._raiseEvent("2",{value:t,oldValue:e,radix:this._radixNumber}),this.value=t)},_getRadix:function(e){switch(e){case 10:case"decimal":return 10;case 2:case"binary":return 2;case 8:case"octal":return 8;case 16:case"hexadecimal":return 16}},_setPopupOptions:function(){this._popupOptions=[],""!==this.value?(this._popupOptions.push(this._number.toString(2)+" <em>(BIN)</em>"),this._popupOptions.push(this._number.toString(8)+" <em>(OCT)</em>"),this._popupOptions.push(this._number.toString(10)+" <em>(DEC)</em>"),this._popupOptions.push(this._number.toString(16)+" <em>(HEX)</em>")):(this._popupOptions.push("BIN"),this._popupOptions.push("OCT"),this._popupOptions.push("DEC"),this._popupOptions.push("HEX"))},_validateValue:function(e,t){if(""!==e){var i;if("s"===this.int64?i=new this.longObj.math.Long.fromString(e.toString(),this._radixNumber):"u"===this.int64?i=this._toBigNumberDecimal(e.toString()):!1===this.int64&&(i=Number(this._discardDecimalSeparator(e.toString()))),"s"===this.int64&&i.lessThan(this._minObject)||"u"===this.int64&&-1===i.compare(this._minObject)){if(t){this._number=this._minObject;var s=this._minObject.toString(this._radixNumber);return 16===this._radixNumber&&!0===this.upperCase&&(s=s.toUpperCase()),this.element.value=s,s}return!1}if("s"===this.int64&&i.greaterThan(this._maxObject)||"u"===this.int64&&1===i.compare(this._maxObject)){if(t){this._number=this._maxObject;var r=this._maxObject.toString(this._radixNumber);return 16===this._radixNumber&&!0===this.upperCase&&(r=r.toUpperCase()),this.element.value=r,r}return!1}return!1===this.int64&&(i<this._minObject||i>this._maxObject)?!!t&&(i<this._minObject?(this._number=this._minObject,this.element.value=this._validateDigits(this._minObject)):(this._number=this._maxObject,this.element.value=this._validateDigits(this._maxObject)),this.element.value):!t||(this._number=i,this.element.value=e,e)}return!t||(this.element.value="",e)},_validateDigits:function(e){var t=this;function i(e){return"number"==typeof e?e:parseFloat(e.replace(t.decimalSeparator,"."))}return e=t._discardDecimalSeparator(e.toString()),(null!==t.decimalDigits?i(e).toFixed(t.decimalDigits):Number(i(e).toPrecision(t.digits)).toString()).replace(".",t.decimalSeparator)},_getNegativeDecimal:function(e,t){var i=e;if(8===t){for(var s=[],r=0;r<11;r++){for(var n=parseInt(e.charAt(r),8).toString(2);3!==n.length;)n="0"+n;s.push(n)}"0"===(i=s.join("")).charAt(0)&&(i=i.slice(1))}else if(16===t){for(var o=[],a=0;a<8;a++){for(var l=parseInt(e.charAt(a),16).toString(2);4!==l.length;)l="0"+l;o.push(l)}i=o.join("")}for(var h="",d=0;d<i.length;d++){h+="1"===i.charAt(d)?"0":"1"}return h=-1*(parseInt(h,2)+1)},_setMaxLength:function(e){var t;if(!0===e&&!1!==this.int64)switch(this._radixNumber){case 2:t=64;break;case 8:t=22;break;case 10:t=20;break;case 16:t=16}else t=524288;this.host.attr("maxlength",t)},_setMinMax:function(e){"s"===this.int64?this["_"+e+"Object"]=new this.longObj.math.Long.fromString(this[e].toString(),this._radixNumber):"u"===this.int64?this["_"+e+"Object"]=this._toBigNumberDecimal(this[e].toString()):!1===this.int64&&(this["_"+e+"Object"]=Number(this._discardDecimalSeparator(this[e])))},_getDecimalNotation:function(e){var t=this,i=t._number.toString(10);var s,r=Number(i).toExponential();return"scientific"===e?function(e){var i=e.indexOf("e"),s=e.slice(i+1),r=e.slice(0,i+1);return r=r.replace("e","Ã10"),r=(r+=t._toSuperScript(s)).replace("+","")}(r):"engineering"===e?function(e){var i=e.indexOf("e"),s=e.slice(i+1),r=e.slice(0,i),n=parseInt(s,10)%3;if(0===n)return e;if(r*=Math.pow(10,n),s>0){var o=e.slice(0,i).length-n-2;o>=0&&(r=r.toFixed(o))}var a,l=parseInt(s,10)-n;return a=l<0?"":"+",void 0!==t.decimalDigits?r=Number(r).toFixed(t.decimalDigits):void 0!==t.digits&&(r=Number(Number(r).toPrecision(t.digits)).toString()),r+"e"+a+l}(r):(void 0!==t.decimalDigits?s=t.decimalDigits:void 0!==t.digits&&(s=t.digits-1),void 0!==s&&(r=Number(i).toExponential(s)),r)},_toSuperScript:function(e,t){for(var i="â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹",s="",r=0;r<e.length;r++)if(!0===t){var n=i.indexOf(e.charAt(r));s+=-1!==n?"-0123456789"[n]:e[r]}else{var o="-0123456789".indexOf(e.charAt(r));s+=-1!==o?i[o]:e[r]}return s},_incrementOrDecrement:function(e){var t,i=this.element===document.activeElement,s=!1;if("u"!==this.int64||"0"!==this._number.toString()||"subtract"!==e){if(i&&(t=this._getCaretPosition(),this._setCaretPosition(t)),"s"===this.int64?(this._number=new this.longObj.math.Long.fromString(this.element.value,this._radixNumber),s=this._number.isNegative()):"u"===this.int64?this._number=this._toBigNumberDecimal(this.element.value):!1===this.int64&&(this._number=Number(this._discardDecimalSeparator(this.element.value))),"simple"===this.spinMode||"advanced"===this.spinMode&&!1===i||!0===s&&10!==this._radixNumber)!1!==this.int64?this._number=this._number[e](this._spinButtonsStepObject):"add"===e?this._number+=this._spinButtonsStepObject:this._number-=this._spinButtonsStepObject;else{if(0===t||isNaN(this.element.value.charAt(t-1))&&this.element.value.charAt(t-1)!==this.decimalSeparator)return;var r,n=this.element.value;if(!1!==this.int64){r=n.length-t;var o=new BigNumber(this._radixNumber).pow(r);"s"===this.int64&&(o=new this.longObj.math.Long.fromString(o.toString(),10)),this._number=this._number[e](this._spinButtonsStepObject.multiply(o))}else{var a,l=n.indexOf(this.decimalSeparator),h=1,d=0;!0===this._eNotation&&(a=n.toLowerCase().indexOf("e"),d=Number(n.slice(a+1)),h=Math.pow(10,d)),r=-1===l?this._eNotation?n.slice(0,a).length-t:n.length-t:t-1<=l?t>=l?0:l-t:l-t+1,"add"===e?!this._eNotation||this._eNotation&&t<a+3?this._number+=this._spinButtonsStepObject*Math.pow(10,r)*h:this._number*=10:!this._eNotation||this._eNotation&&t<a+3?this._number-=this._spinButtonsStepObject*Math.pow(10,r)*h:this._number/=10}}if(!1!==this.int64)this.element.value=this._number.toString(this._radixNumber);else switch(this.outputNotation){case"default":this._checkNotation(this._number.toString()),!0===this._eNotation?this.element.value=this._largeExponentialToDecimal(this._number):this.element.value=this._validateDigits(this._number);break;case"exponential":var c=this._number.toExponential();this.element.value=this._applyDecimalSeparator(c);break;case"engineering":this.element.value=this._applyDecimalSeparator(this._getDecimalNotation("engineering"))}this._change(),this._handleOutputNotation()}},_negativeBinary:function(e,t){for(var i="";e.length<64;)e="0"+e;for(var s=0;s<e.length;s++){i+="1"===e.charAt(s)?"0":"1"}for(var r=!0,n="",o=i.length-1;o>=0;o--){var a;"0"===i.charAt(o)?!0===r?(a="1",r=!1):a="0":a=!0===r?"0":"1",n=a+""+n}switch(t){case 2:return n;case 8:n="00"+n;for(var l="",h=22;h>=1;h--){var d=n[3*h-3]+""+n[3*h-2]+n[3*h-1];l=parseInt(d,2).toString(8)+""+l}return l;case 16:for(var c="",u=16;u>=1;u--){var p=n[4*u-4]+""+n[4*u-3]+n[4*u-2]+n[4*u-1];c=parseInt(p,2).toString(16)+""+c}return c}},_toBigNumberDecimal:function(e){var t,i=this._radixNumber;if(10===i)t=new BigNumber(e);else{t=new BigNumber(0);for(var s=e.length-1;s>=0;s--){var r=new BigNumber(parseInt(e.charAt(s),i));t=t.add(r.multiply(new BigNumber(i).pow(e.length-1-s)))}}return t},_checkNotation:function(e){void 0===e&&(e=this.element.value),-1!==e.toString().toLowerCase().indexOf("e")?this._eNotation=!0:this._eNotation=!1},_discardDecimalSeparator:function(e,t){if(void 0===t&&(t=this.decimalSeparator),"."!==t&&e!==1/0&&e!==Number.NEGATIVE_INFINITY){var i=new RegExp(t,"g");return e.replace(i,".")}return e},_applyDecimalSeparator:function(e){return"."!==this.decimalSeparator&&(e=e.replace(/\./g,this.decimalSeparator)),e},_removeClass:function(t,i){e(t).removeClass(i)},_find:function(t,i){for(var s=e(i).children(),r=0;r<s.length;r++){var n=s[r];if(-1!==n.className.indexOf(t))return n}},_checkStructure:function(){if("div"===this.element.nodeName.toLowerCase()){var e=this.element.getElementsByTagName("div"),t=0;this.spinButtons&&(t+=1),this.dropDown&&(t+=1),1===t&&2===e.length||0===t&&1===e.length?this.element.removeChild(e[0]):0===t&&2===e.length&&(this.element.removeChild(e[1]),this.element.removeChild(e[0]))}},_Long:function(){var e=this;e.longObj={};var t=e.longObj;t.math={},t.math.Long={},t.math.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},t.math.Long.IntCache={},t.math.Long.fromInt=function(e){if(-128<=e&&e<128){var i=t.math.Long.IntCache[e];if(i)return i}var s=new t.math.Long(0|e,e<0?-1:0);return-128<=e&&e<128&&(t.math.Long.IntCache[e]=s),s},t.math.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?t.math.Long.ZERO:e<=-t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MIN_VALUE:e+1>=t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MAX_VALUE:e<0?t.math.Long.fromNumber(-e).negate():new t.math.Long(e%t.math.Long.TWO_PWR_32_DBL_|0,e/t.math.Long.TWO_PWR_32_DBL_|0)},t.math.Long.fromBits=function(e,i){return new t.math.Long(e,i)},t.math.Long.fromString=function(e,i){if(0===e.length)throw new Error("number format error: empty string");var s=i||10;if(s<2||36<s)throw new Error("radix out of range: "+s);if("-"===e.charAt(0))return t.math.Long.fromString(e.substring(1),s).negate();if(e.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+e);for(var r=t.math.Long.fromNumber(Math.pow(s,8)),n=t.math.Long.ZERO,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+a),s);if(a<8){var h=t.math.Long.fromNumber(Math.pow(s,a));n=n.multiply(h).add(t.math.Long.fromNumber(l))}else n=(n=n.multiply(r)).add(t.math.Long.fromNumber(l))}return n},t.math.Long.TWO_PWR_16_DBL_=65536,t.math.Long.TWO_PWR_24_DBL_=1<<24,t.math.Long.TWO_PWR_32_DBL_=t.math.Long.TWO_PWR_16_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_31_DBL_=t.math.Long.TWO_PWR_32_DBL_/2,t.math.Long.TWO_PWR_48_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_64_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_32_DBL_,t.math.Long.TWO_PWR_63_DBL_=t.math.Long.TWO_PWR_64_DBL_/2,t.math.Long.ZERO=t.math.Long.fromInt(0),t.math.Long.ONE=t.math.Long.fromInt(1),t.math.Long.NEG_ONE=t.math.Long.fromInt(-1),t.math.Long.MAX_VALUE=t.math.Long.fromBits(-1,2147483647),t.math.Long.MIN_VALUE=t.math.Long.fromBits(0,-2147483648),t.math.Long.TWO_PWR_24_=t.math.Long.fromInt(1<<24),t.math.Long.prototype.toInt=function(){return this.lowBits},t.math.Long.prototype.toNumber=function(){return this.highBits*t.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},t.math.Long.prototype.toString=function(i){var s,r,n=i||10;if(n<2||36<n)throw new Error("radix out of range: "+n);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(t.math.Long.MIN_VALUE)){var o=t.math.Long.fromNumber(n),a=this.div(o);return s=a.multiply(o).subtract(this),a.toString(n)+s.toInt().toString(n)}switch(n){case 2:case 8:case 16:return r=this.negate().toString(2),e._negativeBinary(r,n);default:return r="-"+this.negate().toString(n)}}var l=t.math.Long.fromNumber(Math.pow(n,6));for(s=this,r="";;){var h=s.div(l),d=s.subtract(h.multiply(l)).toInt().toString(n);if((s=h).isZero())return d+r;for(;d.length<6;)d="0"+d;r=""+d+r}},t.math.Long.prototype.getHighBits=function(){return this.highBits},t.math.Long.prototype.getLowBits=function(){return this.lowBits},t.math.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:t.math.Long.TWO_PWR_32_DBL_+this.lowBits},t.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.highBits?this.highBits:this.lowBits,i=31;i>0&&0==(e&1<<i);i--);return 0!==this.highBits?i+33:i+1},t.math.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},t.math.Long.prototype.isNegative=function(){return this.highBits<0},t.math.Long.prototype.isOdd=function(){return 1==(1&this.lowBits)},t.math.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},t.math.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},t.math.Long.prototype.lessThan=function(e){return this.compare(e)<0},t.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},t.math.Long.prototype.greaterThan=function(e){return this.compare(e)>0},t.math.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},t.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},t.math.Long.prototype.negate=function(){return this.equals(t.math.Long.MIN_VALUE)?t.math.Long.MIN_VALUE:this.not().add(t.math.Long.ONE)},t.math.Long.prototype.add=function(e){var i=this.highBits>>>16,s=65535&this.highBits,r=this.lowBits>>>16,n=65535&this.lowBits,o=e.highBits>>>16,a=65535&e.highBits,l=e.lowBits>>>16,h=0,d=0,c=0,u=0;return c+=(u+=n+(65535&e.lowBits))>>>16,u&=65535,d+=(c+=r+l)>>>16,c&=65535,h+=(d+=s+a)>>>16,d&=65535,h+=i+o,h&=65535,t.math.Long.fromBits(c<<16|u,h<<16|d)},t.math.Long.prototype.subtract=function(e){return this.add(e.negate())},t.math.Long.prototype.multiply=function(e){if(this.isZero())return t.math.Long.ZERO;if(e.isZero())return t.math.Long.ZERO;if(this.equals(t.math.Long.MIN_VALUE))return e.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO;if(e.equals(t.math.Long.MIN_VALUE))return this.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(t.math.Long.TWO_PWR_24_)&&e.lessThan(t.math.Long.TWO_PWR_24_))return t.math.Long.fromNumber(this.toNumber()*e.toNumber());var i=this.highBits>>>16,s=65535&this.highBits,r=this.lowBits>>>16,n=65535&this.lowBits,o=e.highBits>>>16,a=65535&e.highBits,l=e.lowBits>>>16,h=65535&e.lowBits,d=0,c=0,u=0,p=0;return u+=(p+=n*h)>>>16,p&=65535,c+=(u+=r*h)>>>16,u&=65535,c+=(u+=n*l)>>>16,u&=65535,d+=(c+=s*h)>>>16,c&=65535,d+=(c+=r*l)>>>16,c&=65535,d+=(c+=n*a)>>>16,c&=65535,d+=i*h+s*l+r*a+n*o,d&=65535,t.math.Long.fromBits(u<<16|p,d<<16|c)},t.math.Long.prototype.div=function(e){if(e.isZero())throw new Error("division by zero");if(this.isZero())return t.math.Long.ZERO;var i,s;{if(this.equals(t.math.Long.MIN_VALUE))return e.equals(t.math.Long.ONE)||e.equals(t.math.Long.NEG_ONE)?t.math.Long.MIN_VALUE:e.equals(t.math.Long.MIN_VALUE)?t.math.Long.ONE:(i=this.shiftRight(1).div(e).shiftLeft(1)).equals(t.math.Long.ZERO)?e.isNegative()?t.math.Long.ONE:t.math.Long.NEG_ONE:(s=this.subtract(e.multiply(i)),i.add(s.div(e)));if(e.equals(t.math.Long.MIN_VALUE))return t.math.Long.ZERO}if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var r=t.math.Long.ZERO;for(s=this;s.greaterThanOrEqual(e);){i=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var n=Math.ceil(Math.log(i)/Math.LN2),o=n<=48?1:Math.pow(2,n-48),a=t.math.Long.fromNumber(i),l=a.multiply(e);l.isNegative()||l.greaterThan(s);)i-=o,l=(a=t.math.Long.fromNumber(i)).multiply(e);a.isZero()&&(a=t.math.Long.ONE),r=r.add(a),s=s.subtract(l)}return r},t.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},t.math.Long.prototype.not=function(){return t.math.Long.fromBits(~this.lowBits,~this.highBits)},t.math.Long.prototype.and=function(e){return t.math.Long.fromBits(this.lowBits&e.lowBits,this.highBits&e.highBits)},t.math.Long.prototype.or=function(e){return t.math.Long.fromBits(this.lowBits|e.lowBits,this.highBits|e.highBits)},t.math.Long.prototype.xor=function(e){return t.math.Long.fromBits(this.lowBits^e.lowBits,this.highBits^e.highBits)},t.math.Long.prototype.shiftLeft=function(e){if(0===(e&=63))return this;var i=this.lowBits;if(e<32){var s=this.highBits;return t.math.Long.fromBits(i<<e,s<<e|i>>>32-e)}return t.math.Long.fromBits(0,i<<e-32)},t.math.Long.prototype.shiftRight=function(e){if(0===(e&=63))return this;var i=this.highBits;if(e<32){var s=this.lowBits;return t.math.Long.fromBits(s>>>e|i<<32-e,i>>e)}return t.math.Long.fromBits(i>>e-32,i>=0?0:-1)},t.math.Long.prototype.shiftRightUnsigned=function(e){if(0===(e&=63))return this;var i=this.highBits;if(e<32){var s=this.lowBits;return t.math.Long.fromBits(s>>>e|i<<32-e,i>>>e)}return 32===e?t.math.Long.fromBits(i,0):t.math.Long.fromBits(i>>>e-32,0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxComplexInput","",{}),e.extend(e.jqx._jqxComplexInput.prototype,{defineInstance:function(){e.extend(!0,this,{width:null,height:null,outputNotation:"default",value:"",spinButtons:!1,spinButtonsStep:1,interval:null,spinButtonsWidth:18,spinMode:"simple",placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,readOnly:!1,textAlign:"right",upperCase:!1,decimalSeparator:".",digits:8,decimalDigits:null,min:null,max:null,events:["change","valueChanged","textChanged"]})},createInstance:function(){this._firefox="mozilla"===e.jqx.browser.browser,this._oldIE=e.jqx.browser.msie&&e.jqx.browser.version<9,this._currentNumber={},this._allowedCharacters=new RegExp(/([\+\-0-9ei])/i),this.render(),this._initialized=!0},render:function(){if(!0!==this._initialized&&"DIV"===this.element.nodeName.toUpperCase()){this.baseHost=this.host,this.baseElement=this.element;var t=this.host.data(),i=this.baseElement.getElementsByTagName("input")[0];i||((i=document.createElement("input")).setAttribute("type","text"),this.baseElement.appendChild(i)),this.host=e(i),this.element=i,this.host.data(t);var s=this.baseElement.getElementsByTagName("div")[0];s&&!1===this.spinButtons&&this.baseElement.removeChild(s)}if(!0===this.spinButtons){if(!this.baseHost)throw new Error("jqxComplexInput: Invalid HTML structure. Please initialize the complex input from a div with an input and another div inside.");this._appendSpinButtons()}this._handlespinButtonsInterval(),!0===this.readOnly&&this.element.setAttribute("readonly",!0),this._addClasses(),this._setSize(),!0===this._initialized&&this._removeHandlers(),this._addHandlers(),this._suppressEvent=!0;var r=this.value.replace(/\s+/g,"");this.val(r),this._suppressEvent=!1,this._refreshPlaceHolder()},refresh:function(e){!0!==e&&this.render()},destroy:function(){this._removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove()},val:function(t){var i,s;if("string"!=typeof t&&("object"!=typeof t||!1!==e.isEmptyObject(t)))return this.element.value;if("string"==typeof t)if(-1===(t=t.toLowerCase()).indexOf("e"))i=this._getReal(t),s=this._getImaginary(t);else{var r=this._exponentialToDecimal(t);i=1*r.realPart,s=1*r.imaginaryPart}else"object"==typeof t&&!1===e.isEmptyObject(t)&&(i=t.real,s=t.imaginary);var n=i+" "+(s>=0?"+":"-")+" "+Math.abs(s)+"i";n!==this._currentNumber.value&&(this.element.value=n,this._onChange(this.value),"default"!==this.outputNotation&&this._setNotation())},getReal:function(){var e=this.getDecimalNotation("real",this.outputNotation);return e=e.toString().replace(".",this.decimalSeparator)},_getReal:function(t){(!t||"object"==typeof t&&!0===e.isEmptyObject(t))&&(t=this.element.value);var i=e.trim(t),s="";if(0===(t.match(/i/g)||[]).length)return i;if(!0!==this._eNotation){"+"===t.charAt(0)?i=i.slice(1,t.length):"-"===t.charAt(0)&&(i=i.slice(1,t.length),s="-");var r=function(t){return i=i.slice(0,t),i=e.trim(i),s+""+i},n=i.indexOf("+");if(-1!==n)return r(n);var o=i.indexOf("-");return-1!==o?r(o):"0"}return this._exponentialToDecimal(i).realPart.toExponential()},getImaginary:function(){var e=this.getDecimalNotation("imaginary",this.outputNotation);return e=e.toString().replace(".",this.decimalSeparator)},_getImaginary:function(t){if((!t||"object"==typeof t&&!0===e.isEmptyObject(t))&&(t=this.element.value),0===(t.match(/i/g)||[]).length)return"0";var i=e.trim(t),s="";if(!0!==this._eNotation){"-"!==i.charAt(0)&&"+"!==i.charAt(0)||(s="-"===i.charAt(0)?"-":"+",i=e.trim(i.slice(1,t.length)));var r=function(t,s){return i=i.slice(t+1,i.indexOf("i")),""===(i=e.trim(i))&&(i=1),s+""+i},n=i.indexOf("+");if(-1!==n)return r(n,"");var o=i.indexOf("-");return-1!==o?r(o,"-"):""===(i=s+""+i.slice(0,i.indexOf("i")))||"+"===i?"1":"-"===i?"-1":i}return this._exponentialToDecimal(i).imaginaryPart.toExponential()},_checkNotation:function(e){void 0===e&&(e=this.element.value),-1!==e.toString().toLowerCase().indexOf("e")?this._eNotation=!0:this._eNotation=!1},getDecimalNotation:function(e,t){var i=this;"real"===e?e=i._currentNumber.realPart:"imaginary"===e&&(e=i._currentNumber.imaginaryPart);var s,r=i._toNumber(e).toExponential();return"scientific"===t?function(e){var t=e.indexOf("e"),s=e.slice(t+1),r=e.slice(0,t+1);return r=r.replace("e","Ã10"),r=(r+=i._toSuperScript(s)).replace("+","")}(r):"engineering"===t?function(e){var t=e.indexOf("e"),s=e.slice(t+1),r=e.slice(0,t),n=parseInt(s,10)%3;if(0===n)return e;if(r*=Math.pow(10,n),s>0){var o=e.slice(0,t).length-n-2;o>=0&&(r=r.toFixed(o))}var a,l=parseInt(s,10)-n;return a=l<0?"":"+",void 0!==i.decimalDigits?r=Number(r).toFixed(i.decimalDigits):void 0!==i.digits&&(r=Number(Number(r).toPrecision(i.digits)).toString()),r+"e"+a+l}(r):"exponential"===t?(void 0!==i.decimalDigits?s=i.decimalDigits:void 0!==i.digits&&(s=i.digits-1),null!=s&&(r=Number(e).toExponential(s)),r):Number(r)},clear:function(){var e=this.element.value;this.element.value="",this._onChange(e)},propertyChangedHandler:function(t,i,s,r){if(r!==s){var n=t.element,o=t._spinButtonsContainerElement;switch(i){case"width":case"height":t._setSize();break;case"outputNotation":"default"===r?t.element.value=t._currentNumber.value:t._setNotation();break;case"value":t.element.value=r,t._onChange(s);break;case"spinButtons":var a=function(){t._removeClass(n,t.toThemeProperty("jqx-rc-all")),!1===t.rtl?(n.className+=" "+t.toThemeProperty("jqx-rc-l"),o.className+=" "+t.toThemeProperty("jqx-rc-r")):(n.className+=" "+t.toThemeProperty("jqx-rc-r"),o.className+=" "+t.toThemeProperty("jqx-rc-l"))};if(o)!1===r?(n.style.width="100%",o.style.display="none",n.className+=" "+t.toThemeProperty("jqx-rc-all")):(t._oldIE?n.style.width=n.offsetWidth-t.spinButtonsWidth+"px":n.style.width="calc(100% - "+t.spinButtonsWidth+"px)",o.style.display="block",a());else if(!0===r){var l=document.createElement("div");if(t.baseElement)t.rtl?t.baseElement.insertBefore(l,n):t.baseElement.appendChild(l),t.render();else{var h=n.id,d=n.parentNode,c=n.nextSibling,u=document.createElement("div");n.removeAttribute("id"),u.setAttribute("id",h),u.appendChild(n),t.rtl?u.insertBefore(l,n):u.appendChild(l),c?d.insertBefore(u,c):d.appendChild(u),t.baseElement=u,t.baseHost=e(u);var p=t.host.data();p.jqxComplexInput.host=t.baseHost,p.jqxComplexInput.element=u,t.baseHost.data(p),t.element.style.height="",t.render()}o=t._spinButtonsContainerElement,a()}break;case"spinButtonsWidth":if(o&&t.spinButtons){var f=s-r,m=r-1+"px";o.style.width=r+"px",t._upbutton.style.width=m,t._downbutton.style.width=m,t._oldIE?n.style.width=n.offsetWidth-f+"px":n.style.width="calc(100% - "+r+"px)"}break;case"placeHolder":t._refreshPlaceHolder(s);break;case"roundedCorners":o?!0===r?!1===t.rtl?(n.className+=" "+t.toThemeProperty("jqx-rc-l"),o.className+=" "+t.toThemeProperty("jqx-rc-r")):(n.className+=" "+t.toThemeProperty("jqx-rc-r"),o.className+=" "+t.toThemeProperty("jqx-rc-l")):!1===t.rtl?(t._removeClass(n,t.toThemeProperty("jqx-rc-l")),t._removeClass(o,t.toThemeProperty("jqx-rc-r"))):(t._removeClass(n,t.toThemeProperty("jqx-rc-r")),t._removeClass(o,t.toThemeProperty("jqx-rc-l"))):!0===r?n.className+=" "+t.toThemeProperty("jqx-rc-all"):t._removeClass(n,t.toThemeProperty("jqx-rc-all"));break;case"disabled":!0===r?(n.setAttribute("disabled",!0),n.className+=" "+t.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled"),o&&(o.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"))):(n.removeAttribute("disabled"),t._removeClass(n,t.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),o&&t._removeClass(o,t.toThemeProperty("jqx-fill-state-disabled")));break;case"rtl":o&&(!0===r?(n.className+=" "+t.toThemeProperty("jqx-complex-input-child-rtl"),t._removeClass(o,t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),o.className+=" "+t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"),!0===t.roundedCorners&&(t._removeClass(n,t.toThemeProperty("jqx-rc-l")),n.className+=" "+t.toThemeProperty("jqx-rc-r"),t._removeClass(o,t.toThemeProperty("jqx-rc-r")),o.className+=" "+t.toThemeProperty("jqx-rc-l"))):(t._removeClass(n,t.toThemeProperty("jqx-complex-input-child-rtl")),t._removeClass(o,t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),o.className+=" "+t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr"),!0===t.roundedCorners&&(t._removeClass(n,t.toThemeProperty("jqx-rc-r")),n.className+=" "+t.toThemeProperty("jqx-rc-l"),t._removeClass(o,t.toThemeProperty("jqx-rc-l")),o.className+=" "+t.toThemeProperty("jqx-rc-r"))));break;case"theme":e.jqx.utilities.setTheme(s,r,t.host);break;case"readOnly":!0===r?n.setAttribute("readonly",!0):n.removeAttribute("readonly");break;case"textAlign":t._removeClass(n,t.toThemeProperty("jqx-complex-input-align-"+s)),n.className+=" "+t.toThemeProperty("jqx-complex-input-align-"+r);break;case"upperCase":r?(t._removeClass(n,t.toThemeProperty("jqx-complex-input-lower-case")),n.className+=" "+t.toThemeProperty("jqx-complex-input-upper-case")):(t._removeClass(n,t.toThemeProperty("jqx-complex-input-upper-case")),n.className+=" "+t.toThemeProperty("jqx-complex-input-lower-case"));break;case"digits":case"decimalDigits":case"min":case"max":t._onChange(t.value);break;case"decimalSeparator":var g=new RegExp(s,"g");t.element.value=t.element.value.replace(g,r);break;case"interval":t._handlespinButtonsInterval()}}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_appendSpinButtons:function(){var e=this,t=e.baseElement.getElementsByTagName("div")[0];function i(i){i.setAttribute("unselectable","on"),i.className=e.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button"),i.style.width=e.spinButtonsWidth-1+"px",t.appendChild(i)}function s(t,i,s){t.setAttribute("unselectable","on"),t.className=e.toThemeProperty("jqx-input-icon jqx-formatted-input-icon jqx-icon-arrow-"+s),i.appendChild(t)}t||(t=document.createElement("div"),e.baseElement.appendChild(t)),t.setAttribute("unselectable","on"),t.className=e.toThemeProperty("jqx-fill-state-normal jqx-complex-input-child jqx-formatted-input-spin-buttons-container jqx-complex-input-spin-buttons-container"),t.style.width=e.spinButtonsWidth+"px",!1===e.rtl?t.className+=" "+e.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr"):t.className+=" "+e.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"),e._upbutton=document.createElement("div"),i(e._upbutton),e._downbutton=document.createElement("div"),i(e._downbutton),e._upArrow=document.createElement("div"),s(e._upArrow,e._upbutton,"up"),e._downArrow=document.createElement("div"),s(e._downArrow,e._downbutton,"down"),e._spinButtonsContainerElement=t},_addClasses:function(){var e=this.element,t="",i="";t+=" jqx-widget jqx-input jqx-complex-input jqx-widget-content jqx-complex-input-align-"+this.textAlign,this.baseElement&&(this.baseElement.className+=" "+this.toThemeProperty("jqx-widget jqx-complex-input-parent"),t+=" jqx-complex-input-child"),!0===this.roundedCorners&&(this._spinButtonsContainerElement?!1===this.rtl?(t+=" jqx-rc-l",i+=" jqx-rc-r"):(t+=" jqx-rc-r",i+=" jqx-rc-l"):t+=" jqx-rc-all"),!0===this.disabled&&(e.disabled=!0,t+=" jqx-fill-state-disabled jqx-input-disabled",this._spinButtonsContainerElement&&(i+=" jqx-fill-state-disabled")),!0===this.rtl&&(t+=" jqx-complex-input-child-rtl",i+=" jqx-complex-input-child-rtl"),!1===this.upperCase?t+=" jqx-complex-input-lower-case":t+=" jqx-complex-input-upper-case",e.className+=" "+this.toThemeProperty(t),this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty(i))},_refreshPlaceHolder:function(e){"placeholder"in this.element?this.element.placeholder=this.placeHolder:""!==this.element.value&&this.element.value!==e||(this.element.value=this.placeHolder)},_setSize:function(){var t=this,i="string"==typeof t.width&&-1!==t.width.indexOf("%")?1:0,s=t.spinButtons?t.spinButtonsWidth:0,r="string"==typeof t.height&&-1!==t.height.indexOf("%");function n(e){return"string"==typeof e?"medium"===e?1:parseInt(e,10):e}function o(){if(t.baseElement){var e=t.baseElement.currentStyle;if(t.element.style.height=Math.max(0,t.baseElement.offsetHeight-(n(e.borderTopWidth)+n(e.borderBottomWidth)+n(e.paddingTop)+n(e.paddingBottom))+i)+"px",t.element.style.lineHeight=t.element.style.height,t.spinButtons){t.element.style.width=Math.max(0,t.baseElement.offsetWidth-s-i)+"px";var o=t._spinButtonsContainerElement.currentStyle;t._spinButtonsContainerElement.style.height=Math.max(0,t.baseElement.offsetHeight-(n(o.borderTopWidth)+n(o.borderBottomWidth)+n(o.paddingTop)+n(o.paddingBottom))+i)+"px"}else t.element.style.width="100%"}else r&&(t.element.style.lineHeight=t.element.offsetHeight+"px")}if(t.baseElement?(t.baseElement.style.width=t._toPx(t.width),t.baseElement.style.height=t._toPx(t.height),t._oldIE?o():t.element.style.width="calc(100% - "+(s+i)+"px)"):(t.element.style.width=t._toPx(t.width),t.element.style.height=t._toPx(t.height)),t._oldIE){t.element.style.lineHeight=t.element.offsetHeight+"px";var a=t.baseHost||t.host;e.jqx.utilities.resize(a,function(){o()})}},_toPx:function(e){return"number"==typeof e?e+"px":e},_addHandlers:function(){var e,t=this,i=t.element,s=t._spinButtonsContainerElement;e=t.baseElement?t.baseElement.id:i.id,t.addHandler(t.host,"focus.jqxComplexInput"+e,function(){i.className+=" "+t.toThemeProperty("jqx-fill-state-focus"),s&&(s.className+=" "+t.toThemeProperty("jqx-fill-state-focus")),"placeholder"in i||i.value!==t.placeHolder||(i.value="")}),t.addHandler(t.host,"blur.jqxComplexInput"+e,function(){t._removeClass(i,t.toThemeProperty("jqx-fill-state-focus")),s&&t._removeClass(s,t.toThemeProperty("jqx-fill-state-focus")),(i.value!==t.value||"placeholder"in i||!("placeholder"in i)&&""===i.value)&&t._onChange(t.value),"placeholder"in i||""!==i.value&&i.value!==t.placeHolder||(i.value=t.placeHolder),"default"!==t.outputNotation&&t._setNotation()}),t.addHandler(t.host,"keydown.jqxComplexInput"+e,function(e){var i=e.charCode?e.charCode:e.which;if(t.readOnly)return!1;40===i?t._incrementOrDecrement(-1):38===i&&t._incrementOrDecrement(1)}),t.addHandler(t.host,"keypress.jqxComplexInput"+e,function(e){if(t.valChanged=!1,!t._firefox||!e.ctrlKey){var s=e.key||String.fromCharCode(e.keyCode);if(!0===t._allowedCharacters.test(s)){if("+"===s||"-"===s){var r=(i.value.match(/-/g)||[]).length+(i.value.match(/\+/g)||[]).length;if("default"===t.outputNotation&&r>1||"default"!==t.outputNotation&&r>3)return e.preventDefault(),!1}else if("i"===s.toLowerCase()){if(-1!==i.value.toLowerCase().indexOf(s.toLowerCase()))return e.preventDefault(),!1}else if("e"===s.toLowerCase()){if((i.value.toLowerCase().match(/e/g)||[]).length>1)return e.preventDefault(),!1}}else if(s===t.decimalSeparator){if((i.value.match(new RegExp("\\"+t.decimalSeparator,"g"))||[]).length>1)return e.preventDefault(),!1}else{if("Enter"!==s)return e.preventDefault(),!1;if(i.value!==t.value)return void t._onChange(t.value)}var n=t._getCaretPosition(),o=i.value,a=o.slice(0,n)+s+o.slice(n);a!==o&&(t.valChanged=!0,t.valueChangedOld=o,t.valueChangedNew=a,t._raiseEvent("2",{value:a,oldValue:o}))}}),t.addHandler(t.host,"keyup.jqxComplexInput"+e,function(e){t.valChanged&&(t._raiseEvent("1",{value:t.valueChangedNew,oldValue:t.valueChangedOld}),t._supressValueChangedEvent=!0),s&&(""===e.target.value?s.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"):!1===t.disabled&&t._removeClass(s,t.toThemeProperty("jqx-fill-state-disabled")))}),t.addHandler(t.host,"mousewheel.jqxComplexInput"+e,function(e){t.host.is(":focus")&&(e.originalEvent.wheelDelta>0?t._incrementOrDecrement(1):t._incrementOrDecrement(-1))}),s&&(t.addHandler(t._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement(1))}),t.addHandler(t._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement(-1))}),t.addHandler(t._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._upbutton,"mouseenter.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._upArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-up-hover"))}),t.addHandler(t._downbutton,"mouseenter.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._downArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-hover"))}),t.addHandler(t._upbutton,"mouseleave.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._upArrow,t.toThemeProperty("jqx-icon-arrow-up-hover")))}),t.addHandler(t._downbutton,"mouseleave.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._downArrow,t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(document.body,"mouseup.jqxComplexInputSpinButtons"+e,function(){t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed")),t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))}))},_removeHandlers:function(){var e;e=this.baseElement?this.baseElement.id:this.element.id,this.removeHandler(this.host,"focus.jqxComplexInput"+e),this.removeHandler(this.host,"blur.jqxComplexInput"+e),this.removeHandler(this.host,"keydown.jqxComplexInput"+e),this.removeHandler(this.host,"keypress.jqxComplexInput"+e),this.removeHandler(this.host,"keyup.jqxComplexInput"+e),this.removeHandler(this.host,"mousewheel.jqxComplexInput"+e),this._spinButtonsContainerElement&&(this.removeHandler(this._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+e),this.removeHandler(this._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+e),this.removeHandler(this._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+e),this.removeHandler(this._upbutton,"mouseenter.jqxComplexInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mouseenter.jqxComplexInputSpinButtonDown"+e),this.removeHandler(this._upbutton,"mouseleave.jqxComplexInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mouseleave.jqxComplexInputSpinButtonDown"+e),this.removeHandler(document.body,"mouseup.jqxComplexInputSpinButtons"+e))},_validatePart:function(e){return(null!==this.decimalDigits?this._toNumber(e).toFixed(this.decimalDigits):Number(this._toNumber(e).toPrecision(this.digits)).toString()).replace(".",this.decimalSeparator)},_onChange:function(t){var i,s;this._checkNotation();var r=this.element.value.toLowerCase();if(""!==e.trim(r)&&e.trim(r)!==this.placeHolder){if(-1!==r.indexOf("++")||-1!==r.indexOf("+-")){var n=r.indexOf("+");r=r.slice(0,n+1)+""+r.slice(n+2,r.length)}else if(-1!==r.indexOf("--")||-1!==r.indexOf("-+")){var o=r.indexOf("-");r=r.slice(0,o+1)+""+r.slice(o+2,r.length)}if(-1!==r.indexOf(this.decimalSeparator+this.decimalSeparator)){var a=r.indexOf(this.decimalSeparator);r=r.slice(0,a+1)+""+r.slice(a+2,r.length)}if("."!==this.decimalSeparator){var l=new RegExp(this.decimalSeparator,"g");r=r.replace(l,".")}var h=this._validatePart(Number(this._getReal(r)).toString()),d=this._validatePart(Number(this._getImaginary(r)).toString()),c=parseFloat(d.replace(this.decimalSeparator,"."))>=0?"+":"-";if(i=h,s=d,"-"===d.charAt(0)&&(d=d.slice(1)),isNaN(i.replace(this.decimalSeparator,"."))||isNaN(s.replace(this.decimalSeparator,".")))return void(this.element.value=t);this.element.value=h+" "+c+" "+d+"i",this.value=this.element.value,!1===this.disabled&&this._spinButtonsContainerElement&&this._removeClass(this._spinButtonsContainerElement,this.toThemeProperty("jqx-fill-state-disabled"))}else i=0,s=0,this.value="",this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-disabled"));this._currentNumber={value:this.value,realPart:i,imaginaryPart:s};var u=this._validate();!0!==u&&(this._currentNumber={value:u.value,realPart:u.realPart,imaginaryPart:u.imaginaryPart},this.value=u.value,this.element.value=this.value),"default"!==this.outputNotation&&""!==this.element.value&&this._setNotation(),this.value===t&&!0!==this._suppressEvent||!0!==this._suppressEvent&&(!0!==this._supressValueChangedEvent?this._raiseEvent("1",{value:this.value,oldValue:t}):this._supressValueChangedEvent=!1,this._raiseEvent("0",{value:this.value,oldValue:t,realPart:i,imaginaryPart:s}))},_handlespinButtonsInterval:function(){null!==this.interval&&(this._intervalRealPart=this._getReal(this.interval),this._intervalImaginaryPart=this._getImaginary(this.interval))},_incrementOrDecrement:function(e){var t=this;t._checkNotation();var i,s,r,n=t.element===document.activeElement,o=t.element.value;"default"===t.outputNotation?(s=t._getReal(),r=t._getImaginary()):(s=(s=t.getDecimalNotation("real",t.outputNotation)).replace(".",t.decimalSeparator),r=(r=t.getDecimalNotation("imaginary",t.outputNotation)).replace(".",t.decimalSeparator));var a=t._toNumber(s),l=t._toNumber(r);"-"===r.charAt(0)&&(r=r.slice(1));var h,d={},c={},u=s.length,p=r.length,f=s.indexOf(t.decimalSeparator),m=r.indexOf(t.decimalSeparator),g=0;n&&(i=t._getCaretPosition(),t._onChange(t.value),t._setCaretPosition(i)),d.from=o.indexOf(s),d.to=d.from+u,c.from=o.indexOf(r+"i"),c.to=c.from+p;var v=c.from-2;function x(i,s){return i+(n?t.spinButtonsStep:parseFloat(t["_interval"+s+"Part"]))*Math.pow(10,g)*e}function b(e,t,n,o){var a="-"===("real"===e?s:r).charAt(0)?1:0;if(i>=n.from+1+a&&i<=n.to){if(-1!==o){var l=n.from+o;g=(h=l-(i-1))<=0?h:h-1}else g=n.to-i;return x(t)}return t}function w(n,o){var a,l,h;"real"===n?(a=s,l=d.from,h=d.to):(a=r,l=c.from,h=c.to);var u=a.toLowerCase().indexOf("e"),p=l+u;if("-"===a.charAt(0)&&i===l+1||i<=l||i>h||i===p+1||i===p+2)return"return";var f=a.indexOf(t.decimalSeparator),m=Number(a.charAt(u+2));return i>p+2&&i<h+1?o*=Math.pow(Math.pow(10,t.spinButtonsStep*e),Math.pow(10,h-i)):-1!==f?o+=i===l+f+1||i===l+f?t.spinButtonsStep*Math.pow(10,m)*e:t.spinButtonsStep*Math.pow(10,l+f+1-i)*Math.pow(10,m)*e:-1===f&&(o+=t.spinButtonsStep*Math.pow(10,p-i)*Math.pow(10,m)*e),o}if(void 0===i)null!==t.interval&&(a=x(a,"Real"),l=x(l,"Imaginary"));else if(i<=v)if("advanced"===t.spinMode){if(!0!==t._eNotation)a=b("real",a,d,f);else if("return"===(a=w("real",a)))return void t._setNotation()}else a=x(a);else if("advanced"===t.spinMode){if(!0!==t._eNotation)l=b("imaginary",l,c,m);else if("return"===(l=w("imaginary",l)))return void t._setNotation()}else l=x(l);var y=l>=0?"+":"-",_=a.toString().replace(".",t.decimalSeparator)+" "+y+" "+Math.abs(l).toString().replace(".",t.decimalSeparator)+"i";t.element.value=_,t._onChange(t.value),"default"!==t.outputNotation&&t._setNotation(),n&&t._setCaretPosition(i)},_getCaretPosition:function(){var e=this.element;if("selectionStart"in e)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange(),i=document.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-i}},_setCaretPosition:function(e){var t=this.element;setTimeout(function(){if("selectionStart"in t)t.focus(),t.setSelectionRange(e,e);else{var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},_exponentialToDecimal:function(t){var i=t.indexOf("e")+2,s=t.slice(i),r=s.indexOf("+"),n=s.indexOf("-");i=-1!==r&&(r<n||-1===n)?r:n;var o=s.slice(i),a=t.replace(o,""),l=(o=o.slice(0,o.length-1)).charAt(0);o=e.trim(o.slice(1)),"-"===l&&(o="-"+o);var h=this.decimalSeparator;if("."!==h){var d=new RegExp(h,"g");a=a.replace(d,"."),o=o.replace(d,".")}return{realPart:a=1*parseFloat(a).toFixed(20),imaginaryPart:o=1*parseFloat(o).toFixed(20)}},_setNotation:function(){var e=this.getDecimalNotation(this._currentNumber.realPart,this.outputNotation),t=this.getDecimalNotation(Math.abs(this._toNumber(this._currentNumber.imaginaryPart)),this.outputNotation),i=e+" "+(this._toNumber(this._currentNumber.imaginaryPart)>=0?"+":"-")+" "+t+"i";"."!==this.decimalSeparator&&(i=i.replace(/\./g,this.decimalSeparator)),this.element.value=i},_toSuperScript:function(e,t){for(var i="â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹",s="",r=0;r<e.length;r++)if(!0===t){var n=i.indexOf(e.charAt(r));s+=-1!==n?"-0123456789"[n]:e[r]}else{var o="-0123456789".indexOf(e.charAt(r));s+=-1!==o?i[o]:e[r]}return s},_toNumber:function(e){return"number"==typeof e?e:parseFloat(e.replace(this.decimalSeparator,"."))},_compare:function(e,t){var i=this._toNumber(this._getReal(e)),s=this._toNumber(this._getImaginary(e)),r=this._toNumber(this._getReal(t)),n=this._toNumber(this._getImaginary(t));return i<r?-1:i>r?1:s<n?-1:s>n?1:0},_validate:function(){var e=this,t=e._currentNumber.value,i=new RegExp(e.decimalSeparator,"g");function s(t){var s=t,r={};return"."!==e.decimalSeparator&&(s=t.replace(i,".")),r.realPart=e._getReal(s),r.imaginaryPart=e._getImaginary(s),r.value=function(t,i){t=e._validatePart(Number(t).toString()),i=e._validatePart(Number(i).toString());var s=parseFloat(i.replace(e.decimalSeparator,"."))>=0?"+":"-";return"-"===i.charAt(0)&&(i=i.slice(1)),t+" "+s+" "+i+"i"}(r.realPart,r.imaginaryPart),r}return null!==e.min&&-1===e._compare(t,e.min)?s(e.min):null===e.max||1!==e._compare(t,e.max)||s(e.max)},_removeClass:function(t,i){e(t).removeClass(i)}})}(jqxBaseFramework),function(e){var t={defineInstance:function(){var t={width:350,height:350,radius:"50%",endAngle:270,startAngle:30,int64:!1,editableLabels:!1,value:0,min:0,max:220,disabled:!1,ticksDistance:"20%",colorScheme:"scheme01",animationDuration:400,showRanges:!0,easing:"easeOutCubic",labels:null,pointer:null,cap:null,caption:null,border:null,ticksMinor:null,ticksMajor:null,tickMode:"default",niceInterval:!1,style:null,ranges:[],_radius:100,_border:null,_radiusDifference:2,_pointer:null,_labels:[],_cap:null,_ticks:[],_ranges:[],_gauge:null,_caption:null,_animationTimeout:10,renderer:null,_animations:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxGauge.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;if(i.that=this,e.jqx.aria(i),i._radius=i.radius,i.endAngle=i.endAngle*Math.PI/180+Math.PI/2,i.startAngle=i.startAngle*Math.PI/180+Math.PI/2,"s"===i.int64){if(!e.jqx.longInt)throw new Error("jqxGauge: Missing reference to jqxmath.js");e.jqx.longInt(i),i._value64=(new e.jqx.math).fromString(i.value.toString(),10),i._min64=(new e.jqx.math).fromString(i.min.toString(),10),i._max64=(new e.jqx.math).fromString(i.max.toString(),10)}else if("u"===i.int64){try{BigNumber}catch(e){throw new Error("jqxGauge: Missing reference to jqxmath.js")}i._value64=new BigNumber(i.value),i._min64=new BigNumber(i.min),i._max64=new BigNumber(i.max)}else i.value=new Number(i.value);i._refresh(),i.renderer.getContainer().css("overflow","hidden"),!1!==i.int64?i.setValue(i._value64,0):i.setValue(i.value,0),e.jqx.utilities.resize(i.host,function(){i._refresh(!0)}),i.host.addClass(i.toThemeProperty("jqx-widget"))},_validateEasing:function(){return!!e.easing[this.easing]},_validateProperties:function(){if(this.startAngle===this.endAngle)throw new Error("The end angle can not be equal to the start angle!");this._validateEasing()||(this.easing="linear"),this.ticksDistance=this._validatePercentage(this.ticksDistance,"20%"),this.border=this._borderConstructor(this.border,this),this.style=this.style||{fill:"#ffffff",stroke:"#E0E0E0"},this.ticksMinor=new this._tickConstructor(this.ticksMinor,this),this.ticksMajor=new this._tickConstructor(this.ticksMajor,this),this.cap=new this._capConstructor(this.cap,this),this.pointer=new this._pointerConstructor(this.pointer,this),this.labels=new this._labelsConstructor(this.labels,this),this.caption=new this._captionConstructor(this.caption,this);for(var e=0;e<this.ranges.length;e+=1)this.ranges[e]=new this._rangeConstructor(this.ranges[e],this)},_hostInit:function(e){var t=this._getScale(this.width,"width",this.host.parent()),i=this._getScale(this.height,"height",this.host.parent()),s=this._outerBorderOffset(),r=this.host;r.width(t),r.height(i),this.radius=0;var n=(this._getScale(this._radius,"width",this.host)||t/2)-s,o=(this._getScale(this._radius,"height",this.host)||i/2)-s;if(this.radius=Math.min(n,o),this._originalRadius=parseInt(this.radius,10)-this._radiusDifference,this._innerRadius=this._originalRadius,this.border&&(this._innerRadius-=this._getSize(this.border.size)),e||(r[0].innerHTML="<div />"),this._gaugeParent=r.children(),this._gaugeParent.width(t),this._gaugeParent.height(i),e){var a=this.renderer.getContainer();a[0].style.width=t+"px",a[0].style.height=i+"px"}else this.renderer.init(this._gaugeParent)},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return e.jqx.createRenderer(this,t)},_refresh:function(t){if(t)return this._ticksIterator=0,this._labelsIterator=0,this._ranges&&e(this._ranges).remove(),this._pointer&&e(this._pointer).remove(),this._pointer=null,this._ranges=[],this.niceInterval&&(this._labels&&e(this._labels).remove(),this._labels=[],this._ticks&&(e(this._ticks).remove(),this._ticks=[])),this._hostInit(t),void this._render(t);this.renderer||(this._isVML=!1,this.host.empty(),this._initRenderer(this.host)),this.renderer&&(this._ranges&&e(this._ranges).remove(),this._pointer&&e(this._pointer).remove(),this._labels&&e(this._labels).remove(),this._cap&&e(this._cap).remove(),this._ticks&&e(this._ticks).remove(),this._border&&e(this._border).remove(),this._caption&&e(this._caption).remove(),this._caption=null,this._labels=[],this._cap=null,this._ticks=[],this._ranges=[],this._border=null,this._pointer=null,this._validateProperties(),this._removeElements(),this._hostInit(),this._render(),this.setValue(this.value,0),this._editableLabels())},val:function(e){if(0==arguments.length||"object"==typeof e)return this.value;this.setValue(e,0)},refresh:function(e){!0!==e&&this._refresh.apply(this,Array.prototype.slice(arguments))},_outerBorderOffset:function(){return(parseInt(this.border.style["stroke-width"],10)||1)/2},_removeCollection:function(t){for(var i=0;i<t.length;i+=1)e(t[i]).remove();t=[]},_render:function(e){this._addBorder(e),this._addGauge(e),this._addRanges(e),this.niceInterval?this._addTicks():(this._addTicks(e),this._addLabels(e)),this._styleLabels(),this._addCaption(e),this._addPointer(e),this._addCap(e)},_addBorder:function(e){if(this.border.visible){if(e){var t=this._outerBorderOffset();return this._border.setAttribute("cx",this._originalRadius+t),this._border.setAttribute("cy",this._originalRadius+t),void this._border.setAttribute("r",this._originalRadius)}var i=this.border.style.fill;t=this._outerBorderOffset();i||(i="#BABABA"),this.border.showGradient&&(i.indexOf("url")<0&&i.indexOf("#grd")<0?this._originalColor=i:i=this._originalColor,i=this.renderer._toLinearGradient(i,!0,[[0,1],[25,1.1],[50,1.5],[100,1]])),this._border=this.renderer.circle(this._originalRadius+t,this._originalRadius+t,this._originalRadius),this.border.style.fill=i,this.renderer.attr(this._border,this.border.style)}},_addGauge:function(e){var t=this._originalRadius,i=(this.renderer._toLinearGradient("#ffffff",[[3,2],[100,1]],!0),this._outerBorderOffset());e?(this._gauge.setAttribute("cx",t+i),this._gauge.setAttribute("cy",t+i),this._gauge.setAttribute("r",this._innerRadius)):(this._gauge=this.renderer.circle(t+i,t+i,this._innerRadius),this.renderer.attr(this._gauge,this.style))},_addCap:function(t){var i="visible",s=this._outerBorderOffset();this.cap.visible||(i="hidden");var r,n=this._originalRadius,o=this._getSize(this.cap.size);t?(this._cap.setAttribute("cx",n+s),this._cap.setAttribute("cy",n+s),this._cap.setAttribute("r",o),this._capCenter=[n,n]):(r=this.renderer.circle(n+s,n+s,o),this._capCenter=[n,n],this.renderer.attr(r,this.cap.style),e(r).css("visibility",i),this._cap=r)},_addTicks:function(t){var i,s,r=this,n=this.ticksMinor,o=this.ticksMajor,a={};if(!1!==o.visible||!1!==n.visible||!1!==this.labels.visible){var l=0;if("s"===r.int64)if("default"===this.tickMode?this.niceInterval?(s=this._getNiceInterval("radial"),i=this._getNiceInterval("radial",!0)):(s=(new e.jqx.math).fromString(o.interval.toString(),10),i=(new e.jqx.math).fromString(n.interval.toString(),10)):(startToEnd=this._max64.subtract(this._min64),i=startToEnd.div((new e.jqx.math).fromString(n.number.toString(),10)),s=startToEnd.div((new e.jqx.math).fromString(o.number.toString(),10))),this.niceInterval){f(this._min64),g(this._min64);for(var h=u=this._min64.subtract(this._min64.modulo(s)).add(s);h.greaterThanOrEqual(this._min64);h=h.subtract(i))p=h;for(var d=p,c=u;(d.lessThan(this._max64)||c.lessThan(this._max64))&&!((l+=1)>250)&&(c.lessThanOrEqual(this._max64)&&(f(c),a[c.toString()]=!0,d.equals(u)?Math.abs(this._getAngleByValue(c)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&g(c):c.add(s).lessThan(this._max64)?g(c):Math.abs(this._getAngleByValue(c)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&g(c)),!a[d.toString()]&&d.lessThanOrEqual(r._max64)&&m(d),!r._checkForOverflow(d,i)&&!r._checkForOverflow(c,s));d=d.add(i),c=c.add(s));f(this._max64),g(this._max64)}else for(d=(new e.jqx.math).fromString(r.min.toString(),10),c=(new e.jqx.math).fromString(r.min.toString(),10);(d.lessThanOrEqual(r._max64)||c.lessThanOrEqual(r._max64))&&!((l+=1)>250);d=d.add(i),c=c.add(s))c.lessThanOrEqual(r._max64)&&o.visible&&(f(c),a[c.toString()]=!0),!a[d.toString()]&&n.visible&&d.lessThanOrEqual(r._max64)&&m(d);else if("u"===r.int64)if("default"===this.tickMode?this.niceInterval?(s=this._getNiceInterval("radial"),i=this._getNiceInterval("radial",!0)):(s=new BigNumber(o.interval),i=new BigNumber(n.interval)):(startToEnd=this._max64.subtract(this._min64),i=startToEnd.divide(new BigNumber(n.number)),s=startToEnd.divide(new BigNumber(o.number))),this.niceInterval){f(this._min64),g(this._min64);for(h=u=this._min64.subtract(this._min64.mod(s)).add(s);-1!==h.compare(this._min64);h=h.subtract(i))p=h;for(d=p,c=u;(-1===d.compare(this._max64)||-1===c.compare(this._max64))&&!((l+=1)>250);d=d.add(i),c=c.add(s))1!==c.compare(this._max64)&&(f(c),a[c.toString()]=!0,0===d.compare(u)?Math.abs(this._getAngleByValue(c)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&g(c):-1===c.add(s).compare(this._max64)?g(c):Math.abs(this._getAngleByValue(c)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&g(c)),a[d.toString()]||1===d.compare(r._max64)||m(d);f(this._max64),g(this._max64)}else for(d=new BigNumber(r.min),c=new BigNumber(r.min);(1!==d.compare(r._max64)||1!==c.compare(r._max64))&&!((l+=1)>250);d=d.add(i),c=c.add(s))1!==c.compare(r._max64)&&o.visible&&(f(c),a[c.toString()]=!0),!a[d.toString()]&&n.visible&&1!==d.compare(r._max64)&&m(d);else if("default"===this.tickMode?this.niceInterval?(s=this._getNiceInterval("radial"),i=this._getNiceInterval("radial",!0)):(s=o.interval,i=n.interval):(startToEnd=this.max-this.min,i=startToEnd/n.number,s=startToEnd/o.number),this.niceInterval){f(this.min),g(this.min);var u,p;for(h=u=this.min-this.min%s+s;h>=this.min;h-=i)p=h;for(d=p,c=u;(d<this.max||c<this.max)&&!((l+=1)>250);d+=i,c+=s)c<=this.max&&(f(c),a[c.toFixed(5)]=!0,d===u?Math.abs(this._getAngleByValue(c)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&g(c):c+s<this.max?g(c):Math.abs(this._getAngleByValue(c)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&g(c)),!a[d.toFixed(5)]&&d<=this.max&&m(d);f(this.max),g(this.max)}else for(d=this.min,c=this.min;(d<=this.max||c<=this.max)&&!((l+=1)>250);d+=i,c+=s)c<=this.max&&o.visible&&(f(c),a[c.toFixed(5)]=!0),!a[d.toFixed(5)]&&n.visible&&d<=this.max&&m(d);this._handleTicksVisibility()}function f(e){o.visible&&r._drawTick({angle:r._getAngleByValue(e),distance:r._getDistance(r.ticksDistance),style:o.style,size:r._getSize(o.size),type:"major"},t)}function m(e){n.visible&&r._drawTick({angle:r._getAngleByValue(e),distance:r._getDistance(r.ticksDistance),style:n.style,size:r._getSize(n.size),type:"minor"},t)}function g(e){r.labels.visible&&r._addLabel({angle:r._getAngleByValue(e),value:s>=1?e:new Number(e).toFixed(2),distance:r._getDistance(r._getLabelsDistance()),style:r.labels.className},t)}},_handleTicksVisibility:function(){this.ticksMinor.visible?this.host.children(".jqx-gauge-tick-minor").css("visibility","visible"):this.host.children(".jqx-gauge-tick-minor").css("visibility","hidden"),this.ticksMajor.visible?this.host.children(".jqx-gauge-tick-major").css("visibility","visible"):this.host.children(".jqx-gauge-tick-major").css("visibility","hidden")},_getSize:function(e){return e.toString().indexOf("%")>=0&&(e=parseInt(e,10)/100*this._innerRadius),e=parseInt(e,10)},_getDistance:function(e){return this._getSize(e)+(this._originalRadius-this._innerRadius)},_drawTick:function(e,t){var i,s=this.that,r=e.angle,n=e.distance,o=e.size,a=s._outerBorderOffset(),l=s._originalRadius,h=l-n,d=h-o,c=l+a+h*Math.sin(r),u=l+a+h*Math.cos(r),p=l+a+d*Math.sin(r),f=l+a+d*Math.cos(r);(e.style.class=s.toThemeProperty("jqx-gauge-tick-"+e.type),s._isVML&&(c=Math.round(c),p=Math.round(p),u=Math.round(u),f=Math.round(f)),t&&!s.niceInterval)?((i=s._ticks[s._ticksIterator]).setAttribute("x1",c),i.setAttribute("x2",p),i.setAttribute("y1",u),i.setAttribute("y2",f),s._ticksIterator++):(i=s.renderer.line(c,u,p,f,e.style),s._ticks.push(i))},_addRanges:function(e){var t="visible";if(this.showRanges)for(var i=this.ranges,s=0;s<i.length;s+=1)this._addRange(i[s],t,e);else t="hidden"},_getMaxRangeSize:function(){for(var e,t,i=-1,s=0;s<this.ranges.length;s+=1)(e=this.ranges[s].startWidth)>i&&(i=e),(t=this.ranges[s].endWidth)>i&&(i=t);return i},_getRangeDistance:function(e,t){var i=this._getLabelsDistance(),s=this._getDistance(e),r=this._getMaxRangeSize();if("outside"===this.labels.position){if(i<s+this._getMaxTickSize())return this._getDistance(this.ticksDistance)+r/2+this._getSize(this.ticksMajor.size)}else if("inside"===this.labels.position&&i+this._getMaxTickSize()<s)return this._getSize(this.border.size)+this._originalRadius/20;return s},_addRange:function(e,t,i){var s=this.that;if(!("s"===s.int64&&(e._startValue64.lessThan(s._min64)||e._endValue64.greaterThan(s._max64))||"u"===s.int64&&(-1===e._startValue64.compare(s._min64)||1===e._endValue64.compare(s._max64))||!1===s.int64&&(e.startValue<s.min||e.endValue>s.max))){var r,n=s.int64?s._getAngleByValue(e._startValue64):s._getAngleByValue(e.startValue),o=s.int64?s._getAngleByValue(e._endValue64):s._getAngleByValue(e.endValue),a=s._originalRadius,l=a-s._getRangeDistance(e.startDistance,e.startWidth),h=a-s._getRangeDistance(e.endDistance,e.endWidth),d=e.startWidth,c=e.endWidth,u=s._outerBorderOffset(),p={x:a+u+l*Math.sin(n),y:a+u+l*Math.cos(n)},f={x:a+u+h*Math.sin(o),y:a+u+h*Math.cos(o)},m=s._getProjectionPoint(n,a+u,l,d),g=s._getProjectionPoint(o,a+u,h,c),v="default";Math.abs(o-n)>Math.PI&&(v="opposite"),r=s._isVML?s._rangeVMLRender(p,f,a,m,g,c,d,l,h,v):s._rangeSVGRender(p,f,a,m,g,c,d,l,h,v),e.style.visibility=t,e.style.class=s.toThemeProperty("jqx-gauge-range"),e=s.renderer.path(r,e.style),s._ranges.push(e)}},_rangeSVGRender:function(e,t,i,s,r,n,o,a,l,h){var d="",c=(a=i-a,["0,1","0,0"]);return"opposite"===h&&(c=["1,1","1,0"]),d="M"+e.x+","+e.y+" ",d+="A"+(i-a)+","+(i-a)+" 100 "+c[0]+" "+t.x+","+t.y+" ",d+="L "+r.x+","+r.y+" ",d+="A"+(i-n-a)+","+(i-n-a)+" 100 "+c[1]+" "+s.x+","+s.y+" ",d+="L "+e.x+","+e.y+" ",d+="z"},_rangeVMLRender:function(e,t,i,s,r,n,o,a,l,h){i-=i-a+10;var d="",c=Math.floor(i+(o+n)/2),u=(a=Math.floor(i-a),l=Math.floor(l),(s.x+r.x)/2),p=(s.y+r.y)/2,f=Math.sqrt((r.x-s.x)*(r.x-s.x)+(r.y-s.y)*(r.y-s.y)),m=Math.floor(u+Math.sqrt(i*i-f/2*(f/2))*(s.y-r.y)/f),g=Math.floor(p+Math.sqrt(i*i-f/2*(f/2))*(r.x-s.x)/f),v=(e.x+t.x)/2,x=(e.y+t.y)/2,b=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),w=Math.floor(v+Math.sqrt(Math.abs(c*c-b/2*(b/2)))*(e.y-t.y)/b),y=Math.floor(x+Math.sqrt(Math.abs(c*c-b/2*(b/2)))*(t.x-e.x)/b);return"opposite"===h&&(m=Math.floor(u-Math.sqrt(i*i-f/2*(f/2))*(s.y-r.y)/f),g=Math.floor(p-Math.sqrt(i*i-f/2*(f/2))*(r.x-s.x)/f),w=Math.floor(v-Math.sqrt(Math.abs(c*c-b/2*(b/2)))*(e.y-t.y)/b),y=Math.floor(x-Math.sqrt(Math.abs(c*c-b/2*(b/2)))*(t.x-e.x)/b)),i=Math.floor(i),t={x:Math.floor(t.x),y:Math.floor(t.y)},e={x:Math.floor(e.x),y:Math.floor(e.y)},s={x:Math.floor(s.x),y:Math.floor(s.y)},r={x:Math.floor(r.x),y:Math.floor(r.y)},d="m "+t.x+","+t.y,d+="at "+(w-c)+" "+(y-c)+" "+(c+w)+" "+(c+y)+" "+t.x+","+t.y+" "+e.x+","+e.y,d+="l "+s.x+","+s.y,d+="m "+t.x+","+t.y,d+="l "+r.x+","+r.y,d+="at "+(m-i)+" "+(g-i)+" "+(i+m)+" "+(i+g)+" "+r.x+","+r.y+" "+s.x+","+s.y,d+="qx "+s.x+" "+s.y},_getProjectionPoint:function(e,t,i,s){return{x:t+(i-s)*Math.sin(e),y:t+(i-s)*Math.cos(e)}},_addLabels:function(t){var i=this._getLabelInterval();if(this.labels.visible&&"0"!==this.labels.interval.toString()){var s=this._getDistance(this._getLabelsDistance()),r=0;if("s"===this.int64)for(var n=(new e.jqx.math).fromNumber(this.min.toString(),10);n.lessThanOrEqual(this._max64)&&!((r+=1)>250)&&(!n.lessThan(this._min64)&&!n.greaterThan(this._max64));n=n.add(i))this._addLabel({angle:this._getAngleByValue(n),value:n.toString(),distance:s,style:this.labels.className});else if("u"===this.int64)for(n=new BigNumber(this.min);1!==n.compare(this._max64)&&!((r+=1)>250)&&(-1!==n.compare(this._min64)&&1!==n.compare(this._max64));n=n.add(i))this._addLabel({angle:this._getAngleByValue(n),value:n.toString(),distance:s,style:this.labels.className});else for(n=this.min;n<=this.max&&!((r+=1)>250);n+=i)this._addLabel({angle:this._getAngleByValue(n),value:i>=1?n:new Number(n).toFixed(2),distance:s,style:this.labels.className},t)}},_getLabelsDistance:function(){var e=this._getMaxLabelSize(),t=this._getDistance(this.labels.distance),i=this._getDistance(this.ticksDistance);return e=e.width,"inside"===this.labels.position?i+e-5:"outside"===this.labels.position?t<i-1.5*e?t:Math.max(i-1.5*e,.6*e):this.labels.distance},_addLabel:function(e,t){var i=this.that,s=e.angle,r=i._originalRadius,n=r-e.distance,o=i.labels.offset,a=i._outerBorderOffset(),l=r+a+n*Math.sin(s)+o[0],h=r+a+n*Math.cos(s)+o[1],d=e.value,c=e.style||"",u=i.labels.fontSize;d=i._formatLabel(d.toString());var p={class:c};if(u&&(p["font-size"]=u),i.labels.fontFamily&&(p["font-family"]=i.labels.fontFamily),i.labels.fontWeight&&(p["font-weight"]=i.labels.fontWeight),i.labels.fontStyle&&(p["font-style"]=i.labels.fontStyle),t&&!i.niceInterval){var f=i._labels[i._labelsIterator],m=i.renderer._measureText(d,0,p,!0),g=m.textPartsInfo,v=(g.parts,g.width,g.height);f.setAttribute("x",Math.round(l)-m.width/2+(m.width-g.width)/2),f.setAttribute("y",Math.round(h)+v+(m.height-v)/2),i._labelsIterator++}else{var x=i.renderer.measureText(d,0,p),b=0;void 0!==u&&Math.PI>s&&(b=-x.width/2*(parseInt(u)/25),parseInt(u)<=10&&(b*=-1)),p.class=this.toThemeProperty("jqx-gauge-label"),f=i.renderer.text(d,Math.round(l)-x.width/2+b,Math.round(h),x.width,x.height,0,p),i._labels.push(f)}},_addCaption:function(e){if(!1!==this.caption.visible){var t=this.that,i=t.caption.value,s=t.toThemeProperty("jqx-gauge-caption"),r=t.caption.offset,n=t.renderer.measureText(i,0,{class:s}),o=t._getPosition(this.caption.position,n,r),a=(t.caption.style,t._outerBorderOffset());if(e)this._caption.setAttribute("x",o.left+a),this._caption.setAttribute("y",o.top+a);else{var l=t.renderer.text(i,o.left+a,o.top+a,n.width,n.height,0,{class:s});this._caption=l}}},_getPosition:function(e,t,i){var s=0,r=0,n=this._originalRadius;switch(e){case"left":s=(n-t.width)/2,r=n-t.height/2;break;case"right":s=n+(n-t.width)/2,r=n-t.height/2;break;case"bottom":s=(2*n-t.width)/2,r=(n+2*n-t.height)/2;break;default:s=(2*n-t.width)/2,r=(n+t.height)/2}return{left:s+i[0],top:r+i[1]}},_addPointer:function(t){var i="visible";this.pointer.visible||(i="hidden");this._originalRadius;var s,r=this._getSize(this.pointer.length),n=this._getAngleByValue(this.value),o=this.pointer.pointerType;s=this._computePointerPoints(this._getSize(this.pointer.width),n,r,"default"!==o),this._pointer=this.renderer.path(s,this.pointer.style),e(this._pointer).css("visibility",i)},_computePointerPoints:function(e,t,i,s){return s?this._computeRectPoints(e,t,i):this._computeArrowPoints(e,t,i)},_computeArrowPoints:function(e,t,i){var s=this._originalRadius-.5,r=Math.sin(t),n=Math.cos(t),o=this._outerBorderOffset(),a=s+o+i*r,l=s+o+i*n,h=s+o+e*n,d=s+o-e*r,c=s+o-e*n,u=s+o+e*r;return this._isVML&&(h=Math.round(h),c=Math.round(c),d=Math.round(d),u=Math.round(u),a=Math.round(a),l=Math.round(l)),"M "+h+","+d+" L "+c+","+u+" L "+a+","+l},_computeRectPoints:function(e,t,i){var s=this._originalRadius,r=Math.sin(t),n=Math.cos(t),o=this._outerBorderOffset(),a=s+o-e*n+i*r,l=s+o+e*r+i*n,h=s+o+e*n+i*r,d=s+o-e*r+i*n,c=s+o+e*n,u=s+o-e*r,p=s+o-e*n,f=s+o+e*r;return this._isVML&&(c=Math.round(c),p=Math.round(p),u=Math.round(u),f=Math.round(f),a=Math.round(a),l=Math.round(l),h=Math.round(h),d=Math.round(d)),"M "+c+","+u+" L "+p+","+f+" L "+a+","+l+" "+h+","+d},_getAngleByValue:function(t){var i,s,r,n,o=this.startAngle,a=o-this.endAngle;if(!1!==this.int64){t="s"===this.int64?(new e.jqx.math).fromString(t.toString(),10):new BigNumber(t),i=this._min64,s=this._max64.subtract(i),r=t.subtract(i),"u"===this.int64&&(r=r.intPart());var l,h,d=s.toString(),c=r.toString();if(d.length>15){var u=d.length-15;if(d=d.slice(0,15)+"."+d.slice(15),l=parseFloat(d),c.length>u){var p=c.length-u;c=c.slice(0,p)+"."+c.slice(p)}else if(c.length===u)c="0."+c;else{for(var f="0.",m=0;m<u-c.length;m++)f+="0";c=f+""+c}h=parseFloat(c)}else l=parseFloat(s.toString()),h=parseFloat(r.toString());n=a*h/l+o+Math.PI}else n=a*(r=t-(i=this.min))/(s=this.max-i)+o+Math.PI;return n},_setValue:function(t){if("s"===this.int64&&t.lessThanOrEqual(this._max64)&&t.greaterThanOrEqual(this._min64)||"u"===this.int64&&1!==t.compare(this._max64)&&-1!==t.compare(this._min64)||!1===this.int64&&t<=this.max&&t>=this.min){var i=this._getAngleByValue(t),s=this.pointer.pointerType,r=this._computePointerPoints(this._getSize(this.pointer.width),i,this._getSize(this.pointer.length),"default"!==s);this._isVML?(this._pointer&&e(this._pointer).remove(),this._pointer=this.renderer.path(r,this.pointer.style)):this.renderer.attr(this._pointer,{d:r}),!1!==this.int64?(this.value=t.toString(),"s"===this.int64?this._value64=(new e.jqx.math).fromString(this.value,10):this._value64=new BigNumber(this.value)):this.value=t,e.jqx.aria(this,"aria-valuenow",t.toString())}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._refresh(!0)},propertyChangedHandler:function(t,i,s,r){r!=s&&(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length||("min"==i&&(!0===t.int64?t._min64=(new e.jqx.math).fromString(r.toString(),10):this.min=parseInt(r),e.jqx.aria(t,"aria-valuemin",r)),"max"==i&&(!0===t.int64?t._max64=(new e.jqx.math).fromString(r.toString(),10):this.max=parseInt(r),e.jqx.aria(t,"aria-valuemax",r)),"disabled"===i?(r?this.disable():this.enable(),e.jqx.aria(this,"aria-disabled",r)):"value"===i?(this.value=s,this.setValue(r)):("startAngle"===i?this.startAngle=this.startAngle*Math.PI/180+Math.PI/2:"endAngle"===i?this.endAngle=this.endAngle*Math.PI/180+Math.PI/2:"colorScheme"===i?(this.pointer.style=null,this.cap.style=null):"radius"===i&&(this._radius=r),"animationDuration"!==i&&"easing"!==i&&this._refresh()),this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()))},_tickConstructor:function(e,t){if(this.host)return new this._tickConstructor(e,t);function i(i,s){!1===t.int64?i[s]=parseFloat(e[s]):i[s]=e[s],i[s]||(i[s]=5)}e=e||{},this.size=t._validatePercentage(e.size,"10%"),i(this,"interval"),i(this,"number"),this.style=e.style||{stroke:"#898989","stroke-width":1},void 0===e.visible?this.visible=!0:this.visible=e.visible},_capConstructor:function(e,t){var i=t._getColorScheme(t.colorScheme)[0];if(this.host)return new this._capConstructor(e,t);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.size=t._validatePercentage(e.size,"4%"),this.style=e.style||{fill:i,"stroke-width":"1px",stroke:i,"z-index":30}},_pointerConstructor:function(e,t){var i=t._getColorScheme(t.colorScheme)[0];if(this.host)return new this._pointerConstructor(e,t);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.pointerType=e.pointerType,"default"!==this.pointerType&&"rectangle"!==this.pointerType&&(this.pointerType="default"),this.style=e.style||{"z-index":0,stroke:i,fill:i,"stroke-width":1},this.length=t._validatePercentage(e.length,"70%"),this.width=t._validatePercentage(e.width,"2%")},_labelsConstructor:function(t,i){if(this.host)return new this._labelsConstructor(t,i);void 0===(t=t||{}).visible?this.visible=!0:this.visible=t.visible,this.offset=t.offset,this.offset instanceof Array||(this.offset=[0,-10]),t.interval||(t.interval=20),!1!==i.int64?(this.interval=t.interval,"s"===i.int64?this._interval64=(new e.jqx.math).fromString(t.interval.toString(),10):this._interval64=new BigNumber(t.interval)):this.interval=parseFloat(t.interval),t.number||(t.number=5),this.number=t.number,this.distance=i._validatePercentage(t.distance,"38%"),this.position=t.position,"inside"!==this.position&&"outside"!==this.position&&(this.position="none"),this.formatValue=t.formatValue,this.formatSettings=t.formatSettings,this.fontSize=t.fontSize,this.fontFamily=t.fontFamily,this.fontWeight=t.fontWeight,this.fontStyle=t.fontStyle},_captionConstructor:function(e,t){if(this.host)return new this._captionConstructor(e,t);void 0===(e=e||{}).visible?this.visible=!0:this.visible=e.visible,this.value=e.value||"",this.position=e.position,"bottom"!==this.position&&"top"!==this.position&&"left"!==this.position&&"right"!==this.position&&(this.position="bottom"),this.offset=e.offset,this.offset instanceof Array||(this.offset=[0,0])},_rangeConstructor:function(t,i){if(this.host)return new this._rangeConstructor(t,i);t=t||{},this.startDistance=i._validatePercentage(t.startDistance,"5%"),this.endDistance=i._validatePercentage(t.endDistance,"5%"),this.style=t.style||{fill:"#000000",stroke:"#111111"},this.startWidth=parseFloat(t.startWidth,10),this.startWidth||(this.startWidth=10),this.startWidth=Math.max(this.startWidth,2),this.endWidth=parseFloat(t.endWidth,10),this.endWidth||(this.endWidth=10),this.endWidth=Math.max(this.endWidth,2),void 0===t.startValue&&(t.startValue=0),void 0===t.endValue&&(t.endValue=100),!1!==i.int64?(this.startValue=t.startValue,this.endValue=t.endValue,"s"===i.int64?(this._startValue64=(new e.jqx.math).fromString(t.startValue.toString(),10),this._endValue64=(new e.jqx.math).fromString(t.endValue.toString(),10)):(this._startValue64=new BigNumber(t.startValue),this._endValue64=new BigNumber(t.endValue))):(this.startValue=parseFloat(t.startValue,10),this.endValue=parseFloat(t.endValue,10))},_borderConstructor:function(e,t){if(this.host)return new this._borderConstructor(e,t);e=e||{},this.size=t._validatePercentage(e.size,"10%"),this.style=e.style||{stroke:"#cccccc"},void 0===e.showGradient?this.showGradient=!0:this.showGradient=e.showGradient,void 0===e.visible?this.visible=!0:this.visible=e.visible}},i={_events:["valueChanging","valueChanged"],_animationTimeout:10,_schemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_getScale:function(e,t,i){return e&&e.toString().indexOf("%")>=0?(e=parseInt(e,10)/100,i[t]()*e):parseInt(e,10)},_removeElements:function(){this.host.children(".chartContainer").remove(),this.host.children("#tblChart").remove()},_getLabelInterval:function(){var t,i=this.labels;if("default"===this.tickMode)this.niceInterval?t=this._getNiceInterval("jqxGauge"===this.widgetName?"radial":"linear"):!1===this.int64?t=i.interval:(i._interval64||(i._interval64="s"===this.int64?(new e.jqx.math).fromNumber(i.interval):new BigNumber(i.interval)),t=i._interval64);else if(!1===this.int64){t=(s=this.max-this.min)/i.number}else{var s=this._max64.subtract(this._min64);t="s"===this.int64?s.div((new e.jqx.math).fromNumber(i.number)):s.divide(new BigNumber(i.number))}return t},_getMaxLabelSize:function(){var t=this.max,i=this.min;i=this._formatLabel(i),t=this._formatLabel(t);var s=e('<div style="position: absolute; visibility: hidden;" class="'+this.toThemeProperty("jqx-gauge-label")+'"></div>');s.css({"font-size":this.labels.fontSize,"font-family":this.labels.fontFamily,"font-weight":this.labels.fontWeight,"font-style":this.labels.fontStyle}),e("body").append(s),s.html(i);var r={width:s.width(),height:s.height()};s.html(t);var n={width:s.width(),height:s.height()};return s.remove(),r.width>n.width?r:n},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},destroy:function(){this._timeout&&clearTimeout(this._timeout),this._timeout=null,e.jqx.utilities.resize(this.host,null,!0),this._removeElements(),this.renderer.clear(),this.renderer=null;var t=e.data(this.element,"jqxGauge");t&&delete t.instance,this.host.children().remove(),this._caption=null,this._caption=null,this._pointer=null,this._labels=[],this._cap=null,this._ticks=[],this._ranges=[],this._border=null,this._gauge=null,this._caption=null,this.renderer=null,this._animations=[],this.host.removeData(),this.host.removeClass(),this.host.remove(),this.that=null,this.element=null,this._gaugeParent=null,delete this._gaugeParent,delete this.element,delete this.host},_validatePercentage:function(e,t){return 0===parseFloat(e)||e&&parseInt(e,10)||(e=t),e},_getColorScheme:function(e){for(var t,i=0;i<this._schemes.length;i+=1)if((t=this._schemes[i]).name===e)return t.colors;return null},setValue:function(t,i){this.disabled||(i=i||this.animationDuration||0,"s"===this.int64?("number"==typeof t?t=(new e.jqx.math).fromNumber(t,10):"string"==typeof t&&(t=(new e.jqx.math).fromString(t,10)),t.greaterThan(this._max64)&&(t=(new e.jqx.math).fromString(this._max64.toString(),10)),t.lessThan(this._min64)&&(t=(new e.jqx.math).fromString(this._min64.toString(),10)),this._animate(this._value64,t,i)):"u"===this.int64?(1===(t=new BigNumber(t)).compare(this._max64)&&(t=new BigNumber(this._max64)),-1===t.compare(this._min64)&&(t=new BigNumber(this._min64)),this._animate(this._value64,t,i)):(t>this.max&&(t=this.max),t<this.min&&(t=this.min),this._animate(this.value,t,i)),e.jqx.aria(this,"aria-valuenow",t.toString()))},_animate:function(e,t,i){this._timeout&&this._endAnimation(this.int64?this._value64:this.value,!1),i?this._animateHandler(e,t,0,i):this._endAnimation(t,!0)},_animateHandler:function(t,i,s,r){var n=this;s<=r?this._timeout=setTimeout(function(){if(!1!==n.int64){var o=i.subtract(t);if("s"===n.int64){var a=(new e.jqx.math).fromNumber(100*e.easing[n.easing](s/r,s,0,1,r),10);n._value64=t.add(o.multiply(a).div((new e.jqx.math).fromNumber(100,10)))}else{a=new BigNumber(100*e.easing[n.easing](s/r,s,0,1,r));n._value64=t.add(o.multiply(a).divide(100))}n.value=n._value64.toString(),n._setValue(n._value64)}else n.value=t+(i-t)*e.easing[n.easing](s/r,s,0,1,r),n._setValue(n.value);n._raiseEvent(0,{value:n.value.toString()}),n._animateHandler(t,i,s+n._animationTimeout,r)},this._animationTimeout):this._endAnimation(i,!0)},_endAnimation:function(e,t){clearTimeout(this._timeout),this._timeout=null,this._setValue(e),t&&this._raiseEvent(1,{value:e.toString()})},_getMaxTickSize:function(){return Math.max(this._getSize(this.ticksMajor.size),this._getSize(this.ticksMinor.size))},_raiseEvent:function(t,i){var s=e.Event(this._events[t]);return s.args=i||{},this.host.trigger(s)},_getNiceInterval:function(t,i){function s(e){return Math.log(parseFloat(e))/Math.LN10}var r=this,n="width";"linear"===t&&"vertical"===r.orientation&&(n="height");var o=e.jqx.browser.msie?0:1,a=e('<span class="'+r.toThemeProperty("jqx-gauge-label")+'" style="position: absolute; visibility: hidden;"></span>'),l=r._formatLabel(r.min),h=r._formatLabel(r.max);a.css({"font-size":r.labels.fontSize,"font-family":r.labels.fontFamily,"font-weight":r.labels.fontWeight,"font-style":r.labels.fontStyle}),e("body").append(a),a.text(l);var d=a[n]()+o;a.text(h);var c=a[n]()+o;a.remove();var u,p,f=Math.max(c,d),m=1;if("radial"===t){var g;g=r._innerRadius<50?.3:r._innerRadius<150?.6:r._innerRadius<250?.7:1,m=8/Math.max(1,s(r._innerRadius))*g}else{var v=0;f>105&&(v=(f-105)/100),m=1.5+v}f*=m,"radial"===t?(p=Math.abs(r.startAngle-r.endAngle)*r._innerRadius,u=Math.round(p)):u=r._getScaleLength();var x,b,w,y,_,j,q=Math.ceil(u/f);return!0===i&&(q*="radial"===t?4:3),!1===r.int64?(x=r.max-r.min,b=Math.floor(s(x)-s(q)),j=(_=x<2*(y=q*(w=Math.pow(10,b)))?1:x<3*y?2:x<7*y?5:10)*w):(x=new BigNumber(r.max).subtract(new BigNumber(r.min)),b=Math.floor(s(x.toString())-s(q)),w=new BigNumber(10).pow(new BigNumber(b)),y=new BigNumber(q).multiply(w),_=-1===x.compare(new BigNumber(2*y))?1:-1===x.compare(new BigNumber(3*y))?2:-1===x.compare(new BigNumber(7*y))?5:10,-1===(j=new BigNumber(_).multiply(w)).compare(1)&&(j=new BigNumber(1)),"s"===r.int64&&(j=(new e.jqx.math).fromString(j.toString()))),j},_styleLabels:function(){},_checkForOverflow:function(e,t){var i=new BigNumber("9223372036854775807"),s=new BigNumber(e.toString()),r=new BigNumber(t.toString());return 1===s.add(r).compare(i)},_formatLabel:function(t,i){var s,r=this.labels.formatValue,n=this.labels.formatSettings;return r?s=r(t,i):n?void 0!==n.radix?s=(new e.jqx.math).getRadixValue(t,this.int64,n.radix):void 0!==n.outputNotation&&"default"!==n.outputNotation&&"decimal"!==n.outputNotation?s=(new e.jqx.math).getDecimalNotation(t,n.outputNotation,n.decimalDigits,n.digits):void 0!==n.decimalDigits?s=Number(t).toFixed(n.decimalDigits):void 0!==n.digits&&(s=Number(t).toPrecision(n.digits)):s=t,s},_editableLabels:function(t){var i=this;function s(t,s){var r=i.renderer.measureText(i._formatLabel(s),0,{class:i.toThemeProperty("jqx-gauge-label")});o.offset(e(t).offset()),n.style.width=r.width+10+"px",n.style.height=r.height+"px",n.style.visibility="visible",n.value=s,o.select()}if(i.editableLabels){var r=i._labels;if(0===r.length)return;var n,o,a=r[0],l=r[r.length-1];!0!==t?(n=document.createElement("input"),o=e(n),n.className="jqx-gauge-label-input",i.element.appendChild(n)):(o=i.host.children("input"),n=o[0]),a.style.cursor="text",l.style.cursor="text",i.addHandler(e(a),"dblclick.jqxGauge"+i.element.id,function(e){s(this,i.min),i._editedProperty="min"}),i.addHandler(e(l),"dblclick.jqxGauge"+i.element.id,function(e){s(this,i.max),i._editedProperty="max"});var h=/^-?\d+\.?\d*$/;function d(t,s,r,n){if(t===i[s].toString())return!1;if("s"===i.int64){var o=(new e.jqx.math).fromString(t,10);if("min"===s&&-1!==o.compare(i["_"+n+"64"])||"max"===s&&1!==o.compare(i["_"+n+"64"]))return!1;i[r]=o,i[s]=t}else if("u"===i.int64){var a=new BigNumber(t);if(-1===a.compare(0)||"min"===s&&-1!==a.compare(i["_"+n+"64"])||"max"===s&&1!==a.compare(i["_"+n+"64"]))return!1;i[r]=a,i[s]=t}else{if("min"===s&&t>=i[n]||"max"===s&&t<=i[n])return!1;i[s]=parseFloat(t)}}!0!==t&&i.addHandler(o,"blur.jqxGauge"+i.element.id,function(t){var s=this.value;if(n.style.visibility="hidden",h.test(s)){if("min"===i._editedProperty){if(!1===d(s,"min","_min64","max"))return;e.jqx.aria(i,"aria-valuemin",s)}else{if(!1===d(s,"max","_max64","min"))return;e.jqx.aria(i,"aria-valuemax",s)}i.refresh(),i.renderer instanceof e.jqx.HTML5Renderer&&i.renderer.refresh()}})}}},s={defineInstance:function(){var t={int64:!1,editableLabels:!1,value:-50,max:40,min:-60,width:100,height:300,pointer:{},labels:{},animationDuration:1e3,showRanges:{},ticksMajor:{size:"15%",interval:5},ticksMinor:{size:"10%",interval:2.5},tickMode:"default",niceInterval:!1,ranges:[],easing:"easeOutCubic",colorScheme:"scheme01",disabled:!1,rangesOffset:0,background:{},ticksPosition:"both",rangeSize:"5%",scaleStyle:null,ticksOffset:null,scaleLength:"90%",orientation:"vertical",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},displayTank:!1,tankStyle:null,_originalColor:"",_width:null,_height:null,renderer:null};return this===e.jqx._jqxLinearGauge.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){e.jqx.aria(this),this.host.css("overflow","hidden"),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.append('<input class="jqx-gauge-label-input"/>');var t=this;if("s"===t.int64){if(!e.jqx.longInt)throw new Error("jqxLinearGauge: Missing reference to jqxmath.js");e.jqx.longInt(t),t._value64=(new e.jqx.math).fromString(t.value.toString(),10),t._min64=(new e.jqx.math).fromString(t.min.toString(),10),t._max64=(new e.jqx.math).fromString(t.max.toString(),10)}else if("u"===t.int64){try{BigNumber}catch(e){throw new Error("jqxLinearGauge: Missing reference to jqxmath.js")}t._value64=new BigNumber(t.value),t._min64=new BigNumber(t.min),t._max64=new BigNumber(t.max)}e.jqx.utilities.resize(this.host,function(){t.refresh(!1,!1)})},val:function(e){if(0==arguments.length||"object"==typeof e)return this.value;this.setValue(e,0)},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return e.jqx.createRenderer(this,t)},refresh:function(e,t){if(this._nearLabels=[],this._farLabels=[],this.renderer||(this._isVML=!1,this.host.empty(),this._initRenderer(this.host)),this.renderer&&(this._validateProperties(),this._reset(),this._init(),this._performLayout(),this._render(),!1!==t&&this.setValue(this.value,1),!e)){var i=this.labels.position;"both"!==i&&"near"!==i||(this._labels=this._nearLabels,this._editableLabels()),"both"!==i&&"far"!==i||(this._labels=this._farLabels,this._editableLabels("both"===i||void 0))}},_getBorderSize:function(){var e,t=1;return this._isVML&&(t=0),this.background?(e=(parseInt(this.background.style["stroke-width"],10)||t)/2,this._isVML?Math.round(e):e):t},_validateProperties:function(){this.background=this._backgroundConstructor(this.background,this),this.ticksOffset=this.ticksOffset||this._getDefaultTicksOffset(),this.rangesOffset=this.rangesOffset||0,this.rangeSize=this._validatePercentage(this.rangeSize,5),this.ticksOffset[0]=this._validatePercentage(this.ticksOffset[0],"5%"),this.ticksOffset[1]=this._validatePercentage(this.ticksOffset[1],"5%"),this.ticksMinor=this._tickConstructor(this.ticksMinor,this),this.ticksMajor=this._tickConstructor(this.ticksMajor,this),this.scaleStyle=this.scaleStyle||this.ticksMajor.style,this.labels=this._labelsConstructor(this.labels,this),this.pointer=this._pointerConstructor(this.pointer,this);for(var e=0;e<this.ranges.length;e+=1)this.ranges[e]=this._rangeConstructor(this.ranges[e],this)},_getDefaultTicksOffset:function(){return"horizontal"===this.orientation?["5%","36%"]:["36%","5%"]},_handleOrientation:function(){"vertical"===this.orientation?e.extend(this,linearVerticalGauge):e.extend(this,linearHorizontalGauge)},_reset:function(){this.host.empty()},_performLayout:function(){var e=parseInt(this.background.style["stroke-width"],10)||1;this._width-=e,this._height-=e,this.host.css("padding",e/2)},_init:function(){var e;this._getBorderSize();this._width=this._getScale(this.width,"width",this.host.parent())-3,this._height=this._getScale(this.height,"height",this.host.parent())-3,this.element.innerHTML="<div/>",this.host.width(this._width),this.host.height(this._height),this.host.children().width(this._width),this.host.children().height(this._height),this.renderer.init(this.host.children()),(e=this.renderer.getContainer()).width(this._width),e.height(this._height)},_render:function(){this._renderBackground(),this._renderTicks(),this.niceInterval||this._renderLabels(),this._styleLabels(),this._renderRanges(),this._renderPointer()},_renderBackground:function(){if(this.background.visible){var t,i=this.background.style,s=e.jqx._rup(this._getBorderSize()),r="rect";i=this._handleShapeOptions(i),"roundedRectangle"===this.background.backgroundType&&this._isVML&&(r="roundrect"),this._Vml||(i.x=s,i.y=s),t=this.renderer.shape(r,i),this._isVML&&this._fixVmlRoundrect(t,i)}},_handleShapeOptions:function(e){var t=this.background.style.fill;this._getBorderSize();return t||(t="#cccccc"),this.background.showGradient&&(t.indexOf("url")<0&&t.indexOf("#grd")<0?this._originalColor=t:t=this._originalColor,t=this.renderer._toLinearGradient(t,"horizontal"===this.orientation,[[1,1.1],[90,1.5]])),this.background.style.fill=t,"roundedRectangle"===this.background.backgroundType&&(this._isVML?e.arcsize=this.background.borderRadius+"%":(e.rx=this.background.borderRadius,e.ry=this.background.borderRadius)),e.width=this._width-1,e.height=this._height-1,e},_fixVmlRoundrect:function(e,t){var i=this._getBorderSize();e.style.position="absolute",e.style.left=i,e.style.top=i,e.style.width=this._width-1,e.style.height=this._height-1,e.strokeweight=0,delete t.width,delete t.height,delete t.arcsize,this.renderer.attr(e,t)},_renderTicks:function(){var t,i,s,r,n,o=this.ticksMinor,a=this.ticksMajor;"s"===this.int64?((t=this._max64.subtract(this._min64)).isNegative()&&(t=t.negate()),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),s=this._getNiceInterval("linear",!0)):(i=a._interval64,s=o._interval64):(i=t.div((new e.jqx.math).fromNumber(a.number)),s=t.div((new e.jqx.math).fromNumber(o.number)))):"u"===this.int64?(t=this._max64.subtract(this._min64).abs(),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),s=this._getNiceInterval("linear",!0)):(i=a._interval64,s=o._interval64):(i=t.divide(new BigNumber(a.number)),s=t.divide(new BigNumber(o.number)))):(t=Math.abs(this.max-this.min),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),s=this._getNiceInterval("linear",!0)):(i=a.interval,s=o.interval):(i=t/a.number,s=t/o.number)),r={size:this._getSize(a.size),style:a.style,visible:a.visible,interval:i,type:"major"},n={size:this._getSize(o.size),style:o.style,visible:o.visible,interval:s,checkOverlap:!0,type:"minor"},"near"!==this.ticksPosition&&"both"!==this.ticksPosition||(this._ticksRenderHandler(r),this._ticksRenderHandler(n)),"far"!==this.ticksPosition&&"both"!==this.ticksPosition||(r.isFar=!0,n.isFar=!0,this._ticksRenderHandler(r),this._ticksRenderHandler(n)),this._renderConnectionLine()},_ticksRenderHandler:function(e){if(e.visible||"minor"!==e.type){this._getSize(this.ticksOffset[0],"width"),this._getSize(this.ticksOffset[1],"height");var t=this._getBorderSize(),i=this._calculateTickOffset()+this._getMaxTickSize();e.isFar&&(i+=e.size),this._drawTicks(e,t,i+t)}},_drawTicks:function(t,i,s){var r,n,o=this,a=t.interval,l="vertical"===o.orientation?"width":"height",h="vertical"===o.orientation?"height":"width",d=o._getMaxLabelSize()[l],c=o._getMaxLabelSize()[h],u=o._getInterval("ticksMajor"),p=o._getInterval("ticksMinor");function f(e){if(r=o._valueToCoordinates(e),(!t.checkOverlap||!o._overlapTick(e,u,p))&&(t.visible&&o._renderTick(t.size,r,t.style,s),o.niceInterval&&o.labels.visible)){"vertical"===o.orientation?o._getSize(o.ticksOffset[1],"height"):o._getSize(o.ticksOffset[0],"width"),i;var n,a=t.isFar?"far":"near";if(n="near"===a?o._calculateTickOffset()-d+i+o._getSize(o.labels.offset):o._calculateTickOffset()+2*o._getMaxTickSize()+d+i+o._getSize(o.labels.offset),!1===o.int64){if(e!==o.min&&Math.abs(o._valueToCoordinates(o.min)-r)<c)return;if(e!==o.max&&Math.abs(o._valueToCoordinates(o.max)-r)<c)return}else if("s"===o.int64){if(!1===e.equals(o._min64)&&Math.abs(o._valueToCoordinates(o._min64)-r)<c)return!1;if(!1===e.equals(o._max64)&&Math.abs(o._valueToCoordinates(o._max64)-r)<c)return}else if("u"===o.int64){if(0!==e.compare(o._min64)&&Math.abs(o._valueToCoordinates(o._min64)-r)<c)return!1;if(0!==e.compare(o._max64)&&Math.abs(o._valueToCoordinates(o._max64)-r)<c)return}var l=o.labels.position;"major"===t.type&&("both"===l||"near"===l&&!0!==t.isFar||"far"===l&&t.isFar)&&o._renderLabel(r,a,n,d,e)}}if(o.niceInterval)if("s"===o.int64){if(f(o._min64),n=o._min64.subtract(o._min64.modulo(a)).add(a),"minor"===t.type)for(var m=n;m.greaterThanOrEqual(o._min64);m=m.subtract(a))n=m;for(var g=n;g.lessThan(o._max64)&&!o._checkForOverflow(g,a);g=g.add(a))f(g);f(o._max64)}else if("u"===o.int64){if(f(o._min64),n=o._min64.subtract(o._min64.mod(a)).add(a),"minor"===t.type)for(m=n;-1!==m.compare(o._min64);m=m.subtract(a))n=m;for(g=n;-1===g.compare(o._max64);g=g.add(a))f(g);f(o._max64)}else{if(f(o.min),n=o.min-o.min%a+a,"minor"===t.type)for(m=n;m>=o.min;m-=a)n=m;for(g=n;g<=o.max;g+=a)f(g);f(o.max)}else if("s"===o.int64)for(g=(new e.jqx.math).fromString(o._min64.toString(),10);g.lessThanOrEqual(o._max64);g=g.add(a))f(g);else if("u"===o.int64)for(g=new BigNumber(o._min64);1!==g.compare(o._max64);g=g.add(a))f(g);else for(g=o.min;g<=o.max;g+=a)f(g)},_calculateTickOffset:function(){var e=this._getSize(this.ticksOffset[0],"width"),t=this._getSize(this.ticksOffset[1],"height");return"vertical"===this.orientation&&(t=e),t},_getInterval:function(t){var i;if("default"===this.tickMode)i=!0===this.niceInterval?this._getNiceInterval("linear","ticksMinor"===t):!1!==this.int64?this[t]._interval64:this[t].interval;else{var s,r=this[t].number;!1!==this.int64?(s=this._max64.subtract(this._min64),i="s"===this.int64?s.div((new e.jqx.math).fromNumber(r)):s.divide(new BigNumber(r))):i=(s=this.max-this.min)/this[t].number}return i},_overlapTick:function(e,t,i){return"s"===this.int64?!!(e=e.add(this._min64)).modulo(i).equals(e.modulo(t)):"u"===this.int64?0===(e=e.add(this._min64)).mod(i).compare(e.mod(t)):(e+=this.min)%i==e%t},_renderConnectionLine:function(){if(this.ticksMajor.visible||this.ticksMinor.visible){this._getScaleLength();var e,t,i=this._getBorderSize(),s=this._getMaxTickSize()+i;if(!1!==this.int64?(e=this._valueToCoordinates(this._max64),t=this._valueToCoordinates(this._min64)):(e=this._valueToCoordinates(this.max),t=this._valueToCoordinates(this.min)),"vertical"===this.orientation)s+=this._getSize(this.ticksOffset[0],"width"),this.renderer.line(s,e,s,t,this.scaleStyle);else{s+=this._getSize(this.ticksOffset[1],"height");var r=this._getSize(this.ticksOffset[0],"width");this.renderer.line(r+e-t,s,r,s,this.scaleStyle)}}},_getScaleLength:function(){return this._getSize(this.scaleLength,"vertical"===this.orientation?"height":"width")},_renderTick:function(e,t,i,s){var r=this._handleTickCoordinates(e,t,s);this.renderer.line(Math.round(r.x1),Math.round(r.y1),Math.round(r.x2),Math.round(r.y2),i)},_handleTickCoordinates:function(e,t,i){return"vertical"===this.orientation?{x1:i-e,x2:i,y1:t,y2:t}:{x1:t,x2:t,y1:i-e,y2:i}},_getTickCoordinates:function(e,t){var i=this._handleTickCoordinates(e,0,this._calculateTickOffset());return i="vertical"===this.orientation?i.x1:i.y1,i+=e},_renderLabels:function(){if(this.labels.visible){var e,t=this._getSize(this.ticksOffset[0],"width"),i=this._getMaxTickSize(),s=this.labels.position,r="height",n=this._getBorderSize(),o=this._calculateTickOffset()+i;"vertical"===this.orientation&&(t=this._getSize(this.ticksOffset[1],"height"),r="width"),e=this._getMaxLabelSize()[r],"near"!==s&&"both"!==s||this._labelListRender(o-i-e+n,t+n,e,"near"),"far"!==s&&"both"!==s||this._labelListRender(o+i+e+n,t+n,e,"far")}},_labelListRender:function(t,i,s,r){var n,o,a,l,h,d=this._getScaleLength();t+=this._getSize(this.labels.offset),!1!==this.int64?(h=this._max64.subtract(this._min64),"default"===this.tickMode?(n=this.labels._interval64,o="s"===this.int64?h.div(n).toNumber():parseFloat(h.divide(n).toString())):(o=this.labels.number,n="s"===this.int64?h.div((new e.jqx.math).fromNumber(o)):h.divide(o)),l="vertical"===this.orientation?this._max64:this._min64):(h=Math.abs(this.max-this.min),"default"===this.tickMode?o=h/(n=this.labels.interval):n=h/(o=this.labels.number),l="vertical"===this.orientation?this.max:this.min),a=d/o;for(var c=0;c<=o;c+=1)this._renderLabel(i,r,t,s,l),!1!==this.int64?l="vertical"===this.orientation?l.subtract(n):l.add(n):l+="vertical"===this.orientation?-n:n,i+=a},_renderLabel:function(e,t,i,s,r){var n,o,a,l,h=this.labels,d={class:this.toThemeProperty("jqx-gauge-label")},c=(this.labels.interval,"");h.fontSize&&(c+="font-size: "+h.fontSize+";"),h.fontFamily&&(c+="font-family: "+h.fontFamily),h.fontWeight&&(c+="font-weight: "+h.fontWeight),h.fontStyle&&(c+="font-style: "+h.fontStyle),""!==c&&(d.style=c),a=this._formatLabel(r.toString(),t),o=this.renderer.measureText(a,0,d),"vertical"===this.orientation?(n="near"===t?s-o.width:0,l=this.renderer.text(a,Math.round(i)+n-s/2,Math.round(e-o.height/2),o.width,o.height,0,d)):(n="near"===t?s-o.height:0,l=this.renderer.text(a,Math.round(e-o.width/2),Math.round(i)+n-s/2,o.width,o.height,0,d)),"near"===t?this.niceInterval||"horizontal"===this.orientation?this._nearLabels.push(l):this._nearLabels.unshift(l):this.niceInterval||"horizontal"===this.orientation?this._farLabels.push(l):this._farLabels.unshift(l)},_renderRanges:function(){if(this.showRanges)for(var e,t="vertical"===this.orientation?"width":"height",i=this._getSize(this.rangesOffset,t),s=this._getSize(this.rangeSize,t),r=0;r<this.ranges.length;r+=1)(e=this.ranges[r]).size=s,this._renderRange(e,i)},_renderRange:function(t,i){this._getScaleLength();var s,r,n=this._getBorderSize(),o=this._getSize(this.ticksOffset[0],"width"),a=this._getSize(this.ticksOffset[1],"height"),l=this._getMaxTickSize(),h=this._getSize(t.size);!1!==this.int64?(s=this._valueToCoordinates(t._endValue64),r=t._startValue64,"s"===this.int64&&r.lessThan(this._min64)?r=(new e.jqx.math).fromString(this._min64.toString(),10):"u"===this.int64&&-1===r.compare(this._min64)&&(r=new BigNumber(this._min64))):(s=this._valueToCoordinates(t.endValue),(r=t.startValue)<this.min&&(r=this.min));var d,c,u=Math.abs(this._valueToCoordinates(r)-s);"vertical"===this.orientation?d=this.renderer.rect(o+l+i-h+n,s,t.size,u,t.style):(c=u,d=this.renderer.rect(this._valueToCoordinates(r),a+l+n,c,t.size,t.style)),this.renderer.attr(d,t.style)},_renderPointer:function(){this.pointer.visible&&("default"===this.pointer.pointerType?this._renderColumnPointer():this._renderArrowPointer())},_renderColumnPointer:function(){if(this.displayTank){var e={fill:"#FFFFFF","fill-opacity":0};this.tankStyle?(e.stroke=this.tankStyle.stroke,e["stroke-width"]=this.tankStyle.strokeWidth):(e.stroke="#A1A1A1",e["stroke-width"]="1px"),this._tank=this.renderer.rect(0,0,0,0,e),this._performTankLayout()}this._pointer=this.renderer.rect(0,0,0,0,this.pointer.style),this.renderer.attr(this._pointer,this.pointer.style),!1!==this.int64?this._setValue(this._value64):this._setValue(this.value)},_performTankLayout:function(){var e,t,i=this._valueToCoordinates(),s=this._getBorderSize(),r=this._getSize(this.ticksOffset[0],"width"),n=this._getSize(this.ticksOffset[1],"height"),o=this._getMaxTickSize(),a=this._getSize(this.pointer.size),l=this._getSize(this.pointer.offset),h={};!1!==this.int64?(i=this._valueToCoordinates(this._max64),e=this._valueToCoordinates(this._min64)):(i=this._valueToCoordinates(this.max),e=this._valueToCoordinates(this.min)),t=Math.abs(e-i),h="vertical"===this.orientation?{left:r+o+l+1+s,top:i,height:t,width:a}:{left:e,top:n+o+l-a-1+s,height:a,width:t},this._isVML?(this._tank.style.top=h.top,this._tank.style.left=h.left,this._tank.style.width=h.width,this._tank.style.height=h.height):(this.renderer.attr(this._tank,{x:h.left}),this.renderer.attr(this._tank,{y:h.top}),this.renderer.attr(this._tank,{width:h.width}),this.renderer.attr(this._tank,{height:h.height}))},_renderArrowPointer:function(){var e=this._getArrowPathByValue(0);this._pointer=this.renderer.path(e,this.pointer.style)},_renderArrowPointerByValue:function(e){var t=this._getArrowPathByValue(e);this._pointer=this.renderer.path(t,this.pointer.style)},_getArrowPathByValue:function(e){var t,i,s,r=this._getBorderSize(),n=Math.ceil(this._valueToCoordinates(e))+r,o=r,a=Math.ceil(this._getSize(this.ticksOffset[0],"width")),l=(Math.ceil(this._getSize(this.ticksOffset[1],"height")),Math.ceil(this._getSize(this.pointer.offset))),h=Math.ceil(this._getMaxTickSize()),d=Math.ceil(this._getSize(this.pointer.size)),c=Math.ceil(Math.sqrt(d*d/3));"vertical"===this.orientation?t="M "+(o+=a+h+l)+" "+n+" L "+(i=l>=0?o+d:o-d)+" "+(n-c)+" L "+i+" "+(n+c):(o+=a+h+l+this._getMaxLabelSize().height,this._isVML&&(o-=2),s=n,n=o,t="M "+(o=s)+" "+n+" L "+(o-c)+" "+(i=n-d)+" L "+(o+c)+" "+i);return t},_setValue:function(e){"default"===this.pointer.pointerType?this._performColumnPointerLayout(e):this._performArrowPointerLayout(e),this.value=e},_performColumnPointerLayout:function(e){var t,i,s=this._valueToCoordinates(e),r=this._getBorderSize(),n=this._getSize(this.ticksOffset[0],"width"),o=this._getSize(this.ticksOffset[1],"height"),a=this._getMaxTickSize(),l=this._getSize(this.pointer.size),h=this._getSize(this.pointer.offset),d={};t=!1!==this.int64?this._valueToCoordinates(this._min64):this._valueToCoordinates(this.min),i=Math.abs(t-s),d="vertical"===this.orientation?{left:n+a+h+1+r,top:s,height:i,width:l}:{left:t,top:o+a+h-l-1+r,height:l,width:i},this._setRectAttrs(d)},_performArrowPointerLayout:function(t){var i=this._getArrowPathByValue(t);this._isVML?(this._pointer&&e(this._pointer).remove(),this._renderArrowPointerByValue(t)):this.renderer.attr(this._pointer,{d:i})},_setRectAttrs:function(e){this._isVML?(this._pointer.style.top=e.top,this._pointer.style.left=e.left,this._pointer.style.width=e.width,this._pointer.style.height=e.height):(this.renderer.attr(this._pointer,{x:e.left}),this.renderer.attr(this._pointer,{y:e.top}),this.renderer.attr(this._pointer,{width:e.width}),this.renderer.attr(this._pointer,{height:e.height}))},_valueToCoordinates:function(e){var t,i,s,r=this._getBorderSize(),n=this._getScaleLength(),o=this._getSize(this.ticksOffset[0],"width"),a=this._getSize(this.ticksOffset[1],"height");if(!1!==this.int64){t=e.subtract(this._min64),i=this._max64.subtract(this._min64),"s"===this.int64?(t.isNegative()&&t.negate(),i.isNegative()&&i.negate()):(t=t.intPart().abs(),i=i.abs());var l,h,d=t.toString(),c=i.toString();if(c.length>15){var u=c.length-15;if(c=c.slice(0,15)+"."+c.slice(15),h=parseFloat(c),d.length>u){var p=d.length-u;d=d.slice(0,p)+"."+d.slice(p)}else if(d.length===u)d="0."+d;else{for(var f="0.",m=0;m<u-d.length;m++)f+="0";d=f+""+d}l=parseFloat(d)}else"s"===this.int64?(l=t.toNumber(),h=i.toNumber()):(l=parseFloat(t.toString()),h=parseFloat(i.toString()));s=l/h*n}else s=(t=Math.abs(this.min-e))/(i=Math.abs(this.max-this.min))*n;return"vertical"===this.orientation?this._height-s-(this._height-a-n)+r:s+o},_getSize:function(e,t){return t=t||("vertical"===this.orientation?"width":"height"),e.toString().indexOf("%")>=0&&(e=parseInt(e,10)/100*this["_"+t]),e=parseInt(e,10)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,s,r){if(r!=s&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length||"tankStyle"===i&&"arrow"===t.pointer.pointerType)){if("min"==i&&("s"===t.int64?t._min64=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64?t._min64=new BigNumber(r):this.min=parseFloat(r),e.jqx.aria(this,"aria-valuemin",r)),"max"==i&&("s"===t.int64?t._max64=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64?t._max64=new BigNumber(r):this.max=parseFloat(r),e.jqx.aria(this,"aria-valuemax",r)),"disabled"===i)r?this.disable():this.enable(),e.jqx.aria(this,"aria-disabled",r);else if("value"===i)null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.value=s,this.setValue(r);else{if("colorScheme"===i)this.pointer.style=null;else if("orientation"===i&&s!==r){var n=this.ticksOffset[0];this.ticksOffset[0]=this.ticksOffset[1],this.ticksOffset[1]=n}"animationDuration"!==i&&"easing"!==i&&this.refresh()}this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()}},_backgroundConstructor:function(e,t){if(this.host)return new this._backgroundConstructor(e,t);e=e||{},this.style=e.style||{stroke:"#cccccc",fill:null},e.visible||void 0===e.visible?this.visible=!0:this.visible=!1,!{rectangle:!0,roundedRectangle:!0}[e.backgroundType]?this.backgroundType="roundedRectangle":this.backgroundType=e.backgroundType,"roundedRectangle"===this.backgroundType&&("number"==typeof e.borderRadius?this.borderRadius=e.borderRadius:this.borderRadius=15),void 0===e.showGradient?this.showGradient=!0:this.showGradient=e.showGradient},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_tickConstructor:function(t,i){if(this.host)return new this._tickConstructor(t,i);this.size=i._validatePercentage(t.size,"10%"),t.interval?this.interval=t.interval:this.interval=5,"s"===i.int64?this._interval64=(new e.jqx.math).fromString(this.interval.toString(),10):"u"===i.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),t.number?this.number=t.number:this.number=5,this.style=t.style||{stroke:"#A1A1A1","stroke-width":"1px"},void 0===t.visible?this.visible=!0:this.visible=t.visible},_labelsConstructor:function(t,i){if(this.host)return new this._labelsConstructor(t,i);this.position=t.position,"far"!==this.position&&"near"!==this.position&&"both"!==this.position&&(this.position="both"),this.formatValue=t.formatValue,this.formatSettings=t.formatSettings,this.visible=t.visible,!1!==this.visible&&!0!==this.visible&&(this.visible=!0),t.interval?this.interval=t.interval:this.interval=10,"s"===i.int64?this._interval64=(new e.jqx.math).fromString(this.interval.toString(),10):"u"===i.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),t.number?this.number=t.number:this.number=10,this.fontSize=t.fontSize,this.fontFamily=t.fontFamily,this.fontWeight=t.fontWeight,this.fontStyle=t.fontStyle,this.offset=i._validatePercentage(t.offset,0)},_rangeConstructor:function(t,i){if(this.host)return new this._rangeConstructor(t,i);t.startValue?this.startValue=t.startValue:this.startValue=i.min,t.endValue?this.endValue=t.endValue:this.endValue=i.max,"s"===i.int64?(this._startValue64=(new e.jqx.math).fromString(this.startValue.toString(),10),this._endValue64=(new e.jqx.math).fromString(this.endValue.toString(),10),this._endValue64.lessThanOrEqual(this._startValue64)&&(this._endValue64=this._startValue64.add((new e.jqx.math).fromNumber(1,10)),this.endValue=this._endValue64.toString())):"u"===i.int64?(this._startValue64=new BigNumber(this.startValue),this._endValue64=new BigNumber(this.endValue),1!==this._endValue64.compare(this._startValue64)&&(this._endValue64=this._startValue64.add(1),this.endValue=this._endValue64.toString())):(this.startValue=parseFloat(this.startValue),this.endValue=parseFloat(this.endValue),this.endValue<=this.startValue&&(this.endValue=this.startValue+1)),this.style=t.style||{fill:"#dddddd",stroke:"#dddddd"}},_pointerConstructor:function(e,t){if(this.host)return new this._pointerConstructor(e,t);var i=t._getColorScheme(t.colorScheme)[0];this.pointerType=e.pointerType,"default"!==this.pointerType&&"arrow"!==this.pointerType&&(this.pointerType="default"),this.style=e.style||{fill:i,stroke:i,"stroke-width":1},this.size=t._validatePercentage(e.size,"7%"),this.visible=e.visible,!0!==this.visible&&!1!==this.visible&&(this.visible=!0),this.offset=t._validatePercentage(e.offset,0)}};e.extend(t,i),e.extend(s,i),e.jqx.jqxWidget("jqxLinearGauge","",{}),e.jqx.jqxWidget("jqxGauge","",{}),e.extend(e.jqx._jqxGauge.prototype,t),e.extend(e.jqx._jqxLinearGauge.prototype,s)}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxSlider","",{}),e.extend(e.jqx._jqxSlider.prototype,{defineInstance:function(){var t={disabled:!1,width:300,height:30,step:1,max:10,min:0,int64:!1,orientation:"horizontal",showTicks:!0,tickMode:"default",tickNumber:10,minorTickNumber:20,niceInterval:!1,ticksPosition:"both",ticksFrequency:2,minorTicksFrequency:1,showMinorTicks:!1,showButtons:!0,buttonsPosition:"both",mode:"default",showRange:!0,rangeSlider:!1,value:0,values:[0,10],tooltip:!1,tooltipFormatFunction:null,tooltipFormatSettings:null,tooltipPosition:"near",tooltipHideDelay:500,sliderButtonSize:14,tickSize:7,minorTickSize:4,showTickLabels:!1,tickLabelStyleSettings:null,tickLabelFormatSettings:null,tickLabelFormatFunction:null,template:"",layout:"normal",rtl:!1,changeType:null,editableLabels:!1,padding:{},_settings:{vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",left:"top",top:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",left:"left",top:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}},_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["change","slide","slideEnd","slideStart","created"],_invalidArgumentExceptions:{invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"},_lastValue:[],_track:null,_leftButton:null,_rightButton:null,_slider:null,_rangeBar:null,_slideEvent:null,_capturedElement:null,_slideStarted:!1,_helpers:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxSlider.prototype?t:(e.extend(!0,this,t),t)},_createFromInput:function(t){var i,s,r,n,o,a;if("input"===this.element.nodeName.toLowerCase()&&(this.field=this.element,this.field.className&&(this._className=this.field.className),i={title:this.field.title},this.field.value&&(i.value=this.field.value),this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t,this.field.getAttribute("min")&&(s=this.field.getAttribute("min"),this.min=parseFloat(s)),this.field.getAttribute("step")&&(r=this.field.getAttribute("step"),this.step=parseFloat(r)),this.field.getAttribute("max")&&(n=this.field.getAttribute("max"),this.max=parseFloat(n)),o=document.createElement("div"),void 0!==i.id&&o.setAttribute("id",i.id),void 0!==i.value&&o.setAttribute("value",i.value),o.style.cssText=this.field.style.cssText,this.width||(this.width=this.field.offsetWidth),this.height||(this.height=this.field.offsetHeight),this.field.style.display="none",this.field.parentNode&&this.field.parentNode.insertBefore(o,this.field.nextSibling),a=this.host.data(),this.host=e(o),this.host.data(a),this.element=o,this.element.id=this.field.id,this.field.id=i.id,this._helpers.element=new jqxHelper(this.element),this._helpers.field=new jqxHelper(this.field),this._className&&(this._helpers.element.addClass(this._className),this._helpers.field.removeClass(this._className)),this.field.tabIndex)){var l=this.field.tabIndex;this.field.tabIndex=-1,this.element.tabIndex=l}},createInstance:function(t){var i=this;window.jqxHelper||(window.jqxHelper=e),i._createFromInput("jqxSlider"),i._isTouchDevice=e.jqx.mobile.isTouchDevice();if(i.element.innerHTML="<div role='slider'><div style='width:100%; height: 100%;'></div></div><div><div></div><div></div><div></div></div><div><div style='width:100%; height: 100%;'></div></div>",i._leftButton=i.element.firstChild,i._contentWrapper=i._leftButton.nextSibling,i._rightButton=i._contentWrapper.nextSibling,i.element.className=i.toThemeProperty("jqx-slider jqx-widget"),i._topTicks=i._contentWrapper.firstChild,i._track=i._topTicks.nextSibling,i._bottomTicks=i._track.nextSibling,i._leftButton.className=i.toThemeProperty("jqx-slider-left"),i._rightButton.className=i.toThemeProperty("jqx-slider-left"),i._helpers.leftButton=new jqxHelper(i._leftButton),i._helpers.rightButton=new jqxHelper(i._rightButton),i._helpers.element=new jqxHelper(i.element),i._helpers.track=new jqxHelper(i._track),!i.host.jqxRepeatButton)throw new Error("jqxSlider: Missing reference to jqxbuttons.js.");if(e.jqx.aria(this),"s"===i.int64){if(!e.jqx.longInt)throw new Error("jqxSlider: Missing reference to jqxmath.js");e.jqx.longInt(i),i._value64=(new e.jqx.math).fromString(i.value.toString(),10),i._values64=[(new e.jqx.math).fromString(i.values[0].toString(),10),(new e.jqx.math).fromString(i.values[1].toString(),10)],i._min64=(new e.jqx.math).fromString(i.min.toString(),10),i._max64=(new e.jqx.math).fromString(i.max.toString(),10),i._step64=(new e.jqx.math).fromString(i.step.toString(),10),i._ticksFrequency64=(new e.jqx.math).fromString(i.ticksFrequency.toString(),10),i._minorTicksFrequency64=(new e.jqx.math).fromString(i.minorTicksFrequency.toString(),10)}else if("u"===i.int64){try{new BigNumber(i.value)}catch(e){throw new Error("jqxSlider: Missing reference to jqxmath.js")}i._value64=new BigNumber(i.value),i._values64=[new BigNumber(i.values[0]),new BigNumber(i.values[1])],i._min64=new BigNumber(i.min),i._max64=new BigNumber(i.max),i._step64=new BigNumber(i.step),i._ticksFrequency64=new BigNumber(i.ticksFrequency),i._minorTicksFrequency64=new BigNumber(i.minorTicksFrequency)}i._helpers.element.width(i.width),i._helpers.element.height(i.height),i._helpers.element.isRendered?i._helpers.element.isRendered()?(e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render()):(i._helpers.element.sizeChanged(function(){e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render()}),i._helpers.element.sizeStyleChanged(function(){var e=i._helpers.element.getSizeFromStyle();e.width&&(i.width=e.width),e.height&&(i.height=e.height),i.__trackSize=null,i.__thumbSize=null,i._performLayout(),i._initialSettings()})):(e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render())},render:function(){var t=this;t._setPaddingValues(),t._rendering=!0,t._refresh(),t._raiseEvent(4,{value:t.getValue()}),t._addInput(),null==t.element.getAttribute("tabindex")&&t.element.setAttribute("tabindex",0),e.jqx.utilities.resize(t.host,function(){t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings()}),"vertical"===t.orientation&&(t.element.style.minWidth="96px"),t._rendering=!1},focus:function(){try{this.host.focus()}catch(e){}},destroy:function(){this.removeHandler(e(document),"mouseup.arrow"+this.element.id),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.element.id),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.element.id),e.jqx.utilities.resize(this.host,null,!0),this.host.remove(),this._helpers=[]},_addInput:function(){var e=this.element.getAttribute("name"),t=document.createElement("input");t.setAttribute("type","hidden"),this.element.appendChild(t),e&&t.setAttribute("name",e),this.rangeSlider?this.values&&(t.value=this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):t.value=this.value.toString(),this.input=t},_getSetting:function(e){return this._settings[this.orientation][e]},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},refresh:function(e){e||this._refresh()},_refresh:function(){this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initialSettings()},_render:function(){this._addTrack(),this._addSliders(),this._addTickContainers(),this._updateButtonsVisibility(),this._addRangeBar()},_addTrack:function(){var e=this._track;this._helpers.track.addClass(this.toThemeProperty("jqx-slider-track")),e.setAttribute("style",""),this._helpers.track.removeClass(this.toThemeProperty("jqx-slider-track-"+this._getSetting("opposite"))),this._helpers.track.addClass(this.toThemeProperty("jqx-slider-track-"+this.orientation)),this._helpers.track.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-rc-all"))},_addSliders:function(){if(null===this._slider||this._slider.length<1){this._slider={};var e=document.createElement("div"),t=document.createElement("div");e.className=this.toThemeProperty("jqx-slider-slider"),t.className=this.toThemeProperty("jqx-slider-slider"),this._slider.left=e,this._track.appendChild(e),this._slider.right=t,this._track.appendChild(t),this._helpers.track=new jqxHelper(this._track),this._helpers.left=new jqxHelper(this._slider.left),this._helpers.right=new jqxHelper(this._slider.right),this.template&&(this._helpers.left.addClass(this.toThemeProperty("jqx-"+this.template)),this._helpers.right.addClass(this.toThemeProperty("jqx-"+this.template)))}this._helpers.left.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getSetting("opposite"))),this._helpers.left.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation)),this._helpers.right.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getSetting("opposite"))),this._helpers.right.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation)),this._helpers.right.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._helpers.left.addClass(this.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){this._bottomTicks.className=this.toThemeProperty("jqx-slider-tickscontainer"),this._topTicks.className=this.toThemeProperty("jqx-slider-tickscontainer");var e="visible";this.showTicks||(e="hidden"),this._bottomTicks.style.visibility=e,this._topTicks.style.visibility=e},_updateButtonsVisibility:function(){var e="block";this.showButtons&&!this.rangeSlider||(e="none"),this._rightButton.style.display=e,this._leftButton.style.display=e},_getNiceInterval:function(t){function i(e){return Math.log(parseFloat(e))/Math.LN10}var s,r="Width";"vertical"===this.orientation&&(r="Height");var n,o,a=document.createElement("span");if(a.className=this.toThemeProperty("jqx-widget jqx-slider-label"),a.style.position="absolute",a.style.visibility="hidden",this.tickLabelStyleSettings){var l=this.tickLabelStyleSettings;a.style.fontSize=l.fontSize,a.style.fontFamily=l.fontFamily,a.style.fontWeight=l.fontWeight,a.style.fontStyle=l.fontStyle}n=this._formatLabel(this.min),o=this._formatLabel(this.max);var h=e.jqx.browser.msie?0:1;document.body.appendChild(a),a.innerHTML=n;var d=a["scroll"+r]+h;a.innerHTML=o;var c=a["scroll"+r]+h;a.parentNode.removeChild(a);var u=Math.max(c,d),p=0;u>105&&(p=(u-105)/100),u*=1.5+p;var f=this._getTrackSize();f>64&&!1===this.showButtons&&(f-=64);var m,g,v,x,b,w=Math.round(f/u);return 0===w&&(w=1),!0===t&&(w*=4),!1===this.int64?(m=this.max-this.min,g=Math.floor(i(m)-i(w)),b=(s=m<2*(x=w*(v=Math.pow(10,g)))?1:m<3*x?2:m<7*x?5:10)*v):(m=new BigNumber(this.max).subtract(new BigNumber(this.min)),g=Math.floor(i(m.toString())-i(w)),v=new BigNumber(10).pow(new BigNumber(g)),x=new BigNumber(w).multiply(v),s=-1===m.compare(new BigNumber(2*x))?1:-1===m.compare(new BigNumber(3*x))?2:-1===m.compare(new BigNumber(7*x))?5:10,-1===(b=new BigNumber(s).multiply(v)).compare(1)&&(b=new BigNumber(1)),"s"===this.int64&&(b=(new e.jqx.math).fromString(b.toString()))),b},_formatLabel:function(t,i){var s,r=!0!==i?this.tickLabelFormatFunction:this.tooltipFormatFunction,n=!0!==i?this.tickLabelFormatSettings:this.tooltipFormatSettings;return r?s=r(t):n?void 0!==n.radix?s=(new e.jqx.math).getRadixValue(t,this.int64,n.radix):void 0!==n.outputNotation&&"default"!==n.outputNotation&&"decimal"!==n.outputNotation?s=(new e.jqx.math).getDecimalNotation(t,n.outputNotation,n.decimalDigits,n.digits):void 0!==n.decimalDigits?s=Number(t).toFixed(n.decimalDigits):void 0!==n.digits&&(s=Number(Number(t).toPrecision(n.digits)).toString()):s=t,s},_addTicks:function(t,i){if(this.showTicks){var s,r,n,o,a,l,h,d,c,u,p,f,m,g=parseInt(t.style[this._getSetting("size")],10),v="normal"===this.layout&&"horizontal"===this.orientation&&!1===this.rtl||"reverse"===this.layout&&"vertical"===this.orientation,x="";!1===this.int64?(a=this.max-this.min,"default"===this.tickMode?(this.niceInterval?(n=this._getNiceInterval(),o=this._getNiceInterval(!0)):(n=this.ticksFrequency,o=this.minorTicksFrequency),l=Math.round(a/n),h=Math.round(a/o)):"tickNumber"===this.tickMode&&(l=this.tickNumber,h=this.minorTickNumber,n=Math.round(a/l)),c=this.min,u=this.max):"s"===this.int64?(a=this._max64.subtract(this._min64),"default"===this.tickMode?(this.niceInterval?(n=this._getNiceInterval(),o=this._getNiceInterval(!0)):(n=this._ticksFrequency64,o=this._minorTicksFrequency64),l=a.div(n).toNumber(),h=a.div(o).toNumber()):"tickNumber"===this.tickMode&&(l=this.tickNumber,h=this.minorTickNumber,n=a.div((new e.jqx.math).fromNumber(l))),c=this._min64.toString(),u=this._max64.toString()):"u"===this.int64&&(a=this._max64.subtract(this._min64),"default"===this.tickMode?(this.niceInterval?(n=this._getNiceInterval(),o=this._getNiceInterval(!0)):(n=this._ticksFrequency64,o=this._minorTicksFrequency64),l=parseInt(a.divide(n).toString(),10),h=parseInt(a.divide(o).toString(),10)):"tickNumber"===this.tickMode&&(l=this.tickNumber,h=this.minorTickNumber,n=a.divide(new BigNumber(l)).intPart()),c=this._min64.toString(),u=this._max64.toString());var b=g/l;d=g/h,t.innerHTML="",r=v?this._formatLabel(c):this._formatLabel(u);var w=document.createElement("span");if(w.style.visibility="hidden",w.className=this.toThemeProperty("jqx-widget jqx-widget-content jqx-slider"),this.tickLabelStyleSettings){var y=this.tickLabelStyleSettings;w.style.fontSize=y.fontSize,w.style.fontFamily=y.fontFamily,w.style.fontWeight=y.fontWeight,w.style.fontStyle=y.fontStyle}document.body.appendChild(w),w.innerHTML="0";var _={width:w.offsetWidth,height:w.offsetHeight};w.parentNode.removeChild(w);var j=parseInt(t.style[this._getSetting("oSize")],10),q="horizontal"===this.orientation?this.padding.left:0;x+=this._addTick(t,q,this.min,j,r,_,!1,i);var S=document.createElement("span");S.className=this.toThemeProperty("jqx-widget"),S.style.position="absolute",S.style.visibility="hidden",document.body.appendChild(S),S.innerHTML=this.min.toString(),p="horizontal"===this.orientation?S.offsetWidth:S.offsetHeight;var T=0,C=0;if("default"===this.tickMode&&!0===this.niceInterval){var I,k;if(!1===this.int64)C=(T=v?(k=(I=this.min)-I%n+n)-I:(I=this.max)-(k=I-I%n))/n*b;else{var P=new BigNumber(n.toString());v?T=(k=(I=new BigNumber(this.min)).subtract(I.mod(P)).add(P)).subtract(I):(k=(I=new BigNumber(this.max)).subtract(I.mod(P)),T=I.subtract(k)),C=parseFloat(T.divide(P).multiply(b).toString())}var M=!0;if(p>=C&&(M=!1),k.toString()!==this.max.toString()&&C<g){var N=this._formatLabel(k.toString());x+=this._addTick(t,C+q,k,j,N,_,!1,i,M)}}for(f=1;f<l;f++){var D;s=f*b+C,s=Math.floor(s),!1===this.int64?D=v?this.min+n*f+T:this.max-n*f-T:"s"===this.int64?D=v?this._min64.add(n.multiply((new e.jqx.math).fromString(f.toString(),10))).add((new e.jqx.math).fromString(T.toString(),10)).toString():this._max64.subtract(n.multiply((new e.jqx.math).fromString(f.toString(),10))).subtract((new e.jqx.math).fromString(T.toString(),10)).toString():"u"===this.int64&&(D=v?this._min64.add(n.multiply(f)).add(T).toString():this._max64.subtract(n.multiply(f)).subtract(T).toString()),D.toString()!==this.max.toString()&&(r=this._formatLabel(D.toString()),m=!0,"default"===this.tickMode&&!0===this.niceInterval&&(S.innerHTML=r,s+(p="horizontal"===this.orientation?S.offsetWidth:S.offsetHeight)>=l*b&&(m=!1)),x+=this._addTick(t,s+q,f,j,r,_,!1,i,m))}if(this.showMinorTicks)for(f=1;f<h;f++)s=f*d,s=Math.floor(s),r="",x+=this._addTick(t,s+q,f,j,r,_,!0,i);r=v?this._formatLabel(u):this._formatLabel(c),x+=this._addTick(t,l*b+q,this.max,j,r,_,!1,i),t.innerHTML=x,S.parentNode.removeChild(S)}},_addTick:function(e,t,i,s,r,n,o,a,l){var h,d,c="";c=this.toThemeProperty("jqx-slider-tick"),c+=" "+this.toThemeProperty("jqx-fill-state-pressed"),this.template&&(c+=" "+this.toThemeProperty("jqx-"+this.template));var u=this._getSetting("top"),p="2px",f=this.tickSize;if(o&&(f=this.minorTickSize),e!==this._bottomTicks&&(p=s-f-2+"px"),"horizontal"===this.orientation){if(d='<div style="'+u+": "+p+"; "+this._getSetting("oSize")+":  "+f+"px; float: left; position:absolute; left:"+t+'px;" class="'+this.toThemeProperty("jqx-slider-tick-horizontal")+" "+c+'"></div>',this.showTickLabels){p=e!==this._bottomTicks?s-f-n.height-2+"px":2+f+"px";var m=n.width*r.toString().length;if(h=t-(m/=2),!1!==l){var g="",v="",x="",b="";if(this.tickLabelStyleSettings){var w=this.tickLabelStyleSettings;w.fontSize&&(g=w.fontSize),w.fontFamily&&(v=w.fontFamily),w.fontWeight&&(x=w.fontWeight),w.fontStyle&&(b=w.fontStyle)}d+='<div class="'+this.toThemeProperty("jqx-slider-label jqx-slider-label-"+a)+'" style="'+u+": "+p+"; float: left; position:absolute; left:"+h+"px; white-space: nowrap; font-size: "+g+"; font-family: "+v+"; font-weight: "+x+"; font-style: "+b+'">'+r+"</div>"}}}else if(d='<div style="'+u+": "+p+"; "+this._getSetting("oSize")+":  "+f+"px; float: none; position:absolute; top:"+t+'px;" class="'+this.toThemeProperty("jqx-slider-tick-vertical")+" "+c+'"></div>',this.showTickLabels){p=e!==this._bottomTicks?s-f-r.toString().length*n.width-6+"px":6+f+"px";var y=n.height;h=t-(y/=2),!1!==l&&(d+='<div class="'+this.toThemeProperty("jqx-slider-label jqx-slider-label-"+a)+'" style="'+u+": "+p+"; float: none; position:absolute; top:"+h+'px;">'+r+"</div>")}return d},_addRangeBar:function(){(null===this._rangeBar||this._rangeBar.length<1)&&(this._rangeBar=document.createElement("div"),this._rangeBar.className=this.toThemeProperty("jqx-slider-rangebar jqx-fill-state-pressed jqx-rc-all"),this.template&&(this._rangeBar.className+=" "+this.toThemeProperty("jqx-"+this.template)),this._helpers.rangeBar=new jqxHelper(this._rangeBar),this._track.appendChild(this._rangeBar)),this.showRange?this._rangeBar.style.display="block":this._rangeBar.style.display="none",this._thumbSize=this._slider.left.offsetWidth},_getLeftDisplacement:function(){if(!this.showButtons)return 0;if(this.rangeSlider)return 0;switch(this.buttonsPosition){case"left":return this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0);case"right":return 0;default:return this._leftButton[this._getSetting("outerSize")](!0)}return 0},_performLayout:function(){null!==this.width&&-1!==this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width,10)+"px":void 0===this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width,10)+"px"),null!==this.height&&-1!==this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height,10)+"px":void 0===this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height,10)+"px");null!==this.width&&-1!==this.width.toString().indexOf("%")&&(!0,this._helpers.element.width(this.width)),null!==this.height&&-1!==this.height.toString().indexOf("%")&&(!0,this._helpers.element.height(this.height));var e=this._helpers.element.innerHeight();"width"===this._getSetting("size")&&(e=this._helpers.element.innerWidth()),this._performButtonsLayout(),this._performTrackLayout(e-6),this._contentWrapper.style[this._getSetting("size")]=this._track.style[this._getSetting("size")],this._contentWrapper.style[this._getSetting("oSize")]=this.element.style[this._getSetting("oSize")],this._performTicksLayout(),this._performRangeBarLayout();var t=this.padding;if("horizontal"===this.orientation){if(this._contentWrapper.style.position="absolute",this._contentWrapper.style.left="0px",this._contentWrapper.style.top="0px",this.showButtons&&!this.rangeSlider&&(this._contentWrapper.style.left=1+this._helpers.leftButton.outerWidth(!0)+"px",this._leftButton.style.left=t.left+"px",this._rightButton.style.right=t.right+"px","left"===this.buttonsPosition?(this._contentWrapper.style.left=2+2*this._helpers.leftButton.innerWidth()+this._helpers.left.innerWidth()/2+"px",this._rightButton.style.left=1+this._helpers.leftButton.innerWidth()+"px"):"right"===this.buttonsPosition&&(this._contentWrapper.style.left=this._helpers.left.innerWidth()/2+"px",this._leftButton.style.left="",this._leftButton.style.right=1+t.right+this._helpers.leftButton.innerWidth()+"px",this._rightButton.style.right=this._leftButton.style.right-this._helpers.leftButton.innerWidth()+"px")),!this.showButtons||this.rangeSlider){var i=2+Math.ceil(this.sliderButtonSize/2);this._contentWrapper.style.left=i+"px"}}else if(this._contentWrapper.style.position="absolute",this._contentWrapper.style.left="0px",this._contentWrapper.style.top="0px",this.showButtons&&!this.rangeSlider&&(this._contentWrapper.style.top=1+this._helpers.leftButton.outerHeight(!0)+"px",this._leftButton.style.top="0px",this._rightButton.style.bottom="0px",this._leftButton.style.left="",this._leftButton.style.right="",this._rightButton.style.left="",this._rightButton.style.right="","left"===this.buttonsPosition?(this._contentWrapper.style.top=2+2*this._helpers.leftButton.innerHeight()+this._helpers.left.innerHeight()/2+"px",this._rightButton.style.top=1+this._helpers.leftButton.innerHeight()+"px"):"right"===this.buttonsPosition&&(this._contentWrapper.style.top=this._helpers.left.innerHeight()/2+"px",this._leftButton.style.top="",this._leftButton.style.bottom=1+this._helpers.leftButton.innerHeight()+"px",this._rightButton.style.bottom=this._leftButton.style.bottom-this._helpers.leftButton.innerHeight()+"px")),!this.showButtons||this.rangeSlider){i=2+Math.ceil(this.sliderButtonSize/2);this._contentWrapper.style.top=i+"px"}if(this.rangeSlider?this._slider.left.style.visibility="visible":this._slider.left.style.visibility="hidden",this._refreshRangeBar(),"vertical"===this.orientation&&this.showButtons){this._leftButton.offsetWidth,this._track.offsetWidth;this._track.style.marginLeft="1px"}this._editableLabels()},_performTrackLayout:function(e){var t=e;(this.showButtons&&!this.rangeSlider&&("horizontal"===this.orientation?t-=this._helpers.leftButton.innerWidth()+this._helpers.rightButton.innerWidth()+4:t-=this._helpers.leftButton.innerHeight()+this._helpers.rightButton.innerHeight()+4),this.rangeSlider||!this.showButtons)&&(t=e-2*(2+Math.ceil(this.sliderButtonSize/2)));"horizontal"===this.orientation?(t-=this.padding.left+this.padding.right,t-=this._helpers.left.outerWidth()-2):t-=this._helpers.left.outerHeight()-2,this._track.style[this._getSetting("size")]=t+"px",this._track.style.left=this.padding.left+"px",this._slider.left.style.left="0px",this._slider.left.style.top="0px",this._slider.right.style.left="0px",this._slider.right.style.top="0px"},_performTicksLayout:function(){this._performTicksContainerLayout(),this._addTicks(this._topTicks,"top"),this._addTicks(this._bottomTicks,"bottom"),this._topTicks.style.visibility="hidden",this._bottomTicks.style.visibility="hidden","top"!==this.ticksPosition&&"both"!==this.ticksPosition||!this.showTicks||(this._topTicks.style.visibility="visible"),"bottom"!==this.ticksPosition&&"both"!==this.ticksPosition||!this.showTicks||(this._bottomTicks.style.visibility="visible")},_performTicksContainerLayout:function(){var e;"horizontal"===this.orientation?(this._topTicks.style.width=this._track.style.width,this._bottomTicks.style.width=this._track.style.width,e=(parseInt(this.element.style.height,10)-this._helpers.track.outerHeight())/2-2,this._topTicks.style.height=e+"px",this._bottomTicks.style.height=e+"px",this._topTicks.style.float="none",this._track.style.float="none",this._bottomTicks.style.float="none"):(this._topTicks.style.height=this._track.style.height,this._bottomTicks.style.height=this._track.style.height,e=(parseInt(this.element.style.width,10)-this._helpers.track.outerWidth())/2-2,this._topTicks.style.width=e+"px",this._bottomTicks.style.width=e+"px",this._topTicks.style.float="left",this._track.style.float="left",this._bottomTicks.style.float="left")},_performButtonsLayout:function(){this._updateButtonsVisibilityStyles(),this._updateButtonsVisibilityClasses(),this._updateButtonsVisibilityHover(),this._centerElement(this._rightButton),this._centerElement(this._leftButton),this._layoutButtons()},_centerElement:function(e){var t=new jqxHelper(e);e.style.marginLeft="0px",e.style.marginTop="0px",e.style.marginRight="0px",e.style.marginBottom="0px";var i=(parseFloat(this.element.style[this._getSetting("oSize")])-parseFloat(t[this._getSetting("outerOSize")]()))/2;return"horizontal"===this.orientation?(e.style.marginLeft="0px",e.style.marginTop=i+"px"):(e.style.marginTop="0px;",e.style.marginLeft=i+"px"),e},_updateButtonsVisibilityStyles:function(){this._leftButton.style.backgroundPosition="center",this._rightButton.style.backgroundPosition="center","vertical"===this.orientation&&(this._leftButton.style.float="none",this._rightButton.style.float="none"),this._leftButton.style.position="absolute",this._rightButton.style.position="absolute"},_updateButtonsVisibilityClasses:function(){var e={prev:"left",next:"right"};"vertical"===this.orientation&&(e={prev:"up",next:"down"}),this._helpers.leftButton.addClass(this.toThemeProperty("jqx-rc-all jqx-slider-button")),this._helpers.rightButton.addClass(this.toThemeProperty("jqx-rc-all jqx-slider-button")),this._leftArrow=this._leftButton.firstChild,this._rightArrow=this._rightButton.firstChild,this._helpers.leftArrow=new jqxHelper(this._leftArrow),this._helpers.rightArrow=new jqxHelper(this._rightArrow),this._helpers.leftArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),this._helpers.rightArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),this._helpers.leftArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),this._helpers.rightArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),this._helpers.leftArrow.addClass(this.toThemeProperty("jqx-icon-arrow-"+e.prev)),this._helpers.rightArrow.addClass(this.toThemeProperty("jqx-icon-arrow-"+e.next))},_updateButtonsVisibilityHover:function(){var t=this,i={prev:"left",next:"right"};"vertical"===t.orientation&&(i={prev:"up",next:"down"}),t.removeHandler(e(document),"mouseup.arrow"+t.element.id),t.addHandler(e(document),"mouseup.arrow"+t.element.id,function(){t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected")),t.sliderTooltip?(t.sliderTooltipTimer&&clearTimeout(t.sliderTooltipTimer),t.sliderTooltipTimer=setTimeout(function(){t.sliderTooltipObj.fadeOut("fast"),t._mouseDown=!1},t.tooltipHideDelay)):t._mouseDown=!1}),t.removeHandler(t._leftButton,"mousedown."+t.element.id),t.removeHandler(t._leftButton,"mouseup."+t.element.id),t.removeHandler(t._leftButton,"mouseenter."+t.element.id),t.removeHandler(t._leftButton,"mouseleave."+t.element.id),t.removeHandler(t._rightButton,"mousedown."+t.element.id),t.removeHandler(t._rightButton,"mouseup."+t.element.id),t.removeHandler(t._rightButton,"mouseenter."+t.element.id),t.removeHandler(t._rightButton,"mouseleave."+t.element.id),t.addHandler(t._leftButton,"mousedown."+t.element.id,function(){t.disabled||(t._helpers.leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._mouseDown=!0)}),t.addHandler(t._leftButton,"mouseup."+t.element.id,function(){t.disabled||t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected"))}),t.addHandler(t._leftButton,"mouseenter."+t.element.id,function(){t.disabled||t._helpers.leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))}),t.addHandler(t._leftButton,"mouseleave."+t.element.id,function(){t.disabled||t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))}),t.addHandler(t._rightButton,"mousedown."+t.element.id,function(){t.disabled||(t._helpers.rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected")),t._mouseDown=!0)}),t.addHandler(t._rightButton,"mouseup."+t.element.id,function(){t.disabled||t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected"))}),t.addHandler(t._rightButton,"mouseenter."+t.element.id,function(){t.disabled||t._helpers.rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))}),t.addHandler(t._rightButton,"mouseleave."+t.element.id,function(){t.disabled||t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))})},_layoutButtons:function(){"horizontal"===this.orientation?this._horizontalButtonsLayout():this._verticalButtonsLayout()},_horizontalButtonsLayout:function(){var e=2+Math.ceil(this.sliderButtonSize/2);"left"===this.buttonsPosition?(this._leftButton.style.marginRight="0px",this._rightButton.style.marginRight=e+"px"):"right"===this.buttonsPosition?(this._leftButton.style.marginLeft=2+e+"px",this._rightButton.style.marginRight="0px"):(this._leftButton.style.marginRight=e+"px",this._rightButton.style.marginLeft=e+"px")},_verticalButtonsLayout:function(){var e=2+Math.ceil(this.sliderButtonSize/2);"left"===this.buttonsPosition?(this._leftButton.style.marginBottom="0px",this._rightButton.style.marginBottom=e+"px"):"right"===this.buttonsPosition?(this._leftButton.style.marginTop=2+e+"px",this._rightButton.style.marginBottom="0px"):(this._leftButton.style.marginBottom=e+"px",this._rightButton.style.marginTop=2+e+"px");var t=parseInt(this._leftButton.style.marginLeft,10);this._leftButton.style.marginLeft=t-1+"px",this._rightButton.style.marginLeft=t-1+"px"},_performRangeBarLayout:function(){this._rangeBar.style[this._getSetting("oSize")]=this._helpers.track[this._getSetting("oSize")]()+"px",this._rangeBar.style[this._getSetting("size")]=this._helpers.track[this._getSetting("size")]()+"px",this._rangeBar.style.position="absolute",this._rangeBar.style.left="0px",this._rangeBar.style.top="0px"},_raiseEvent:function(t,i){var s=this._events[t],r=new e.Event(s,this.element);return!1===this._triggerEvents||(!!this._rendering||(r.args=i,0===t&&(r.args.type=this.changeType,this.changeType=null),1===t&&(r.args.cancel=!1,this._slideEvent=r),this._lastValue[t]=i.value,r.owner=this,this.host.trigger(r)))},_initialSettings:function(){!1===this.int64?this.rangeSlider?"number"!=typeof this.value?this.setValue(this.value):this.setValue(this.values):(void 0===this.value&&(this.value=0),this.setValue(this.value)):!1===this.rangeSlider||!0===Array.isArray(this._value64)?this.setValue(this._value64):this.setValue(this._values64),this.disabled&&this.disable()},_addEventHandlers:function(){var t=this;t.addHandler(t._slider.right,t._getEvent("mousedown"),t._startDrag,{that:this}),t.addHandler(t._slider.left,t._getEvent("mousedown"),t._startDrag,{that:this}),t.addHandler(e(document),t._getEvent("mouseup")+"."+t.element.id,function(){t._stopDrag()});try{if((""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self){var i=function(){t._stopDrag()},s=null;window.parent&&document.referrer&&(s=document.referrer),s&&-1!==s.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i))}}catch(e){}t.addHandler(e(document),t._getEvent("mousemove")+"."+t.element.id,t._performDrag,{that:this}),t.addHandler(t._slider.left,"mouseenter",function(){t.disabled||t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.right,"mouseenter",function(){t.disabled||t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.left,"mouseleave",function(){t.disabled||t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.right,"mouseleave",function(){t.disabled||t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.left,"mousedown",function(){t.disabled||t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.right,"mousedown",function(){t.disabled||t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.left,"mouseup",function(){t.disabled||t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.right,"mouseup",function(){t.disabled||t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._leftButton,t._getEvent("click"),t._leftButtonHandler,{that:this}),t.addHandler(t._rightButton,t._getEvent("click"),t._rightButtonHandler,{that:this}),t.addHandler(t._track,t._getEvent("mousedown"),t._trackMouseDownHandler,{that:this}),t.addHandler(t.host,"focus",function(){t._helpers.track.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.leftButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.rightButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(t.host,"blur",function(){t._helpers.track.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.leftButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.rightButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.element.onselectstart=function(){return!1},t._addMouseWheelListeners(),t._addKeyboardListeners()},_addMouseWheelListeners:function(){var t=this;t.addHandler(t.host,"mousewheel",function(i){if(t.disabled)return!0;if(t.changeType="mouse",document.activeElement&&!e(document.activeElement).ischildof(t.host))return!0;var s=i.wheelDelta;i.originalEvent&&i.originalEvent.wheelDelta&&(i.wheelDelta=i.originalEvent.wheelDelta),"wheelDelta"in i||(s=-40*i.detail),s>0?t.incrementValue():t.decrementValue(),i.preventDefault()})},_addKeyboardListeners:function(){var e=this;e.addHandler(e.host,"keydown",function(t){if(!0!==e._editingLabels)switch(e.changeType="keyboard",t.keyCode){case 40:case 37:return"normal"!==e.layout||e.rtl?e.incrementValue():e.decrementValue(),!1;case 38:case 39:return"normal"!==e.layout||e.rtl?e.decrementValue():e.incrementValue(),!1;case 36:return e.rangeSlider?e.setValue([e.values[0],e.max]):e.setValue(e.min),!1;case 35:return e.rangeSlider?e.setValue([e.min,e.values[1]]):e.setValue(e.max),!1}})},_trackMouseDownHandler:function(t){var i=t.data.that,s=e.jqx.mobile.getTouches(t)[0],r=parseInt(i._slider.left.style[i._getSetting("size")],10);isNaN(r)&&(r=0);var n=(i._isTouchDevice?s:t)[i._getSetting("page")]-r/2,o=i._getClosest(n),a=i._getValueByPosition(n);i._mouseDown=!0,i.changeType="mouse",i._setValue(a,o),i.input&&e.jqx.aria(i,"aria-valuenow",i.input.value)},_getClosest:function(e){return this.rangeSlider?(e=e-this._helpers.track.offset()[this._getSetting("left")]-this._helpers.left[this._getSetting("size")]()/2,Math.abs(parseInt(this._slider.left.style[this._getSetting("left")],10)-e)<Math.abs(parseInt(this._slider.right.style[this._getSetting("left")],10)-e)?this._slider.left:this._slider.right):this._slider.right},_removeEventHandlers:function(){this.removeHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag),this.removeHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"),this._stopDrag),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"),this._performDrag),this.removeHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler),this.removeHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler),this.removeHandler(this._track,this._getEvent("mousedown"),this._trackMouseDownHandler),this.element.onselectstart=null,this.removeHandler(this.host,this._getEvent("mousewheel")),this.removeHandler(this.host,this._getEvent("keydown"))},_rightButtonClick:function(){this.changeType="mouse","horizontal"!==this.orientation||this.rtl?this.decrementValue():this.incrementValue()},_leftButtonClick:function(){this.changeType="mouse","horizontal"!==this.orientation||this.rtl?this.incrementValue():this.decrementValue()},_rightButtonHandler:function(e){var t=e.data.that;return"normal"===t.layout?t._rightButtonClick():t._leftButtonClick(),!1},_leftButtonHandler:function(e){var t=e.data.that;return"normal"===t.layout?t._leftButtonClick():t._rightButtonClick(),!1},_startDrag:function(t){var i=t.data.that;i.changeType="mouse",i._capturedElement=t.target;var s=new jqxHelper(t.target).offset();i._startX=s.left,i._startY=s.top;var r=e.jqx.position(t);if(i._mouseStartX=r.left,i._mouseStartY=r.top,i._mouseDown=!0,t.stopPropagation(),i.tooltip&&i._showTooltip(i._capturedElement,i.value),i._isTouchDevice)return!1},_stopDrag:function(){this._slideStarted&&this._raiseEvent(2,{value:this.getValue()}),this._slideStarted&&null!==this._capturedElement?(this.input&&e.jqx.aria(this,"aria-valuenow",this.input.value),this._helpers.left.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._helpers.right.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._slideStarted=!1,this._capturedElement=null,this.sliderTooltip&&this.sliderTooltipObj.fadeOut("fast")):this._capturedElement=null},_performDrag:function(t){var i=t.data.that;if(null!==i._capturedElement){if(0===t.which&&e.jqx.browser.msie&&e.jqx.browser.version<9)return i._stopDrag(),!1;var s=e.jqx.position(t),r="horizontal"===i.orientation?s.left:s.top;if(i._isDragged(r),i._slideStarted||i._isTouchDevice)return i._dragHandler(r)}},_isDragged:function(e){Math.abs(e-this[this._getSetting("mouse")])>2&&!this._slideStarted?(this._slideStarted=!0,this._valueChanged(3)&&this._raiseEvent(3,{value:this.getValue()})):null==this._capturedElement&&(this._slideStarted=!1)},_dragHandler:function(e){e=e-this[this._getSetting("mouse")]+this[this._getSetting("start")];var t=this._getValueByPosition(e);if(this.rangeSlider){var i=this._helpers.right,s=this._helpers.left,r=this._getSetting("left");this._capturedElement===s?parseFloat(e)>i.offset()[r]&&(e=i.offset()[r]):parseFloat(e)<s.offset()[r]&&(e=s.offset()[r])}return this._setValue(t,this._capturedElement,e),!1},_getValueByPosition:function(e){return"default"===this.mode?this._getFloatingValueByPosition(e):this._getFixedValueByPosition(e)},_getFloatingValueByPosition:function(t){var i,s,r,n,o=t-this._helpers.track.offset()[this._getSetting("left")]+this._slider.left.offsetWidth/2,a=o/this._helpers.track[this._getSetting("size")]();return o<0&&(o=0),!1===this.int64?i=(this.max-this.min)*a+this.min:"s"===this.int64?(n=(new e.jqx.math).fromNumber(this._helpers.track[this._getSetting("size")](),10),s=this._max64.subtract(this._min64),r=this._divide64(s,n)*o,i=(new e.jqx.math).fromNumber(r,10).add(this._min64)):"u"===this.int64&&(n=new BigNumber(this._helpers.track[this._getSetting("size")]()),s=this._max64.subtract(this._min64),r=this._divide64(s,n)*o,i=new BigNumber(r).add(this._min64)),"normal"===this.layout?"horizontal"!==this.orientation||this.rtl?!1===this.int64?this.max+this.min-i:this._max64.add(this._min64).subtract(i):i:"horizontal"===this.orientation?!1===this.int64?this.max+this.min-i:this._max64.add(this._min64).subtract(i):i},_getThumbSize:function(){if(this.__thumbSize)return this.__thumbSize;var e=this._helpers.left[this._getSetting("size")]();return this.__thumbSize=e,e},_getTrackSize:function(){if(this.__trackSize)return this.__trackSize;var e=parseInt(this._helpers.track[this._getSetting("size")](),10);return this.__trackSize=e,e},_getFixedValueByPosition:function(t){var i,s,r,n,o,a,l,h=this._getTrackSize(),d=this._getThumbSize(),c={number:-1,distance:Number.MAX_VALUE};if(!1===this.int64)for(n=this.step,o=h/(a=(this.max-this.min)/n),l=this._helpers.track.offset()[this._getSetting("left")]-d/2,s=this.max+this.step,"fixedRange"===this.mode&&(s=this.max),r=this.min;r<=s;r+=this.step)Math.abs(c.distance-t)>Math.abs(l-t)&&(c.distance=l,c.number=r),l+=o;else if("s"===this.int64)for(n=this._step64,a=this._max64.subtract(this._min64).div(this._step64),o=this._divide64((new e.jqx.math).fromNumber(h,10),a),l=this._helpers.track.offset()[this._getSetting("left")]-d/2,c={number:(new e.jqx.math).fromString(this._min64.toString(),10),distance:l},i=(new e.jqx.math).fromString(this._min64.toString(),10);"fixedRange"!==this.mode?i.lessThanOrEqual(this._max64.add(this._step64)):i.lessThanOrEqual(this._max64);i=i.add(this._step64))Math.abs(c.distance-t)>Math.abs(l-t)&&(c.distance=l,c.number=(new e.jqx.math).fromString(i.toString(),10)),l+=o;else if("u"===this.int64){n=this._step64,a=this._max64.subtract(this._min64).divide(this._step64),o=parseFloat(new BigNumber(h).divide(a).toString()),l=this._helpers.track.offset()[this._getSetting("left")]-d/2,c={number:new BigNumber(this._min64.toString()),distance:l};var u="fixedRange"!==this.mode?this._max64.add(this._step64):this._max64;for(i=new BigNumber(this._min64.toString());1!==i.compare(u);i=i.add(this._step64))Math.abs(c.distance-t)>Math.abs(l-t)&&(c.distance=l,c.number=new BigNumber(i.toString())),l+=o}return"normal"===this.layout?"horizontal"!==this.orientation||this.rtl?!1===this.int64?this.max+this.min-c.number:this._max64.add(this._min64).subtract(c.number):c.number:"horizontal"===this.orientation?!1===this.int64?this.max+this.min-c.number:this._max64.add(this._min64).subtract(c.number):c.number},_setValue:function(e,t,i){if(!this._slideEvent||!this._slideEvent.args.cancel){if(e=this._handleValue(e,t),this._setSliderPosition(e,t,i),this._fixZIndexes(),this._valueChanged(1)&&this._raiseEvent(1,{value:this.getValue()}),this._valueChanged(0)&&this._raiseEvent(0,{value:this.getValue()}),!this.input)return;this.rangeSlider?this.values&&void 0!==this.value.rangeEnd&&void 0!==this.value.rangeStart&&(this.input.value=this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):this.input.value=this.value.toString()}},_valueChanged:function(e){var t=this.getValue();return!this.rangeSlider&&this._lastValue[e]!==t||this.rangeSlider&&("object"!=typeof this._lastValue[e]||parseFloat(this._lastValue[e].rangeEnd)!==parseFloat(t.rangeEnd)||parseFloat(this._lastValue[e].rangeStart)!==parseFloat(t.rangeStart))},_handleValue:function(e,t){return e=this._validateValue(e,t),t===this._slider.left&&(!1===this.int64?this.values[0]=e:(this.values[0]=e.toString(),this._value64[0]=e)),t===this._slider.right&&(!1===this.int64?this.values[1]=e:(this.values[1]=e.toString(),this._values64[1]=e)),this.rangeSlider?(this.value={rangeStart:this.values[0],rangeEnd:this.values[1]},!1!==this.int64&&(this._value64={rangeStart:this._values64[0],rangeEnd:this._values64[1]})):!1===this.int64?this.value=e:(this.value=e.toString(),this._value64=e),e},_fixZIndexes:function(){this.values[1]-this.values[0]<.5&&this.max-this.values[0]<.5?(this._slider.left.style.zIndex=20,this._slider.right.style.zIndex=15):(this._slider.left.style.zIndex=15,this._slider.right.style.zIndex=20)},_refreshRangeBar:function(){var t,i=this._helpers.left,s=this._helpers.right,r=this._helpers.track,n=this._getSetting("left"),o=this._getSetting("size"),a=this.rtl&&"horizontal"===this.orientation;if("normal"===this.layout){t=i.position()[n];e(i[0]).position()[n];("vertical"===this.orientation||a)&&(t=s.position()[n])}else t=s.position()[n],"vertical"===this.orientation&&(t=i.position()[n]);this.rangeSlider?this._rangeBar.style[n]=t+"px":"horizontal"!==this.orientation||!a&&"normal"===this.layout?"vertical"===this.orientation&&(this._rangeBar.style[n]=t-r.position().top+i.innerHeight()/2+"px"):this._rangeBar.style[n]=t-r.position().left+i.innerWidth()/2+"px",this._rangeBar.style[o]=Math.abs(s.position()[n]-i.position()[n])+"px"},_validateValue:function(e,t){return!1===this.int64?(e>this.max&&(e=this.max),e<this.min&&(e=this.min),this.rangeSlider&&(t===this._slider.left?e>=this.values[1]&&(e=this.values[1]):e<=this.values[0]&&(e=this.values[0]))):"s"===this.int64?(e.greaterThan(this._max64)&&(e=this._max64),e.lessThan(this._min64)&&(e=this._min64)):"u"===this.int64&&(1===e.compare(this._max64)&&(e=this._max64),-1===e.compare(this._min64)&&(e=this._min64)),e},_setSliderPosition:function(t,i,s){var r,n,o,a,l=parseInt(this._helpers.track[this._getSetting("size")](),10);s&&(s-=this._helpers.track.offset()[this._getSetting("left")]);var h=parseInt(this._helpers.left[this._getSetting("size")](),10);isNaN(h)&&(h=0),"s"===this.int64?("number"==typeof t?t=(new e.jqx.math).fromNumber(t,10):"string"==typeof t&&(t=(new e.jqx.math).fromString(t,10)),t.greaterThan(this._max64)&&(t=(new e.jqx.math).fromString(this._max64.toString(),10)),t.lessThan(this._min64)&&(t=(new e.jqx.math).fromString(this._min64.toString(),10)),a=1-(o=this._divide64(t.subtract(this._min64),this._max64.subtract(this._min64))),"normal"===this.layout?(r=o,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(r=a)):(r=a,"horizontal"!==this.orientation&&(r=o)),n=l*r-h/2,i.style[this._getSetting("left")]=n+"px"):"u"===this.int64?("number"!=typeof t&&"string"!=typeof t||(t=new BigNumber(t)),1===t.compare(this._max64)&&(t=new BigNumber(this._max64)),-1===t.compare(this._min64)&&(t=new BigNumber(this._min64)),a=1-(o=this._divide64(t.subtract(this._min64),this._max64.subtract(this._min64))),"normal"===this.layout?(r=o,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(r=a)):(r=a,"horizontal"!==this.orientation&&(r=o)),n=l*r-h/2,i.style[this._getSetting("left")]=n+"px"):!1===this.int64&&("normal"===this.layout?(r=(t-this.min)/(this.max-this.min),("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(r=1-(t-this.min)/(this.max-this.min))):(r=1-(t-this.min)/(this.max-this.min),"horizontal"!==this.orientation&&(r=(t-this.min)/(this.max-this.min))),n=l*r-h/2,i.style[this._getSetting("left")]=n+"px"),this.tooltip&&this._showTooltip(i,this.value),this._refreshRangeBar()},_divide64:function(e,t){var i,s,r,n;if(i=e.toString(),(r=t.toString()).length>15){var o=r.length-15;if(r=r.slice(0,15)+"."+r.slice(15),n=parseFloat(r),i.length>o){var a=i.length-o;i=i.slice(0,a)+"."+i.slice(a)}else if(i.length===o)i="0."+i;else{for(var l="0.",h=0;h<o-i.length;h++)l+="0";i=l+""+i}s=parseFloat(i)}else"s"===this.int64?(s=e.toNumber(),n=t.toNumber()):(s=parseFloat(e.toString()),n=parseFloat(t.toString()));return s/n},_showTooltip:function(e,t){if(this._slideStarted||null!=this._capturedElement||this._mouseDown){if(t=this._formatLabel(t,!0),!this.toolTipCreated){var i="tooltip"+this.element.id,s=document.createElement("div");s.style.display="none",s.style.position="absolute",s.style.visibility="hidden",s.style.boxShadow="none",s.style.top="0px",s.style.left="0px",s.style.zIndex=99999,s.setAttribute("id",i),document.body.appendChild(s);var r=document.createElement("div");r.setAttribute("id",i+"Main"),s.appendChild(r);var n=document.createElement("div");n.setAttribute("id",i+"Text"),r.appendChild(n);var o=document.createElement("div");o.setAttribute("id",i+"Arrow"),o.style.top="0px",o.style.left="0px",s.appendChild(o),this.sliderTooltip=s,this.sliderTooltipObj=new jqxHelper(this.sliderTooltip),this.sliderTooltipObj.initAnimate&&this.sliderTooltipObj.initAnimate(),n.innerHTML=t,this.sliderTooltip.className=this.toThemeProperty("jqx-tooltip jqx-popup"),r.className=this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),n.className=this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),o.className=this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow"),this.sliderTooltipContent=n,this.sliderTooltipArrow=o,this.sliderTooltipMain=r,this.sliderTooltipArrowObj=new jqxHelper(this.sliderTooltipArrow),this.arrowSize=5,this.toolTipCreated=!0,this.rangeSlider&&(this.sliderTooltipArrow.style.visibility="hidden")}var a=new jqxHelper(e).offset();this.sliderTooltip.style.display="block",this.sliderTooltip.style.visibility="visible";var l=this.sliderButtonSize+this.tickSize;if(this.rangeSlider){var h=this.value?this.value.rangeStart:"",d=this.value?this.value.rangeEnd:"";""!==h?this.sliderTooltipContent.innerHTML=h+" - "+d:(this.sliderTooltip.style.display="none",this.sliderTooltip.style.visibility="hidden")}else this.sliderTooltipContent.innerHTML=t.toString();var c,u,p,f=this.sliderTooltip.offsetWidth;if("horizontal"===this.orientation)switch(u=a.left+this.sliderButtonSize/2-f/2,this.rangeSlider&&(p=(this._helpers.right.offset().left-this._helpers.left.offset().left-this._thumbSize)/2,u=this._helpers.left.offset().left-f/2+p+this._thumbSize),this.tooltipPosition){case"far":c=a.top+l+this.arrowSize,this.sliderTooltipObj.offset({top:c,left:u}),this.sliderTooltipArrowObj.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),this.sliderTooltipArrow.style.borderTopWidth="0px",this.sliderTooltipArrow.style.borderRightWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderBottomWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderLeftWidth=this.arrowSize+"px",this.sliderTooltipArrowObj.offset({top:c-this.arrowSize,left:u-this.arrowSize/2-1+f/2});break;case"near":c=a.top-this.arrowSize-this.sliderTooltipObj.innerHeight()-1,this.sliderTooltipObj.offset({top:c,left:u}),this.sliderTooltipArrowObj.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),this.sliderTooltipArrow.style.borderTopWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderRightWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderBottomWidth="0px",this.sliderTooltipArrow.style.borderLeftWidth=this.arrowSize+"px",this.sliderTooltipArrowObj.offset({top:c+this.sliderTooltipObj.innerHeight(),left:u-this.arrowSize/2-1+f/2})}else{var m=this.sliderTooltipObj.innerHeight();switch(u=a.left-f-this.arrowSize-this.tickSize,c=a.top+this._thumbSize/2-m/2-1,this.rangeSlider&&(p=(this._helpers.right.offset().top-this._helpers.left.offset().top-this._thumbSize)/2,c=this._helpers.left.offset().top-m/2+p+this._thumbSize),this.tooltipPosition){case"far":u=a.left+this._thumbSize+this.arrowSize+this.tickSize,this.sliderTooltipObj.offset({top:c,left:u}),this.sliderTooltipArrowObj.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),this.sliderTooltipArrow.style.borderTopWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderRightWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderBottomWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderLeftWidth="0px",this.sliderTooltipArrowObj.offset({top:c+this.sliderTooltipObj.innerHeight()/2-this.arrowSize/2-2,left:u-this.arrowSize});break;case"near":this.sliderTooltipObj.offset({top:c,left:u}),this.sliderTooltipArrowObj.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),this.sliderTooltipArrow.style.borderTopWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderRightWidth="0px",this.sliderTooltipArrow.style.borderBottomWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderLeftWidth=this.arrowSize+"px",this.sliderTooltipArrowObj.offset({top:c+this.sliderTooltipObj.innerHeight()/2-this.arrowSize/2-2,left:u+f+2})}}}},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.__trackSize=null,e.__thumbSize=null,e._performLayout(),e._initialSettings())},propertyChangedHandler:function(t,i,s,r){if(t.__trackSize=null,t.__thumbSize=null,!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length))switch(i){case"template":t.template&&(t._helpers.left.removeClass(t.toThemeProperty("jqx-"+s)),t._helpers.right.removeClass(t.toThemeProperty("jqx-"+s)),t._helpers.rangeBar.removeClass(t.toThemeProperty("jqx-"+s)),t._helpers.left.addClass(t.toThemeProperty("jqx-"+t.template)),t._helpers.right.addClass(t.toThemeProperty("jqx-"+t.template)),e(t._leftButton).jqxRepeatButton({template:r}),e(t._rightButton).jqxRepeatButton({template:r}),t._helpers.rangeBar.addClass(t.toThemeProperty("jqx-"+t.template)));break;case"theme":e.jqx.utilities.setTheme(s,r,t.host),e(t._leftButton).jqxRepeatButton({theme:r}),e(t._rightButton).jqxRepeatButton({theme:r});break;case"disabled":r?(t.disabled=!0,t.disable()):(t.disabled=!1,t.enable());break;case"width":case"height":t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings();break;case"min":case"max":"s"===t.int64?t["_"+i+"64"]=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64&&(t["_"+i+"64"]=new BigNumber(r)),t._performLayout(),t.__trackSize=null,t.__thumbSize=null,t._initialSettings();break;case"showTicks":case"ticksPosition":case"tickSize":case"tickMode":case"tickNumber":case"minorTickNumber":t._performLayout(),t._initialSettings();break;case"ticksFrequency":case"minorTicksFrequency":"s"===t.int64?t["_"+i+"64"]=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64&&(t["_"+i+"64"]=new BigNumber(r)),t._performLayout(),t._initialSettings();break;case"showRange":case"showButtons":case"orientation":case"rtl":t._render(),t._performLayout(),t._initialSettings(),"orientation"===i&&(t.element.style.minWidth="vertical"===r?"96px":"");break;case"buttonsPosition":t._refresh();break;case"rangeSlider":t.value=r?{rangeEnd:t.value,rangeStart:t.value}:t.value.rangeEnd,t._render(),t._performLayout(),t._initialSettings();break;case"value":var n=r;"s"===t.int64?(n=(new e.jqx.math).fromString(r.toString(),10),t._value64=n):"u"===t.int64?(n=new BigNumber(r),t._value64=n):!1===t.int64&&(t.rangeSlider||(t.value=parseFloat(r))),t.setValue(n);break;case"values":var o=r;"s"===t.int64?(o=[(new e.jqx.math).fromString(r[0].toString(),10),(new e.jqx.math).fromString(r[1].toString(),10)],t._values64=o):"u"===t.int64&&(o=[new BigNumber(r[0]),new BigNumber(r[1])],t._values64=o),t.setValue(o);break;case"tooltip":break;case"step":"s"===t.int64?t._step64=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64&&(t._step64=new BigNumber(r));break;case"editableLabels":t._performLayout(),t._initialSettings();break;case"tickLabelStyleSettings":t._setPaddingValues(!0),t._performLayout(),t._initialSettings();break;default:t._refresh()}},incrementValue:function(t){var i;!1===this.int64?((void 0===t||isNaN(parseFloat(t)))&&(t=this.step),this.rangeSlider?this.values[1]<this.max&&this._setValue(this.values[1]+t,this._slider.right):this.values[1]>=this.min&&this.values[1]<this.max&&this._setValue(this.values[1]+t,this._slider.right)):"s"===this.int64?(t=void 0===t||isNaN(parseFloat(t))?this._step64:(new e.jqx.math).fromString(t.toString(),10),(i=this._values64[1].add(t)).lessThan(this._values64[1])&&(i=this._max64),this.rangeSlider?this._values64[1].lessThan(this._max64)&&this._setValue(i,this._slider.right):this._values64[1].greaterThanOrEqual(this._min64)&&this._values64[1].lessThan(this._max64)&&this._setValue(i,this._slider.right)):"u"===this.int64&&(t=void 0===t||isNaN(parseFloat(t))?this._step64:new BigNumber(t),-1===(i=this._values64[1].add(t)).compare(this._values64[1])&&(i=this._max64),this.rangeSlider?-1===this._values64[1].compare(this._max64)&&this._setValue(i,this._slider.right):-1!==this._values64[1].compare(this._min64)&&-1===this._values64[1].compare(this._max64)&&this._setValue(i,this._slider.right)),this.input&&e.jqx.aria(this,"aria-valuenow",this.input.value)},decrementValue:function(t){var i;!1===this.int64?((void 0===t||isNaN(parseFloat(t)))&&(t=this.step),this.rangeSlider?this.values[0]>this.min&&this._setValue(this.values[0]-t,this._slider.left):this.values[1]<=this.max&&this.values[1]>this.min&&this._setValue(this.values[1]-t,this._slider.right)):"s"===this.int64?(t=void 0===t||isNaN(parseFloat(t))?this._step64:(new e.jqx.math).fromString(t.toString(),10),this.rangeSlider?((i=this._values64[0].subtract(t)).greaterThan(this._values64[0])&&(i=this._min64),this._values64[0].greaterThan(this._min64)&&this._setValue(i,this._slider.left)):((i=this._values64[1].subtract(t)).greaterThan(this._values64[1])&&(i=this._min64),this._values64[1].lessThanOrEqual(this._max64)&&this._values64[1].greaterThan(this._min64)&&this._setValue(i,this._slider.right))):"u"===this.int64&&(t=void 0===t||isNaN(parseFloat(t))?this._step64:new BigNumber(t),this.rangeSlider?(1===(i=this._values64[0].subtract(t)).compare(this._values64[0])&&(i=this._min64),1===this._values64[0].compare(this._min64)&&this._setValue(i,this._slider.left)):(1===(i=this._values64[1].subtract(t)).compare(this._values64[1])&&(i=this._min64),1!==this._values64[1].compare(this._max64)&&1===this._values64[1].compare(this._min64)&&this._setValue(i,this._slider.right))),this.input&&e.jqx.aria(this,"aria-valuenow",this.input.value)},val:function(t){var i;if(0===arguments.length||!e.isArray(t)&&"object"==typeof t)return this.getValue();!1===this.int64?this.setValue(t):"s"===this.int64?(i=(new e.jqx.math).fromString(t.toString(),10),this.setValue(i)):"u"===this.int64&&(i=new BigNumber(t),this.setValue(i))},setValue:function(t){var i,s,r;(!1===this.int64||"string"!=typeof t&&"number"!=typeof t||("s"===this.int64?"string"==typeof t?t=(new e.jqx.math).fromString(t,10):"number"==typeof t&&(t=(new e.jqx.math).fromNumber(t,10)):"u"===this.int64&&(t=new BigNumber(t))),this.rangeSlider)?(arguments.length<2?t instanceof Array?(i=t[0],s=t[1]):"object"==typeof t&&void 0!==t.rangeStart&&void 0!==t.rangeEnd&&(i=t.rangeStart,s=t.rangeEnd):(i=arguments[0],s=arguments[1]),this._triggerEvents=!1,this._setValue(s,this._slider.right),this._triggerEvents=!0,this._setValue(i,this._slider.left)):(this._triggerEvents=!1,r=!1===this.int64?this.min:this._min64,this._setValue(r,this._slider.left),this._triggerEvents=!0,this._setValue(t,this._slider.right));this.input&&e.jqx.aria(this,"aria-valuenow",this.input.value)},getValue:function(){var e=this.value;return!1!==this.int64&&(e=this._value64.toString()),e},_enable:function(t){t?(this._addEventHandlers(),this.disabled=!1,this._helpers.element.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))):(this._removeEventHandlers(),this.disabled=!0,this._helpers.element.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),e(this._leftButton).jqxRepeatButton({disabled:this.disabled}),e(this._rightButton).jqxRepeatButton({disabled:this.disabled})},disable:function(){this._enable(!1),e.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._enable(!0),e.jqx.aria(this,"aria-disabled",!1)},_setPaddingValues:function(t){var i,s,r=this,n=document.createElement("span");if(n.className=r.toThemeProperty("jqx-widget jqx-slider-label"),n.style.position="absolute",n.visibility="hidden",r.tickLabelStyleSettings){var o=r.tickLabelStyleSettings;n.style.fontSize=o.fontSize,n.style.fontFamily=o.fontFamily,n.style.fontWeight=o.fontWeight,n.style.fontStyle=o.fontStyle}"normal"===r.layout?(i=r._formatLabel(r.min),s=r._formatLabel(r.max)):(i=r._formatLabel(r.max),s=r._formatLabel(r.min)),document.body.appendChild(n),n.innerHTML=i;var a="horizontal"===r.orientation?n.offsetWidth:n.offsetHeight;n.innerHTML=s;var l="horizontal"===r.orientation?n.offsetWidth:n.offsetHeight;function h(e){var t,i,s;return!0===r.showButtons?(t=27,i=0):(t=0,i=8),s=Math.ceil(e/2)+1-t,s=Math.max(s,i)}n.parentNode.removeChild(n),(!0===t||!0!==t&&(void 0===r.padding||e.isEmptyObject(r.padding)))&&("horizontal"===r.orientation?r.padding={left:h(a),right:h(l)}:r.padding={bottom:h(a),top:h(l)})},_editableLabels:function(){var t=this;function i(i,s){if(!t.disabled){var o=function(e){var i=document.createElement("span");i.className=t.toThemeProperty("jqx-widget jqx-slider-label"),i.style.position="absolute",i.style.visibility="hidden",document.body.appendChild(i),i.innerHTML=e;var s={width:i.scrollWidth,height:i.scrollHeight};return i.parentNode.removeChild(i),s}(t._formatLabel(s));n.offset(e(i).offset()),r.style.width=o.width+10+"px",r.style.height=o.height+"px",r.style.visibility="visible",r.value=s,r.select(),t._editingLabels=!0}}function s(i,s,r,n){if(i===t[s].toString())return!1;if("s"===t.int64){var o=(new e.jqx.math).fromString(i,10);if("min"===s&&-1!==o.compare(t["_"+n+"64"])||"max"===s&&1!==o.compare(t["_"+n+"64"]))return!1;t[r]=o,t[s]=i}else if("u"===t.int64){var a=new BigNumber(i);if(-1===a.compare(0)||"min"===s&&-1!==a.compare(t["_"+n+"64"])||"max"===s&&1!==a.compare(t["_"+n+"64"]))return!1;t[r]=a,t[s]=i}else{if("min"===s&&i>=t[n]||"max"===s&&i<=t[n])return!1;t[s]=parseFloat(i)}}if(t.showTickLabels&&t.editableLabels){var r,n,o=t.element.id,a=t.element.getElementsByClassName("jqx-slider-label-top"),l=t.element.getElementsByClassName("jqx-slider-label-bottom"),h=t.ticksPosition,d=/^-?\d+\.?\d*$/;if("both"===h||"top"===h){var c,u,p=a[0],f=a[a.length-1];"horizontal"===t.orientation&&"normal"===t.layout&&!1===t.rtl||"vertical"===t.orientation&&"reverse"===t.layout?(c=p,u=f):(c=f,u=p),t.addHandler(e(c),"dblclick.jqxSlider"+o,function(){i(this,t.min),t._editedProperty="min"}),t.addHandler(e(u),"dblclick.jqxSlider"+o,function(){i(this,t.max),t._editedProperty="max"})}if("both"===h||"bottom"===h){var m,g,v=l[0],x=l[l.length-1];"horizontal"===t.orientation&&"normal"===t.layout&&!1===t.rtl||"vertical"===t.orientation&&"reverse"===t.layout?(m=v,g=x):(m=x,g=v),t.addHandler(e(m),"dblclick.jqxSlider"+o,function(){i(this,t.min),t._editedProperty="min"}),t.addHandler(e(g),"dblclick.jqxSlider"+o,function(){i(this,t.max),t._editedProperty="max"})}!0!==t._labelInputCreated?((r=document.createElement("input")).className="jqx-slider-label-input",t.element.appendChild(r)):r=t.element.querySelector(".jqx-slider-label-input"),n=e(r),!0!==t._labelInputCreated&&(t.addHandler(n,"blur.jqxGauge"+t.element.id,function(){var e=this.value;if(r.style.visibility="hidden",d.test(e)){if("min"===t._editedProperty){if(!1===s(e,"min","_min64","max"))return}else if(!1===s(e,"max","_max64","min"))return;t._refresh(),t._editingLabels=!1}}),t._labelInputCreated=!0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxInput","",{}),e.extend(e.jqx._jqxInput.prototype,{defineInstance:function(){var t={disabled:!1,filter:this._filter,sort:this._sort,highlight:this._highlight,dropDownWidth:null,renderer:this._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,displayMember:"",valueMember:"",events:["select","open","close","change"],popupZIndex:2e4,items:8,minLength:1,maxLength:null};return this===e.jqx._jqxInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){"none"!==this.host.css("display")&&!1!==document.body.contains(this.element)||(this._initiallyHidden=!0),this._popupHelper=e(this.$popup),this.render()},render:function(){var t=this;if("textarea"===this.element.nodeName.toLowerCase())this.element.style.overflow="auto";else if("div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;var i=t.element.getElementsByTagName("input"),s=!1;if(e.each(i,function(){var t=this.type;if(null==t||"text"===t||"textarea"===t)return i=e(this),s=!0,!1}),!s)throw new Error("jqxInput: Missing Text Input in the Input Group");if(i.length>0){this.baseHost=e(this.element),t.baseElement=t.element;var r=this.host.data();this.host=i,this.element=i[0],this.host.data(r),t.baseElement.className+=" "+t.toThemeProperty("jqx-widget jqx-rc-all jqx-input-group");var n=this.baseHost.children();e.each(n,function(i){var s="jqx-input-group-addon";e(this).removeClass(t.toThemeProperty("jqx-rc-all")),0===i&&(s+=" jqx-rc-l"),i===n.length-1&&(s+=" jqx-rc-r"),this!==t.element&&(s+=" jqx-fill-state-normal"),this.className+=" "+t.toThemeProperty(s)})}}this.addHandlers(),this.rtl&&(t.element.className+=" "+t.toThemeProperty("jqx-rtl")),t.element.setAttribute("role","textbox"),e.jqx.aria(this,"aria-autocomplete","both"),e.jqx.aria(this,"aria-disabled",this.disabled),e.jqx.aria(this,"aria-readonly",!1),e.jqx.aria(this,"aria-multiline",!1),this.source&&this.source.length&&e.jqx.aria(this,"aria-haspopup",!0),""!==this.value&&(this.element.value=this.value),this._oldsource=this.source,this._updateSource()},_updateSource:function(){var t=this,i=function(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return{label:e,value:e};if("string"!=typeof e&&e instanceof String==!1){var i="",s="";return""!==t.displayMember&&void 0!==t.displayMember&&e[t.displayMember]&&(i=e[t.displayMember]),""!==t.valueMember&&void 0!==t.valueMember&&(s=e[t.valueMember]),""===i&&(i=e.label),""===s&&(s=e.value),{label:i,value:s}}return e},s=function(e){for(var t=[],s=0;s<e.length;s++)t[s]=i(e[s]);return t};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){t.source=s(t.adapter.records)});else{var r={};this.adapter._options.data?e.extend(t.adapter._options.data,r):(this.source._source.data&&e.extend(r,this.source._source.data),this.adapter._options.data=r),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){t.source=s(t.adapter.records)})}this.source.dataBind()}else e.isFunction(this.source)||(this.source=s(this.source))},_refreshClasses:function(t){var i=t?"addClass":"removeClass",s="jqx-widget-content jqx-input jqx-widget",r="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";e.jqx.browser.msie&&(r+=" jqx-noshadow"),this.roundedCorners&&(s+=" jqx-rc-all",r+=" jqx-rc-all"),this.disabled?s+=" jqx-fill-state-disabled":this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host[i](this.toThemeProperty(s)),this._popupHelper[i](this.toThemeProperty(r))},selectAll:function(){var e=this.host;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(e){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e);else{var i=t[0].createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},focus:function(){try{var e=this;e.element.focus(),setTimeout(function(){e.element.focus()},25)}catch(e){}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){this.width&&(this.baseElement.style.width=this._toPx(this.width)),this.height&&(this.baseElement.style.height=this._toPx(this.height));var t=this,i=e.jqx.browser.msie&&e.jqx.browser.version<9,s=0;if(e.each(this.baseHost.children(),function(){this.style.height="100%",this!==t.element&&(s+=e(this).outerWidth())}),t._addonsWidth=s,i){var r=Math.max(0,t.baseElement.offsetHeight-2);t.element.style.width=Math.max(0,t.baseElement.offsetWidth-s-1)+"px",t.element.style.minHeight=r+"px",t.element.style.lineHeight=r+"px"}else t.element.style.width="calc(100% - "+s+"px)";e.jqx.utilities.resize(t.baseHost,function(){if(i&&"string"==typeof t.width&&-1!==t.width.indexOf("%")&&!t._initiallyHidden)t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px";else if(t._initiallyHidden){if(t._addonsWidth=t._getAddonsWidth(),i){t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px";var e=t.baseElement.offsetHeight-2;t.element.style.minHeight=e+"px",t.element.style.lineHeight=e+"px"}else t.element.style.width="calc(100% - "+t._addonsWidth+"px)";t._initiallyHidden=!1}})}else this.width&&(this.element.style.width=this._toPx(this.width)),this.height&&(this.element.style.height=this._toPx(this.height));this.disabled?this.element.setAttribute("disabled",!0):this.element.removeAttribute("disabled"),this.maxLength&&this.element.setAttribute("maxlength",this.maxLength),this.element.getAttribute("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)?this.element.setAttribute("placeHolder",this.placeHolder):""===this.element.value&&(this.element.value=this.placeHolder)},destroy:function(){this.removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove(),this.$popup&&this._popupHelper.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2===Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,s,r){if("width"!==i||r===s)return"placeHolder"===i?("placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||t.element.value!==s||(t.element.value=""),void t._refreshPlaceHolder()):void(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length||("theme"===i&&e.jqx.utilities.setTheme(s,r,t.host),"opened"!==i?("source"===i&&(t._oldsource=r,t._updateSource()),"displayMember"!==i&&"valueMember"!==i||(t.source=t._oldsource,t._updateSource()),"disabled"===i&&e.jqx.aria(t,"aria-disabled",t.disabled),"value"===i&&(t.element.value=r),t.refresh()):r?t.open():t.close()));t.baseHost?(t.baseElement.style.width=t._toPx(r),e.jqx.browser.msie&&e.jqx.browser.version<9&&(t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px")):t.element.style.width=t._toPx(r)},select:function(e,t,i){var s=this._find("jqx-fill-state-pressed",this._popupHelper),r=s.getAttribute("data-value"),n=s.getAttribute("data-name");return this.element.value=this.renderer(n,this.element.value),this.selectedItem={label:n,value:r},this.element.setAttribute("data-value",r),this.element.setAttribute("data-label",n),this._raiseEvent("0",{item:{label:n,value:r},label:n,value:r}),this._raiseEvent("3",{type:i,item:{label:n,value:r},label:n,value:r}),this.value=n,this.close()},val:function(e){return 0===arguments.length||null!=e&&"object"==typeof e&&!e.label&&!e.value?""!==this.displayMember&&""!==this.valueMember&&this.selectedItem?""===this.element.value?"":this.selectedItem:this.element.value:e&&e.label?(this.selectedItem={label:e.label,value:e.value},this.element.setAttribute("data-value",e.value),this.element.setAttribute("data-label",e.label),this.value=e,this.element.value=e.label,this.element.value):(this.value=e,this.element.value=e,this.element.setAttribute("data-value",e),this.element.setAttribute("data-label",e),e&&e.label?this._raiseEvent("3",{type:null,item:{label:e.label,value:e.value},label:e.label,value:e.value}):this._raiseEvent("3",{type:null,item:{label:e,value:e},label:e,value:e}),this.element.value)},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_renderer:function(e){return e},open:function(){if(!e.jqx.isHidden(this.host)){var t=e.extend({},this.host.coord(!0),{height:this.element.offsetHeight});if(this.$popup.parentNode!==document.body){var i=this.element.id+"_popup";this.$popup.id=i,e.jqx.aria(this,"aria-owns",i),document.body.appendChild(this.$popup)}this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(t.top+t.height),this.$popup.style.left=this._toPx(t.left),this.$popup.style.display="block";var s=0,r=this._popupHelper.children();return e.each(r,function(){s+=e(this).outerHeight()+1}),this.$popup.style.height=this._toPx(s),this.opened=!0,this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("2",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},suggest:function(){var t;return this.query=this.element.value,!this.query||this.query.length<this.minLength?this.opened?this.close():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.load,this)):this.source)?this.load(t):this},load:function(e){for(var t=[],i=0;i<e.length;i++){var s=e[i];this.filter(s)&&t.push(s)}return(t=this.sort(t)).length?this._render(t.slice(0,this.items)).open():this.opened?this.close():this},_filter:function(t){var i=this.query,s=t;switch(null!=t.label?s=t.label:this.displayMember&&(s=t[this.displayMember]),this.searchMode){case"none":break;default:return e.jqx.string.containsIgnoreCase(s,i);case"contains":return e.jqx.string.contains(s,i);case"equals":return e.jqx.string.equals(s,i);case"equalsignorecase":return e.jqx.string.equalsIgnoreCase(s,i);case"startswith":return e.jqx.string.startsWith(s,i);case"startswithignorecase":return e.jqx.string.startsWithIgnoreCase(s,i);case"endswith":return e.jqx.string.endsWith(s,i);case"endswithignorecase":return e.jqx.string.endsWithIgnoreCase(s,i)}},_sort:function(e){for(var t=[],i=[],s=[],r=0;r<e.length;r++){var n=e[r],o=n;n.label?o=n.label:this.displayMember&&(o=n[this.displayMember]),0===o.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?t.push(n):o.toString().indexOf(this.query)>=0?i.push(n):o.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())>=0&&s.push(n)}return t.concat(i,s)},_highlight:function(e){var t=this.query;t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=new RegExp("("+t+")","ig");return e.replace(i,function(e,t){return"<b>"+t+"</b>"})},_render:function(t){var i=this,s=i._popupHelper.children();if(s.length>0)for(var r=0;r<s.length;r++)e(s[r]).remove();var n=function(e,t){var s,r,n=e,o=document.createElement("li"),a=document.createElement("a");a.setAttribute("href","#"),o.appendChild(a),void 0!==e.value&&null!==e.value?void 0!==e.label&&null!==e.label?(s=e.label,r=e.value):(s=e.value,r=e.value):void 0!==e.label&&null!==e.label?(s=e.label,r=e.label):void 0!==i.displayMember&&""!==i.displayMember?(s=e[i.displayMember],r=e[i.valueMember]):(s=e,r=e),o.setAttribute("data-value",r),o.setAttribute("data-name",s),e.label?n=e.label:i.displayMember&&(n=e[i.displayMember]),a.innerHTML=i.highlight(n);var l="";i.rtl&&(l=" jqx-rtl"),0===t&&(l+=" jqx-fill-state-pressed"),o.className=i.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+l),i.$popup.appendChild(o),i.addHandler(o,"mouseenter",function(e){i.mouseenter(e)})};return function(e){for(var t=0;t<e.length;t++)n(e[t],t)}(t),this.dropDownWidth?this.$popup.style.width=i._toPx(i.dropDownWidth):this.$popup.style.width=i._toPx(i.element.offsetWidth-6),this},next:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),i=t.nextSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i||(i=this.$popup.firstChild),i.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),i=t.previousSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i||(i=this.$popup.lastChild),i.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var e=this,t=".jqxInput"+e.element.id;e.addHandler(e.host,"focus"+t,function(){e.onFocus()}),e.addHandler(e.host,"blur"+t,function(){e.onBlur()}),e.addHandler(e.host,"change"+t,function(t){if(!t.args){t.stopPropagation(),t.preventDefault();var i,s,r=e.val();r&&r.label?(i=r.label,s=r.val):(i=r,s=r),e._raiseEvent("3",{type:"keyboard",item:{label:i,value:s},label:i,value:s}),e.value=i}}),e.addHandler(e.host,"keypress"+t,function(t){e.keypress(t)}),e.addHandler(e.host,"keyup"+t,function(t){e.keyup(t)}),e.addHandler(e.host,"keydown"+t,function(t){e.keydown(t)}),e.addHandler(e.$popup,"mousedown"+t,function(t){e.click(t)})},removeHandlers:function(){var e=".jqxInput"+this.element.id;this.removeHandler(this.host,"change"+e),this.removeHandler(this.host,"focus"+e),this.removeHandler(this.host,"blur"+e),this.removeHandler(this.host,"keypress"+e),this.removeHandler(this.host,"keyup"+e),this.removeHandler(this.host,"keydown"+e),this.removeHandler(this.$popup,"mousedown"+e)},move:function(e){if(this.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),this.prev());break;case 40:e.shiftKey||(e.preventDefault(),this.next())}e.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=-1!==[40,38,9,13,27].indexOf(e.keyCode),this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.opened)return;this.select(e,this,"keyboard");break;case 27:if(!this.opened)return;this.close();break;default:var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.suggest()},300)}e.stopPropagation(),e.preventDefault()},clear:function(){this.val("")},onBlur:function(){var t=this;setTimeout(function(){t.close()},150),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),"placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||""!==t.element.value&&t.element.value!==t.placeHolder||(t.element.value=t.placeHolder)},onFocus:function(){this.element.className+=" "+this.toThemeProperty("jqx-fill-state-focus"),"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||this.element.value!==this.placeHolder||(this.element.value="")},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(e,this,"mouse")},mouseenter:function(t){e(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){for(var i=t.children(),s=0;s<i.length;s++){var r=i[s];if(-1!==r.className.indexOf(e))return r}},_getAddonsWidth:function(){for(var t=this.baseHost.children(),i=0,s=0;s<t.length;s++)t[s]!==this.element&&(i+=e(t[s]).outerWidth());return i}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxPathControl","",{}),e.extend(e.jqx._jqxPathControl.prototype,{defineInstance:function(){e.extend(!0,this,{width:null,height:"auto",path:"",pathFormat:"windows",customDrive:!1,customDirectorySeparator:null,fileDrop:!0,accept:".*",placeHolder:"Not a Path.",readOnly:!1,browseButtonText:"...",browseFunction:null,disabled:!1,rtl:!1,events:["change","formatChange","fileDrop"]})},createInstance:function(){this._render(!0)},_render:function(e){this._constructPath(this.path),this._setSize(),!0===e?this._appendElements():this._removeHandlers(),this._addHandlers(),this._addClasses(),this._validateExtension()},render:function(){this._render(!1)},refresh:function(e){!0!==e&&this._render(!1)},destroy:function(){this._removeHandlers(),this.host.remove()},val:function(t){if(void 0===t||"string"!=typeof t&&e.isEmptyObject(t))return this.path;if("windows"===t||"unix"===t||"custom"===t)return this._formatPath(t);var i=this._input.val();this._constructPath(t),this.path!==i&&(this._input.val(this.path),this._raiseEvent("0",{path:this.path,oldPath:i}),this._validateExtension())},_clear:function(){this._drive=void 0,this._pathArray=[],this.path="",this._input.val("")},clear:function(){if(""!==this.path){var e=this.path;this._clear(),this._raiseEvent("0",{path:this.path,oldPath:e})}},browse:function(){this.browseFunction&&this.browseFunction(this.path)},propertyChangedHandler:function(e,t,i,s){if(s!==i)switch(t){case"width":e.host.css("width",s);break;case"height":e.host.css("height",s);break;case"path":e.val(s);break;case"pathFormat":var r=e.path;e.path=e._formatPath(s,!0),e._input.val(e.path),e._raiseEvent("1",{format:s,oldFormat:i,path:e.path,oldPath:r});break;case"customDrive":case"customDirectorySeparator":"custom"===e.pathFormat&&(e.path=e._formatPath("custom",!0),e._input.val(e.path));break;case"accept":e._validateExtension();break;case"placeHolder":e._input.attr("placeholder",s);break;case"readOnly":!0===s?e._input.attr("readonly",""):e._input.removeAttr("readonly");break;case"browseButtonText":e._button.text(s);var n=e._button.outerWidth();e._input[0].style.width="calc(100% - "+(n+7)+"px)";break;case"disabled":!0===s?(e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e._input.attr("disabled","disabled"),e._button.addClass(e.toThemeProperty("jqx-path-control-button-disabled")),e._button.jqxButton({disabled:!0})):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e._input.removeAttr("disabled"),e._button.removeClass(e.toThemeProperty("jqx-path-control-button-disabled")),e._button.jqxButton({disabled:!1}));break;case"rtl":!0===s?(e._input.addClass(e.toThemeProperty("jqx-path-control-input-rtl")),e._button.removeClass(e.toThemeProperty("jqx-path-control-button-ltr")),e._button.addClass(e.toThemeProperty("jqx-path-control-button-rtl"))):(e._input.removeClass(e.toThemeProperty("jqx-path-control-input-rtl")),e._button.removeClass(e.toThemeProperty("jqx-path-control-button-rtl")),e._button.addClass(e.toThemeProperty("jqx-path-control-button-ltr"))),e._button.jqxButton({rtl:s})}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_constructPath:function(e){var t=e;if(this._pathArray=[],this._drive=void 0,t=(t=t.replace(/\//g,">")).replace(/\\/g,">"),this.customDirectorySeparator){var i=new RegExp("\\"+this.customDirectorySeparator,"g");t=t.replace(i,">")}var s=t.indexOf(":");-1!==s?(this._drive=t.slice(0,s),t=t.slice(s+2)):">"===t.charAt(0)&&(this._drive=t.slice(1,t.slice(1).indexOf(">")+1),t=t.slice(t.indexOf(this._drive)+this._drive.length+1)),this._pathArray=t.split(">"),this.path=this._formatPath(this.pathFormat,!0)},_formatPath:function(e,t){if(e!==this.pathFormat||!0===t){var i,s="";switch(e){case"windows":this._drive&&(s+=this._drive+":\\"),i="\\";break;case"unix":this._drive&&(s+="/"+this._drive+"/"),i="/";break;case"custom":this._drive&&(!0===this.customDrive?s+=this._drive+":"+this.customDirectorySeparator:s+=this.customDirectorySeparator),i=this.customDirectorySeparator}for(var r=0;r<this._pathArray.length;r++)s+=this._pathArray[r],r!==this._pathArray.length-1&&(s+=i);return s}return this.path},_setSize:function(){this.host.css("width",this.width),this.host.css("height",this.height)},_appendElements:function(){var t=this.readOnly?"readonly":"",i=this.disabled?"disabled":"";this._input=e('<input type="text" placeholder="'+this.placeHolder+'" '+t+" "+i+' class="'+this.toThemeProperty("jqx-path-control-input")+" "+this.toThemeProperty("jqx-input")+" "+this.toThemeProperty("jqx-widget-content")+" "+this.toThemeProperty("jqx-rc-all")+'" value="'+this.path+'" />'),this.host.append(this._input),this._button=e('<button class="'+this.toThemeProperty("jqx-path-control-button")+'">'+this.browseButtonText+"</button>"),this.host.append(this._button),this._button.jqxButton({theme:this.theme,height:"100%",disabled:this.disabled,rtl:this.rtl});var s=this._button.outerWidth();this._input[0].style.width="calc(100% - "+(s+7)+"px)",!0===this.rtl?(this._input.addClass(this.toThemeProperty("jqx-path-control-input-rtl")),this._button.addClass(this.toThemeProperty("jqx-path-control-button-rtl"))):this._button.addClass(this.toThemeProperty("jqx-path-control-button-ltr"))},_addClasses:function(){this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-path-control")),this.host.addClass(this.toThemeProperty("jqx-path-control-transparent-border")),!0===this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._button.addClass(this.toThemeProperty("jqx-path-control-button-disabled")))},_addHandlers:function(){var e=this,t=e.element.id;e.addHandler(e._input,"focus.jqxPathControl"+t,function(){e._input.addClass(e.toThemeProperty("jqx-fill-state-focus"))}),e.addHandler(e._input,"blur.jqxPathControl"+t,function(){e._input.removeClass(e.toThemeProperty("jqx-fill-state-focus"))});var i=["56","188","190","191","220","222"];e.addHandler(e._input,"keydown.jqxPathControl"+t,function(e){var t=e.charCode?e.charCode:e.which;!0===(!0===e.shiftKey&&-1!==i.indexOf(t.toString())||106===t)&&e.preventDefault()}),e.addHandler(e._input,"change.jqxPathControl"+t,function(t){t.stopPropagation();var i=t.target.value,s=e.path;""===i?e._clear():(e._constructPath(i),e._validateExtension()),e._input.val(e.path),e._raiseEvent("0",{path:e.path,oldPath:s})}),e.addHandler(e._button,"click.jqxPathControl"+t,function(){e.browse()}),e.addHandler(e.host,"dragenter.jqxPathControl"+t,function(e){e.preventDefault(),e.stopPropagation()}),e.addHandler(e.host,"dragleave.jqxPathControl"+t,function(t){t.preventDefault(),t.stopPropagation(),!0===e.fileDrop&&e.host.addClass(e.toThemeProperty("jqx-path-control-transparent-border"))}),e.addHandler(e.host,"dragover.jqxPathControl"+t,function(t){t.preventDefault(),t.stopPropagation(),!0===e.fileDrop?e.host.removeClass(e.toThemeProperty("jqx-path-control-transparent-border")):t.originalEvent.dataTransfer.dropEffect="none"}),e.addHandler(e.host,"drop.jqxPathControl"+t,function(t){if(t.preventDefault(),t.stopPropagation(),!0===e.fileDrop){if(t.originalEvent.dataTransfer&&t.originalEvent.dataTransfer.files&&t.originalEvent.dataTransfer.files.length){var i=t.originalEvent.dataTransfer.files[0].name;e._raiseEvent("2",{fileName:i}),e.val(i)}e.host.addClass(e.toThemeProperty("jqx-path-control-transparent-border"))}})},_removeHandlers:function(){var e=this.element.id;this.removeHandler(this._input,"focus.jqxPathControl"+e),this.removeHandler(this._input,"blur.jqxPathControl"+e),this.removeHandler(this._input,"keydown.jqxPathControl"+e),this.removeHandler(this._input,"change.jqxPathControl"+e),this.removeHandler(this._button,"click.jqxPathControl"+e),this.removeHandler(this.host,"dragenter.jqxPathControl"+e),this.removeHandler(this.host,"dragleave.jqxPathControl"+e),this.removeHandler(this.host,"dragover.jqxPathControl"+e),this.removeHandler(this.host,"drop.jqxPathControl"+e)},_validateExtension:function(){if(".*"!==this.accept&&""!==this.path){var e=this.path.lastIndexOf("."),t=this.path.charAt(e+1);if(-1!==e&&"."!==this.path.charAt(e-1)&&""!==t&&("windows"===this.pathFormat&&"\\"!==t||"unix"===this.pathFormat&&"/"!==t||"custom"===this.pathFormat&&t!==this.customDirectorySeparator))this.path.slice(e).toLowerCase()===this.accept.toLowerCase()?this._input.removeClass(this.toThemeProperty("jqx-path-control-input-invalid")):this._input.addClass(this.toThemeProperty("jqx-path-control-input-invalid"));else this._input.removeClass(this.toThemeProperty("jqx-path-control-input-invalid"))}else this._input.removeClass(this.toThemeProperty("jqx-path-control-input-invalid"))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxPopover","",{}),e.extend(e.jqx._jqxPopover.prototype,{defineInstance:function(){var t={arrowOffsetValue:null,animationType:"fade",position:"bottom",animationOpenDelay:"fast",animationCloseDelay:"fast",autoClose:!0,isModal:!1,height:null,initContent:null,offset:null,rtl:!1,showArrow:!0,showCloseButton:!1,selector:null,title:"",width:null,_toggleElement:null,_popover:null,_popoverTop:0,_popoverLeft:0,_init:!1,_ie8:e.jqx.browser.msie&&8===e.jqx.browser.version,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,_left:0,_top:0,events:["open","close"]};return this===e.jqx._jqxPopover.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._content=this.host.children()},render:function(){var t=this.element.id;if(this._content.detach(),this._toggleElement=e(this.selector),0===this._toggleElement.length)throw new Error('jqxPopover: Invalid Popover toggler: "'+this.selector+'".');if(null===this._toggleElement)throw new Error("jqxPopover: Missing Popover toggler.");var i=e('<div id="'+t+'" class="'+this.toThemeProperty("jqx-popover")+'"><div class="'+this.toThemeProperty("jqx-popover-arrow")+'"></div><div class="'+this.toThemeProperty("jqx-popover-title")+'"></div><div class="'+this.toThemeProperty("jqx-popover-content")+'"></div></div>');e("body").append(i);var s=this.host.data();this.host.detach(),this.host=i,this.host.data(s),this.element=i[0],this.element.id=t,this._popover=e("#"+t);var r=this._popover.find(".jqx-popover-title");r.append(this.title);var n=this._popover.find(".jqx-popover-content");if(n.append(this._content),this._popover.hide(),this._removeHandlers(),this._addHandlers(),this._popover.addClass(this.position),r.addClass(this.toThemeProperty("jqx-widget-header")),this._popover.addClass(this.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all")),this.showArrow?(this._popover.addClass(this.toThemeProperty("jqx-popover-arrow-"+this.position)),this._popover.find(".jqx-popover-arrow").css("display","block")):this._popover.find(".jqx-popover-arrow").css("display","none"),this.rtl&&(r.addClass(this.toThemeProperty("jqx-rtl")),r.css("direction","rtl"),n.css("direction","rtl")),this.showCloseButton){var o=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),a=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>');o.append(a),r.append(o),r.css("min-height","16px"),o.addClass(this.toThemeProperty("jqx-popover-close-button")),this.closeButton=a,this.rtl&&o.addClass(this.toThemeProperty("jqx-popover-close-button-rtl"))}if(this.arrowOffsetValue)if("bottom"==this.position||"top"==this.position){var l=this._popover.find(".jqx-popover-arrow").css("margin-left");this._popover.find(".jqx-popover-arrow").css("margin-left",parseInt(l)+this.arrowOffsetValue)}else{var h=this._popover.find(".jqx-popover-arrow").css("margin-top");this._popover.find(".jqx-popover-arrow").css("margin-top",parseInt(h)+this.arrowOffsetValue)}(this.width||this.height)&&(this._popover.css("width",this.width),this._popover.css("height",this.height))},refresh:function(e){this.render()},destroy:function(){0!==this.length&&(this._removeHandlers(),this._popover.remove(),this._removeModalBackground())},propertyChangedHandler:function(e,t,i,s){this.render()},_stickToToggleElement:function(){this._popover.css("left","0px"),this._popover.css("top","0px");var e=this._toggleElement,t=e.offset(),i=e.outerHeight(),s=e.outerWidth(),r=this._popover.height(),n=this._popover.width();switch(this.position){case"left":this._popoverTop=t.top-r/2+i/2,this._popoverLeft=t.left-this._popover.outerWidth();break;case"right":this._popoverTop=t.top-r/2+i/2,this._popoverLeft=t.left+s;break;case"top":this._popoverTop=t.top-this._popover.outerHeight(),this._popoverLeft=t.left-n/2+s/2;break;case"bottom":this._popoverTop=t.top+i,this._popoverLeft=t.left-n/2+s/2}var o=this.offset?parseFloat(this.offset.left):0,a=this.offset?parseFloat(this.offset.top):0;this._popover.css("top",a+this._popoverTop),this._popover.css("left",o+this._popoverLeft)},open:function(){var e=this;function t(){e._popover.show(),e._raiseEvent("0"),e._isOpen=!0}function i(){e.initContent&&!1===e._init&&(e.initContent(),e._init=!0,e._stickToToggleElement())}if(e._stickToToggleElement(),!0===e._ie7)return t(),void i();switch(e.animationType){case"fade":e._popover.fadeIn(e.animationOpenDelay,function(){e._raiseEvent("0"),i(),e._isOpen=!0});break;case"none":t(),i()}e._makeModalBackground()},close:function(){var e=this;if(e._isOpen)if(!0!==e._ie7){switch(e.animationType){case"fade":e._popover.fadeOut(e.animationCloseDelay,function(){e._raiseEvent("1"),e._isOpen=!1});break;case"none":t()}e._removeModalBackground()}else t();function t(){e._popover.hide(),e._raiseEvent("1"),e._isOpen=!1}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this._popover.trigger(r)},_makeModalBackground:function(){!0===this.isModal&&(this.modalBackground=e("<div></div>"),this.modalBackground.addClass(this.toThemeProperty("jqx-popover-modal-background")),e(document.body).prepend(this.modalBackground),e(document.body).addClass(this.toThemeProperty("jqx-unselectable")),this.host.addClass(this.toThemeProperty("jqx-selectable")))},_removeModalBackground:function(){!0===this.isModal&&void 0!==this.modalBackground&&(this.modalBackground.remove(),e(document.body).removeClass(this.toThemeProperty("jqx-unselectable")),this.host.removeClass(this.toThemeProperty("jqx-selectable")))},_addHandlers:function(){var t=this,i=t.element.id;t.addHandler(e(document),"keydown.jqxPopover"+i,function(e){27==e.keyCode&&t.close()}),t.addHandler(e(document),"click.jqxPopover"+i,function(i){t.closeButton&&i.target==t.closeButton[0]&&t.close(),!0===t.autoClose&&(i.target==t.element||e(i.target).ischildof(t._popover)||t.isModal||t.close())}),t.addHandler(e(window),"resize.jqxPopover"+i,function(e){"none"!=t.element.style.display&&t._stickToToggleElement()}),t.selector&&t.addHandler(t._toggleElement,"click.jqxPopover"+i,function(e){e.stopPropagation(),"none"!=t.host.css("display")?t.close():t.open()})},_removeHandlers:function(){var t=this.element.id;this.removeHandler(e(document),"click.jqxPopover"+t),this.selector&&this.removeHandler(this._toggleElement,"click.jqxPopover"+t),this.removeHandler(e(document),"keydown.jqxPopover"+t),this.removeHandler(e(window),"resize.jqxPopover"+t)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxCheckBox","",{}),e.extend(e.jqx._jqxCheckBox.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,changeType:null,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===e.jqx._jqxCheckBox.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this._createFromInput("CheckBox"),this.render()},_createFromInput:function(t){if("input"==this.element.nodeName.toLowerCase()){this.field=this.element,this.field.className&&(this._className=this.field.className);var i={title:this.field.title};this.field.value&&(i.value=this.field.value),this.field.checked&&(i.checked=!0),this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t;var s=this.element.nextSibling,r=!1;!s||"#text"!=s.nodeName&&"span"!=s.nodeName||(r=!0);var n=0,o=e("<div></div>",i);if(r){o.append(s);var a=e("<span>"+e(s).text()+"</span>");a.appendTo(e(document.body)),n+=a.width(),a.remove()}o[0].style.cssText=this.field.style.cssText,this.width||(this.width=e(this.field).width()+n+10),this.height||(this.height=e(this.field).outerHeight()+10),e(this.field).hide().after(o);var l=this.host.data();if(this.host=o,this.host.data(l),this.element=o[0],this.element.id=this.field.id,this.field.id=i.id,this._className&&(this.host.addClass(this._className),e(this.field).removeClass(this._className)),this.field.tabIndex){var h=this.field.tabIndex;this.field.tabIndex=-1,this.element.tabIndex=h}}},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.checked),this.host.attr("role","checkbox"),e.jqx.aria(this)}},render:function(){this.init=!0;var t=this;this.setSize(),this.propertyChangeMap.width=function(e,i,s,r){t.setSize()},this.propertyChangeMap.height=function(e,i,s,r){t.setSize()},this._removeHandlers(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=13);var i=parseInt(this.boxSize)+"px",s=Math.floor((parseInt(this.boxSize)-13)/2),r=s;s+="px",r+="px","13px"!=this.boxSize?this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="position: relative; left: '+s+"; top: "+r+'; width: 13px; height: 13px;"></span></div></div>'):this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="width: '+i+"; height: "+i+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=e('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=e(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");var n=this.element.getAttribute("checked");"checked"!=n&&"true"!=n&&1!=n||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1,this._centerBox()},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height);this.host.css("line-height",e+"px");var t=e-parseInt(this.boxSize)-1;t/=2,this.box.css("margin-top",parseInt(t))}},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var t=this,i="mousedown";e.jqx.mobile.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,i,function(e){if(!t.disabled&&!t.enableContainerClick&&!t.locked)return t.changeType="mouse",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1}),this.disabledContainer||(this.addHandler(this.host,"keydown",function(e){if(!t.disabled&&!t.locked&&t.keyboardCheck&&32==e.keyCode)return!t._canFocus||(t.changeType="keyboard",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1)}),this.addHandler(this.host,i,function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.changeType="mouse",t.toggle(),e.preventDefault&&e.preventDefault(),t._canFocus&&t.focus(),!1}),this.addHandler(this.host,"selectstart",function(e){if(!t.disabled&&t.enableContainerClick)return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this.host,"mouseup",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault&&e.preventDefault()}),this.addHandler(this.host,"focus",function(e){if(!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1)}),this.addHandler(this.host,"blur",function(e){if(!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1)}),this.addHandler(this.host,"mouseenter",function(e){if(t.locked&&t.host.css("cursor","arrow"),t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1}),this.addHandler(this.host,"mouseleave",function(e){if(t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1}),this.addHandler(this.box,"mouseenter",function(){t.locked||t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){var t="mousedown";e.jqx.mobile.isTouchDevice()&&(t="touchend"),this.box&&(this.removeHandler(this.box,t),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,t),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},_setState:function(e,t){this.checked!=e&&(this.checked=e,this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate"):this.checkMark[0].className=""),!1!==t&&!0!==t||(this.locked=t)},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},check:function(){this.checked=!0;var t=this;if(this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=this.groupName&&this.groupName.length>0){var i=e.find(this.toThemeProperty(".jqx-checkbox",!0));e.each(i,function(){e(this).jqxCheckBox("groupName")==t.groupName&&this!=t.element&&e(this).jqxCheckBox("uncheck")})}this._raiseEvent("0",!0),this._raiseEvent("3",{checked:!0}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},uncheck:function(){this.checked=!1;var t=this;e.jqx.browser.msie||0==this.animationHideDelay?""!=t.checkMark[0].className&&(t.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){""!=t.checkMark[0].className&&(t.checkMark[0].className="")})),this._raiseEvent("1"),this._raiseEvent("3",{checked:!1}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined"))},toggle:function(){this.disabled||this.locked||(null!=this.groupName&&this.groupName.length>0?1!=this.checked&&(this.checked=!0,this.updateStates()):(this.oldChecked=this.checked,1==this.checked?this.checked=!!this.hasThreeStates&&null:this.checked=null!=this.checked,this.updateStates(),null!=this.input&&this.input.val(this.checked)))},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(t,i){if(!this.init){var s=this.events[t],r=new e.Event(s);r.owner=this,i||(i={}),i.type=this.changeType,this.changeType=null,r.args=i;try{var n=this.host.trigger(r)}catch(e){}return n}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("enableContainerClick"!=i||t.disabled||t.locked||(r?t.host.css("cursor","pointer"):t.host.css("cursor","auto")),"rtl"==i&&(r?(t.box.addClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"boxSize"==i&&t.render(),"theme"==i&&e.jqx.utilities.setTheme(s,r,t.host),"checked"==i&&r!=s)switch(r){case!0:t.check();break;case!1:t.uncheck();break;case null:t.indeterminate()}"disabled"==i&&r!=s&&(r?t.disable():t.enable())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxSwitchButton","",{}),e.extend(e.jqx._jqxSwitchButton.prototype,{defineInstance:function(){var t={disabled:!1,checked:!1,onLabel:"On",offLabel:"Off",toggleMode:"default",animationDuration:250,width:90,height:30,animationEnabled:!0,thumbSize:"40%",orientation:"horizontal",switchRatio:"50%",metroMode:!1,_isMouseDown:!1,rtl:!1,_dimensions:{horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},_touchEvents:{mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},_borders:{},_isTouchDevice:!1,_distanceRequired:3,_isDistanceTraveled:!1,_thumb:void 0,_onLabel:void 0,_offLabel:void 0,_wrapper:void 0,_animationActive:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["checked","unchecked","change"]};return this===e.jqx._jqxSwitchButton.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){if(this._createFromInput(),this.element.nodeName&&("INPUT"==this.element.nodeName||"BUTTON"==this.element.nodeName))throw"jqxSwitchButton can be rendered only from a DIV tag.";this.host.attr("role","checkbox"),e.jqx.aria(this),this.render();var i=this;i.element.tabIndex||i.host.attr("tabindex",0),e.jqx.utilities.resize(this.host,function(){i.element.innerHTML="",i.render()})},_createFromInput:function(){if("input"==this.element.nodeName.toLowerCase()){this.field=this.element,this.field.className&&(this._className=this.field.className);var t={title:this.field.title};this.field.value&&(t.value=this.field.value),this.field.checked&&(t.checked=!0),this.field.id.length?t.id=this.field.id.replace(/[^\w]/g,"_")+"_jqxSwitchButton":t.id=e.jqx.utilities.createId()+"_jqxSwitchButton";var i=e("<div></div>",t);i[0].style.cssText=this.field.style.cssText,this.width||(this.width=e(this.field).width()),this.height||(this.height=e(this.field).outerHeight()),e(this.field).hide().after(i);var s=this.host.data();if(this.host=i,this.host.data(s),this.element=i[0],this.element.id=this.field.id,this.field.id=t.id,this._className&&(this.host.addClass(this._className),e(this.field).removeClass(this._className)),this.field.tabIndex){var r=this.field.tabIndex;this.field.tabIndex=-1,this.element.tabIndex=r}}},resize:function(e,t){this.width=e,this.height=t,this.render()},render:function(){this.innerHTML="",!this.theme||""==this.theme||-1==this.theme.indexOf("metro")&&-1==this.theme.indexOf("windowsphone")&&-1==this.theme.indexOf("office")||("40%"==this.thumbSize&&(this.thumbSize=12),this.metroMode=!0);var t=e.data(document.body,"jqx-switchbutton")||1;this._idHandler(t),e.data(document.body,"jqx-draggables",++t),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this.switchRatio=parseInt(this.switchRatio,10),this._render(),this._addClasses(),this._performLayout(),this._removeEventHandlers(),this._addEventHandles(),this._disableSelection();this.checked||this._switchButton(!1,0,!0),this.disabled&&(this.element.disabled=!0)},setOnLabel:function(e){this._onLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},setOffLabel:function(e){this._offLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},toggle:function(){this.checked?this.uncheck():this.check()},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},uncheck:function(){this._switchButton(!1),e.jqx.aria(this,"aria-checked",this.checked)},check:function(){this._switchButton(!0),e.jqx.aria(this,"aria-checked",this.checked)},_idHandler:function(e){if(!this.element.id){var t="jqx-switchbutton-"+e;this.element.id=t}},_dir:function(e){return this._dimensions[this.orientation][e]},_getEvent:function(t){if(this._isTouchDevice){var i=this._touchEvents[t];return e.jqx.mobile.getTouchEventName(i)}return t},_render:function(){this._thumb=e("<div/>"),this._onLabel=e("<div/>"),this._offLabel=e("<div/>"),this._wrapper=e("<div/>"),this._onLabel.appendTo(this.host),this._thumb.appendTo(this.host),this._offLabel.appendTo(this.host),this.host.wrapInner(this._wrapper),this._wrapper=this.host.children(),this.setOnLabel(this.onLabel),this.setOffLabel(this.offLabel)},_addClasses:function(){var e=this._thumb,t=this._onLabel,i=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-switchbutton-thumb")),t.addClass(this.toThemeProperty("jqx-switchbutton-label-on")),t.addClass(this.toThemeProperty("jqx-switchbutton-label")),i.addClass(this.toThemeProperty("jqx-switchbutton-label-off")),i.addClass(this.toThemeProperty("jqx-switchbutton-label")),this.checked?this.host.addClass(this.toThemeProperty("jqx-switchbutton-on")):this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))},_performLayout:function(){var e,t=this.host,i=this._dir("opSize"),s=this._dir("size"),r=this._wrapper;if(t.css({width:this.width,height:this.height}),r.css(i,t[i]()),this._thumbLayout(),this._labelsLayout(),e=this._borders[this._dir("opposite")],r.css(s,t[s]()+this._offLabel[this._dir("oSize")]()+e),r.css(i,t[i]()),this.metroMode||this.theme&&""!=this.theme&&(-1!=this.theme.indexOf("metro")||-1!=this.theme.indexOf("office"))){this._thumb;var n=this._onLabel,o=this._offLabel;n.css("position","relative"),n.css("top","1px"),n.css("margin-left","1px"),o.css("position","relative"),o.css("top","1px"),o.css("left","-2px"),o.css("margin-right","1px"),o.height(n.height()-2),o.width(n.width()-3),n.height(n.height()-2),n.width(n.width()-3),this._thumb[this._dir("size")](this.thumbSize+3),this._thumb.css("top","-1px"),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()+2),this._thumb.css("position","relative"),this.host.css("overflow","hidden"),this.checked?(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","hidden"),this._thumb.css("left","0px")):(this._onLabel.css("visibility","hidden"),this._offLabel.css("visibility","visible"),this._thumb.css("left","-2px"))}},_thumbLayout:function(){var e=this.thumbSize,t=this.host;e.toString().indexOf("%")>=0&&(e=t[this._dir("size")]()*parseInt(e,10)/100),this._thumb[this._dir("size")](e),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()),this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0,this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0,this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0,this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;var e=this._borders[this._dir("opposite")];"horizontal"===this.orientation?(this._thumb.css("margin-top",-e/2),this._thumb.css("margin-left",0)):(this._thumb.css("margin-left",-e/2),this._thumb.css("margin-top",0))},_labelsLayout:function(){var e=this.host,t=this._thumb,i=this._dir("opSize"),s=this._dir("size"),r=this._dir("oSize"),n=e[s]()-t[r](),o=this._borders[this._dir("opposite")]/2;this._onLabel[s](n+o),this._offLabel[s](n+o),this.rtl&&this._onLabel[s](n+2*o),this._onLabel[i](e[i]()),this._offLabel[i](e[i]()),this._orderLabels(),this._centerLabels()},_orderLabels:function(){if("horizontal"===this.orientation){var e="left";this.rtl&&(e="right"),this._onLabel.css("float",e),this._thumb.css("float",e),this._offLabel.css("float",e)}else this._onLabel.css("display","block"),this._offLabel.css("display","block")},_centerLabels:function(){var e=this._onLabel.children("div"),t=this._offLabel.children("div"),i=e.parent().height(),s=e.outerHeight(),r=this._borders[this.orientation]/2||0;0==s&&(s=14);var n=Math.floor((i-s)/2)+r;e.css("margin-top",n),t.css("margin-top",n)},_removeEventHandlers:function(){var t="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle),this.removeHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown),this.removeHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp),this.removeHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove),this.removeHandler(this._thumb,"mouseenter"+t),this.removeHandler(this._thumb,"mouseleave"+t),this.removeHandler(this._wrapper,"focus"+t),this.removeHandler(this._wrapper,"blur"+t)},_addEventHandles:function(){var t="."+this.element.id,i=this;this.addHandler(this.host,"focus"+t,function(e){return i.host.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),this.addHandler(this.host,"blur"+t,function(){i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._thumb,"mouseenter"+t,function(){i._thumb.addClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._thumb,"mouseleave"+t,function(){i._thumb.removeClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle,{self:this}),this.addHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown,{self:this}),this.addHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp,{self:this}),this.addHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove,{self:this})},enable:function(){this.disabled=!1,this.element.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},disable:function(){this.disabled=!0,this.element.disabled=!0,e.jqx.aria(this,"aria-disabled",this.disabled)},_clickHandle:function(e){var t=e.data.self;"click"!==t.toggleMode&&"default"!==t.toggleMode||t.disabled||t._isDistanceTraveled||t._dragged||(t._wrapper.stop(),t.toggle()),t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(e){var t=e.data.self,i=t._wrapper;t.metroMode&&(t.host.css("overflow","hidden"),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible")),t._mouseStartPosition=t._getMouseCoordinates(e),t._buttonStartPosition={left:parseInt(i.css("margin-left"),10)||0,top:parseInt(i.css("margin-top"),10)||0},t.disabled||"slide"!==t.toggleMode&&"default"!==t.toggleMode||(t._wrapper.stop(),t._isMouseDown=!0,t._isDistanceTraveled=!1,t._dragged=!1),t._thumb.addClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(e){var t=e.data.self;if(t.metroMode,t._isMouseDown=!1,t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._isDistanceTraveled){var i=t._wrapper,s=parseInt(i.css("margin-"+t._dir("pos")),10)||0;t._dropHandler(s)?t._switchButton(!t.checked):t._switchButton(t.checked,null,!0),t._isDistanceTraveled=!1}},_mouseMove:function(e){var t=e.data.self,i=t._getMouseCoordinates(e);if(t._isMouseDown&&t._distanceTraveled(i)){var s=t._dir("pos"),r=t._wrapper,n=t._buttonStartPosition[s]+i[s]-t._mouseStartPosition[s];n=t._validatePosition(n);return t._dragged=!0,r.css("margin-"+t._dir("pos"),n),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible"),!1}},_distanceTraveled:function(e){if(this._isDistanceTraveled)return!0;if(this._isMouseDown){var t=this._mouseStartPosition,i=this._distanceRequired;return this._isDistanceTraveled=Math.abs(e.left-t.left)>=i||Math.abs(e.top-t.top)>=i,this._isDistanceTraveled}return!1},_validatePosition:function(e){var t=this._borders[this._dir("opposite")],i=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-t;return 0<e?0:i>e?i:e},_dropHandler:function(e){var t=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),i=Math.abs(t-0);return Math.abs(e-this._buttonStartPosition[this._dir("pos")])>=i*(this.switchRatio/100)},_switchButton:function(e,t,i){this.metroMode?(this.host.css("overflow","hidden"),this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"),e?this._thumb.css("left","0px"):this._thumb.css("left","-2px")):(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"));var s=this._wrapper,r=this,n={},o=this._borders[this._dir("opposite")],a=0;void 0===t&&(t=this.animationEnabled?this.animationDuration:0),this.rtl?e?(a=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+o,this.metroMode&&(a+=5)):this.metroMode&&(a-=3):e||(a=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+o),n["margin-"+this._dir("pos")]=-a,e?r.host.addClass(r.toThemeProperty("jqx-switchbutton-on")):r.host.removeClass(r.toThemeProperty("jqx-switchbutton-on")),s.animate(n,t,function(){e?(r._onLabel.css("visibility","visible"),r._offLabel.css("visibility","hidden")):(r._onLabel.css("visibility","hidden"),r._offLabel.css("visibility","visible")),r.checked=e,i||r._handleEvent(!e)})},_handleEvent:function(e){e!==this.checked&&this._raiseEvent(2,{check:this.checked,checked:this.checked}),e?this._raiseEvent(0,{checked:this.checked}):this._raiseEvent(1,{checked:this.checked})},_disableSelection:function(){var t=this.host.find("*");e.each(t,function(t,i){i.onselectstart=function(){return!1},e(i).addClass("jqx-disableselect")})},_getMouseCoordinates:function(e){return this._isTouchDevice&&e.originalEvent.touches?{left:e.originalEvent.touches[0].pageX,top:e.originalEvent.touches[0].pageY}:{left:e.pageX,top:e.pageY}},destroy:function(){this._removeEventHandlers(),this.host.removeClass(this.toThemeProperty("jqx-switchbutton")),this._wrapper.remove()},_raiseEvent:function(t,i){var s=e.Event(this._events[t]);return s.args=i,this.host.trigger(s)},_themeChanger:function(t,i,s){if(t){void 0===s&&(s=this.host);for(var r=s[0].className.split(" "),n=[],o=[],a=s.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(n.push(r[l]),o.push(r[l].replace(t,i)));this._removeOldClasses(n,s),this._addNewClasses(o,s);for(l=0;l<a.length;l+=1)this._themeChanger(t,i,e(a[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._wrapper.css("margin-left","0px"),e._wrapper.css("margin-top","0px"),e._performLayout(),e._wrapper.css("left","0px"),e._wrapper.css("top","0px"),e._switchButton(this.checked,0,!0))},propertyChangedHandler:function(t,i,s,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i){case"disabled":r?t.disable():t.enable();break;case"switchRatio":t.switchRatio=parseInt(t.switchRatio,10);break;case"checked":r?t.check():t.uncheck();break;case"onLabel":t.setOnLabel(r);break;case"offLabel":t.setOffLabel(r);break;case"theme":e.jqx.utilities.setTheme(s,r,t.host);break;case"width":case"height":case"thumbSize":case"orientation":t._wrapper.css("margin-left","0px"),t._wrapper.css("margin-top","0px"),t._performLayout(),t._wrapper.css("left","0px"),t._wrapper.css("top","0px"),t._switchButton(this.checked,0,!0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxRibbon","",{}),e.extend(e.jqx._jqxRibbon.prototype,{defineInstance:function(){var t={width:null,height:"auto",mode:"default",position:"top",selectedIndex:-1,selectionMode:"click",popupCloseMode:"click",animationType:"fade",animationDelay:400,scrollPosition:"both",disabled:!1,rtl:!1,scrollStep:10,scrollDelay:30,reorder:!1,initContent:null,_roundedCorners:!0,_removeByDrag:!1,_suppressReorder:!0,events:["select","unselect","change","_removeByDrag","reorder"]};return this===e.jqx._jqxRibbon.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){"none"!==this.host.css("display")&&!1!==document.body.contains(this.element)||(this._initiallyHidden=!0),this._browser=e.jqx.browser,"popup"!==this.mode&&-1===this.selectedIndex&&(this.selectedIndex=0),this._originalHTML=this.element.innerHTML,this._render(!0)},render:function(){this._render()},refresh:function(e){!0!==e&&this._render()},destroy:function(){this._removeHandlers(),this.host.remove()},selectAt:function(e){this._selectAt(e)},clearSelection:function(){-1!==this.selectedIndex&&this._clearSelection()},disableAt:function(t){this._items[t]._disabled=!0,e(this._items[t]).addClass(this.toThemeProperty("jqx-fill-state-disabled")),t===this.selectedIndex&&this._clearSelection()},enableAt:function(t){this._items[t]._disabled=!1,e(this._items[t]).removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},hideAt:function(e){this._items[e].style.display="none",this._checkScrollButtons(),e===this.selectedIndex?this._clearSelection():this._updatePositions()},showAt:function(e){"horizontal"===this._orientation?this._items[e].style.display="inline-block":this._items[e].style.display="inherit",this._checkScrollButtons(),this._updatePositions()},val:function(e){if(!e)return this.selectedIndex;this._selectAt(e)},addAt:function(t,i){var s="jqx-ribbon-item jqx-ribbon-item-"+this.position,r="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+this.position;this._removeHandlers();var n=document.createElement("li");n.innerHTML=i.title;var o=document.createElement("div");if("string"==typeof i.content)o.innerHTML=i.content;else if(void 0!==i.content.length)try{if(void 0!==jQuery&&i.content instanceof jQuery)e(o).append(i.content);else if(e.isArray(i.content))for(var a=0;a<i.content.length;a++)i.content[a].appendTo(o);else for(;i.content.length>0;)o.appendChild(i.content[0])}catch(e){}else o.appendChild(i.content);switch(this.position){case"top":s+=" jqx-rc-t",r+=" jqx-rc-b";break;case"bottom":s+=" jqx-rc-b",r+=" jqx-rc-t";break;case"left":s+=" jqx-rc-l",r+=" jqx-rc-r";break;case"right":s+=" jqx-rc-r",r+=" jqx-rc-l"}"popup"===this.mode&&(r+=" jqx-ribbon-content-section-popup jqx-ribbon-content-section-"+this._orientation+"-popup"),!0===this.rtl&&(s+=" jqx-ribbon-item-rtl"),n.className=this.toThemeProperty(s),o.className=this.toThemeProperty(r),this._items.length-1>=t?(this._headerElement.insertBefore(n,this._items[t]),this._contentElement.insertBefore(o,this._contentSections[t])):(this._headerElement.appendChild(n),this._contentElement.appendChild(o)),this._updateItems(),this._addHandlers(),this._checkScrollButtons(),t<=this.selectedIndex&&this.selectedIndex<this._items.length-1&&this.selectedIndex++,this._updatePositions(),this.selectedIndex<0||(this._suppressSelectionEvents=!0,this._selectAt(this.selectedIndex,this.selectedIndex,!0))},removeAt:function(t){t===this.selectedIndex&&this._clearSelection(),e(this._items[t]).remove(),e(this._contentSections[t]).remove(),this._updateItems(!0),this._updatePositions(),this._checkScrollButtons()},updateAt:function(e,t){var i=this._items[e];i.innerHTML=t.newTitle,this._contentSections[e].innerHTML=t.newContent,i._isInitialized=!1,this.initContent&&e===this.selectedIndex&&(this.initContent(e),i._isInitialized=!0),this._updatePositions()},setPopupLayout:function(e,t,i,s){var r=this._contentSections[e];"popup"===this.mode&&(r.getAttribute("data-width")||(r.style.width&&r.setAttribute("data-width",r.style.width),r.style.height&&r.setAttribute("data-height",r.style.height)),i&&(r.style.width=this._toPx(i)),s&&(r.style.height=this._toPx(s)),r._layout=t,this._positionContent(e))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height),e._updateSize())},propertyChangedHandler:function(t,i,s,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length)&&r!==s)switch(i){case"width":case"height":t.element.style[i]=t._toPx(r),t._updateSize();break;case"position":t._render();break;case"mode":t._contentElement.style.width="auto",t._removeHandlers(null,s),t._render();break;case"selectedIndex":t._selectAt(r,s);break;case"selectionMode":t._removeHandlers(s),t._addHandlers();break;case"scrollPosition":var n=t._scrollButtonNear,o=t._scrollButtonFar;e(n).removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+s+" jqx-rc-tr jqx-rc-bl jqx-rc-tl")),e(o).removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+s+" jqx-rc-tr jqx-rc-bl jqx-rc-br")),n.className+=" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+r),o.className+=" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+r),t._scrollButtonRc(n,o),t._checkScrollButtons(),t._updatePositions();break;case"disabled":!0===r?(t._removeHandlers(),t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t._addHandlers());break;case"theme":e.jqx.utilities.setTheme(s,r,t.host);break;case"rtl":if(!0===r){t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-rtl");for(var a=0;a<t._items.length;a++)t._items[a].className+=" "+t.toThemeProperty("jqx-ribbon-item-rtl")}else{t._header.removeClass(t.toThemeProperty("jqx-ribbon-header-rtl"));for(var l=0;l<t._items.length;l++)e(t._items[l]).removeClass(t.toThemeProperty("jqx-ribbon-item-rtl"))}t._positionSelectionToken(t.selectedIndex)}},_raiseEvent:function(t,i){var s,r=this.events[t],n=new e.Event(r);n.owner=this,n.args=i;try{s=this.host.trigger(n)}catch(e){}return s},_render:function(t){var i=this;switch(!0!==t&&i._removeHandlers(),i._selectionTokenOffsetY=0,i._browser.browser){case"mozilla":i._browserWidthRtlFlag=0,i._browserScrollRtlFlag=1,i._selectionTokenOffsetX=1;break;case"msie":i._browserWidthRtlFlag=0,i._browserScrollRtlFlag=-1,"8.0"===i._browser.version?i._selectionTokenOffsetX=1:"7.0"===i._browser.version?(i._selectionTokenOffsetX=0,"popup"!==i.mode||"bottom"!==i.position&&"right"!==i.position||(i._selectionTokenOffsetY=2)):i._selectionTokenOffsetX=0;break;default:i._browserWidthRtlFlag=1,i._browserScrollRtlFlag=1,i._selectionTokenOffsetX=0}if(!0===t){var s=i.host.children();i._headerElement=s[0],i._header=e(s[0]),i._contentElement=s[1],i._content=e(s[1]),i._checkStructure(s)}i._headerElement.style.float="none",i._contentElement.style.padding="0px",i.element.style.width=i._toPx(i.width),i.element.style.height=i._toPx(i.height),"bottom"!==i.position&&"right"!==i.position||i.element.insertBefore(i._contentElement,i._headerElement),"top"===i.position||"bottom"===i.position?i._orientation="horizontal":i._orientation="vertical","right"===i.position?i._headerElement.style.float="right":"left"===i.position&&(i._headerElement.style.float="left"),i._contentSections=i._content.children(),e.each(i._contentSections,function(){this.getAttribute("data-width")&&(this.style.width=this.getAttribute("data-width"),this.style.height=this.getAttribute("data-height"),this.removeAttribute("data-width"),this.removeAttribute("data-height"))}),!0===t&&(i._selectionToken=document.createElement("div"),i._selectionToken.className=i.toThemeProperty("jqx-widget-content jqx-ribbon-selection-token jqx-ribbon-selection-token-"+i.position),i.element.appendChild(i._selectionToken)),i._updateItems(),!0!==i._initiallyHidden&&i._addClasses(),!0===t&&(i._appendScrollButtons(),i._checkScrollButtons()),i._allowSelection=!0,-1!==i.selectedIndex&&(i._items[i.selectedIndex].className+=" "+i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),i._positionSelectionToken(i.selectedIndex),i._contentSections[i.selectedIndex].style.display="block",i.initContent&&(i.initContent(i.selectedIndex),i._items[i.selectedIndex]._isInitialized=!0)),i.disabled?i.element.className+=" "+i.toThemeProperty("jqx-fill-state-disabled"):i._addHandlers(),e.jqx.utilities.resize(i.host,function(){i._initiallyHidden&&(i._initiallyHidden=!1,i._addClasses(),-1!==i.selectedIndex&&(i._items[i.selectedIndex].className+=" "+i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"))),i._updateSize(!0)})},_updateSize:function(e){if("7.0"===this._browser.version&&"msie"===this._browser.browser)if("horizontal"===this._orientation)this._header.css("width",this.host.width()-parseInt(this._header.css("padding-left"),10)-parseInt(this._header.css("padding-right"),10)-parseInt(this._header.css("border-left-width"),10)-parseInt(this._header.css("border-right-width"),10)),this._contentSections.width(this._content.width()-parseInt(this._contentSections.css("border-left-width"),10)-parseInt(this._contentSections.css("border-right-width"),10)-parseInt(this._contentSections.css("padding-left"),10)-parseInt(this._contentSections.css("padding-right"),10)),"default"===this.mode&&"string"==typeof this.height&&-1!==this.height.indexOf("%")&&this._contentSections.height(this._content.height()-this._header.height()-parseInt(this._contentSections.css("border-bottom-width"),10)-parseInt(this._contentSections.css("border-top-width"),10)-1);else if(this._header.css("height",this.host.height()-parseInt(this._header.css("padding-top"),10)-parseInt(this._header.css("padding-bottom"),10)-parseInt(this._header.css("border-top-width"),10)-parseInt(this._header.css("border-bottom-width"),10)),this._contentSections.height(this._content.height()-parseInt(this._contentSections.css("border-top-width"),10)-parseInt(this._contentSections.css("border-bottom-width"),10)-parseInt(this._contentSections.css("padding-top"),10)-parseInt(this._contentSections.css("padding-bottom"),10)),"default"===this.mode&&"string"==typeof this.width&&-1!==this.height.indexOf("%")){var t="left"===this.position?parseInt(this._contentSections.css("border-left-width"),10)+parseInt(this._contentSections.css("border-right-width"),10)+1:0;this._contentSections.width(this._content.width()-this._header.width()-t)}this._checkScrollButtons(!0),this._updatePositions(void 0,e),"popup"===this.mode&&this._positionPopup()},_stopAnimation:function(){if(!this._allowSelection){this.selectedIndex=this._animatingIndex;var t=e(this._contentSections[this._animatingIndex]);this._initAnimate(t),t.animate("finish"),this._clearSelection(!0,this._animatingIndex),this._allowSelection=!0}},_selectAt:function(t,i,s){var r=this;if(void 0===i&&(i=r.selectedIndex),(t!==i||!0===s)&&(r._stopAnimation(),r._allowSelection)){if(r._animatingIndex=t,-1!==r.selectedIndex&&r._clearSelection(!0,i),r._allowSelection=!1,r._selecting=t,"click"===r.selectionMode&&e(r._items[t]).removeClass(r.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover")),"popup"===r.mode&&r._roundedCorners){var n,o;switch(r._header.removeClass(r.toThemeProperty("jqx-rc-all")),r.position){case"top":n="jqx-rc-t",o="jqx-rc-b";break;case"bottom":n="jqx-rc-b",o="jqx-rc-t";break;case"left":n="jqx-rc-l",o="jqx-rc-r";break;case"right":n="jqx-rc-r",o="jqx-rc-l"}r._headerElement.className+=" "+r.toThemeProperty(n);for(var a=0;a<r._items.length;a++)r._items[a].className+=" "+r.toThemeProperty(n),r._contentSections[a].className+=" "+r.toThemeProperty(o)}var l;switch(r._items[t].className+=" "+r.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),r._selectionToken.style.display="block",r._updatePositions(t),r.animationType){case"fade":l=e(r._contentSections[t]),r._initAnimate(l),"none"===l.css("display")?l.fadeIn({duration:r.animationDelay,complete:function(){r._animationComplete(t,i)}}):l.fadeOut({duration:r.animationDelay,complete:function(){r._animationComplete(t,i)}});break;case"slide":l=e(r._contentSections[t]);var h=r.position;"top"===h?h="up":"bottom"===h&&(h="down"),r.slideAnimation=r._slide(l,{mode:"show",direction:h,duration:r.animationDelay},t,i);break;case"none":r._contentSections[t].style.display="block",r._animationComplete(t,i)}}},_clearSelection:function(t,i){var s=this;if("popup"===s.mode&&s._roundedCorners&&(s._headerElement.className+=" "+s.toThemeProperty("jqx-rc-all")),s._selecting=-1,void 0===i&&(i=s.selectedIndex),e(s._items[i]).removeClass(s.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected")),s._selectionToken.style.display="none",!0!==t&&"none"!==s.animationType){var r=e(s._contentSections[i]);if("fade"===s.animationType)s._initAnimate(r),r.fadeOut({duration:s.animationDelay,complete:function(){s._clearSelectionComplete(i)}});else if("slide"===s.animationType){var n=s.position;"top"===n?n="up":"bottom"===n&&(n="down"),s._stopAnimation(),i=s.selectedIndex,s.slideAnimation=s._slide(r,{mode:"hide",direction:n,duration:s.animationDelay},i),s.selectedIndex=-1}}else{if(-1===i)return;s._contentSections[i].style.display="none",s._clearSelectionComplete(i,t)}},_addHandlers:function(){var t,i=this,s=i.element.id,r=!1;function n(e){var t=i._closest(e.target,"li"),s=t._index;i._items[s]._disabled||(s!==i.selectedIndex?i._selectAt(s):"popup"===i.mode&&"none"!==i.popupCloseMode&&(t.className+=" "+i.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"),i._clearSelection()))}function o(s){if(!0===i.reorder&&!0===r){for(var n=i._closest(s.target,"li")._index,o=i._items[t].innerHTML,a=i._contentSections[t].childNodes,l=[];a.length>0;)l.push(e(a[0]).detach());i._suppressSelectionEvents=!0,i._oldReorderIndex=t,i.removeAt(t),i.clearSelection(),i.addAt(n,{title:o,content:l}),i.selectAt(n),setTimeout(function(){e(i._items[n]).trigger("mousedown")},0)}else{var h=i._closest(s.target,"li");g(h._index)&&(h.className+=" "+i.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}}function a(t){var s=i._closest(t.target,"li");g(s._index)&&e(s).removeClass(i.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}function l(e){if("#document"!==e.target.nodeName){var s=i._closest(e.target,"li");!0!==i.reorder&&!0!==i._removeByDrag||s._index!==i.selectedIndex||(r=!0,t=s._index,s.style.cursor="move")}}function h(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()}function d(e){var t=i._closest(e.target,"li")._index;i._items[t]._disabled||t===i.selectedIndex||i._selectAt(t)}function c(e){var t=i._closest(e.target,"li")._index;i._items[t]._disabled||"popup"===i.mode&&"none"!==i.popupCloseMode&&i._clearSelection()}function u(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()}var p,f,m=function(t){if("click"===i.popupCloseMode&&"popup"===i.mode&&-1!==i.selectedIndex){if("svg"===t.target.tagName)return;var r=i._closest(t.target,void 0,"jqx-ribbon");if(void 0!==r&&r.getAttribute("id")!==s)return void i._clearSelection();if(void 0===t.target.className||-1!==t.target.className.indexOf("jqx-ribbon-content-popup"))return void i._clearSelection();if(e(t.target).ischildof(i.host))return;var n=!1,o=[],a=function(e){e.parentElement&&(o.push(e.parentElement),a(e.parentElement))};a(t.target),e.each(o,function(){if(void 0!==this.className&&this.className.indexOf){if(-1!==this.className.indexOf("jqx-ribbon"))return n=!0,!1;if(-1!==this.className.indexOf("jqx-ribbon"))return s===this.id&&(n=!0),!1}}),n||i._clearSelection()}};if("click"===i.selectionMode){for(var g=function(e){return(i._selecting!==e&&!1===i._allowSelection||(-1===i._selecting||i.selectedIndex!==e)&&!0===i._allowSelection)&&!i._items[e]._disabled},v=0;v<i._items.length;v++){var x=i._items[v];i.addHandler(x,"click.ribbon"+s,n),i.addHandler(x,"mouseenter.ribbon"+s,o),i.addHandler(x,"mouseleave.ribbon"+s,a),i.addHandler(x,"mousedown.ribbon"+s,l)}if("popup"===i.mode){i.addHandler(i.host,"mouseleave.ribbon"+s,function(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()});for(var b=0;b<i._contentSections.length;b++)i.addHandler(i._contentSections[b],"mouseleave.ribbon"+s,h);i.addHandler(e(document),"mousedown.ribbon"+s,function(e){m(e)})}if(!0===i._removeByDrag)for(var w=0;w<i._items.length;w++)i._items[w].className+=" "+i.toThemeProperty("jqx-ribbon-item-docking-layout");i.addHandler(document,"mouseup.ribbon"+s,function(){r=!1;for(var e=0;e<i._items.length;e++)i._items[e].style.cursor=""}),i.addHandler(i._header,"mouseleave.ribbon"+s,function(e){!0===i._removeByDrag&&!0===r&&(i._raiseEvent("3",{draggedIndex:t,x:e.pageX,y:e.pageY}),i._items.length>1&&i.removeAt(t),r=!1,e.target.style.cursor="")})}else if("hover"===i.selectionMode){for(var y=0;y<i._items.length;y++){var _=i._items[y];i.addHandler(_,"mouseenter.ribbon"+s,d),"popup"===i.mode&&i.addHandler(_,"click.ribbon"+s,c)}if("popup"===i.mode){i.addHandler(i.host,"mouseleave.ribbon"+s,function(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()});for(var j=0;j<i._contentSections.length;j++)i.addHandler(i._contentSections,"mouseleave.ribbon"+s,u);i.addHandler(e(document),"mousedown.ribbon"+s,function(e){m(e)})}}e.jqx.mobile.isTouchDevice()?(p="touchstart",f="touchend"):(p="mousedown",f="mouseup"),i.addHandler(i._scrollButtonNear,p+".ribbon"+s,function(){return"horizontal"===i._orientation?i._timeoutNear=setInterval(function(){var e=i._headerElement.scrollLeft,t=i.rtl&&"msie"===i._browser.browser?-1:1;i._headerElement.scrollLeft=e-i.scrollStep*t,i._updatePositions()},i.scrollDelay):i._timeoutNear=setInterval(function(){var e=i._headerElement.scrollTop;i._headerElement.scrollTop=e-i.scrollStep,i._updatePositions()},i.scrollDelay),!1}),i.addHandler(i._scrollButtonFar,p+".ribbon"+s,function(){return"horizontal"===i._orientation?i._timeoutFar=setInterval(function(){var e=i._headerElement.scrollLeft,t=i.rtl&&"msie"===i._browser.browser?-1:1;i._headerElement.scrollLeft=e+i.scrollStep*t,i._updatePositions()},i.scrollDelay):i._timeoutFar=setInterval(function(){var e=i._headerElement.scrollTop;i._headerElement.scrollTop=e+i.scrollStep,i._updatePositions()},i.scrollDelay),!1}),i.addHandler(e(document),f+".ribbon"+s,function(){clearInterval(i._timeoutNear),clearInterval(i._timeoutFar)})},_removeHandlers:function(t,i){var s,r,n=this.element.id;t||(t=this.selectionMode),i||(i=this.mode);for(var o=0;o<this._items.length;o++){var a=this._items[o];this.removeHandler(a,"mouseenter.ribbon"+n),"click"===t&&(this.removeHandler(a,"click.ribbon"+n),this.removeHandler(a,"mouseleave.ribbon"+n),this.removeHandler(a,"mousedown.ribbon"+n))}"click"===t?(this.removeHandler(document,"mouseup.ribbon"+n),this.removeHandler(this._header,"mouseleave.ribbon"+n)):"hover"===t&&"popup"===i&&this.removeHandler(this.host,"mouseleave.ribbon"+n),e.jqx.mobile.isTouchDevice()?(s="touchstart",r="touchend"):(s="mousedown",r="mouseup"),this.removeHandler(this._scrollButtonNear,s+".ribbon"+n),this.removeHandler(this._scrollButtonFar,s+".ribbon"+n),this.removeHandler(e(document),r+".ribbon"+n)},_checkStructure:function(e){if(2!==e.length)throw new Error("jqxRibbon: Invalid HTML structure. You need to add a ul and a div to the widget container.");if(this._header.children().length!==this._content.children().length)throw new Error("jqxRibbon: Invalid HTML structure. For each list item you must have a corresponding div element.")},_addClasses:function(){var t,i,s,r="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+this.position,n="jqx-widget-content jqx-ribbon-content jqx-ribbon-content-"+this._orientation,o="jqx-widget-header jqx-disableselect jqx-ribbon-header jqx-ribbon-header-"+this._orientation,a="jqx-ribbon-item jqx-ribbon-item-"+this.position;if(this._content.removeClass(),this._header.removeClass(this.toThemeProperty("jqx-rc-all jqx-widget-header jqx-disableselect jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-rc-all jqx-ribbon-header-"+this._orientation+"-popup jqx-ribbon-header-bottom jqx-ribbon-header-auto jqx-ribbon-header-right jqx-ribbon-header-rtl")),this.host.removeClass(),this._roundedCorners)switch(this.position){case"top":o+=" jqx-rc-t",a+=" jqx-rc-t",r+=" jqx-rc-b";break;case"bottom":o+=" jqx-rc-b",a+=" jqx-rc-b",r+=" jqx-rc-t";break;case"left":o+=" jqx-rc-l",a+=" jqx-rc-l",r+=" jqx-rc-r";break;case"right":o+=" jqx-rc-r",a+=" jqx-rc-r",r+=" jqx-rc-l"}else switch(this.position){case"top":a+=" jqx-rc-t";break;case"bottom":a+=" jqx-rc-b";break;case"left":a+=" jqx-rc-l";break;case"right":a+=" jqx-rc-r"}!0===this.rtl&&(o+=" jqx-ribbon-header-rtl",a+=" jqx-ribbon-item-rtl"),this.element.className+=" "+this.toThemeProperty("jqx-widget jqx-ribbon"),this._headerElement.className+=" "+this.toThemeProperty(o),this._contentElement.className+=" "+this.toThemeProperty(n);for(var l=0;l<this._items.length;l++){var h=e(this._contentSections[l]),d=e(this._items[l]);h.removeClass(),d.removeClass(this.toThemeProperty("jqx-fill-state-disabled jqx-ribbon-item-rtl jqx-widget-content jqx-ribbon-item-selected jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-ribbon-item-docking-layout jqx-ribbon-item jqx-ribbon-item-"+this.position)),"popup"===this.mode&&(r+=" jqx-ribbon-content-section-popup jqx-ribbon-content-popup-"+this.position+" jqx-ribbon-content-section-"+this._orientation+"-popup"),this._contentSections[l].className+=" "+this.toThemeProperty(r),this._items[l].className+=" "+this.toThemeProperty(a)}("popup"===this.mode?(-1===this.selectedIndex&&this._roundedCorners&&(this.element.className+=" "+this.toThemeProperty("jqx-rc-all"),this._headerElement.className+=" "+this.toThemeProperty("jqx-rc-all")),this.element.className+=" "+this.toThemeProperty("jqx-ribbon-popup"),this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-"+this._orientation+"-popup"),this._contentElement.className+=" "+this.toThemeProperty("jqx-ribbon-content-popup"),this._positionPopup()):"horizontal"===this._orientation?"auto"!==this.height?(i=this._headerElement.offsetHeight,"top"===this.position?this._contentElement.style.paddingTop=this._toPx(i):this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-bottom")):this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-auto"):"vertical"===this._orientation&&("auto"!==this.width?(t=this._headerElement.offsetWidth,"left"===this.position?this._contentElement.style.paddingLeft=this._toPx(t):(this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-right"),this._contentElement.style.paddingRight=this._toPx(t))):(this.element.className+=" "+this.toThemeProperty("jqx-ribbon-auto"),this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-auto"),this._contentElement.className+=" "+this.toThemeProperty("jqx-ribbon-content-auto-width"))),"7.0"===this._browser.version&&"msie"===this._browser.browser)&&("horizontal"===this._orientation?(this._header.css("width",this.host.width()-parseInt(this._header.css("padding-left"),10)-parseInt(this._header.css("padding-right"),10)-parseInt(this._header.css("border-left-width"),10)-parseInt(this._header.css("border-right-width"),10)),this._items.height(this._items.height()-parseInt(this._items.css("padding-top"),10)-parseInt(this._items.css("padding-bottom"),10)-parseInt(this._items.css("border-top-width"),10)-parseInt(this._items.css("border-bottom-width"),10)),this._contentSections.width(this._contentSections.width()-parseInt(this._contentSections.css("border-left-width"),10)-parseInt(this._contentSections.css("border-right-width"),10)-parseInt(this._contentSections.css("padding-left"),10)-parseInt(this._contentSections.css("padding-right"),10)),"default"===this.mode&&"auto"!==this.height&&("top"===this.position?this._contentSections.css("padding-top",i):this._contentSections.css("padding-bottom",i),this._content.css("height",this.host.height()+2),this._contentSections.css("height",this._content.height()-parseInt(this._contentSections.css("border-bottom-width"),10)-parseInt(this._contentSections.css("border-top-width"),10)-1))):("left"===this.position?(this._contentElement.className+=" "+this.toThemeProperty("jqx-ribbon-content-left"),s=parseInt(this._contentSections.css("border-left-width"),10)+parseInt(this._contentSections.css("border-right-width"),10)+1):(this._contentElement.className+=" "+this.toThemeProperty("jqx-ribbon-content-right"),s=0),this._header.css("height",this.host.height()-parseInt(this._header.css("padding-top"),10)-parseInt(this._header.css("padding-bottom"),10)-parseInt(this._header.css("border-top-width"),10)-parseInt(this._header.css("border-bottom-width"),10)),this._items.width(this._items.width()-parseInt(this._items.css("padding-left"),10)-parseInt(this._items.css("padding-right"),10)-parseInt(this._items.css("border-left-width"),10)-parseInt(this._items.css("border-right-width"),10)),this._contentSections.height(this._contentSections.height()-parseInt(this._contentSections.css("border-top-width"),10)-parseInt(this._contentSections.css("border-bottom-width"),10)-parseInt(this._contentSections.css("padding-top"),10)-parseInt(this._contentSections.css("padding-bottom"),10)),"default"===this.mode&&"auto"!==this.width&&("left"===this.position?this._contentSections.css("padding-left",t):this._contentSections.css("padding-right",t),this._contentSections.width(this._content.width()-this._header.width()-s))))},_positionPopup:function(){var e="7.0"===this._browser.version&&"msie"===this._browser.browser;switch(this.position){case"top":this._contentElement.style.top=this._toPx(this._headerElement.offsetHeight);break;case"bottom":this._contentElement.style.bottom=e?this._toPx(this._height(this._headerElement)):this._toPx(this._headerElement.offsetHeight);break;case"left":this._contentElement.style.left=this._toPx(this._headerElement.offsetWidth);break;case"right":this._contentElement.style.right=this._header.outerWidth()+"px"}},_appendScrollButtons:function(){var e=this,t="horizontal"===e._orientation?["left","right"]:["up","down"];function i(t,i,s){t.className=e.toThemeProperty("jqx-ribbon-scrollbutton jqx-ribbon-scrollbutton-"+e.position+" jqx-ribbon-scrollbutton-"+e.scrollPosition+" jqx-widget-header "+i),t.innerHTML='<div class="'+e.toThemeProperty("jqx-ribbon-scrollbutton-inner "+s)+'"></div>',"horizontal"===e._orientation?t.style.height=e._toPx(e._height(e._headerElement)):t.style.width=e._toPx(e._width(e._headerElement)),e.element.appendChild(t)}var s=document.createElement("div");i(s,"jqx-ribbon-scrollbutton-lt","jqx-icon-arrow-"+t[0]);var r=document.createElement("div");if(i(r,"jqx-ribbon-scrollbutton-rb","jqx-icon-arrow-"+t[1]),e._scrollButtonRc(s,r),e._scrollButtonNear=s,e._scrollButtonFar=r,e.roundedCorners)switch(e.position){case"top":case"bottom":s.style.marginLeft="-1px",r.style.marginRight="-1px";break;case"right":case"left":s.style.marginTop="-1px",r.style.marginBottom="-1px"}},_scrollButtonRc:function(e,t){if(this.roundedCorners)switch(this.position){case"top":"far"!==this.scrollPosition&&(e.className+=" "+this.toThemeProperty("jqx-rc-tl")),"near"!==this.scrollPosition&&(t.className+=" "+this.toThemeProperty("jqx-rc-tr"));break;case"bottom":"far"!==this.scrollPosition&&(e.className+=" "+this.toThemeProperty("jqx-rc-bl")),"near"!==this.scrollPosition&&(t.className+=" "+this.toThemeProperty("jqx-rc-br"));break;case"left":"far"!==this.scrollPosition&&(e.className+=" "+this.toThemeProperty("jqx-rc-tl")),"near"!==this.scrollPosition&&(t.className+=" "+this.toThemeProperty("jqx-rc-bl"));break;case"right":"far"!==this.scrollPosition&&(e.className+=" "+this.toThemeProperty("jqx-rc-tr")),"near"!==this.scrollPosition&&(t.className+=" "+this.toThemeProperty("jqx-rc-br"))}},_updateItems:function(e){function t(){i._items[s]._index===i.selectedIndex&&(i.selectedIndex=s)}var i=this;i._items=i._header.children(),i._contentSections=i._content.children();for(var s=0;s<i._items.length;s++){var r=i._items[s];r.setAttribute("unselectable","on"),void 0===r._index&&(r._disabled=!1,r._isInitialized=!1,i._contentSections[s]._layout="default"),!0===e&&t(),r._index=s,!0!==e&&t(),i._contentSections[s]&&(i._contentSections[s]._index=s)}},_positionContent:function(t){var i,s,r,n,o,a,l=this,h=l._contentSections[t];"horizontal"===l._orientation?(i=l.element.offsetWidth,s=l.host.offset().left,r=l._items[t].offsetWidth,n=e(l._items[t]).offset().left,o=h.offsetWidth||parseInt(h.style.width,10),a="left"):(i=l.element.offsetHeight,s=l.host.offset().top,r=l._items[t].offsetHeight,n=e(l._items[t]).offset().top,o=h.offsetHeight||parseInt(h.style.height,10),a="top");var d=function(e){e<0?e=0:e+o>i&&(e=i-o),h.style[a]=l._toPx(e)};switch(h._layout){case"near":d(n-s);break;case"far":d(n-s-(o-r));break;case"center":d(n-s-(o-r)/2);break;default:if("right"===l.position)for(var c=0;c<l._contentSections.length;c++)l._contentSections[c].style.right="1px";else h.style[a]=""}},_checkScrollButtons:function(t){var i=this,s=0;e.each(i._items,function(){var t=e(this);"none"!==t.css("display")&&(s+="horizontal"===i._orientation?t.outerWidth(!0):t.outerHeight(!0))});var r="horizontal"===i._orientation?["margin-left","margin-right"]:["margin-top","margin-bottom"],n="horizontal"===i._orientation?i._width(i._headerElement):i._height(i._headerElement);if(i._itemMargins||(i._itemMargins=[],i._itemMargins.push(e(i._items[0]).css(r[0])),i._itemMargins.push(e(i._items[i._items.length-1]).css(r[1]))),s>n){i._scrollButtonNear.style.display="block",i._scrollButtonFar.style.display="block";var o=i.rtl?i._itemMargins[0]:17,a=i.rtl?i._itemMargins[0]:17;switch(i.scrollPosition){case"near":a=0,o=34;break;case"far":a=34,o=17}i._items[0]&&(i._items[0].style[r[0]]=i._toPx(o)),i._items[i._items.length-1]&&(i._items[i._items.length-1].style[r[1]]=i._toPx(a))}else i._items[0]&&(i._items[0].style[r[0]]=i._toPx(i._itemMargins[0])),i._items[i._items.length-1]&&(i._items[i._items.length-1].style[r[1]]=i._toPx(i._itemMargins[1])),i._scrollButtonNear.style.display="none",i._scrollButtonFar.style.display="none";if(!0===t)if("horizontal"===i._orientation){var l=i._toPx(i._height(i._headerElement));i._scrollButtonNear.style.height=l,i._scrollButtonFar.style.height=l}else{var h=i._toPx(i._width(i._headerElement));i._scrollButtonNear.style.width=h,i._scrollButtonFar.style.width=h}},_positionSelectionToken:function(t){if(-1!==t){var i,s,r,n,o,a=e(this._items[t]);if(0===a.length)return;if("horizontal"===this._orientation){var l,h;!0===this.rtl?(l=1===this._browserWidthRtlFlag?this._headerElement.scrollWidth-this._headerElement.clientWidth:0,h=this._browserScrollRtlFlag):(l=0,h=1),r=a[0].offsetLeft+l-this._headerElement.scrollLeft*h-this._selectionTokenOffsetX+2,o=this._headerElement.offsetHeight-1;var d=this._width(a[0])+parseInt(a.css("padding-left"),10)+parseInt(a.css("padding-right"),10);"top"===this.position?(i=o-this._selectionTokenOffsetY,s=""):(i="",s=o-this._selectionTokenOffsetY),this._selectionToken.style.top=this._toPx(i),this._selectionToken.style.bottom=this._toPx(s),this._selectionToken.style.left=this._toPx(r),this._selectionToken.style.width=this._toPx(d)}else{i=a[0].offsetTop-this._headerElement.scrollTop-this._selectionTokenOffsetX+2,o=this._headerElement.offsetWidth-1;var c=this._height(a[0])+parseInt(a.css("padding-top"),10)+parseInt(a.css("padding-bottom"),10);"left"===this.position?(r=o-this._selectionTokenOffsetY,n=""):(r="",n=o-this._selectionTokenOffsetY),this._selectionToken.style.top=this._toPx(i),this._selectionToken.style.left=this._toPx(r),this._selectionToken.style.right=this._toPx(n),this._selectionToken.style.height=this._toPx(c)}}},_updatePositions:function(e,t){if(isNaN(e)&&(e=!0===t&&null!==this._selecting&&this._selecting>=0?this._selecting:this.selectedIndex),-1!==e&&(this._positionSelectionToken(e),"popup"===this.mode&&"default"!==this._contentSections[e]._layout&&this._positionContent(e),"popup"===this.mode&&("left"===this.position||"right"===this.position))){this._contentElement.style.width="auto";var i=this._contentSections[e].style.width&&this._contentSections[e].style.width.indexOf("%")>=0;this._contentElement.style.width=i?this._toPx(this._width(this._contentSections[e])-this._width(this._headerElement)):this._toPx(this._width(this._contentSections[e]))}},_animationComplete:function(e,t){var i=-1!==t?t:null;this._contentElement.style.pointerEvents="auto",this.selectedIndex=e,!0!==this._suppressSelectionEvents?(this._raiseEvent("0",{selectedIndex:e}),this._raiseEvent("2",{unselectedIndex:i,selectedIndex:e})):(!0!==this._suppressReorder&&void 0!==this._oldReorderIndex&&e!==this._oldReorderIndex&&this._raiseEvent("4",{newIndex:e,oldIndex:this._oldReorderIndex}),this._suppressSelectionEvents=!1,this._suppressReorder=!1),this.initContent&&!1===this._items[e]._isInitialized&&(this.initContent(e),this._items[e]._isInitialized=!0),this._allowSelection=!0,this._selecting=null},_clearSelectionComplete:function(e,t){this._selecting=null,void 0===e&&(e=this.selectedIndex),-1!==e&&(this._contentElement.style.pointerEvents="none",!0!==this._suppressSelectionEvents&&this._raiseEvent("1",{unselectedIndex:e})),!0!==t&&(this.selectedIndex=-1)},_slide:function(t,i,s,r){var n=this;if(n.activeAnimations||(n.activeAnimations=[]),n.activeAnimations.length>0)for(var o=0;o<n.activeAnimations.length;o++)n.activeAnimations[o].clearQueue(),n.activeAnimations[o].finish();else t.clearQueue(),t.animate("finish");var a,l=function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.length>0&&e.data("ui-effects-"+t[i],e[0].style[t[i]])},h=function(e,t){var i,s;for(s=0;s<t.length;s++)null!==t[s]&&(void 0===(i=e.data("ui-effects-"+t[s]))&&(i=""),e.css(t[s],i))},d=function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},n=document.activeElement;try{n.id}catch(e){n=document.body}return t.wrap(s),(t[0]===n||e.contains(t[0],n))&&e(n).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),s.css(i).show()},c=function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},u=["position","top","bottom","left","right","width","height"],p=i.mode,f="show"===p,m=i.direction||"left",g="up"===m||"down"===m?"top":"left",v="up"===m||"left"===m,x={};l(t,u),t.show(),a=i.distance||t["top"===g?"outerHeight":"outerWidth"](!0),d(t).css({overflow:"hidden"}),f&&t.css(g,v?isNaN(a)?"-"+a:-a:a),x[g]=(f?v?"+=":"-=":v?"-=":"+=")+a;return n.activeAnimations.push(t),t.animate(x,{duration:i.duration,easing:i.easing,complete:function(){n.activeAnimations.pop(t),"show"===p?n._animationComplete(s,r):"hide"===p&&(t.hide(),n._clearSelectionComplete(s)),h(t,u),c(t)}}),function(){t.clearQueue(),t.stop(!0,!0)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_width:function(t){var i=e(t),s=i.css("border-left-width"),r=i.css("border-right-width"),n=parseInt(i.css("padding-left"),10),o=parseInt(i.css("padding-right"),10),a="none"===i.css("display");a&&(t.style.display="block"),s=-1===s.indexOf("px")?1:parseInt(s,10),r=-1===r.indexOf("px")?1:parseInt(r,10);var l=t.offsetWidth-(s+r+n+o);return a&&(t.style.display="none"),Math.max(0,l)},_height:function(t){var i=e(t),s=i.css("border-top-width"),r=i.css("border-bottom-width"),n=parseInt(i.css("padding-top"),10),o=parseInt(i.css("padding-bottom"),10);s=-1===s.indexOf("px")?1:parseInt(s,10),r=-1===r.indexOf("px")?1:parseInt(r,10);var a=t.offsetHeight-(s+r+n+o);return Math.max(0,a)},_closest:function(e,t,i){if(t){if(e.nodeName.toLowerCase()===t)return e;for(var s=e.parentNode;null!==s&&"#document"!==s.nodeName;){if(s.nodeName.toLowerCase()===t)return s;s=s.parentNode}}if(i){if((" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+i+" ")>-1)return e;for(var r=e.parentNode;null!==r&&"#document"!==r.nodeName;){if((" "+r.className+" ").replace(/[\n\t]/g," ").indexOf(" "+i+" ")>-1)return r;r=r.parentNode}}},_initAnimate:function(e){if(e.initAnimate){if(e.animate)return;e.initAnimate()}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxProgressBar","",{}),e.extend(e.jqx._jqxProgressBar.prototype,{defineInstance:function(){var t={colorRanges:[],value:0,oldValue:null,max:100,min:0,orientation:"horizontal",layout:"normal",width:null,height:null,showText:!1,animationDuration:300,disabled:!1,rtl:!1,renderText:null,template:"",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["valueChanged","invalidValue","complete","change"]};return this===e.jqx._jqxProgressBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),e.jqx.aria(this),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):(null==this.width||isNaN(this.width),this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):(null==this.height||isNaN(this.height),this.host.height(this.height)),this.valueDiv=e("<div></div>").appendTo(this.element),this._addRanges(),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.template&&this.valueDiv.addClass(this.toThemeProperty("jqx-"+this.template)),this.feedbackElementHost=e("<div style='left: 0px; top: 0px; width: 100%; height: 100%; position: absolute;'></div>").appendTo(this.host),this.feedbackElement=e("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),e.jqx.utilities.resize(this.host,function(){i.refresh()})},_addRanges:function(){if(0!=this.colorRanges.length)for(var e="vertical"==this.orientation,t=this.colorRanges,i=t.length,s=0;s<i;s++){var r=t[s].stop,n=t[s].color;this._createColorElements(r,n,e,i-s,s)}},_refreshColorElements:function(){for(var e=this.host.outerWidth(),t=this.host.outerHeight(),i="vertical"==this.orientation,s=0;s<this.colorRanges.length;s++){var r=this.colorRanges[s].element;if(!r)return this.host.find(".jqx-progressbar-range").remove(),void this._addRanges();var n=this.colorRanges[s].stop;n>Math.min(this.max,this.value)&&(n=Math.min(this.max,this.value));var o=100*(n-this.min)/(this.max-this.min);size=i?t*o/100:e*o/100,size+="px",i?(r.css("height",size),"reverse"==this.layout?r.css("bottom",0):r.css("top",0)):(r.css("width",size),(this.rtl||"reverse"==this.layout)&&r.css("right","0px"))}},_createColorElements:function(t,i,s,r,n){var o;t>Math.min(this.max,this.value)&&(t=Math.min(this.max,this.value));var a=100*t/this.max;this.host.width(),this.host.height();o=s?this.host.outerHeight()*a/100:this.host.outerWidth()*a/100,o+="px";var l,h=e(this.valueDiv).parent()[0];(h.style.position="relative",s=s||!1)?((l=e("<div/>")).attr("class","jqx-progressbar-range"),l.css("width","100%"),l.css("height",o),l.css("background-color",i),l.css("position","absolute"),l.css("z-index",r),"reverse"==this.layout?l.css("bottom",0):l.css("top",0),l.appendTo(h)):((l=e("<div/>")).attr("class","jqx-progressbar-range"),l.css("width",o),l.css("height","100%"),l.css("background-color",i),l.css("position","absolute"),l.css("z-index",r),l.css("top","0px"),this.rtl&&l.css("right","0px"),l.appendTo(h));this.colorRanges[n].element=l},resize:function(e,t){this.width=e,this.height=t,this.refresh()},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(t,i,s){if(null!=this.isInitialized&&1==this.isInitialized){var r=this.events[t],n=new e.Event(r);return n.previousValue=i,n.currentValue=s,n.owner=this,this.host.trigger(n)}},actualValue:function(t){return void 0===t?this._value():(e.jqx.aria(this,"aria-valuenow",t),e.jqx.setvalueraiseevent(this,"value",t),this._value())},val:function(e){return 0==arguments.length||"object"==typeof e?this.actualValue():this.actualValue(e)},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.width(i.width),e.host.height(i.height),e.refresh())},propertyChangedHandler:function(t,i,s,r){if(this.isInitialized&&s!=r&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){"colorRanges"==i&&(t.host.find(".jqx-progressbar-range").remove(),t._addRanges()),"min"==i&&t.value<r?t.value=r:"max"==i&&t.value>r&&(t.value=r),"value"===i&&null!=this.value&&(this.value=r,this.oldValue=s,e.jqx.aria(t,"aria-valuenow",r),(r<this.min||r>this.max)&&this._raiseevent(1,s,r),this.refresh()),"theme"==i&&e.jqx.utilities.setTheme(s,r,t.host),"renderText"==i||"orientation"==i||"layout"==i||"showText"==i||"min"==i||"max"==i?this.refresh():"width"==i&&null!=this.width?null==this.width||isNaN(this.width)||(this.host.width(this.width),this.refresh()):"height"==i&&null!=this.height&&(null==this.height||isNaN(this.height)||(this.host.height(this.height),this.refresh())),"disabled"==i&&this.refresh()}},_value:function(){var e=this.value;if("number"!=typeof e){var t=parseInt(e);e=isNaN(t)?0:t}return Math.min(this.max,Math.max(this.min,e))},_percentage:function(){return 100*(this._value()-this.min)/(this.max-this.min)},_textwidth:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var s=i.width();return i.remove(),s},_textheight:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var s=i.height();return i.remove(),s},_initialRender:!0,refresh:function(t){if(!0!==t){var i=this.actualValue(),s=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e(this.element.children[0]).show(),!isNaN(i)&&!isNaN(s)){this.oldValue!==i&&(this._raiseevent(0,this.oldValue,i),this._raiseevent(3,this.oldValue,i),this.oldValue=i);var r=this.oldValue,n=this.host.outerHeight(),o=this.host.outerWidth();null!=this.width&&(o=parseInt(this.width)),null!=this.height&&(n=parseInt(this.height)),this._refreshColorElements();var a=parseInt(this.host.outerWidth())/2;parseInt(this.host.outerHeight());isNaN(s)&&(s=0),this.valueDiv.removeClass(this.toThemeProperty("jqx-progressbar-value-vertical jqx-progressbar-value")),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv[0].style.height="100%",this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv[0].style.width="100%",this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical")));var l=this;try{var h=this.element.children[0];if(e(h)[0].style.position="relative","horizontal"==this.orientation){e(h).toggle(i>=this.min);o=this.host.outerWidth()*s/100;var d=0;("reverse"==this.layout||this.rtl)&&(this._initialRender&&(e(h)[0].style.left=this.host.width()+"px",e(h)[0].style.width=0),d=this.host.outerWidth()-o),e(h).stop(),e(h).animate({width:o,left:d+"px"},this.animationDuration,function(){l._value()===l.max&&l._raiseevent(2,r,l.max)})}else{e(h).toggle(i>=this.min);n=this.host.height()*s/100;var c=0;"reverse"==this.layout&&(this._initialRender&&(e(h)[0].style.top=this.host.height()+"px",e(h)[0].style.height=0),c=this.host.height()-n),e(h).stop(),e(h).animate({height:n,top:c+"px"},this.animationDuration,function(){var t=l._percentage();isNaN(t)&&(t=0),t.toFixed(0)==l.min&&(e(h).hide(),l._value()===l.max&&l._raiseevent(2,r,l.max))})}}catch(e){}this._initialRender=!1,this.feedbackElement.html(s.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(s.toFixed(0)+"%",s)),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0"),this.colorRanges.length>0&&this.feedbackElement.css("z-index",this.colorRanges.length+1);var u=this.feedbackElement.height(),p=this.feedbackElement.width(),f=Math.floor(a-parseInt(p)/2);this.feedbackElement.css({left:f,"margin-top":-parseInt(u)/2+"px"})}}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTooltip","",{}),e.extend(e.jqx._jqxTooltip.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,selector:null,opening:null,value:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};return this===e.jqx._jqxTooltip.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice();var t=e.data(document.body,"_tooltipIDArray"+this.name);t?this.IDArray=t:(this.IDArray=[],e.data(document.body,"_tooltipIDArray"+this.name,this.IDArray));var i="jqxtooltip"+this._generatekey();this.IDArray.push({tooltipID:i,tooltipHost:this.host});var s=document.createElement("div");s.setAttribute("id",i),s.innerHTML='<div id="'+i+'Main"><div id="'+i+'Text"></div></div><div id="'+i+'Arrow"></div>',e.jqx.browser.msie&&(s.className=this.toThemeProperty("jqx-noshadow")),document.body.appendChild(s),this._tooltip=s,this._tooltipHelper=e(s),this._tooltipHelper.initAnimate&&this._tooltipHelper.initAnimate(),s.style.visibility="hidden",s.style.display="none",s.style.opacity=0,s.style.zIndex=99999;var r=document.getElementById(i+"Arrow");this._arrow=r,!1===this.showArrow&&(r.style.visibility="hidden",r.style.display="none"),this._main=document.getElementById(i+"Main"),this._text=document.getElementById(i+"Text"),this._setTheme(),this._setSize(),this._setContent(),!1===this.disabled&&(this._trigger(),!0===this.closeOnClick&&this._clickHide())},open:function(){if(arguments&&arguments.length&&2===arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),!1===this.disabled&&"removed"!==this._id())if("mouse"===this.position||"mouseenter"===this.position){var e=this.position;this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=e}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(t){var i=this,s=e.jqx.browser.msie&&e.jqx.browser.version<9;"object"==typeof t&&e.isEmptyObject(t)&&(t=this.animationHideDelay);var r=parseFloat(i._tooltip.style.opacity),n=function(){clearTimeout(i.autoHideTimeout),i._raiseEvent("3"),i._tooltipHelper.animate({opacity:0},t,function(){i._tooltip.style.visibility="hidden",i._tooltip.style.display="none",i._raiseEvent("1"),i._isOpen=!1})};!1!==this._isOpen||0===r?!0===this._isOpen&&(!s&&r===this.opacity||s)&&n():n()},destroy:function(){var e=this.IDArray.length;this._removeHandlers(),this._tooltipHelper.remove();for(var t=0;t<e;t++)if(this.IDArray[t].tooltipHost===this.host){this.IDArray.splice(t,1);break}this.host.removeData("jqxTooltip")},refresh:function(e){if(!0!==e){var t=this;this.rtl&&(t._text.className+=" "+t.toThemeProperty("jqx-rtl"),t._text.style.direction="rtl");var i=parseFloat(t._tooltip.style.opacity);"removed"!==this._id()&&(!0===this.disabled&&!0===this._isOpen&&i===this.opacity&&(clearTimeout(this.autoHideTimeout),this._tooltipHelper.animate({opacity:0},this.animationHideDelay,function(){t._tooltip.style.visibility="hidden",t._tooltip.style.display="none",t._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!==this.position&&"mouseenter"!==this.position&&this._setPosition(),this._removeHandlers(),!1===this.disabled&&(this._trigger(),!0===this.closeOnClick&&this._clickHide()))}},propertyChangedHandler:function(e,t,i,s){"content"===t&&(this.changeContentFlag=!0),e.refresh()},_raiseEvent:function(t,i){var s,r=this.events[t],n=new e.Event(r);n.owner=this,n.args=i;try{s=this.host.trigger(n)}catch(e){}return s},_generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()},_id:function(){for(var e,t=this.IDArray.length,i=0;i<t;i++)if(this.IDArray[i].tooltipHost===this.host){e="#"+this.IDArray[i].tooltipID;break}return void 0===e&&(e="removed"),e},_setPosition:function(t){var i=this,s=i._tooltip;if(!1===this._isOpen&&0===parseFloat(s.style.opacity)||!0===this.changeContentFlag){if(!t&&("mouse"===this.position||"mouseenter"===this.position))return;s.style.display="block",this.changeContentFlag=!1,this.documentTop=document.documentElement.scrollTop,this.documentLeft=document.documentElement.scrollLeft,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.hostWidth=i.element.offsetWidth,this.hostHeight=i.element.offsetHeight,this.tooltipWidth=s.offsetWidth,this.tooltipHeight=s.offsetHeight,this.hostOffset=this.host.offset(),this.tooltipOffset=i._tooltipHelper.offset(),this.defaultOffset=30,this.offsetHorizontal=parseInt(this.left,10),this.offsetVertical=parseInt(this.top,10);var r,n=i._arrow,o=e(n),a=i._main,l=e(a),h=a.offsetWidth,d=a.offsetHeight;switch(this.arrowSize=5,this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset={},this.position){case"top":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(h/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(h/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"left":r=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize+this.offsetHorizontal-(parseInt(r.borderLeftWidth,10)+parseInt(r.borderRightWidth,10)),this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this._detectBrowserBounds(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-t-b")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),n.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+h,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this.tooltipOffset.top=parseInt(this.tooltipOffset.top,10),this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-t-b")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),n.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+a.offsetHeight/2-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+h-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+h-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"absolute":i._tooltipHelper.offset({top:this.absolutePositionY,left:this.absolutePositionX}),n.style.borderWidth="0px";break;case"mouse":if(!1===this._isTouchDevice)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){i.tooltipOffset.left=t.pageX+10,i.tooltipOffset.top=t.pageY+10,i._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltipOffset.left=t.pageX+10,this.tooltipOffset.top=t.pageY+10,this._detectBrowserBounds()}else{var c,u=t.pageX,p=t.pageY;if(t.originalEvent)t.originalEvent.touches&&t.originalEvent.touches.length?c=t.originalEvent.touches[0]:t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length&&(c=t.originalEvent.changedTouches[0]),void 0!==c&&(u=c.pageX,p=c.pageY);this.tooltipOffset.left=u+10,this.tooltipOffset.top=p+10,this._detectBrowserBounds()}n.style.borderWidth="0px";break;case"mouseenter":var f={top:t.pageY,left:t.pageX};f.top<this.hostOffset.top+10&&f.top>this.hostOffset.top-10?(this.tooltipOffset.left=f.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(h/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):f.top<this.hostOffset.top+this.hostHeight+10&&f.top>this.hostOffset.top+this.hostHeight-10?(this.tooltipOffset.left=f.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(h/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):f.left<this.hostOffset.left+10&&f.left>this.hostOffset.left-10?(r=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize-(parseInt(r.borderLeftWidth,10)+parseInt(r.borderRightWidth,10)),this.tooltipOffset.top=f.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-t-b")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),n.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+h,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):f.left<this.hostOffset.left+this.hostWidth+10&&f.left>this.hostOffset.left+this.hostWidth-10&&(this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize,this.tooltipOffset.top=f.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-t-b")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),n.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left}));break;case"default":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(n,i.toThemeProperty("jqx-tooltip-arrow-l-r")),n.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),n.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,o.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})}}},_setContent:function(){this._text.innerHTML=this.content},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var t=parseFloat(this._tooltip.style.opacity);if(!1===this._isOpen&&0===t){var i=this;if(i._tooltip.style.visibility="visible",i._tooltip.style.display="block",i._tooltip.style.opacity=0,this.opening)if(!1===this.opening(this))return;i._tooltipHelper.animate({opacity:this.opacity},this.animationShowDelay,function(){i._raiseEvent("0"),i._isOpen=!0,i.openedTooltip=i,e.data(document.body,"_openedTooltip"+i.name,i),i.autoHideTimeout&&clearTimeout(i.autoHideTimeout),i.autoHideDelay>0&&!0===i.autoHide&&(i.autoHideTimeout=setTimeout(function(){i._autoHide()},i.autoHideDelay))})}},_trigger:function(){if("removed"!==this._id()){var t=this,i=this.host;if(this.selector&&(i=e("#"+this.selector)),!1===this._isTouchDevice)switch(this.trigger){case"hover":"mouse"===this.position?(this.addHandler(i,"mousemove.tooltip",function(e){1===t._enterFlag&&(t._raiseEvent("2"),t._setPosition(e),clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._animateShow(),t._enterFlag=0},t.showDelay))}),this.addHandler(i,"mouseenter.tooltip",function(){0!==t._leaveFlag&&(t._enterFlag=1)}),this.addHandler(i,"mouseleave.tooltip",function(e){t._leaveFlag=1,clearTimeout(t.hoverShowTimeout);var i=t._tooltipHelper.offset(),s=t._tooltip.offsetWidth,r=t._tooltip.offsetHeight;(parseInt(e.pageX,10)<parseInt(i.left,10)||parseInt(e.pageX,10)>parseInt(i.left,10)+s)&&t.close(),(parseInt(e.pageY,10)<parseInt(i.top,10)||parseInt(e.pageY,10)>parseInt(i.top,10)+r)&&t.close()}),this.addHandler(t._tooltipHelper,"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!==t._clickFlag&&0!==t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.close())})):(this.addHandler(i,"mouseenter.tooltip",function(e){clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._raiseEvent("2"),t._setPosition(e),t._animateShow()},t.showDelay)}),this.addHandler(i,"mouseleave.tooltip",function(e){if(t._leaveFlag=1,clearTimeout(t.hoverShowTimeout),t.autoHide){var i=e.pageX,s=e.pageY,r=t._tooltipHelper.offset(),n=r.left,o=r.top,a=t._tooltip.offsetWidth,l=t._tooltip.offsetHeight;(parseInt(i,10)<parseInt(n,10)||parseInt(i,10)>parseInt(n,10)+a||parseInt(s,10)<parseInt(o,10)||parseInt(s,10)>parseInt(o,10)+l)&&t.close()}}),this.addHandler(t._tooltipHelper,"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!==t._clickFlag&&0!==t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.autoHide&&t.close())}));break;case"click":this.addHandler(i,"click.tooltip",function(e){"mouseenter"===t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()})}else"none"!==this.trigger&&this.addHandler(i,"touchstart.tooltip",function(e){"mouseenter"===t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()})}},_autoHide:function(){var e=this,t=parseFloat(e._tooltip.style.opacity);!0===this.autoHide&&!0===this._isOpen&&t>=this.opacity&&(e._raiseEvent("3"),e._tooltipHelper.animate({opacity:0},e.animationHideDelay,function(){e._tooltip.style.visibility="hidden",e._tooltip.style.display="none",e._raiseEvent("1"),e._isOpen=!1}))},_clickHide:function(){var e=this;this.addHandler(e._tooltipHelper,"click.tooltip",function(t){e._checkBoundariesClick(t),e.close()})},_setSize:function(){this._tooltip.style.width=this._toPx(this.width),this._tooltip.style.height=this._toPx(this.height)},resize:function(){this._setSize()},_setTheme:function(){this._tooltip.className+=" "+this.toThemeProperty("jqx-tooltip jqx-popup"),this._main.className+=" "+this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),this._text.className+=" "+this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),this._arrow&&(this._arrow.className+=" "+this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow"))},_initialPosition:function(){var e=this.position;this.position="default",this._setPosition(),this.position=e},_detectBrowserBounds:function(){var e=this._tooltipHelper;this.enableBrowserBoundsDetection?this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left<0?e.offset({top:this.documentTop,left:this.documentLeft}):this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top<this.documentTop?e.offset({top:this.documentTop,left:this.tooltipOffset.left}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left<0?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.documentLeft}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.tooltipOffset.left}):this.tooltipOffset.left<0?e.offset({top:this.tooltipOffset.top,left:this.documentLeft}):this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.tooltipOffset.top,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):e.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left}):e.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left})},_checkBoundaries:function(e){return e.pageX>=this.hostOffset.left&&e.pageX<=this.hostOffset.left+this.hostWidth&&e.pageY>=this.hostOffset.top&&e.pageY<=this.hostOffset.top+this.hostHeight},_checkBoundariesClick:function(e){this._checkBoundaries(e)?this._clickFlag=1:this._clickFlag=0},_checkBoundariesAuto:function(e){this._checkBoundaries(e)?this._autoFlag=1:this._autoFlag=0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(this._tooltipHelper,"click.tooltip"),this.removeHandler(this._tooltipHelper,"mouseleave.tooltip")},_closeAll:function(){for(var e=0;e<this.IDArray.length;e++){var t=this.IDArray[e].tooltipID,i=document.getElementById(t);i!==this._tooltip&&(i.style.opacity=0,i.style.visibility="hidden",i.style.display="none",this._isOpen=!1)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_removeClass:function(t,i){e(t).removeClass(i)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownList","",{}),e.extend(e.jqx._jqxDropDownList.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,autoItemsHeight:!1,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,dropDownContainer:"default",animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,ready:null,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===e.jqx._jqxDropDownList.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.render()},render:function(){(l=this).width||(l.width=200),l.height||(l.height=25);var t=l.element.nodeName.toLowerCase();if("select"==t||"ul"==t||"ol"==t){l.field=l.element,l.field.className&&(l._className=l.field.className);var i={title:l.field.title};l.field.id.length?i.id=l.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":i.id=e.jqx.utilities.createId()+"_jqxDropDownList";var s=e("<div></div>",i);l.width||(l.width=e(l.field).width()),l.height||(l.height=e(l.field).outerHeight()),s[0].style.cssText=l.field.style.cssText,e(l.field).hide().after(s);var r=l.host.data();if(l.host=s,l.host.data(r),l.element=s[0],l.element.id=l.field.id,l.field.id=i.id,l._className&&(l.host.addClass(l._className),e(l.field).removeClass(l._className)),l.field.tabIndex){var n=l.field.tabIndex;l.field.tabIndex=-1,l.element.tabIndex=n}var o=e.jqx.parseSourceTag(l.field);l.source=o.items,-1==l.selectedIndex&&(l.selectedIndex=o.index)}else if(l.host.find("li").length>0||l.host.find("option").length>0){o=e.jqx.parseSourceTag(that.element);l.source=o.items}l.element.innerHTML="",l.isanimating=!1,l.id=l.element.id||e.jqx.utilities.createId(),l.host.attr("role","combobox"),e.jqx.aria(l,"aria-autocomplete","both"),e.jqx.aria(l,"aria-readonly",!1);var a="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(null==e.jqx._jqxListBox||null==e.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");l.host.attr("tabindex")||l.host.attr("tabindex",0);l.touch=e.jqx.mobile.isTouchDevice(),l.comboStructure=a,l.element.innerHTML=a,l.dropdownlistWrapper=e(l.element.firstChild.firstChild),l.dropdownlistArrow=e(l.dropdownlistWrapper[0].firstChild.nextSibling),l.arrow=e(l.dropdownlistArrow[0].firstChild),l.dropdownlistContent=e(l.dropdownlistWrapper[0].firstChild),l.dropdownlistContent.addClass(l.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),l.rtl&&l.dropdownlistContent.addClass(l.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),l.addHandler(l.dropdownlistWrapper,"selectstart",function(){return!1}),l.dropdownlistWrapper[0].id="dropdownlistWrapper"+l.element.id,l.dropdownlistArrow[0].id="dropdownlistArrow"+l.element.id,l.dropdownlistContent[0].id="dropdownlistContent"+l.element.id,l._addInput(),"Please Choose:"!=l.promptText&&(l.placeHolder=l.promptText);var l,h=l.toThemeProperty("jqx-widget")+" "+l.toThemeProperty("jqx-dropdownlist-state-normal")+" "+l.toThemeProperty("jqx-rc-all")+" "+l.toThemeProperty("jqx-fill-state-normal");l.element.className+=" "+h,l._firstDiv=e(l.element.firstChild);try{var d="listBox"+l.id,c=e(e.find("#"+d));c.length>0&&c.remove(),e.jqx.aria(l,"aria-owns",d),e.jqx.aria(l,"aria-haspopup",!0);var u=e("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+l.id+"'><div id='innerListBox"+l.id+"'></div></div>");u.hide(),"element"==l.dropDownContainer?u.appendTo(l.host):u.appendTo(document.body),l.container=u,l.listBoxContainer=e(e.find("#innerListBox"+l.id));var p=l.width;"auto"!=l.dropDownWidth&&(p=l.dropDownWidth),null==p&&0==(p=l.host.width())&&(p=l.dropDownWidth),null==l.dropDownHeight&&(l.dropDownHeight=200);l.container.width(parseInt(p)+25),l.container.height(parseInt(l.dropDownHeight)+25),l._ready=!1,l.addHandler(l.listBoxContainer,"bindingComplete",function(t){l.listBox||(l.listBox=e.data(l.listBoxContainer[0],"jqxListBox").instance),l.selectedIndex!=l.listBoxContainer.jqxListBox("selectedIndex")?(l.listBox=e.data(l.listBoxContainer[0],"jqxListBox").instance,l.listBoxContainer.jqxListBox({selectedIndex:l.selectedIndex}),l.renderSelection("mouse")):l.renderSelection("mouse"),l._ready||(l.ready&&l.ready(),l._ready=!0),l._raiseEvent("6")}),l.addHandler(l.listBoxContainer,"itemAdd",function(e){l._raiseEvent("7",e.args)}),l.addHandler(l.listBoxContainer,"itemRemove",function(e){l._raiseEvent("8",e.args)}),l.addHandler(l.listBoxContainer,"itemUpdate",function(e){l._raiseEvent("9",e.args)}),l.listBoxContainer.jqxListBox({filterHeight:l.filterHeight,filterPlaceHolder:l.filterPlaceHolder,filterDelay:l.filterDelay,autoItemsHeight:l.autoItemsHeight,filterable:l.filterable,allowDrop:!1,allowDrag:!1,autoBind:l.autoBind,_checkForHiddenParent:!1,focusable:l.focusable,touchMode:l.touchMode,checkboxes:l.checkboxes,rtl:l.rtl,_renderOnDemand:!0,emptyString:l.emptyString,itemHeight:l.itemHeight,width:p,searchMode:l.searchMode,incrementalSearch:l.incrementalSearch,incrementalSearchDelay:l.incrementalSearchDelay,groupMember:l.groupMember,searchMember:l.searchMember,displayMember:l.displayMember,valueMember:l.valueMember,height:l.dropDownHeight,autoHeight:l.autoDropDownHeight,scrollBarSize:l.scrollBarSize,selectedIndex:l.selectedIndex,source:l.source,theme:l.theme,rendered:function(){l.selectedIndex!=l.listBoxContainer.jqxListBox("selectedIndex")?(l.listBox=e.data(l.listBoxContainer[0],"jqxListBox").instance,l.listBoxContainer.jqxListBox({selectedIndex:l.selectedIndex}),l.renderSelection("mouse")):l.renderSelection("mouse")},renderer:l.renderer,filterChange:function(e){l.autoDropDownHeight&&l.container.height(l.listBoxContainer.height()+25)}}),"element"===l.dropDownContainer?l.listBoxContainer.css({position:"absolute",top:0,left:0}):l.listBoxContainer.css({position:"absolute",zIndex:l.popupZIndex,top:0,left:0}),l.template&&l.listBoxContainer.addClass(l.toThemeProperty("jqx-"+l.template+"-item")),l.listBox=e.data(l.listBoxContainer[0],"jqxListBox").instance,l.listBox.enableSelection=l.enableSelection,l.listBox.enableHover=l.enableHover,l.listBox.equalItemsWidth=l.equalItemsWidth,l.listBox.selectIndex(l.selectedIndex),l.listBox._arrange(),l.listBoxContainer.addClass(l.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&l.listBoxContainer.addClass(l.toThemeProperty("jqx-noshadow")),l.addHandler(l.listBoxContainer,"unselect",function(e){l._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),l.addHandler(l.listBoxContainer,"change",function(e){e.args&&("keyboard"!=e.args.type?l._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(l.isOpened()||l._raiseEvent("4",{index:l.selectedIndex,type:"keyboard",item:l.getItem(l.selectedIndex)})))}),"none"==l.animationType?l.container.css("display","none"):l.container.hide()}catch(e){console&&console.log(e)}if((l=l).propertyChangeMap.disabled=function(t,i,s,r){r?(t.host.addClass(l.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(l.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(l.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(l.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.removeClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(t,"aria-disabled",t.disabled)},l.disabled&&(l.host.addClass(l.toThemeProperty("jqx-dropdownlist-state-disabled")),l.host.addClass(l.toThemeProperty("jqx-fill-state-disabled")),l.dropdownlistContent.addClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))),"top"==l.dropDownVerticalAlignment?l.arrow.addClass(l.toThemeProperty("jqx-icon-arrow-up")):l.arrow.addClass(l.toThemeProperty("jqx-icon-arrow-down")),l.arrow.addClass(l.toThemeProperty("jqx-icon")),"simple"===l.renderMode&&(l.arrow.remove(),l.host.removeClass(l.toThemeProperty("jqx-fill-state-normal")),l.host.removeClass(l.toThemeProperty("jqx-rc-all"))),l.template&&l.host.addClass(l.toThemeProperty("jqx-"+l.template)),l._updateHandlers(),l._setSize(),l._arrange(),l.listBox&&l.renderSelection(),e.jqx.browser.msie&&e.jqx.browser.version<8&&l.host.parents(".jqx-window").length>0){var f=l.host.parents(".jqx-window").css("z-index");u.css("z-index",f+10),l.listBoxContainer.css("z-index",f+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(e){if(!this.dropdownlistContent)return"";if(this.input&&(function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length))return this.input.val();var t=this.getItemByValue(e);return null!=t&&this.selectItem(t),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host&&(e.host.focus(),e._firstDiv&&e._firstDiv.focus())};t(),setTimeout(function(){t()},10)}catch(e){}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height);var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.element.style.width=this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.element.style.height=this.height);var i=this;if(t){var s=this.host.width();"auto"!=this.dropDownWidth&&(s=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:s}),this.container.width(parseInt(s)+25)}e.jqx.utilities.resize(this.host,function(){!function(){if(i._arrange(),"auto"==i.dropDownWidth){var e=i.host.width();i.listBoxContainer.jqxListBox({width:e}),i.container.width(parseInt(e)+25)}}()},!1,this._checkForHiddenParent)},isOpened:function(){var t=e.data(document.body,"openedJQXListBox"+this.id);return null!=t&&t==this.listBoxContainer},_updateHandlers:function(){var t=this;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover")),!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(e){t.isOpened()&&t.close()});var i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,i,function(e){if(!t.disabled){var i="block"==t.container.css("display");if(!t.isanimating){if(i)return t.hideListBox(),!1;t.showListBox(),t.focusable?t.focus():e.preventDefault&&e.preventDefault()}}}),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!t.isOpened()&&t.autoOpen&&(t.open(),t.host.focus())}),e(document).on("mousemove."+t.id,function(e){if(t.isOpened()&&t.autoOpen){var i=t.host.coord(),s=i.top,r=i.left,n=t.container.coord(),o=n.left,a=n.top;canClose=!0,e.pageY>=s&&e.pageY<=s+t.host.height()&&e.pageX>=r&&e.pageX<r+t.host.width()&&(canClose=!1),e.pageY>=a&&e.pageY<=a+t.container.height()&&e.pageX>=o&&e.pageX<o+t.container.width()&&(canClose=!1),canClose&&t.close()}})),this.touch?this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if("none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&!t.isanimating)return i&&(t.renderSelection(),"13"==e.keyCode&&t.focusable&&t._firstDiv.focus(),t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"13"==e.keyCode&&t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),!i||"9"==e.keyCode;if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1;if(e.altKey&&"block"==t.host.css("display"))if(38==e.keyCode){if(t.isOpened())return t.hideListBox(),!0}else if(40==e.keyCode&&!t.isOpened())return t.showListBox(),!0;return"27"!=e.keyCode||t.ishiding?t.disabled?void 0:(t._kbnavigated=t.listBox._handleKeyDown(e),t._kbnavigated):(t.isOpened()&&(t.hideListBox(),null!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection(),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled){if(!e.args)return;"keyboard"!=e.args.type||t.isOpened()||t.renderSelection(),("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"==e.args.type&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;t.renderSelection("mouse"),t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus()),t.keyboardSelection||(!1===t._kbnavigated&&(t.tempSelectedIndex!=t.selectedIndex&&t._raiseEvent("4",{index:t.selectedIndex,type:"mouse",item:t.getItem(t.selectedIndex)}),t._kbnavigated=!0),null==t._oldSelectedInd&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}}),this.addHandler(this.host,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var t="mousedown";this.touch&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,t),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+this.id)},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},selectItem:function(e){null!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){null!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){null!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){null!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){null!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var t=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var i in this.listBox.selectedValues){var s=this.listBox.selectedValues[i],r=this.listBox.getItemByValue(s);r&&(t=r)}if(this.checkboxes){var n=this.getCheckedItems();t=null!=n&&n.length>0?n[0]:null}if(null==t){var o;(o=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>')).appendTo(e(document.body)),o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-listitem-state-normal")),o.addClass(this.toThemeProperty("jqx-item")),e.jqx.utilities.html(o,this.placeHolder);var a=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");o.css("padding-top",a),o.css("padding-bottom",l);var h=o.outerHeight();o.remove(),o.removeClass(),e.jqx.utilities.html(this.dropdownlistContent,o);var d=this.host.height();return null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height)),(v=parseInt((parseInt(d)-parseInt(h))/2))>0&&(this.dropdownlistContent.css("margin-top",v+"px"),this.dropdownlistContent.css("margin-bottom",v+"px")),this.selectionRenderer?(e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(o,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex,(o=e(document.createElement("span")))[0].setAttribute("unselectable","on");try{o[0].style.color="inherit"}catch(e){}o[0].style.borderWidth="0px",o[0].style.backgroundColor="transparent",o.appendTo(e(document.body)),o.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var c=!1;try{null!=t.html&&null!=t.html&&t.html.toString().length>0?e.jqx.utilities.html(o,t.html):null!=t.label&&null!=t.label&&t.label.toString().length>0?e.jqx.utilities.html(o,t.label):null===t.label||""===t.label?(c=!0,e.jqx.utilities.html(o,"")):null!=t.value&&null!=t.value&&t.value.toString().length>0?e.jqx.utilities.html(o,t.value):null!=t.title&&null!=t.title&&t.title.toString().length>0?e.jqx.utilities.html(o,t.title):""!=t.label&&null!=t.label||(c=!0,e.jqx.utilities.html(o,""))}catch(e){}""===(a=this.dropdownlistContent[0].style.paddingTop)&&(a="0px"),""===(l=this.dropdownlistContent[0].style.paddingBottom)&&(l="0px"),o[0].style.paddingTop=a,o[0].style.paddingBottom=l,0===(h=o.outerHeight())&&(h=16),""!=t.label&&null!=t.label||!c||e.jqx.utilities.html(o,"");var u=this.width&&this.width.toString().indexOf("%")<=0;if(o.remove(),o.removeClass(),this.selectionRenderer)e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(o,t.index,t.label,t.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var p=this.getCheckedItems(),f="",m=0;m<p.length;m++)m==p.length-1?f+=p[m].label:f+=p[m].label+",";o.text(f),u&&o.css("max-width",this.host.width()-30),o.css("overflow","hidden"),o.css("display","block"),this.rtl||u&&o.css("width",this.host.width()-30),o.css("text-overflow","ellipsis"),o.css("padding-bottom",1+parseInt(l)),this.dropdownlistContent.html(o),this.focusable&&this.isOpened()&&this.focus()}else{var g=this.host.width()-this.arrowSize-3;this.width&&"auto"!==this.width&&(u&&(this.rtl||o.css("max-width",g+"px")),o[0].style.overflow="hidden",o[0].style.display="block",o[0].style.paddingTop=1+parseInt(l)+"px",this.rtl||u&&(g<0&&(g=0),o[0].style.width=g+"px"),o[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=o[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}var v;d=this.host.height();null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height)),(v=parseInt((parseInt(d)-parseInt(h))/2))>=0&&(this.dropdownlistContent[0].style.marginTop=v+"px",this.dropdownlistContent[0].style.marginBottom=v+"px"),this.selectionRenderer&&(this.dropdownlistContent[0].style.marginTop="0px",this.dropdownlistContent[0].style.marginBottom="0px"),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var t=new Array;if(-1==this.selectedIndex)this.input.val("");else{var i=this.getSelectedItem();null!=i?(this.input.val(i.value),t.push(i.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var s=this.getCheckedItems(),r="";if(null!=s)for(var n=0;n<s.length;n++){var o=s[n].value;null!=o&&(n==s.length-1?r+=o:r+=o+",",t.push(o))}this.input.val(r)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(t){e.jqx.utilities.html(this.dropdownlistContent,t),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(t){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||e.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,s){this.listBox.selectIndex(e,t,i,s,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,s){var r=t.outerWidth(),n=t.outerHeight(),o=e(window).width()+e(window).scrollLeft(),a=e(window).height()+e(window).scrollTop();if(i.left+r>o&&r>this.host.width()){var l=this.host.coord().left,h=r-this.host.width();i.left=l-h+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>a&&a>n?Math.abs(n+s+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){if(e.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var t=this.host.width();this.listBoxContainer.jqxListBox({width:t}),this.container.width(parseInt(t)+25)}var i,s=this,r=this.listBoxContainer,n=this.listBox,o=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),a=parseInt(Math.round(this.host.coord(!0).left));i=a+"px","element"===this.dropDownContainer&&(o=parseInt(this.host.outerHeight())-1+"px",i=0);var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),null!=l&&l&&(i=e.jqx.mobile.getLeftPos(this.element),o=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(o=parseInt(o)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(i=parseInt(i)-this._getBodyOffset().left+"px")),r.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),"top"==this.dropDownVerticalAlignment?this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",o),n._arrange();var h=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var d=this.container.outerWidth(),c=Math.abs(d-this.host.width());d>this.host.width()?this.container.css("left",25+parseInt(Math.round(a))-c+"px"):this.container.css("left",25+parseInt(Math.round(a))+c+"px")}if("top"==this.dropDownVerticalAlignment){var u=r.height();h=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up"));var p=parseInt(this.host.outerHeight()),f=parseInt(o)-Math.abs(u+p+23);this.container.css("top",f)}if(this.enableBrowserBoundsDetection){var m=this.testOffset(r,{left:parseInt(this.container.css("left")),top:parseInt(o)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=m.top?(h=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up"))):r.css("top",0),this.container.css("top",m.top),parseInt(this.container.css("left"))!=m.left&&this.container.css("left",m.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+this.id,r),r.css("margin-top",0),r.css("opacity",1),n._renderItems(),s._raiseEvent("0",n);else if(this.container.css("display","block"),s.isanimating=!0,"fade"==this.animationType)r.css("margin-top",0),r.css("opacity",0),r.animate({opacity:1},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+s.id,r),s.ishiding=!1,s.isanimating=!1,n._renderItems(),s._raiseEvent("0",n)});else{r.css("opacity",1);var g=r.outerHeight();h?r.css("margin-top",g):r.css("margin-top",-g),r.animate({"margin-top":0},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+s.id,r),s.ishiding=!1,s.isanimating=!1,n._renderItems(),s._raiseEvent("0",n)})}h?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),r.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),r.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(r.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this.listBoxContainer,i=this.listBox,s=this.container,r=this;if(e.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!r.ishiding){t.stop();var n=t.outerHeight();t.css("margin-top",0),r.isanimating=!0;var o=-n;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(o=n),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1,r.ishiding=!1})):t.animate({"margin-top":o},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1,r.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(t){var i=t.data.me,s=e(t.target),r=t.data.listbox;if(null==r)return!0;if(e(t.target).ischildof(t.data.me.host))return!0;if(!i.isOpened())return!0;if(e(t.target).ischildof(i.listBoxContainer))return!0;var n=!1;return e.each(s.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(n=!0),!1}}),null!=r&&!n&&i.isOpened()&&i.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){!0!==e&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=parseInt(this.host.width()),t=parseInt(this.host.height()),i=(this.arrowSize,this.arrowSize),s=e-i-6;if(s>0&&"auto"!==this.width?this.dropdownlistContent[0].style.width=s+"px":s<=0&&(this.dropdownlistContent[0].style.width="0px"),"auto"===this.width&&(this.dropdownlistContent.css("width","auto"),e=this.dropdownlistContent.width()+i+6,this.host.width(e)),this.dropdownlistContent[0].style.height=t+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=i+"px",this.width&&this.width.toString().indexOf("%")>=0){var r=100*i/e,n=100*s/e;this.dropdownlistArrow[0].style.width=r+"%",this.dropdownlistContent[0].style.width=n+"%"}this.dropdownlistArrow[0].style.height=t+"px",this.rtl&&(this.dropdownlistArrow.css("float","left"),this.dropdownlistContent.css("float","right"))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var t=e.data(this.element,"jqxDropDownList");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var r=new e.Event(s);return r.owner=this,2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&7!=t&&8!=t&&9!=t||(r.args=i),this.host.trigger(r)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var s=e.host.width();e.listBoxContainer.jqxListBox({width:s}),e.container.width(parseInt(s)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(t,i,s,r){if(null!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.listBoxContainer.removeClass(t.toThemeProperty("jqx-"+s+"-item")),t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.host.removeClass(t.toThemeProperty("jqx-"+s)),t.host.addClass(t.toThemeProperty("jqx-"+t.template))),"dropDownVerticalAlignment"==i&&(t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.listBoxContainer.css("top",0),t.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==i&&t.listBoxContainer.jqxListBox({autoItemsHeight:r}),"filterable"==i&&t.listBoxContainer.jqxListBox({filterable:r}),"filterHeight"==i&&t.listBoxContainer.jqxListBox({filterHeight:r}),"filterPlaceHolder"==i&&t.listBoxContainer.jqxListBox({filterPlaceHolder:r}),"filterDelay"==i&&t.listBoxContainer.jqxListBox({filterDelay:r}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:r}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:r}),"autoOpen"==i&&t._updateHandlers(),"emptyString"==i&&(t.listBox.emptyString=t.emptyString),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:r}),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:r}),"rtl"==i&&(r?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"source"==i&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),null==r&&t.clear()),"displayMember"!=i&&"valueMember"!=i||(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),"placeHolder"==i&&t.renderSelection(),"theme"==i&&null!=r&&(t.listBoxContainer.jqxListBox({theme:r}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.utilities.setTheme(s,r,t.host)),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"searchMode"==i&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),"incrementalSearch"==i&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),"incrementalSearchDelay"==i&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var n=t.width;"auto"!=t.dropDownWidth&&(n=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:n,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(n)+25)}if(("width"==i||"height"==i)&&r!=s){if(this.refresh(),"width"==i&&"auto"==t.dropDownWidth){n=t.host.width();t.listBoxContainer.jqxListBox({width:n}),t.container.width(parseInt(n)+25)}t.close()}"checkboxes"==i&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),"selectedIndex"==i&&null!=t.listBox&&(t.listBox.selectIndex(parseInt(r)),t.renderSelection())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxExpander","",{}),e.extend(e.jqx._jqxExpander.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",expanded:!0,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",headerPosition:"top",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]};return this===e.jqx._jqxExpander.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),this._cachedHTMLStructure=this.host.html(),this._rendered=!1,this.render(),this._rendered=!0},expand:function(){if(!1===this.disabled&&!1===this.expanded&&1==this._expandChecker){var t=this;switch(this._expandChecker=0,this._raiseEvent("0"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top jqx-expander-arrow-expanded-top"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideDown({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}):"bottom"==this.headerPosition&&(this._contentElement.style.display="",this._contentElement.style.height="0px",e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._contentElement.style.display="block"),!0===this._cntntEmpty?this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}):this._content.animate({height:this._contentHeight},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}));break;case"fade":this._content.fadeIn({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}});break;case"none":this._contentElement.style.display="",this.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),this._raiseEvent("1"),this.initContent&&!1===this._initialized&&(this.initContent(),this._initialized=!0)}}},collapse:function(){if(!1===this.disabled&&!0===this.expanded&&0===this._expandChecker){var t=this;switch(this._expandChecker=1,this._raiseEvent("2"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideUp({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}}):"bottom"==this.headerPosition&&this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t._contentElement.style.display="none",t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}});break;case"fade":this._content.fadeOut({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}});break;case"none":t._contentElement.style.display="none",this.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),this._raiseEvent("3")}}},setHeaderContent:function(e){this._headerText.innerHTML=e,this.invalidate()},getHeaderContent:function(){return this._headerText.innerHTML},setContent:function(e){this._content.html(e),this._checkContent(),this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=!1,this.refresh(),e.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this.refresh(),e.jqx.aria(this,"aria-disabled",!0)},invalidate:function(){e.jqx.isHidden(this.host)||this._setSize()},refresh:function(e){!0!==e&&(this._removeHandlers(),!0===this.showArrow?this._arrowElement.style.display="":this._arrowElement.style.display="none",this._setTheme(),this._setSize(),!1===this.disabled&&this._toggle(),this._keyBoard())},render:function(){var t=this;if(t._rendered)t.refresh();else{this.widgetID=this.element.id;var i=this.host.children();this._headerText=i[0],this._headerElement=document.createElement("div"),this._header=e(this._headerElement),this._contentElement=i[1],this._content=e(this._contentElement),this._content.initAnimate&&this._content.initAnimate(),"top"===this.headerPosition?t.element.insertBefore(t._headerElement,t._headerText):t.element.appendChild(t._headerElement),t._headerElement.appendChild(t._headerText);var s=this._headerText.className;this._headerElement.className=s,this._headerText.className="",this.rtl?this._headerText.className+=" "+t.toThemeProperty("jqx-expander-header-content-rtl"):this._headerText.className+=" "+t.toThemeProperty("jqx-expander-header-content"),t._arrowElement=document.createElement("div"),t._headerElement.appendChild(t._arrowElement),this._arrow=e(t._arrowElement),!0===this.showArrow?t._arrowElement.style.display="":t._arrowElement.style.display="none",null===this._headerElement.getAttribute("tabindex")&&null===this._contentElement.getAttribute("tabindex")&&("top"===t.headerPosition?(this._headerElement.setAttribute("tabindex",1),this._contentElement.setAttribute("tabindex",2)):(this._headerElement.setAttribute("tabindex",2),this._contentElement.setAttribute("tabindex",1))),this._setTheme();try{if(0===this._header.length||0===this._content.length||i.length<2||i.length>2)throw"Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content."}catch(e){throw new Error(e)}this._setSize(),!0===this.expanded?("top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this.initContent&&this.initContent(),this._initialized=!0,this._expandChecker=0):!1===this.expanded&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected jqx-icon-arrow-up-selected")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),this._initialized=!1,this._expandChecker=1,this._contentElement.style.display="none"),this._checkContent(),!1===this.disabled&&this._toggle(),this._keyBoard(),e.jqx.utilities.resize(this.host,function(){t.invalidate()})}},destroy:function(){this.removeHandler(e(window),"resize.expander"+this.widgetID),this.host.remove(),e(this.element).removeData("jqxExpander")},focus:function(){try{!1===this.disabled&&this._headerElement.focus()}catch(e){}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,s){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("width"!=t&&"height"!=t?"expanded"==t?!0===s&&!1===i?(this.expanded=!1,this.expand()):!1===s&&!0===i&&(this.expanded=!0,this.collapse()):this.refresh():e._setSize())},_raiseEvent:function(t,i){var s,r=this.events[t],n=new e.Event(r);n.owner=this,n.args=i;try{s=this.host.trigger(n)}catch(e){}return s},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){this.element.style.width=this._toPx(this.width),this.element.style.height=this._toPx(this.height),this._headerElement.style.height="auto",this._headerElement.style.minHeight=this._arrowElement.offsetHeight;var e=this.arrowPosition;if(this.rtl)switch(e){case"left":e="right";break;case"right":e="left"}"right"==e?(this._headerText.style.float="left",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="right",this._arrowElement.style.position="relative"):"left"==e&&("auto"==this.width?(this._headerText.style.float="left",this._headerText.style.marginLeft="17px",this._arrowElement.style.float="left",this._arrowElement.style.position="absolute"):(this._headerText.style.float="right",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="left",this._arrowElement.style.position="relative")),this._arrowElement.style.marginTop=this._headerText.offsetHeight/2-this._arrowElement.offsetHeight/2+"px",this._contentElement.style.height="auto";var t=Math.max(0,this._content.height());if("auto"==this.height)this._contentHeight=t;else{var i=Math.round(this.element.offsetHeight)-Math.round(this._header.outerHeight())-1;i<0&&(i=0),this._contentHeight||(this._contentHeight=t),i!=this._contentHeight?(this._contentElement.style.height=this._toPx(i),this._contentHeight=Math.round(this._content.outerHeight())):this._contentElement.style.height=this._toPx(this._contentHeight)}},_toggle:function(){var t=this;if(!1===this._isTouchDevice)switch(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){t._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){t._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}else{if("none"==this.toggleMode)return;this.addHandler(this._header,e.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){t._animate()})}},_animate:function(){!0===this.expanded?(this.collapse(),this._header.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))):(this.expand(),this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")))},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID),this.removeHandler(this._header,"dblclick.expander"+this.widgetID),this.removeHandler(this._header,"mouseenter.expander"+this.widgetID),this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var e=this,t="jqx-widget jqx-expander",i="jqx-widget-header jqx-expander-header",s="jqx-widget-content jqx-expander-content";!0===this.rtl&&(t+=" jqx-rtl"),!1===this.disabled?(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),!0===this.expanded?i+=" jqx-fill-state-pressed jqx-expander-header-expanded":(i+=" jqx-fill-state-normal",this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))),this._hovered=!1,e._isTouchDevice||(this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){e._hovered=!0,1==e._expandChecker&&(e._header.removeClass(e.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),e._header.addClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==e.headerPosition?(e.expanded?e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover")):e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):"bottom"==e.headerPosition&&(e.expanded&&e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))))}),this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){e._hovered=!1,e._header.removeClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),"top"==e.headerPosition?e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==e.headerPosition&&e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")),1==e._expandChecker?e._header.addClass(e.toThemeProperty("jqx-fill-state-normal")):e._header.addClass(e.toThemeProperty("jqx-fill-state-pressed"))}))):(t+=" jqx-fill-state-disabled",i+=" jqx-expander-header-disabled"),"top"==this.headerPosition?s+=" jqx-expander-content-bottom":"bottom"==this.headerPosition&&(s+=" jqx-expander-content-top"),this.host.addClass(this.toThemeProperty(t)),this._header.addClass(this.toThemeProperty(i)),this._content.addClass(this.toThemeProperty(s)),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._contentElement.innerHTML),!0===this._cntntEmpty?(this._contentElement.style.height="0px",this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))):("auto"===this.height?this._contentElement.style.height="auto":this._contentElement.style.height=this._contentHeight+"px",this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_keyBoard:function(){var e=this;this._focus(),this.addHandler(this.host,"keydown.expander"+this.widgetID,function(t){var i=!1;if((!0===e.focusedH||!0===e.focusedC)&&!1===e.disabled){switch(t.keyCode){case 13:case 32:"none"!=e.toggleMode&&(!0===e.focusedH&&e._animate(),i=!0);break;case 38:!0===t.ctrlKey&&!0===e.focusedC&&e._headerElement.focus(),i=!0;break;case 40:!0===t.ctrlKey&&!0===e.focusedH&&e._contentElement.focus(),i=!0}return!0}return i&&t.preventDefault&&t.preventDefault(),!i})},_focus:function(){var t=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){t.focusedH=!0,e.jqx.aria(t._header,"aria-selected",!0),t._header.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header,"blur.expander"+this.widgetID,function(){t.focusedH=!1,e.jqx.aria(t._header,"aria-selected",!1),t._header.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._headerText,"focus.expander"+this.widgetID,function(){t._headerElement.focus()}),this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){t._headerElement.focus()}),this.addHandler(this._content,"focus.expander"+this.widgetID,function(){t.focusedC=!0,t._content.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._content,"blur.expander"+this.widgetID,function(){t.focusedC=!1,t._content.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxColorPicker","",{}),e.extend(e.jqx._jqxColorPicker.prototype,{defineInstance:function(){var t={disabled:!1,height:null,width:null,color:new e.jqx.color({hex:"ff0000"}),redString:"R:",greenString:"G:",blueString:"B:",showTransparent:!1,colorMode:"saturation",_delayLoading:!1,events:["colorchange"]};return this===e.jqx._jqxColorPicker.prototype?t:(e.extend(!0,this,t),t)},_createFromInput:function(t){if("input"==this.element.nodeName.toLowerCase()){this.field=this.element,this.field.className&&(this._className=this.field.className);var i={title:this.field.title};if(this.field.getAttribute("value")){var s=this.field.getAttribute("value");this.color=new e.jqx.color({hex:s})}this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t;var r=e("<div></div>",i);r[0].style.cssText=this.field.style.cssText,this.width||(this.width=e(this.field).width()),this.height||(this.height=e(this.field).outerHeight()),e(this.field).hide().after(r);var n=this.host.data();if(this.host=r,this.host.data(n),this.element=r[0],this.element.id=this.field.id,this.field.id=i.id,this._className&&(this.host.addClass(this._className),e(this.field).removeClass(this._className)),this.field.tabIndex){var o=this.field.tabIndex;this.field.tabIndex=-1,this.element.tabIndex=o}}},createInstance:function(t){this._createFromInput("jqxColorPicker"),this.render();var i=this;e.jqx.utilities.resize(this.host,function(){i._setSize(),i.refresh()},!1,!this._delayLoading)},render:function(){this.element.innerHTML="";this._isTouchDevice=e.jqx.mobile.isTouchDevice(),"string"==typeof this.color&&(this.color=new e.jqx.color({hex:this.color})),this._setSize(),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-color-picker")),this.container=e("<div style='width: 100%; height: 100%; position: relative;'></div>"),this.container.appendTo(this.host),this.colorMap=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorMap.appendTo(this.container),this.colorBar=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorBar.appendTo(this.container),this.colorPanel=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorPanel.appendTo(this.container),this.hexPanel=e("<div style='float: left;'></div>"),this.hexPanel.appendTo(this.colorPanel),this.hexPanel.append('<span style="text-align: left;" >#</span>'),this.hex=e("<input maxlength='6' style='height: 18px;'/>"),this.hex.addClass(this.toThemeProperty("jqx-input")),this.hex.addClass(this.toThemeProperty("jqx-widget-content")),this.hex.appendTo(this.hexPanel),this.colorPanel.append('<div style="font-size: 1px; clear: both;"></div>'),this.rgb=e("<div style='margin-top: 2px;'></div>"),this.rgb.appendTo(this.colorPanel),this.red=e("<input style='width: 25px; height: 18px;' maxlength='3'/>"),this.red.addClass(this.toThemeProperty("jqx-input")),this.red.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.redString+"</span>"),this.red.appendTo(this.rgb),this.green=e("<input style='margin-right: 2px; height: 18px; width: 25px;' maxlength='3'/>"),this.green.addClass(this.toThemeProperty("jqx-input")),this.green.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.greenString+"</span>"),this.green.appendTo(this.rgb),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this._mapImageOverlayURL=this._getImageUrl(this.colorPanel),this.colorPanel.removeClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this.blue=e("<input style='height: 18px; width: 25px;' maxlength='3'/>"),this.blue.addClass(this.toThemeProperty("jqx-input")),this.blue.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.blueString+"</span>"),this.blue.appendTo(this.rgb),this.preview=e("<div style='background: red; position: absolute;'></div>"),this.preview.addClass(this.toThemeProperty("jqx-widget-content")),this.preview.appendTo(this.colorPanel),this.colorBarPointer=e("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorBarPointer.addClass(this.toThemeProperty("jqx-color-picker-bar-pointer")),this.colorMapPointer=e("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")),this.transparent=e("<div style='text-align: center; clear: both;'><a style='text-align: center;' href='#'>transparent</a></div>"),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.element.disabled=!0),this._addHandlers()},val:function(e){return 0==arguments.length?"#"+this.color.hex:(this.setColor(e),this.color.hex)},_setPositionFromValue:function(){var e=this.color.h,t=100-this.color.v,i=this.colorMap.height(),s=this.colorMap.width(),r=e*s/360,n=t*i/100;if("saturation"==this.colorMode){o=(o=100-this.color.s)*i/100,this._saturation=100-this.color.s,this.colorMapPointer.css("margin-left",r-8),this.colorMapPointer.css("margin-top",n-8),this.colorBarPointer.css("margin-top",o-8),this.colorMapImageOverlay.css("opacity",(100-this.color.s)/100)}else{var o;r=(e=this.color.s)*s/100,n=t*i/100;o=(o=360-this.color.h)*i/360,this._hue=this.color.h,this.colorMapPointer.css("margin-left",r-8),this.colorMapPointer.css("margin-top",n-8),this.colorBarPointer.css("margin-top",o-8)}},updateRGB:function(){this.color.setRgb(this.red.val(),this.green.val(),this.blue.val()),this._updateUI(),this._raiseEvent("0",{color:this.color}),this.color.transparent=!1},_setPosition:function(t,i,s){var r=parseInt(t.pageX),n=parseInt(i.offset().left),o=parseInt(t.pageY),a=parseInt(i.offset().top);if(this._isTouchDevice){var l=e.jqx.position(t);r=l.left,o=l.top}-1==s[0].className.indexOf("jqx-color-picker-bar")&&s.css("margin-left",r-8-n),o>=a&&o<=a+i.height()&&s.css("margin-top",o-8-a)},_handleKeyInput:function(e,t,i){if(!e.disabled){if(!e._validateKey(t))return t;i.val(e._setValueInRange(i.val(),0,255)),this.updateRGB(),this._setPositionFromValue()}},_addHandlers:function(){var t=this;this.addHandler(this.colorMapPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.colorBarPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.transparent,"click",function(e){t._raiseEvent("0",{color:"transparent"}),e.preventDefault(),t.color.transparent=!0}),this.addHandler(this.host,"selectionstart",function(e){return e.preventDefault(),!1}),this.addHandler(this.blue,"keyup blur",function(e){t._handleKeyInput(t,e,t.blue)}),this.addHandler(this.green,"keyup blur",function(e){t._handleKeyInput(t,e,t.green)}),this.addHandler(this.red,"keyup blur",function(e){t._handleKeyInput(t,e,t.red)}),this.addHandler(this.hex,"keyup blur",function(e){if(!t.disabled)return t._validateKey(e)?void(6==t.hex.val().toString().length&&(t.hex.val(t.color.validateHex(t.hex.val())),t.color.setHex(t.hex.val()),t._updateUI(),t._setPositionFromValue(),t._raiseEvent("0",{color:t.color}))):e}),this.addHandler(this.colorMap,"dragstart",function(e){return e.preventDefault(),!1});var i=function(e){var i;(t._setPosition(e,t.colorMap,t.colorMapPointer),"saturation"==t.colorMode)?((i=t._valuesFromMouse(e,t.colorMap,360,100)).x>360&&(i.x=360),t.color.setHsv(i.x,null!=t._saturation?100-t._saturation:100,100-i.y)):((i=t._valuesFromMouse(e,t.colorMap,100,100)).x>100&&(i.x=100),t.color.setHsv(null!=t._hue?t._hue:360,i.x,100-i.y));t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},s="mousedown.picker"+this.element.id;this._isTouchDevice&&(s=e.jqx.mobile.getTouchEventName("touchstart")+".picker"+this.element.id),this.addHandler(this.colorMap,s,function(e){t.disabled||(t.beginDrag=!0,i(e))});var r="mousemove.picker"+this.element.id;this._isTouchDevice&&(r=e.jqx.mobile.getTouchEventName("touchmove")+".picker"+this.element.id),this.addHandler(e(document),r,function(e){t.disabled||1==t.beginDrag&&(i(e),t._isTouchDevice&&e.preventDefault())}),this._isTouchDevice||this.addHandler(this.colorBar,"dragstart",function(e){return e.preventDefault(),!1});var n=function(e){if(t._setPosition(e,t.colorBar,t.colorBarPointer),"saturation"==t.colorMode){var i=t._valuesFromMouse(e,t.colorBar,100,100);t.color.s=i.y,t._saturation=i.y,t.colorMapImageOverlay.css("opacity",t.color.s/100),t.color.setHsv(t.color.h,100-t.color.s,t.color.v)}else{i=t._valuesFromMouse(e,t.colorBar,100,360);t.color.h=360-i.y,t._hue=t.color.h,t.color.setHsv(t.color.h,t.color.s,t.color.v)}t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},o="mousemove.colorBar"+this.element.id,a="mousedown.colorBar"+this.element.id,l="mouseup.colorBar"+this.element.id;this._isTouchDevice&&(o=e.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchend")+".colorBar"+this.element.id),this.addHandler(this.colorBar,a,function(e){t.disabled||(t.beginDragBar=!0,n(e))}),this.addHandler(e(document),o,function(e){t.disabled||1==t.beginDragBar&&(n(e),t._isTouchDevice&&e.preventDefault())}),this.addHandler(e(document),l,function(e){t.disabled||(t.beginDrag=!1,t.beginDragBar=!1)})},_removeHandlers:function(){this.removeHandler(this.transparent,"click"),this.removeHandler(this.host,"selectionstart"),this.removeHandler(this.blue,"keyup blur"),this.removeHandler(this.green,"keyup blur"),this.removeHandler(this.red,"keyup blur"),this.removeHandler(this.hex,"keyup blur"),this.removeHandler(this.colorMap,"dragstart"),this.removeHandler(this.colorBar,"dragstart"),this.removeHandler(this.colorMapPointer,"dragStart"),this.removeHandler(this.colorBarPointer,"dragStart");var t=this.element.id,i="mousemove.colorBar"+t,s="mousedown.colorBar"+t,r="mouseup.colorBar"+t,n="mousedown.picker"+t,o="mousemove.picker"+t;this._isTouchDevice&&(i=e.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+t,s=e.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+t,r=e.jqx.mobile.getTouchEventName("touchend")+".colorBar"+t,n=e.jqx.mobile.getTouchEventName("touchstart")+".picker"+t,o=e.jqx.mobile.getTouchEventName("touchmove")+".picker"+t),this.removeHandler(this.colorMap,n),this.removeHandler(this.colorMap,o),this.removeHandler(this.colorBar,s),this.removeHandler(this.colorBar,i),this.removeHandler(e(document),o),this.removeHandler(e(document),i),this.removeHandler(e(document),r)},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t],r=i||{};r.owner=this;var n=new e.Event(s);return n.owner=this,n.args=r,this.host.trigger(n)},setColor:function(t){t&&("transparent"==t?(this.color.transparent=!0,this.color.hex="000",this.color.r=0,this.color.g=0,this.color.b=0):t.r?this.color=new e.jqx.color({rgb:t}):"#"==t.substring(0,1)?this.color=new e.jqx.color({hex:t.substring(1)}):this.color=new e.jqx.color({hex:t}),this._updateUI(),this._setPositionFromValue(),this._raiseEvent("0",{color:this.color}))},getColor:function(){return this.color},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this.refresh()},propertyChangedHandler:function(e,t,i,s){null!=e.isInitialized&&0!=e.isInitialized&&("colorMode"==t&&e.refresh(),"color"==t&&(e._updateUI(),e._setPositionFromValue(),e._raiseEvent("0",{color:s})),"width"!=t&&"height"!=t||(e._setSize(),e.refresh()),"showTransparent"==t&&e.refresh(),"disabled"==t&&(this.element.disabled=s,s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"))))},_valuesFromMouse:function(t,i,s,r){var n=0,o=0,a=i.offset(),l=i.height(),h=i.width(),d=t.pageX,c=t.pageY;if(this._isTouchDevice){var u=e.jqx.position(t);d=u.left,c=u.top}return n=d<a.left?0:d>a.left+h?h:d-a.left+1,o=c<a.top?0:c>a.top+l?l:c-a.top+1,{x:parseInt(n/h*s),y:parseInt(o/l*r)}},_validateKey:function(e){return 9!=e.keyCode&&16!=e.keyCode&&38!=e.keyCode&&29!=e.keyCode&&40!=e.keyCode&&17!=e.keyCode&&37!=e.keyCode&&(!e.ctrlKey||e.keyCode!="c".charCodeAt()&&e.keyCode!="v".charCodeAt())&&(!e.ctrlKey||e.keyCode!="C".charCodeAt()&&e.keyCode!="V".charCodeAt())&&(!e.ctrlKey&&!e.shiftKey)},_setValueInRange:function(e,t,i){return""==e||isNaN(e)?t:(e=parseInt(e))>i?i:e<t?t:e},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),this._removeHandlers(),this.host.remove()},setPointerStyle:function(e){this.colorMapPointer.removeClass(),"transparent"!=e&&""!=e.hex||this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"));"Black"==(255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White")?this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")):this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer-alt"))},_updateUI:function(){this.red.val(this.color.r),this.green.val(this.color.g),this.blue.val(this.color.b),this.hex.val(this.color.hex);var t=new e.jqx.color({hex:"fff"});"saturation"==this.colorMode?(t.setHsv(this.color.h,100,this.color.v),this.colorBar.css("background","#"+t.hex)):(t.setHsv(this.color.h,100,100),this.colorMap.css("background-color","#"+t.hex)),this.preview.css("background","#"+this.color.hex),this.setPointerStyle(this.color)},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),this.host.width()<130&&this.host.width(150),this.host.height()<70&&this.host.height(70),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height)},_arrange:function(){var e=this.host.height(),t=this.host.width(),i=e-44;if(this.showTransparent&&(i=e-64),!(i<=0)){this.colorMap.width(85*t/100),this.colorMap.height(i),this.colorBar.height(i),this.colorBar.css("left",this.colorMap.width()+4),this.colorBar.width(8*t/100),this.colorBarPointer.width(this.colorBar.width()),this.colorPanel.width(t),this.colorPanel.height(40),this.showTransparent&&this.colorPanel.height(60),this.colorPanel.css("top",i+4),this.colorPanel.css("text-align","left"),this.hex.width(this.colorMap.width()-this.colorBar.width()-4);var s=this.red.prev().outerWidth()-this.hex.prev().outerWidth();s<4&&(s=4),this.hex.css("margin-left",s+"px"),this.preview.width(this.colorBar.width()+7),this.preview.height(25),this.preview.addClass(this.toThemeProperty("jqx-rc-all")),this.preview.addClass(this.toThemeProperty("jqx-color-picker-preview")),this.preview.css("left",this.colorMap.width()-2),this.preview.css("top","5px");var r=this.hex.width()-this.blue.prev().outerWidth()-this.green.prev().outerWidth()-6;return r>0?(this.blue.width(r/3),this.green.width(r/3),void this.red.width(r/3)):void 0}},_getColorPointer:function(){var t=e("<div></div>");return t.addClass(this.toThemeProperty("jqx-color-picker-pointer")),t},_getImageUrl:function(e){var t=e.css("backgroundImage");return t=(t=(t=(t=t.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")","")},refresh:function(){this._delayLoading||(this._saturation=null,this._hue=null,this.colorMap.removeClass(),this.colorBar.removeClass(),this.colorMap.addClass(this.toThemeProperty("jqx-disableselect")),this.colorBar.addClass(this.toThemeProperty("jqx-disableselect")),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-panel")),this.colorBar.css("background-image",""),this.colorMap.css("background-image",""),"saturation"==this.colorMode?(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar"))):(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map-hue")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar-hue"))),this._barImageURL=this._getImageUrl(this.colorBar),this._mapImageURL=this._getImageUrl(this.colorMap),this._arrange(),this.colorBar.children().remove(),this.colorBarImageContainer=e("<div style='overflow: hidden;'></div>"),this.colorBarImageContainer.width(this.colorBar.width()),this.colorBarImageContainer.height(this.colorBar.height()),this.colorBarImageContainer.appendTo(this.colorBar),this.colorBarImage=e("<img/>"),this.colorBarImage.appendTo(this.colorBarImageContainer),this.colorBarImage.attr("src",this._barImageURL),this.colorBar.css("background-image","none"),this.colorBarImage.attr("width",this.colorBar.width()),this.colorBarImage.attr("height",this.colorBar.height()),this.colorBarPointer.appendTo(this.colorBar),this.colorMap.children().remove(),this.colorMapImage=e("<img/>"),this.colorMapImage.appendTo(this.colorMap),this.colorMapImage.attr("src",this._mapImageURL),this.colorMap.css("background-image","none"),this.colorMapImage.attr("width",this.colorMap.width()),this.colorMapImage.attr("height",this.colorMap.height()),this.colorMapImageOverlay=e("<img style='position: absolute; left: 0; top: 0;'/>"),this.colorMapImageOverlay.prependTo(this.colorMap),this.colorMapImageOverlay.attr("src",this._mapImageOverlayURL),this.colorMapImageOverlay.attr("width",this.colorMap.width()),this.colorMapImageOverlay.attr("height",this.colorMap.height()),this.colorMapImageOverlay.css("opacity",0),this.colorMapPointer.appendTo(this.colorMap),this.showTransparent&&this.transparent.appendTo(this.colorPanel),this._updateUI(),this._setPositionFromValue())}}),e.jqx.color=function(e){var t={r:0,g:0,b:0,h:0,s:0,v:0,hex:"",hexToRgb:function(e){var t="00",i="00",s="00";return 6==(e=this.validateHex(e)).length?(t=e.substring(0,2),i=e.substring(2,4),s=e.substring(4,6)):(e.length>4&&(t=e.substring(4,e.length),e=e.substring(0,4)),e.length>2&&(i=e.substring(2,e.length),e=e.substring(0,2)),e.length>0&&(s=e.substring(0,e.length))),{r:this.hexToInt(t),g:this.hexToInt(i),b:this.hexToInt(s)}},validateHex:function(e){return(e=(e=new String(e).toUpperCase()).replace(/[^A-F0-9]/g,"0")).length>6&&(e=e.substring(0,6)),e},webSafeDec:function(e){return e=Math.round(e/51),e*=51},hexToWebSafe:function(e){var t,i,s;return 3==e.length?(t=e.substring(0,1),i=e.substring(1,1),s=e.substring(2,1)):(t=e.substring(0,2),i=e.substring(2,4),s=e.substring(4,6)),intToHex(this.webSafeDec(this.hexToInt(t)))+this.intToHex(this.webSafeDec(this.hexToInt(i)))+this.intToHex(this.webSafeDec(this.hexToInt(s)))},rgbToWebSafe:function(e){return{r:this.webSafeDec(e.r),g:this.webSafeDec(e.g),b:this.webSafeDec(e.b)}},rgbToHex:function(e){return this.intToHex(e.r)+this.intToHex(e.g)+this.intToHex(e.b)},intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},hexToInt:function(e){return parseInt(e,16)},hslToRgb:function(e){var t=parseInt(e.h)/360,i=parseInt(e.s)/100,s=parseInt(e.l)/100;if(s<=.5)var r=s*(1+i);else r=s+i-s*i;var n=2*s-r,o=t+1/3,a=t,l=t-1/3;return{r:Math.round(255*this.hueToRgb(n,r,o)),g:Math.round(255*this.hueToRgb(n,r,a)),b:Math.round(255*this.hueToRgb(n,r,l))}},hueToRgb:function(e,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e},rgbToHsv:function(e){var t=e.r/255,i=e.g/255,s=e.b/255;hsv={h:0,s:0,v:0};var r=0,n=0;return t>=i&&t>=s?(n=t,r=i>s?s:i):i>=s&&i>=t?(n=i,r=t>s?s:t):(n=s,r=i>t?t:i),hsv.v=n,hsv.s=n?(n-r)/n:0,hsv.s?(delta=n-r,hsv.h=t==n?(i-s)/delta:i==n?2+(s-t)/delta:4+(t-i)/delta,hsv.h=parseInt(60*hsv.h),hsv.h<0&&(hsv.h+=360)):hsv.h=0,hsv.s=parseInt(100*hsv.s),hsv.v=parseInt(100*hsv.v),hsv},hsvToRgb:function(e){rgb={r:0,g:0,b:0};var t=e.h,i=e.s,s=e.v;if(0==i)rgb.r=rgb.g=rgb.b=0==s?0:parseInt(255*s/100);else{360==t&&(t=0),t/=60,i/=100,s/=100;var r=parseInt(t),n=t-r,o=s*(1-i),a=s*(1-i*n),l=s*(1-i*(1-n));switch(r){case 0:rgb.r=s,rgb.g=l,rgb.b=o;break;case 1:rgb.r=a,rgb.g=s,rgb.b=o;break;case 2:rgb.r=o,rgb.g=s,rgb.b=l;break;case 3:rgb.r=o,rgb.g=a,rgb.b=s;break;case 4:rgb.r=l,rgb.g=o,rgb.b=s;break;case 5:rgb.r=s,rgb.g=o,rgb.b=a}rgb.r=parseInt(255*rgb.r),rgb.g=parseInt(255*rgb.g),rgb.b=parseInt(255*rgb.b)}return rgb},setRgb:function(e,t,i){var s=function(e){return e<0||e>255?0:isNaN(parseInt(e))?0:e};this.r=s(e),this.g=s(t),this.b=s(i);var r=this.rgbToHsv(this);this.h=r.h,this.s=r.s,this.v=r.v,this.hex=this.rgbToHex(this)},setHsl:function(e,t,i){this.h=e,this.s=t,this.l=i;var s=this.hslToRgb(this);this.r=s.r,this.g=s.g,this.b=s.b,this.hex=this.rgbToHex(s)},setHsv:function(e,t,i){this.h=e,this.s=t,this.v=i;var s=this.hsvToRgb(this);this.r=s.r,this.g=s.g,this.b=s.b,this.hex=this.rgbToHex(s)},setHex:function(e){this.hex=e;var t=this.hexToRgb(this.hex);this.r=t.r,this.g=t.g,this.b=t.b;var i=this.rgbToHsv(t);this.h=i.h,this.s=i.s,this.v=i.v}};if(e)if(e.hex){var i=t.validateHex(e.hex);t.setHex(i)}else e.r?t.setRgb(e.r,e.g,e.b):e.h?t.setHsv(e.h,e.s,e.v):e.rgb&&t.setRgb(e.rgb.r,e.rgb.g,e.rgb.b);return t}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownButton","",{}),e.extend(e.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,arrowSize:19,enableHover:!0,openDelay:250,closeDelay:300,animationType:"default",enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",popupZIndex:2e4,dropDownContainer:"default",autoOpen:!1,rtl:!1,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:!0,template:"default",touchMode:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};return this===e.jqx._jqxDropDownButton.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){this.width||(this.width=200),this.height||(this.height=25),this.isanimating=!1,this.setupInstance();var i=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");this.host.attr("tabindex")?(i.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")):i.attr("tabindex",0),this.focusable||i.removeAttr("tabIndex"),e.jqx.aria(this),this.popupContent=this.host.children(),this.host.attr("role","button"),0==this.popupContent.length?(this.popupContent=e("<div>"+this.host.text()+"</div>"),this.popupContent.css("display","block"),this.element.innerHTML=""):this.popupContent.detach();var s=this;this.addHandler(this.host,"loadContent",function(e){s._arrange()});try{var r="dropDownButtonPopup"+this.element.id,n=e(e.find("#"+r));n.length>0&&n.remove(),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-owns",r);var o=e("<div class='dropDownButton' style='overflow: hidden; left: -1000px; top: -1000px; position: absolute;' id='dropDownButtonPopup"+this.element.id+"'></div>");o.addClass(this.toThemeProperty("jqx-widget-content")),o.addClass(this.toThemeProperty("jqx-dropdownbutton-popup")),o.addClass(this.toThemeProperty("jqx-popup")),o.addClass(this.toThemeProperty("jqx-rc-all")),"element"!=this.dropDownContainer&&o.css("z-index",this.popupZIndex),e.jqx.browser.msie&&o.addClass(this.toThemeProperty("jqx-noshadow")),this.popupContent.appendTo(o),"element"==this.dropDownContainer?o.appendTo(this.host):o.appendTo(document.body),this.container=o,this.container.css("visibility","hidden")}catch(e){}this.touch=e.jqx.mobile.isTouchDevice(),this.dropDownButtonStructure=i,this.host.append(i),this.dropDownButtonWrapper=this.host.find("#dropDownButtonWrapper"),this.firstDiv=this.dropDownButtonWrapper.parent(),this.dropDownButtonArrow=this.host.find("#dropDownButtonArrow"),this.arrow=e(this.dropDownButtonArrow.children()[0]),this.dropDownButtonContent=this.host.find("#dropDownButtonContent"),this.dropDownButtonContent.addClass(this.toThemeProperty("jqx-dropdownlist-content")),this.dropDownButtonWrapper.addClass(this.toThemeProperty("jqx-disableselect")),this.rtl&&this.dropDownButtonContent.addClass(this.toThemeProperty("jqx-rtl"));var a=this;this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownbutton"+this.element.id,function(e){a.isOpened()&&a.close()}),this.addHandler(this.dropDownButtonWrapper,"selectstart",function(){return!1}),this.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+this.element.id,this.dropDownButtonArrow[0].id="dropDownButtonArrow"+this.element.id,this.dropDownButtonContent[0].id="dropDownButtonContent"+this.element.id;a=this;this.propertyChangeMap.disabled=function(t,i,s,r){r?(t.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.addClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.removeClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(t,"aria-disabled",t.disabled)},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.dropDownButtonContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-disabled")));var l=this.toThemeProperty("jqx-rc-all")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content")+" "+this.toThemeProperty("jqx-dropdownlist-state-normal");if(this.host.addClass(l),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this.arrow.addClass(this.toThemeProperty("jqx-icon")),this.template&&this.host.addClass(this.toThemeProperty("jqx-"+this.template)),this._setSize(),this.render(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.container.css("display","none"),this.host.parents(".jqx-window").length>0)){var h=this.host.parents(".jqx-window").css("z-index");o.css("z-index",h+10),this.container.css("z-index",h+10)}},setupInstance:function(){var t=this,i={setContent:function(e){t.dropDownButtonContent.children().remove(),t.dropDownButtonContent[0].innerHTML="",t.dropDownButtonContent.append(e)},val:function(e){if(0==arguments.length||"object"==typeof e)return t.dropDownButtonContent.text();t.dropDownButtonContent.html(e)},getContent:function(){return t.dropDownButtonContent.children().length>0?t.dropDownButtonContent.children():t.dropDownButtonContent.text()},_setSize:function(){null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host[0].style.width=t.width:null==t.width||isNaN(t.width)||(t.host[0].style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host[0].style.height=t.height:null==t.height||isNaN(t.height)||(t.host[0].style.height=parseInt(t.height)+"px");var i=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(i=!0,t.host.width(t.width)),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(i=!0,t.host.height(t.height));var s=this;i&&t.refresh(!1),e.jqx.utilities.resize(t.host,function(){s._arrange()})},isOpened:function(){var t=e.data(document.body,"openedJQXButton"+this.element.id);return null!=t&&t==this.popupContent},focus:function(){try{t.host.focus()}catch(e){}},render:function(){t.removeHandlers();var i=this;t.touch||(t.addHandler(t.host,"mouseenter",function(){!i.disabled&&i.enableHover&&(!0,i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-hover")),i.arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down-hover")),i.host.addClass(i.toThemeProperty("jqx-fill-state-hover")))}),t.addHandler(t.host,"mouseleave",function(){!i.disabled&&i.enableHover&&(i.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-hover")),i.host.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.arrow.removeClass(i.toThemeProperty("jqx-icon-arrow-down-hover")),!1)})),i.autoOpen&&(t.addHandler(t.host,"mouseenter",function(){!i.isOpened()&&i.autoOpen&&(i.open(),i.host.focus())}),t.addHandler(e(document),"mousemove."+i.element.id,function(e){if(i.isOpened()&&i.autoOpen){var t=i.host.coord(),s=t.top,r=t.left,n=i.container.coord(),o=n.left,a=n.top;canClose=!0,e.pageY>=s&&e.pageY<=s+i.host.height()&&e.pageX>=r&&e.pageX<r+i.host.width()&&(canClose=!1),e.pageY>=a&&e.pageY<=a+i.container.height()&&e.pageX>=o&&e.pageX<o+i.container.width()&&(canClose=!1),canClose&&i.close()}})),t.addHandler(t.dropDownButtonWrapper,"mousedown",function(e){if(!i.disabled){var t="visible"==i.container.css("visibility");if(!i.isanimating){if(t)return i.close(),!1;i.open(),i.focusable||e.preventDefault&&e.preventDefault()}}}),t.touch&&t.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+t.element.id,i.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(e(document),"mousedown."+t.element.id,i.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(t.host,"keydown",function(e){var t="visible"==i.container.css("visibility");return"none"==i.host.css("display")||("13"==e.keyCode&&(i.isanimating||t&&i.close()),115==e.keyCode?(i.isanimating||(i.isOpened()?i.isOpened()&&i.close():i.open()),!1):(e.altKey&&"block"==i.host.css("display")&&(38==e.keyCode?i.isOpened()&&i.close():40==e.keyCode&&(i.isOpened()||i.open())),void("27"==e.keyCode&&(i.ishiding||(i.close(),null!=i.tempSelectedIndex&&i.selectIndex(i.tempSelectedIndex))))))}),t.addHandler(t.firstDiv,"focus",function(){i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(t.firstDiv,"blur",function(){i.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.removeHandler(t.firstDiv,"focus"),t.removeHandler(t.firstDiv,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.autoOpen&&(t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave")),t.removeHandler(e(document),"mousemove."+this.element.id)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(i,s,r){var n=i.outerWidth(),o=i.outerHeight(),a=e(window).width()+e(window).scrollLeft(),l=e(window).height()+e(window).scrollTop();if(s.left+n>a&&n>t.host.width()){var h=t.host.coord().left,d=n-t.host.width();s.left=h-d+2}return s.left<0&&(s.left=parseInt(t.host.coord().left)+"px"),s.top-=Math.min(s.top,s.top+o>l&&l>o?Math.abs(o+r+22):0),s},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},open:function(){e.jqx.aria(this,"aria-expanded",!0);var t=this,i=this;if((null==t.dropDownWidth||"auto"==t.dropDownWidth)&&null!=t.width&&t.width.indexOf&&-1!=t.width.indexOf("%")){var s=t.host.width();t.container.width(parseInt(s))}i._raiseEvent("2");var r,n=t.popupContent,o=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(t._findPos(t.host[0])[1])+parseInt(t.host.outerHeight())-1+"px"),a=parseInt(Math.round(t.host.coord(!0).left));r=a+"px";var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();t.ishiding=!1,t.tempSelectedIndex=t.selectedIndex,null!=l&&l&&(r=e.jqx.mobile.getLeftPos(t.element),o=e.jqx.mobile.getTopPos(t.element)+parseInt(t.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(o=parseInt(o)-t._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(r=parseInt(r)-t._getBodyOffset().left+"px")),n.stop(),t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected"));var h=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(h=!0),h&&t.container.css("display","block"),t.container.css("left",r),t.container.css("top",o);var d=!1,c=function(){if("right"==t.dropDownHorizontalAlignment||t.rtl){var e=t.container.width(),i=Math.abs(e-t.host.width());e>t.host.width()?t.container.css("left",parseInt(Math.round(a))-i+"px"):t.container.css("left",parseInt(Math.round(a))+i+"px")}};if(c.call(this),"top"==t.dropDownVerticalAlignment){var u=n.height();d=!0,t.container.height(n.outerHeight()),n.addClass(this.toThemeProperty("jqx-popup-up"));var p=parseInt(t.host.outerHeight()),f=parseInt(o)-Math.abs(u+p);t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(n.outerHeight()!=t.container.height()){t.container.height(n.outerHeight());var e=parseInt(o)-Math.abs(n.height()+p);t.container.css("top",e)}},50),n.css("top",23),t.container.css("top",f)}if(t.enableBrowserBoundsDetection){var m=t.testOffset(n,{left:parseInt(t.container.css("left")),top:parseInt(o)},parseInt(t.host.outerHeight()));parseInt(t.container.css("top"))!=m.top?(d=!0,t.container.height(n.outerHeight()),n.css("top",23),t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(n.outerHeight()!=i.container.height()){var e=i.testOffset(n,{left:parseInt(t.container.css("left")),top:parseInt(o)},parseInt(t.host.outerHeight()));t.container.css("top",e.top),t.container.height(n.outerHeight())}},50)):n.css("top",0),t.container.css("top",m.top),parseInt(t.container.css("left"))!=m.left&&t.container.css("left",m.left)}if("none"==t.animationType)t.container.css("visibility","visible"),e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+t.element.id,n),n.css("margin-top",0),n.css("opacity",1),t._raiseEvent("0"),c.call(i);else{t.container.css("visibility","visible");var g=n.outerHeight();i.isanimating=!0,"fade"==t.animationType?(n.css("margin-top",0),n.css("opacity",0),n.animate({opacity:1},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,n),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}),c.call(i)):(n.css("opacity",1),d?n.css("margin-top",g):n.css("margin-top",-g),c.call(i),n.animate({"margin-top":0},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,n),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}))}d?(t.host.addClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-b-expanded"))):(t.host.addClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-t-expanded"))),t.focusable&&(t.firstDiv.focus(),setTimeout(function(){i.firstDiv.focus()},10)),t.container.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))},close:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this.popupContent,i=this.container,s=this;s._raiseEvent("3");var r=!1;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(r=!0),this.isOpened()){if(e.data(document.body,"openedJQXButton"+this.element.id,null),"none"==this.animationType)this.container.css("visibility","hidden"),r&&this.container.css("display","none");else if(!s.ishiding){s.isanimating=!0,t.stop();var n=t.outerHeight();t.css("margin-top",0);var o=-n;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(o=n),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){i.css("visibility","hidden"),s.isanimating=!1,s.ishiding=!1,r&&i.css("display","none")})):t.animate({"margin-top":o},this.closeDelay,function(){i.css("visibility","hidden"),s.isanimating=!1,s.ishiding=!1,r&&i.css("display","none")})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this.container.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.container.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this.container.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1")}},closeOpenedDropDown:function(t){var i=t.data.me,s=e(t.target);if(e(t.target).ischildof(t.data.me.host))return!0;if(e(t.target).ischildof(t.data.me.popupContent))return!0;var r=!1;return e.each(s.parents(),function(){if("undefined"!=this.className){if(this.className.indexOf&&-1!=this.className.indexOf("dropDownButton"))return r=!0,!1;if(this.className.indexOf&&-1!=this.className.indexOf("jqx-popup"))return r=!0,!1}}),r||i.close(),!0},refresh:function(){t._arrange()},_arrange:function(){var e=parseInt(this.host.width()),t=parseInt(this.host.height()),i=(this.arrowSize,this.arrowSize),s=e-i-6;if(s>0&&(this.dropDownButtonContent[0].style.width=s+"px"),this.dropDownButtonContent[0].style.height=parseInt(t)+"px",this.dropDownButtonContent[0].style.left="0px",this.dropDownButtonContent[0].style.top="0px",this.dropDownButtonArrow[0].style.width=parseInt(i)+"px",this.dropDownButtonArrow[0].style.height=parseInt(t)+"px",this.rtl&&(this.dropDownButtonArrow.css("float","left"),this.dropDownButtonContent.css("float","right"),this.dropDownButtonContent.css("left",-3)),null!=this.dropDownWidth)if(this.dropDownWidth.toString().indexOf("%")>=0){e=parseInt(this.dropDownWidth)*this.host.width()/100;this.container.width(e)}else this.container.width(this.dropDownWidth);null!=this.dropDownHeight&&this.container.height(this.dropDownHeight)},destroy:function(){e.jqx.utilities.resize(this.host,null,!0);this.interval&&clearInterval(this.interval),this.removeHandler(this.dropDownButtonWrapper,"selectstart"),this.removeHandler(this.dropDownButtonWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.element.id,self.closeOpenedDropDown),this.host.remove(),this.container.remove()},_raiseEvent:function(i,s){null==s&&(s={owner:null}),2!=i||t.contentInitialized||t.initContent&&(t.initContent(),t.contentInitialized=!0);var r=t.events[i];args=s,args.owner=this;var n=new e.Event(r);return n.owner=this,2!=i&&3!=i&&4!=i||(n.args=s),t.host.trigger(n)},resize:function(e,i){t.width=e,t.height=i,t._setSize(),t._arrange()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e._arrange(),e.close())},propertyChangedHandler:function(i,s,r,n){null!=t.isInitialized&&0!=t.isInitialized&&(i.batchUpdate&&i.batchUpdate.width&&i.batchUpdate.height&&2==Object.keys(i.batchUpdate).length||("template"==s&&(i.host.removeClass(i.toThemeProperty("jqx-"+r)),i.host.addClass(i.toThemeProperty("jqx-"+i.template))),"rtl"==s&&(n?(i.dropDownButtonArrow.css("float","left"),i.dropDownButtonContent.css("float","right")):(i.dropDownButtonArrow.css("float","right"),i.dropDownButtonContent.css("float","left"))),"autoOpen"==s&&i.render(),"theme"==s&&null!=n&&e.jqx.utilities.setTheme(r,n,i.host),"width"!=s&&"height"!=s||(i._setSize(),i._arrange())))}};e.extend(!0,this,i)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxArray","",{}),e.extend(e.jqx._jqxArray.prototype,{defineInstance:function(){e.extend(!0,this,{width:null,height:null,type:"none",value:null,dimensions:1,rows:1,columns:1,elementWidth:75,elementHeight:25,showIndexDisplay:!0,indexerWidth:50,indexerHeight:25,showVerticalScrollbar:!1,showHorizontalScrollbar:!1,showSelection:!0,disabled:!1,customWidgetDefaultValue:null,elementTemplate:null,changeProperty:null,getElementValue:null,setElementValue:null,arrayIndexingMode:"LabVIEW",events:["change","elementClick","sizeChange","dimensionChange","arraySizeChange","scroll"]})},createInstance:function(){this._render()},_render:function(){this._coordinates=[],this._getDefaultCellValue(),this._validateProperties(),this._addClasses(),this._addInnerElements(),this._addInitialDimensions(),"none"!==this.type&&(this._addElementStructure(),this._structureAdded=!0,this._initializeElements(!1)),this._getInitialFill(),this._updateWidgetWidth(),this._updateWidgetHeight()},render:function(){this.refresh()},refresh:function(e){if(!0!==e){this._updateWidgetWidth(),this._updateWidgetHeight(),this._scroll()}},destroy:function(){for(var t=0;t<this._indexers.length;t++)this._indexers[t].jqxNumberInput("destroy");this._hScrollBarInitialized&&this._horizontalScrollBar.jqxScrollBar("destroy"),this._vScrollBarInitialized&&this._verticalScrollBar.jqxScrollBar("destroy"),this._widget&&e(".jqx-array-element-"+this.element.id)[this._widget]("destroy"),this.host.remove()},val:function(t,i){var s;if(2===arguments.length){if("none"===this.type)return;s=JSON.stringify(this.value);for(var r=this.value,n=0;n<this.dimensions-1;n++){var o=i[n];void 0===o&&(o=0,i[n]=0),void 0===r[o]&&(r[o]=[]),r=r[o]}var a=i[n];void 0===a&&(a=0,i[n]=0),this._areDifferent(r[a],t)&&(r[a]=t,this._fillValueArray(i.slice(0)),this._raiseEvent("0",{value:this.value,oldValue:JSON.parse(s),dimensionIndexes:i}))}else{if(void 0===t||e.isEmptyObject(t))return this.value;if("none"===this.type)return;var l=JSON.stringify(this.value);l!==JSON.stringify(t)&&(s=this.value,this.value=t,this._validateValue(),l!==JSON.stringify(this.value)&&(this._scroll(),this._getInitialFill(),this._raiseEvent("0",{value:this.value,oldValue:s})))}},addDimension:function(t){var i=this;if(!0===i._suppressDimensionChange||32!==i.dimensions){var s=e('<div class="jqx-array-indexer"></div>');i._indexerContainer.prepend(s),s.jqxNumberInput({theme:i.theme,width:i.indexerWidth-2,height:i.indexerHeight,inputMode:"simple",decimalDigits:0,spinButtons:!0,min:0,max:4294967295,disabled:i.disabled}),s.find(".jqx-icon-arrow-up").parent()[0].classList.add("jqx-array-indexer-increment"),s.find(".jqx-icon-arrow-down").parent()[0].classList.add("jqx-array-indexer-decrement"),i.addHandler(s,"change.jqxArray"+i.element.id,function(t){var s=e(this).data("dimension"),r="LabVIEW"===i.arrayIndexingMode?i.dimensions-s-1:s,n=parseFloat(t.args.value);i._coordinates[r]=n,i._scroll(),"none"===i.type||0!==s&&1!==s||i._syncScrollbar(s,n),t.stopPropagation()}),i._dimensions.push({index:i._dimensions.length,indexer:s}),"LabVIEW"===i.arrayIndexingMode?(i._indexers.unshift(s),i._coordinates.unshift(0)):(i._indexers.push(s),i._coordinates.push(0)),s.data({dimension:i._indexers.length-1}),!0!==i._suppressDimensionChange&&(i.dimensions+=1,i._raiseEvent("3",{type:"add"})),!0!==i._initialDimensions&&!1!==t&&(i._addDimensionToJSArray(),"LabVIEW"===i.arrayIndexingMode?i._filledUpTo.unshift(0):i._filledUpTo.push(0),!0===i._oneDimensionSpecialCase&&(i._oneDimensionSpecialCase=!1,i._verticalScrollBar.val(0),i._scroll())),void 0!==i._absoluteSelectionStart&&i._absoluteSelectionStart.push(0),void 0!==i._absoluteSelectionEnd&&i._absoluteSelectionEnd.push(0),!1===i._suppressDimensionChange&&!0===i.showIndexDisplay&&i.dimensions*(i.indexerHeight+4)-2>i.height&&i._updateWidgetHeight("dimensions")}},removeDimension:function(e,t){var i=this._dimensions.length-1;if(this._dimensions.length>1){if(2===this.dimensions){var s=this.rows;this.rows=1,this._changeRowsColumns("rows",s,1,void 0,!0)}var r;this._dimensions[i].indexer.jqxNumberInput("destroy"),this._dimensions.pop(),"LabVIEW"===this.arrayIndexingMode?(r=this._coordinates[0],this._indexers.splice(0,1),this._coordinates.splice(0,1)):(r=this._coordinates[i],this._indexers.pop(),this._coordinates.pop()),!0!==this._suppressDimensionChange&&(this.dimensions-=1,this._raiseEvent("3",{type:"remove"})),!1!==t&&(this._removeDimensionFromJSArray(),"LabVIEW"===this.arrayIndexingMode?this._filledUpTo.splice(0,1):this._filledUpTo.pop()),void 0!==this._absoluteSelectionStart&&this._absoluteSelectionStart.pop(),void 0!==this._absoluteSelectionEnd&&this._absoluteSelectionEnd.pop(),r>0&&this._scroll(),(this.dimensions>1&&!1===this._suppressDimensionChange&&!0===this.showIndexDisplay&&(this.dimensions+1)*(this.indexerHeight+4)-2>=this.height||1===this.dimensions&&!0!==e)&&this._updateWidgetHeight("dimensions")}},setIndexerValue:function(e){for(var t=!1,i=0;i<e.length;i++){var s=e[i].index,r="LabVIEW"===this.arrayIndexingMode?this.dimensions-s-1:s,n=e[i].value,o=this._indexers[s];void 0!==o&&n!==this._coordinates[s]&&(t=!0,o.val(n),this._coordinates[s]=n,"none"===this.type||0!==r&&1!==r||this._syncScrollbar(r,n))}!0===t&&this._scroll()},getIndexerValue:function(){for(var e=this._indexers,t=[],i=0;i<e.length;i++)t.push(e[i].val());return t},showLastElement:function(){var e,t,i=[];"LabVIEW"===this.arrayIndexingMode?(e=this.dimensions-1,t=this.dimensions-2):(e=0,t=1);for(var s=0;s<this.dimensions;s++){var r=this._filledUpTo[s];s===e?r=r<=this.columns-1?0:r-this.columns+1:s===t&&(r=r<=this.rows-1?0:r-this.rows+1),i.push({index:s,value:r})}this.setIndexerValue(i)},insertRowBefore:function(e,t){var i=this,s=JSON.stringify(i.value),r="LabVIEW"===i.arrayIndexingMode;if(r&&!0!==t)i.insertColumnBefore(e,!0);else{if(1===i.dimensions){if(!(r&&!i._oneDimensionSpecialCase||!r&&i._oneDimensionSpecialCase))return;i.value.splice(e+i._coordinates[0],0,i._getDefaultValue()),i._scroll(),i._filledUpTo[0]++}else{var n,o=i._filledUpTo.slice(0);if(r){var a=i.dimensions-1;n=e+i._coordinates[a];var l=function(e,t){if(a!==t)for(var s=0;s<e.length;s++)l(e[s],t+1);else e.splice(n,0,i._getDefaultValue())};l(i.value,0),o[a]++}else{n=e+i._coordinates[1];for(var h=0;h<i.value.length;h++){i.value[h].splice(n,0,void 0)}o[1]++}i._fillValueArray(o,!0)}i._raiseEvent("0",{value:i.value,oldValue:JSON.parse(s)}),i._setMaxValuesOfScrollBars()}},insertColumnBefore:function(e,t){var i,s=JSON.stringify(this.value),r="LabVIEW"===this.arrayIndexingMode;if(r&&!0!==t)this.insertRowBefore(e,!0);else{if(1===this.dimensions){if(!(r&&this._oneDimensionSpecialCase||!r&&!this._oneDimensionSpecialCase))return;this.value.splice(e+this._coordinates[0],0,this._getDefaultValue()),this._scroll(),this._filledUpTo[0]++}else{var n=this._filledUpTo.slice(0);if(r){i=e+this._coordinates[this.dimensions-2];var o=this.dimensions-2,a=function(e,t){if(o!==t)for(var s=0;s<e.length;s++)a(e[s],t+1);else e.splice(i,0,[])};a(this.value,0),n[o]++}else i=e+this._coordinates[0],this.value.splice(i,0,this._returnEmptyArray()[0]),n[0]++;this._fillValueArray(n,!0)}this._raiseEvent("0",{value:this.value,oldValue:JSON.parse(s)}),this._setMaxValuesOfScrollBars()}},deleteRow:function(e){var t,i,s="LabVIEW"===this.arrayIndexingMode,r=JSON.stringify(this.value);if(1===this.dimensions){if(!this._oneDimensionSpecialCase)return void(0===e&&this.emptyArray());this.value.splice(e+this._coordinates[0],1),this._filledUpTo[0]--}else{if(s){t=this.dimensions-2,i=e+this._coordinates[t];var n=function(e,s){if(t!==s)for(var r=0;r<e.length;r++)n(e[r],s+1);else e.splice(i,1)};n(this.value,0)}else{t=1,i=e+this._coordinates[1];for(var o=0;o<this.value.length;o++){this.value[o].splice(i,1)}}this._filledUpTo[t]--}r!==JSON.stringify(this.value)&&(this._scroll(),this._raiseEvent("0",{value:this.value,oldValue:JSON.parse(r)}),this._setMaxValuesOfScrollBars())},deleteColumn:function(e){var t="LabVIEW"===this.arrayIndexingMode;if(this._oneDimensionSpecialCase)0===e&&this.emptyArray();else{var i,s,r=JSON.stringify(this.value);if(t){i=this.dimensions-1,s=e+this._coordinates[i];var n=function(e,t){if(i!==t)for(var r=0;r<e.length;r++)n(e[r],t+1);else e.splice(s,1)};n(this.value,0)}else i=0,s=e+this._coordinates[0],this.value.splice(s,1);JSON.stringify(this.value)!==r&&(this._filledUpTo[i]--,this._scroll(),this._raiseEvent("0",{value:this.value,oldValue:JSON.parse(r)}),this._setMaxValuesOfScrollBars())}},selectElement:function(e,t){this.startSelection(e,t),this.endSelection(e,t)},startSelection:function(e,t){this._absoluteSelectionStart=this._coordinates.slice(0),"LabVIEW"===this.arrayIndexingMode?(this._absoluteSelectionStart[this.dimensions-1]=t,this._absoluteSelectionStart[this.dimensions-2]=e):(this._absoluteSelectionStart[0]=t,this._absoluteSelectionStart[1]=e),this._absoluteSelectionEnd=void 0},endSelection:function(e,t){if(void 0!==this._absoluteSelectionStart){this._absoluteSelectionEnd=this._coordinates.slice(0),"LabVIEW"===this.arrayIndexingMode?(this._absoluteSelectionEnd[this.dimensions-1]=t,this._absoluteSelectionEnd[this.dimensions-2]=e):(this._absoluteSelectionEnd[0]=t,this._absoluteSelectionEnd[1]=e);for(var i=!0,s=0;s<this.dimensions;s++)i=i&&this._absoluteSelectionStart[s]<=this._absoluteSelectionEnd[s];i?this._refreshSelection():this._absoluteSelectionEnd=void 0}},selectAll:function(){if(!("LabVIEW"===this.arrayIndexingMode&&-1===this._filledUpTo[0]||"JavaScript"===this.arrayIndexingMode&&-1===this._filledUpTo[this._filledUpTo.length-1])){var e=new Array(this.dimensions);Array.prototype.fill?e.fill(0):this._fillArray(e,0),this._absoluteSelectionStart=e,this._absoluteSelectionEnd=this._filledUpTo.slice(0),this._refreshSelection()}},clearSelection:function(){this._absoluteSelectionStart=void 0,this._absoluteSelectionEnd=void 0,this.showSelection&&this._clearSelection()},reinitializeArray:function(){var e=this,t=e.dimensions,i=JSON.stringify(e.value);if(1===e.dimensions)Array.prototype.fill?e.value.fill(e._getDefaultValue()):e._fillArray(e.value,e._getDefaultValue());else{var s=function(i,r){for(var n=0;n<i.length;n++)r===t?i[n]=e._getDefaultValue():s(i[n],r+1)};s(e.value,1)}i!==JSON.stringify(e.value)&&(e._scroll(),e._raiseEvent("0",{value:e.value,oldValue:JSON.parse(i)}))},emptyArray:function(){if("none"!==this.type){var e=this._cells,t=this.value;if(this.value=this._returnEmptyArray(),JSON.stringify(t)===JSON.stringify(this.value))return;for(var i=0;i<e.length;i++)for(var s=0;s<e[i].length;s++){var r=e[i][s].widget,n={x:s,y:i};r[0].classList.add("jqx-fill-state-disabled"),r[0].classList.add("jqx-array-element-empty"),this._areDifferent(this._getElementValue(r,n),this._getDefaultValue())&&(r.supressChange=!0,this._setElementValue(this._getDefaultValue(),r,n))}Array.prototype.fill?this._filledUpTo.fill(0):this._fillArray(this._filledUpTo,0),this.clearSelection(),this._raiseEvent("0",{value:this.value,oldValue:t})}},reset:function(t){if("none"!==this.type||!0===t){this.type="none";var i=this.rows;this.rows=1,this._changeRowsColumns("rows",i,1,!0),i=this.columns,this.columns=1,this._changeRowsColumns("columns",i,1);var s=this._cells[0][0];this._widget&&s.widget[this._widget]("destroy"),e(s.td).empty(),this._table.style.display="none",this._widget=void 0,this._defaultValue=void 0;var r=this.value;this.value=null,this._raiseEvent("0",{value:this.value,oldValue:r}),this._hScrollBarInitialized&&this._horizontalScrollBar.jqxScrollBar({max:0,value:0}),this._vScrollBarInitialized&&this._verticalScrollBar.jqxScrollBar({max:0,value:0})}},hitTest:function(t,i){var s=this.element.id,r=e(document.elementFromPoint(t,i)),n=r.closest(".jqx-array-element-"+s),o=r.closest(".jqx-array-indexer"),a=r.closest("#"+s);if(n.length>0)return{type:"element",htmlElement:n[0],row:n.data("row"),column:n.data("col")};if(o.length>0){var l=o.data("dimension");return"LabVIEW"===this.arrayIndexingMode&&(l=this.dimensions-l-1),{type:"indexer",htmlElement:o[0],dimension:l}}return a.length>0?{type:"array",htmlElement:a[0]}:void 0},getElement:function(e,t){var i=this._cells;if(void 0!==i[e]&&void 0!==i[e][t])return i[e][t].widget[0]},getElementSize:function(){return{width:this.elementWidth,height:this.elementHeight}},setColumnWidth:function(t,i){if((t=parseInt(t,10))!==this.elementWidth||!0===i){var s=e(".jqx-array-element-"+this.element.id);if(this.elementWidth=t,"none"!==this.type){if(this._updateWidgetWidth(),"custom"!==this.type)s[this._widget]({width:t});else if(this.changeProperty)this.changeProperty("width",t,s);else try{console.warn('jqxArray: When "type" is \'custom\' and the column width is changed, the "changeProperty" callback function should be implemented.')}catch(e){}this._raiseEvent("2",{width:t,height:this.elementHeight})}}},setRowHeight:function(t,i){if((t=parseInt(t,10))!==this.elementHeight||!0===i){var s=e(".jqx-array-element-"+this.element.id);if(this.elementHeight=t,"none"!==this.type){if(this._updateWidgetHeight(),"custom"!==this.type)s[this._widget]({height:t});else if(this.changeProperty)this.changeProperty("height",t,s);else try{console.warn('jqxArray: When "type" is \'custom\' and the row height is changed, the "changeProperty" callback function should be implemented.')}catch(e){}this._raiseEvent("2",{width:this.elementWidth,height:t})}}},resizeElement:function(t,i){if(t=parseInt(t,10),i=parseInt(i,10),t!==this.elementWidth||i!==this.elementHeight)if(t!==this.elementWidth)if(i!==this.elementHeight){var s=e(".jqx-array-element-"+this.element.id);if(this.elementWidth=t,this.elementHeight=i,"none"!==this.type){if(this._updateWidgetWidth(),this._updateWidgetHeight(),"custom"!==this.type)s[this._widget]({width:t,height:i});else if(this.changeProperty)this.changeProperty("width",t,s),this.changeProperty("height",i,s);else try{console.warn('jqxArray: When "type" is \'custom\' and the column width and row height are changed, the "changeProperty" callback function should be implemented.')}catch(e){}this._raiseEvent("2",{width:t,height:i})}}else this.setColumnWidth(t);else this.setRowHeight(i)},setDefaultValue:function(e){this._areDifferent(e,this._defaultValue)&&(this._defaultValue=e,this._scroll())},toggleElementGap:function(){var e=this.host.find(".jqx-array-table-data");void 0===this._elementGap&&(this._elementGap=!1),this._elementGap?(this._tdBorder-=6,e.removeClass("jqx-array-table-data-gap"),this._elementGap=!1):(this._tdBorder+=6,e.addClass("jqx-array-table-data-gap"),this._elementGap=!0),this._updateWidgetWidth(),this._updateWidgetHeight()},transposeArray:function(){var e=this;if(2===e.dimensions){var t=e.value[0].map(function(t,i){return e.value.map(function(e){return e[i]})}),i=JSON.stringify(e.value);e.value=t,e._scroll(),e._raiseEvent("0",{value:t,oldValue:JSON.parse(i)}),e._filledUpTo.reverse()}},copyElementValueToClipboard:function(t,i){var s=this._getValueInCell(t,i);if(void 0!==s)try{var r=e('<input type="text" style="position: absolute;" value="'+s+'" />');r.appendTo(this.host),r.select(),document.execCommand("copy"),r.remove()}catch(e){}},propertiesChangedHandler:function(e,t,i){if(i.type&&"none"!==i.type&&i.elementTemplate)e._fullRefresh(t,i);else if(i.rows&&i.columns){if(i.rows===t.rows)return i.columns===t.columns?void 0:void e._changeRowsColumns("columns",t.columns,i.columns);if(i.columns===t.columns)return void e._changeRowsColumns("rows",t.rows,i.rows);if(1===e.dimensions&&1===i.columns&&i.rows>1)return e._changeRowsColumns("columns",t.columns,i.columns),void e._changeRowsColumns("rows",t.rows,i.rows);e.columns=t.columns,e._changeRowsColumns("rows",t.rows,i.rows),e.columns=i.columns,e._changeRowsColumns("columns",t.columns,i.columns)}},propertyChangedHandler:function(t,i,s,r){if(t.batchUpdate){if(t.batchUpdate.type&&"none"!==t.batchUpdate.type&&t.batchUpdate.elementTemplate)return;if(t.batchUpdate.rows&&t.batchUpdate.columns&&("rows"===i||"columns"===i))return}var n;if(r!==s)switch(i){case"width":if(r=t._validateSizeProperty("width"),"none"!==t.type){var o=r-s,a=t.elementWidth+t._tdBorder;if(Math.abs(o)<a)return void(t.width=s);var l=Math.floor(o/a),h=t.columns,d=h+l;t.columns=d,t._changeRowsColumns("columns",h,d)}else t._updateWidgetWidth();break;case"height":"none"===t.type?(t._validateSizeProperty("height"),t._updateWidgetHeight()):t.height=s;break;case"type":t._getDefaultCellValue(),"none"!==s&&"none"!==r?(t._initializeElements(!0),t._updateWidgetWidth(),t._updateWidgetHeight()):"none"===s?(t.value=t._returnEmptyArray(),!0===t._structureAdded?(t._initializeElements(!1),t._table.style.display="table"):(t._addElementStructure(),t._structureAdded=!0,t._initializeElements(!1)),t._updateWidgetWidth(),t._updateWidgetHeight(),t._getInitialFill()):"none"===r&&t.reset(!0);break;case"value":JSON.stringify(s)!==JSON.stringify(r)&&(t._validateValue(),JSON.stringify(s)!==JSON.stringify(t.value)&&(t._scroll(),t._getInitialFill(),t._raiseEvent("0",{value:t.value,oldValue:s})));break;case"dimensions":t._addRemoveMultipleDimensions(s,r);break;case"rows":case"columns":t._changeRowsColumns(i,s,r);break;case"elementWidth":r=t._validateSizeProperty("elementWidth"),t.setColumnWidth(r,!0);break;case"elementHeight":r=t._validateSizeProperty("elementHeight"),t.setRowHeight(r,!0);break;case"showIndexDisplay":t._indexerContainer[0].style.display=r?"block":"none",t._updateWidgetWidth(),t._updateWidgetHeight("showIndexDisplay");break;case"indexerWidth":r=t._validateSizeProperty("indexerWidth"),t._indexerContainer[0].style.width=r+"px";for(var c=0;c<t._indexers.length;c++)t._indexers[c].jqxNumberInput({width:r-2});t._updateWidgetWidth();break;case"indexerHeight":r=t._validateSizeProperty("indexerHeight");for(var u=0;u<t._indexers.length;u++)t._indexers[u].jqxNumberInput({height:r});t._updateWidgetHeight();break;case"showVerticalScrollbar":if(!0!==t._vScrollBarInitialized)if(t._updateWidgetWidth(!0),t._initializeVScrollBar(),t.dimensions>1){var p="LabVIEW"===t.arrayIndexingMode?t.dimensions-2:1;t._syncScrollbar(1,t._coordinates[p])}else t._syncScrollbar(1,t._coordinates[0]);else t._showVerticalScrollbar(r);break;case"showHorizontalScrollbar":var f;if(!0!==t._hScrollBarInitialized)t._updateWidgetHeight("showHorizontalScrollbar"),t._initializeHScrollBar(),f="LabVIEW"===t.arrayIndexingMode?t.dimensions-1:0,t._syncScrollbar(0,t._coordinates[f]);else t._showHorizontalScrollbar(r);break;case"showSelection":r?t._refreshSelection():t._clearSelection();break;case"disabled":r?t.element.classList.add("jqx-fill-state-disabled"):t.host.removeClass("jqx-fill-state-disabled");for(var m=0;m<t._indexers.length;m++)t._indexers[m].jqxNumberInput({disabled:r});if("none"!==t.type){if(n=e(".jqx-array-element-"+t.element.id),"custom"!==t.type)n[t._widget]({disabled:r});else if(t.changeProperty)t.changeProperty("disabled",r,n);else try{console.warn('jqxArray: When "type" is \'custom\' and the "disabled" property is changed, the "changeProperty" callback function should be implemented.')}catch(e){}t._scroll()}break;case"customWidgetDefaultValue":"custom"===t.type&&(t._defaultValue=r,t._scroll());break;case"elementTemplate":if("none"!==t.type){n=e(".jqx-array-element-"+t.element.id);for(var g=0;g<n.length;g++){var v=e(n[g]);t.elementTemplate(v,{x:v.data("col"),y:v.data("row")})}}break;case"theme":for(var x=0;x<t._indexers.length;x++)t._indexers[x].jqxNumberInput({theme:r});e(t._bigContainer).removeClass("jqx-fill-state-pressed-"+s),t._bigContainer.classList.add("jqx-fill-state-pressed-"+r);for(var b=0;b<t.rows;b++)for(var w=0;w<t.columns;w++){var y=e(t._cells[b][w].td);y.removeClass("jqx-fill-state-pressed-"+s),y[0].classList.add("jqx-fill-state-pressed-"+r)}"none"!==t.type&&(n=e(".jqx-array-element-"+t.element.id),"custom"!==t.type?n[t._widget]({theme:r}):t.changeProperty&&t.changeProperty("theme",r,n)),t._hScrollBarInitialized&&t._horizontalScrollBar.jqxScrollBar({theme:r}),t._vScrollBarInitialized&&t._verticalScrollBar.jqxScrollBar({theme:r}),t._scroll();break;case"arrayIndexingMode":t.arrayIndexingMode=s}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_fullRefresh:function(e,t){if(t.indexerWidth){var i=parseInt(t.indexerWidth,10);this._indexerContainer[0].style.width=i+"px";for(var s=0;s<this._indexers.length;s++)this._indexers[s].jqxNumberInput({width:i-2})}this._getDefaultCellValue();var r=this.showVerticalScrollbar,n=this.showHorizontalScrollbar;this._validateProperties(),this._showVerticalScrollbar(r),this._showHorizontalScrollbar(n);var o=!1;t.value||(o=!0),t.dimensions&&t.dimensions!==e.dimensions&&this._addRemoveMultipleDimensions(e.dimensions,t.dimensions,o),!0===this._structureAdded?(this._initializeElements(!1),this._table.style.display="table"):(this._addElementStructure(),this._structureAdded=!0,this._initializeElements(!1)),this._getInitialFill(),this._updateWidgetWidth(),this._updateWidgetHeight(),this._scroll()},_validateProperties:function(){this._validateSizeProperty("width"),this._validateSizeProperty("height"),this._validateSizeProperty("elementWidth"),this._validateSizeProperty("elementHeight"),this._validateSizeProperty("indexerWidth"),this._validateSizeProperty("indexerHeight"),this._oneDimensionSpecialCase=!1,"none"===this.type?(this.rows=1,this.columns=1):(this.rows<1&&(this.rows=1),this.columns<1&&(this.columns=1)),(this.dimensions<1||this.dimensions>32)&&(this.dimensions=1),1===this.dimensions&&(this.columns>1?(this.rows=1,!0===this.showVerticalScrollbar&&(this.showVerticalScrollbar=!1)):1!==this.rows&&(this._oneDimensionSpecialCase=!0,!0===this.showHorizontalScrollbar&&(this.showHorizontalScrollbar=!1))),"none"===this.type&&(null===this.width&&(this.width=this.indexerWidth+80+(this.showVerticalScrollbar?20:0)),null===this.height&&(this.height=80+(this.showHorizontalScrollbar?20:0))),this._validateValue()},_validateSizeProperty:function(e){if("string"==typeof this[e]){var t=parseInt(this[e],10);return this[e]=t,t}return this[e]},_validateValue:function(){null===this.value||void 0===this.value?this.value=this._returnEmptyArray():this._validateValueArrayDimensions()},_validateValueArrayDimensions:function(){var e=0,t=this.value,i=!1;if(t.constructor!==Array)this.value=[t],t=this.value,e=1;else for(;t.constructor===Array;)if(e++,void 0===(t=t[0])){i=!0;break}if(this.dimensions>e){if(i)return void(this.value=this._returnEmptyArray());for(;this.dimensions>e;)this._addDimensionToJSArray(e),e++}},_addInnerElements:function(){var t=this.element.id,i=this.showIndexDisplay?"block":"none",s='<div id="'+t+'IndexerContainer" class="jqx-array-indexer-container" style="width: '+this.indexerWidth+"px; display: "+i+';"></div><div id="'+t+'BigContainer" class="jqx-array-big-container jqx-array-background '+this.toThemeProperty("jqx-fill-state-pressed")+'"><div id="'+t+'CentralContainer" class="jqx-array-central-container"><div id="'+t+'MainContainer"></div><div id="'+t+'HorizontalScrollbarContainer" class="jqx-array-scrollbar-container-horizontal" style="display: none;"><div id="'+t+'HorizontalScrollbar" class="jqx-array-scrollbar-horizontal"></div></div></div><div id="'+t+'VerticalScrollbarContainer" class="jqx-array-scrollbar-container-vertical" style="display: none;"><div id="'+t+'VerticalScrollbar" class="jqx-array-scrollbar-vertical"></div></div></div><div style="clear: both;"></div>';this.element.innerHTML=s,this._indexerContainer=e("#"+t+"IndexerContainer"),this._bigContainer=document.getElementById(t+"BigContainer"),this._mainContainer=document.getElementById(t+"MainContainer"),this._horizontalScrollBarContainer=document.getElementById(t+"HorizontalScrollbarContainer"),this._horizontalScrollBar=e("#"+t+"HorizontalScrollbar"),this._verticalScrollBarContainer=document.getElementById(t+"VerticalScrollbarContainer"),this._verticalScrollBar=e("#"+t+"VerticalScrollbar"),this._tableBorder=2,this.showVerticalScrollbar&&this._initializeVScrollBar(),this.showHorizontalScrollbar&&this._initializeHScrollBar()},_addClasses:function(){this.element.className="jqx-array jqx-widget",this.disabled&&this.element.classList.add("jqx-fill-state-disabled")},_addInitialDimensions:function(){var e=this.dimensions;this._dimensions=[],this._indexers=[],this._suppressDimensionChange=!0,this._initialDimensions=!0;for(var t=0;t<e;t++)this.addDimension();this._suppressDimensionChange=!1,this._initialDimensions=!1},_addRemoveMultipleDimensions:function(e,t,i){if(!(t<1||t>32)||(this.dimensions=1,this.dimensions!==e)){var s=this.dimensions-e;if(this._suppressDimensionChange=!0,s>0){do{this.addDimension(i),s-=1}while(s>0);this._raiseEvent("3",{type:"add"})}else if(s<0){if(1===t){var r=this.rows;this.rows=1,this.dimensions=e,this._changeRowsColumns("rows",r,1,void 0,!0),this.dimensions=t}do{this.removeDimension(!0,i),s+=1}while(s<0);this._raiseEvent("3",{type:"remove"}),1===t&&this.showVerticalScrollbar&&this._showVerticalScrollbar(!1)}if(this._suppressDimensionChange=!1,!0===this.showIndexDisplay){if(1!==t){if(t-e>0&&t*(this.indexerHeight+4)-2<this.height)return;if(t-e<0&&e*(this.indexerHeight+4)-2<this.height)return}this._updateWidgetHeight("dimensions")}}},_addElementStructure:function(){this._cells=[],this._table=document.createElement("table"),this._table.className="jqx-array-element-gap";var t=document.createElement("tbody");this._table.appendChild(t),this._tableBody=e(t);for(var i=document.createDocumentFragment(),s=0;s<this.rows;s++){var r=document.createElement("tr"),n=document.createDocumentFragment();r.classList.add("jqx-array-table-row"),this._cells.push([]);for(var o=0;o<this.columns;o++){var a=document.createElement("td");a.classList.add("jqx-fill-state-pressed"),a.classList.add("jqx-array-table-data"),""!==this.theme&&a.classList.add("jqx-fill-state-pressed-"+this.theme),this._elementGap&&a.classList.add("jqx-array-table-data-gap"),this._cells[s].push({td:a}),n.appendChild(a)}r.appendChild(n),i.appendChild(r)}t.appendChild(i),this._mainContainer.appendChild(this._table)},_initializeElements:function(t){var i=this,s=i._cells;function r(e){i.elementTemplate&&i.elementTemplate(e,{x:o,y:n})}if(i._initializeElement=function(){},"custom"!==i.type)switch(i.type){case"numeric":i._initializeElement=function(e,t){e.jqxNumberInput({theme:i.theme,width:i.elementWidth,height:i.elementHeight,inputMode:"simple",spinButtons:!0,decimal:t,disabled:i.disabled}),r(e)};break;case"boolean":i._initializeElement=function(e,t){e.jqxSwitchButton({theme:i.theme,width:i.elementWidth,height:i.elementHeight,checked:t,disabled:i.disabled}),r(e)};break;case"string":i._initializeElement=function(e,t){e.jqxInput({theme:i.theme,width:i.elementWidth,height:i.elementHeight,value:t,disabled:i.disabled}),r(e)};break;case"path":i._initializeElement=function(e,t){e.jqxPathControl({theme:i.theme,width:i.elementWidth,height:i.elementHeight,path:t.toString(),disabled:i.disabled}),r(e)}}else i._initializeElement=function(e,t){if(!i.elementTemplate)throw new Error('jqxArray: When "type" is \'custom\', the "elementTemplate" callback function has to be implemented.');var s={x:o,y:n};i.elementTemplate(e,s),void 0!==t&&i._setElementValue(t,e,s)};for(var n=0;n<s.length;n++)for(var o=0;o<s[n].length;o++)!0===t&&(i._widget&&s[n][o].widget[i._widget]("destroy"),e(s[n][o].td).empty()),i._initializeWidget(n,o);var a=s[0][0].widget;i._tdBorder=parseInt(a.css("border-left-width"),10)+parseInt(a.css("border-right-width"),10),i._paddingH=0,i._paddingV=0,"content-box"===a.css("box-sizing")&&(i._tdBorder+=2,i._paddingH=parseInt(a.css("padding-left"),10)+parseInt(a.css("padding-right"),10),i._paddingV=parseInt(a.css("padding-top"),10)+parseInt(a.css("padding-bottom"),10)),i._elementGap&&(i._tdBorder+=6)},_addElementHandlers:function(e){var t=this,i=t.element.id;t.addHandler(e,"change.jqxArray"+i,function(i){if(!0!==e.supressChange||"jqxNumberInput"===t._widget){e.removeClass("jqx-fill-state-disabled jqx-array-element-empty");var s=e.data("col"),r=e.data("row");t._updateValue(r,s,t._getElementValue(e,{x:s,y:r},!0))}else e.supressChange=!1;i.stopPropagation()}),t.addHandler(e,"click.jqxArray"+i,function(){t._raiseEvent("1",{element:e[0]})})},_getDefaultCellValue:function(){switch(this.type){case"custom":this._widget=void 0,this._defaultValue=null!==this.customWidgetDefaultValue?this.customWidgetDefaultValue:void 0;break;case"numeric":if(!this.host.jqxNumberInput)throw new Error("jqxArray: Missing reference to jqxnumberinput.js.");this._widget="jqxNumberInput",this._defaultValue=0;break;case"boolean":if(!this.host.jqxSwitchButton)throw new Error("jqxArray: Missing reference to jqxswitchbutton.js.");this._widget="jqxSwitchButton",this._defaultValue=!1;break;case"string":if(!this.host.jqxInput)throw new Error("jqxArray: Missing reference to jqxinput.js.");this._widget="jqxInput",this._defaultValue="";break;case"path":if(!this.host.jqxPathControl)throw new Error("jqxArray: Missing reference to jqxpathcontrol.js.");this._widget="jqxPathControl",this._defaultValue=""}},_updateValue:function(e,t,i){var s=this._getValueInCell(e,t);if(this._areDifferent(i,s)){var r=this._coordinates,n=r.slice(0),o=[];"LabVIEW"===this.arrayIndexingMode?(n[n.length-1]+=t,n[n.length-2]+=e):(n[0]+=t,n[1]+=e);for(var a=0;a<this.dimensions;a++)0===a?!1===this._oneDimensionSpecialCase?o.push(n[0]):o.push(e+r[0]):1===a?o.push(n[1]):o.push(n[a]);for(var l=this.value,h=0;h<o.length;h++)void 0!==l[o[h]]&&l[o[h]]!==s||(h!==o.length-1?l[o[h]]=[]:l[o[h]]=i),l=l[o[h]];this._fillValueArray(o.slice(0)),this._raiseEvent("0",{value:i,oldValue:s,dimensionIndexes:o})}},_getValueInCell:function(e,t){var i,s=this.value,r=this._coordinates,n=r.length;if(1===n)i=!1===this._oneDimensionSpecialCase?s[t+r[0]]:s[e+r[0]];else{var o=r.slice(0);"LabVIEW"===this.arrayIndexingMode?(o[n-1]+=t,o[n-2]+=e):(o[0]+=t,o[1]+=e);var a=s[o[0]];if(void 0!==a){var l=a[o[1]];if(void 0!==l&&(i=l,n>2))for(var h=2;h<n&&void 0!==i;h++)i=i[o[h]]}}return i},_scroll:function(){var e=["jqx-fill-state-disabled","jqx-array-element-empty"];if("none"!==this.type)for(var t=0;t<this._cells.length;t++)for(var i=0;i<this._cells[t].length;i++){var s,r=this._getValueInCell(t,i),n=this._cells[t][i].widget,o={x:i,y:t},a=this._getElementValue(n,o);void 0!==r?(n[0].classList.remove(e[0]),n[0].classList.remove(e[1]),n.removeClass(e),this._areDifferent(a,r)?(n.supressChange=!0,this._setElementValue(r,n,o)):n.supressChange=!1,s=!1):(n[0].classList.add(e[0]),n[0].classList.add(e[1]),this._areDifferent(a,this._defaultValue)?(n.supressChange=!0,this._setElementValue(this._getDefaultValue(),n,o)):n.supressChange=!1,s=!0),this._addSelectionClass(i,t,this._cells[t][i].td,s)}},_areDifferent:function(e,t){if(e instanceof Date){if(t instanceof Date)return e.getTime()!==t.getTime();if("string"==typeof t)try{return e.getTime()!==new Date(t).getTime()}catch(e){}return!0}if(t instanceof Date){if(e instanceof Date)return t.getTime()!==e.getTime();if("string"==typeof e)try{return t.getTime()!==new Date(e).getTime()}catch(e){}return!0}return"object"!=typeof e||typeof e!=typeof t?e!==t:JSON.stringify(e)!==JSON.stringify(t)},_returnEmptyArray:function(){var e=[],t=e;if(this.dimensions>1)for(var i=1;i<this.dimensions;i++)t[0]=[],t=t[0];return e},_addDimensionToJSArray:function(e){if("LabVIEW"===this.arrayIndexingMode)this.value=[this.value];else{void 0===e&&(e=this.dimensions-1);var t=function(i,s){for(var r=0;r<i.length;r++)s!==e?t(i[r],s+1):i[r]=[i[r]]};t(this.value,1)}},_removeDimensionFromJSArray:function(){var e=this;if("LabVIEW"===e.arrayIndexingMode)e.value=e.value[0];else{var t=e.dimensions+1,i=function(s,r,n,o){for(var a=0;a<s.length;a++)r!==t&&s[a].length>0?i(s[a],r+1,s,a):void 0!==n?n[o]=s[0]:e.value=e.value[0]};i(e.value,1)}},_initializeWidget:function(t,i){var s,r=this._cells[t][i],n=this._getValueInCell(t,i);s="string"!==this.type?e("<div></div>"):e("<input />"),r.widget=s,r.td.appendChild(s[0]),this._initializeElement(s,void 0===n?this._getDefaultValue():n,r),s[0].classList.add("jqx-array-element"),s[0].classList.add("jqx-array-element-"+this.element.id),void 0===n&&(s[0].classList.add("jqx-fill-state-disabled"),s[0].classList.add("jqx-array-element-empty")),s.data({row:t,col:i}),this._addElementHandlers(s)},_addRemoveColumn:function(t){if("add"===t){for(var i=this._tableBody.children(),s=0;s<this._cells.length;s++){var r=this._cells[s],n=document.createElement("td");n.classList.add("jqx-fill-state-pressed"),n.classList.add("jqx-array-table-data"),""!==this.theme&&n.classList.add("jqx-fill-state-pressed-"+this.theme),this._elementGap&&n.classList.add("jqx-array-table-data-gap"),r.push({td:n}),i[s].appendChild(n),this._initializeWidget(s,r.length-1)}this.columns++,!0!==this._suppressScroll&&this._scroll()}else if("remove"===t&&this.columns>1){for(var o=0;o<this._cells.length;o++){var a=this._cells[o],l=a[a.length-1];this._widget&&l.widget[this._widget]("destroy"),e(l.td).remove(),a.pop()}this.columns--}},_addRemoveRow:function(e){if("add"===e&&(this.dimensions>1||1===this.dimensions&&1===this.columns)){this._cells.push([]);var t=document.createElement("tr"),i=document.createDocumentFragment(),s=this._cells.length-1,r=[];t.classList.add("jqx-array-table-row");for(var n=0;n<this.columns;n++){var o=document.createElement("td");o.classList.add("jqx-fill-state-pressed"),o.classList.add("jqx-array-table-data"),""!==this.theme&&o.classList.add("jqx-fill-state-pressed-"+this.theme),this._elementGap&&o.classList.add("jqx-array-table-data-gap"),this._cells[s].push({td:o}),r.push(o),i.appendChild(o)}t.appendChild(i),this._tableBody[0].appendChild(t);for(var a=0;a<r.length;a++)this._initializeWidget(s,a);this.rows++,!0!==this._suppressScroll&&this._scroll()}else if("remove"===e&&this.rows>1){var l=this._tableBody.children().last(),h=this._cells[this._cells.length-1];if(this._widget)for(var d=0;d<h.length;d++)h[d].widget[this._widget]("destroy");l.remove(),this._cells.pop(),this.rows--}},_getInitialFill:function(){if(this._filledUpTo=[],"none"!==this.type){for(var e=this.value,t=0;t<this.dimensions;t++){var i=e.length-1;this._filledUpTo[t]=i,e=e[i]}this._setMaxValuesOfScrollBars()}},_fillValueArray:function(e,t){var i=this,s=i.dimensions;if(void 0!==i._filledUpTo&&!0!==t){for(var r=!0,n=0;n<e.length;n++)r=r&&i._filledUpTo[n]>=e[n],e[n]=Math.max(e[n],i._filledUpTo[n]);if(!0===r)return void i._scroll()}i._filledUpTo=e.slice(0),function t(r,n){for(var o=0;o<=e[n];o++)n!==s-1?(void 0===r[o]&&(r[o]=[]),t(r[o],n+1)):void 0===r[o]&&(r[o]=i._getDefaultValue())}(i.value,0),i._scroll(),i._setMaxValuesOfScrollBars()},_changeRowsColumns:function(e,t,i,s,r){var n="_addRemove"+e.charAt(0).toUpperCase()+e.slice(1,e.length-1);if(!(i<1&&(this[e]=1,this[e]===t))){if(1===this.dimensions)if(!0===this._oneDimensionSpecialCase)"columns"===e&&this[e]>1&&(this._oneDimensionSpecialCase=!1,this.showVerticalScrollbar&&(this._showVerticalScrollbar(!1),this._showHorizontalScrollbar(!0)));else if("rows"===e){if(this.columns>1)return void(this.rows=1);this.rows>1&&(this._oneDimensionSpecialCase=!0,!0===this.showHorizontalScrollbar&&(this._showHorizontalScrollbar(!1),this._showVerticalScrollbar(!0)))}var o=this[e]-t;if(this[e]=t,o>0){this._suppressScroll=!0;do{this[n]("add"),o-=1}while(o>0);this._suppressScroll=!1,this._scroll()}else if(o<0)do{this[n]("remove"),o+=1}while(o<0);this._raiseEvent("4",{type:e,number:this[e],oldNumber:t}),"columns"===e?(this._updateWidgetWidth(),this._setMaxValuesOfScrollBars("horizontal")):"rows"===e&&!0!==r&&(this._updateWidgetHeight(!0===s?"dimensions":void 0),this._setMaxValuesOfScrollBars("vertical"))}},_updateWidgetWidth:function(e){if(null!==this.element.parentNode){var t,i,s=this.showVerticalScrollbar?20:0,r=this.showIndexDisplay?this.indexerWidth:0,n=this._elementGap?-1*(2*this.columns-4):0;if("none"!==this.type)i=(t=this.columns*(this.elementWidth+this._tdBorder+this._paddingH)+this._tableBorder+n)+s,this.width=i+r;else{!0===e&&(!0===this.showVerticalScrollbar?this.width+=20:this.width-=20);var o=r+18+s;this.width<o&&(this.width=o),t=(i=this.width-r)-s}var a=document.getElementById(this.element.id+"CentralContainer");null!==a&&(a.style.width=t+"px",this._bigContainer.style.width=i+"px",this._horizontalScrollBarContainer.style.width=t-2+"px",this._horizontalScrollBar.trigger("resize"),this.element.style.width=this.width+"px")}},_updateWidgetHeight:function(e){var t,i=this.showHorizontalScrollbar?20:0,s=this.showIndexDisplay?this.dimensions*(this.indexerHeight+4)-2:0,r=this._elementGap?-1*(2*this.rows-4):0;if("none"!==this.type)t=this.rows*(this.elementHeight+this._tdBorder+this._paddingV)+this._tableBorder+i+r;else{if("showHorizontalScrollbar"===e){var n=parseInt(this._bigContainer.style.height,10);t=!0===this.showHorizontalScrollbar?n+20:n-20}else t="showIndexDisplay"===e&&!1===this.showIndexDisplay||"dimensions"===e?parseInt(this._bigContainer.style.height,10):this.height;var o=18+i;t<o&&(t=o)}this._mainContainer.style.height=t-i+"px",this.height=Math.max(s,t),this._verticalScrollBarContainer.style.height=t-i-this._tableBorder+"px",this._verticalScrollBar.trigger("resize"),this._bigContainer.style.height=t+"px",this.element.style.height=this.height+"px"},_inSelection:function(e,t){var i,s,r,n,o=this._coordinates,a=!0;if("LabVIEW"===this.arrayIndexingMode?(i=this.dimensions-1,s=this.dimensions-2):(i=0,s=1),r=e+o[i],n=t+o[s],1===this.dimensions)return r>=this._absoluteSelectionStart[i]&&r<=this._absoluteSelectionEnd[i];if(a=r>=this._absoluteSelectionStart[i]&&r<=this._absoluteSelectionEnd[i]&&n>=this._absoluteSelectionStart[s]&&n<=this._absoluteSelectionEnd[s],"LabVIEW"===this.arrayIndexingMode)for(var l=0;l<s;l++)a=a&&o[l]>=this._absoluteSelectionStart[l]&&o[l]<=this._absoluteSelectionEnd[l];else for(var h=2;h<this.dimensions;h++)a=a&&o[h]>=this._absoluteSelectionStart[h]&&o[h]<=this._absoluteSelectionEnd[h];return a},_refreshSelection:function(){if(this.showSelection)for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++){var i=void 0===this._getValueInCell(e,t);this._addSelectionClass(t,e,this._cells[e][t].td,i)}},_addSelectionClass:function(t,i,s,r){this.showSelection&&void 0!==this._absoluteSelectionStart&&void 0!==this._absoluteSelectionEnd&&(!1===r&&this._inSelection(t,i)?s.classList.add("jqx-array-element-selected"):e(s).removeClass("jqx-array-element-selected"))},_clearSelection:function(){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++){var s=this._cells[t][i].td;e(s).removeClass("jqx-array-element-selected")}},_initializeVScrollBar:function(){if(!this.host.jqxScrollBar)throw new Error("jqxArray: Missing reference to jqxscrollbar.js.");this._verticalScrollBarContainer.style.display="block",this._verticalScrollBar.jqxScrollBar({theme:this.theme,height:"100%",width:16,min:0,max:0,value:0,vertical:!0}),this._addVScrollBarHandlers(),this._vScrollBarInitialized=!0},_addVScrollBarHandlers:function(){var t=this,i=t.element.id,s=t._verticalScrollBar,r=s[0].id,n=e("#jqxScrollBtnUp"+r),o=e("#jqxScrollBtnDown"+r);t.addHandler(s.add(n).add(o),"mousedown.jqxArray"+i,function(){t.host.find(":focus").blur()}),t.addHandler(s,"valueChanged.jqxArray"+i,function(e){if("none"!==t.type)if(!0!==t._suppressScrollbarEvent){var i=t._oneDimensionSpecialCase?0:1;t._moveScrollbar(s,"vertical",i,Math.round(e.currentValue))}else t._suppressScrollbarEvent=!1}),t.addHandler(n,"mousedown.jqxArray"+i,function(){if(!t.disabled){var e=s.jqxScrollBar("min"),i=s.jqxScrollBar("value");i-1>=e&&s.jqxScrollBar("setPosition",i-1)}}),t.addHandler(o,"mousedown.jqxArray"+i,function(){t.disabled||"none"!==t.type&&t._pressScrollbarDownButton(s)})},_initializeHScrollBar:function(){if(!this.host.jqxScrollBar)throw new Error("jqxArray: Missing reference to jqxscrollbar.js.");this._horizontalScrollBarContainer.style.display="block",this._horizontalScrollBar.jqxScrollBar({theme:this.theme,width:"100%",height:16,min:0,max:0,value:0}),this._addHScrollBarHandlers(),this._hScrollBarInitialized=!0},_addHScrollBarHandlers:function(){var t=this,i=t.element.id,s=t._horizontalScrollBar,r=s[0].id,n=e("#jqxScrollBtnUp"+r),o=e("#jqxScrollBtnDown"+r);t.addHandler(s.add(n).add(o),"mousedown.jqxArray"+i,function(){t.host.find(":focus").blur()}),t.addHandler(s,"valueChanged.jqxArray"+i,function(e){"none"!==t.type&&(!0!==t._suppressScrollbarEvent?t._moveScrollbar(s,"horizontal",0,Math.round(e.currentValue)):t._suppressScrollbarEvent=!1)}),t.addHandler(n,"mousedown.jqxArray"+i,function(){if(!t.disabled){var e=s.jqxScrollBar("min"),i=s.jqxScrollBar("value");i-1>=e&&s.jqxScrollBar("setPosition",i-1)}}),t.addHandler(o,"mousedown.jqxArray"+i,function(){t.disabled||"none"!==t.type&&t._pressScrollbarDownButton(s)})},_moveScrollbar:function(e,t,i,s){if(!isNaN(s)){var r,n=this._getMaxValuesOfScrollBars(t),o=e.jqxScrollBar("max");r="LabVIEW"===this.arrayIndexingMode?this.dimensions-i-1:i,this._indexers[r].val(s),this._coordinates[r]=s,s<=n?e.jqxScrollBar({max:n}):s<=o&&e.jqxScrollBar({max:s}),this._scroll(),this._raiseEvent("5",{direction:t})}},_pressScrollbarDownButton:function(e){var t=e.jqxScrollBar("max"),i=e.val();!0===isNaN(i)&&(i=0),t===i&&e.jqxScrollBar({max:t+1,value:t+1})},_getMaxValuesOfScrollBars:function(e){var t,i,s,r=0,n=this._filledUpTo.length;return"horizontal"===e?(s=this._horizontalScrollBar.val(),t="LabVIEW"===this.arrayIndexingMode?this._filledUpTo[n-1]:this._filledUpTo[0],i=this.columns):(s=this._verticalScrollBar.val(),t=this._oneDimensionSpecialCase?"LabVIEW"===this.arrayIndexingMode?this._filledUpTo[n-1]:this._filledUpTo[0]:"LabVIEW"===this.arrayIndexingMode?this._filledUpTo[n-2]:this._filledUpTo[1],i=this.rows),void 0===t?0:(t+1===i?r=1:t===i?r=2:t>i&&(r=t-i+2),Math.max(r,s))},_setMaxValuesOfScrollBars:function(e){!this.showHorizontalScrollbar||void 0!==e&&"horizontal"!==e||this._horizontalScrollBar.jqxScrollBar({max:this._getMaxValuesOfScrollBars("horizontal")}),!this.showVerticalScrollbar||void 0!==e&&"vertical"!==e||this._verticalScrollBar.jqxScrollBar({max:this._getMaxValuesOfScrollBars("vertical")})},_syncScrollbar:function(e,t){var i,s;if(0===e&&!1===this._oneDimensionSpecialCase){if(!this.showHorizontalScrollbar)return;i=this._getMaxValuesOfScrollBars("horizontal"),s=this._horizontalScrollBar}else{if(!this.showVerticalScrollbar)return;i=this._getMaxValuesOfScrollBars("vertical"),s=this._verticalScrollBar}t>i&&(i=t);var r=s.jqxScrollBar("max");r!==i&&(r>i&&(this._suppressScrollbarEvent=!0),s.jqxScrollBar({max:i})),s.val()!==t&&(this._suppressScrollbarEvent=!0,s.val(t))},_showVerticalScrollbar:function(e){var t;(this.showVerticalScrollbar=e,this._updateWidgetWidth(!0),!0===e)?(this._verticalScrollBarContainer.style.display="block",!0!==this._vScrollBarInitialized&&this._initializeVScrollBar(),"none"!==this.type&&(t=this._oneDimensionSpecialCase?0:"LabVIEW"===this.arrayIndexingMode?this.dimensions-2:1,this._syncScrollbar(1,this._coordinates[t]))):this._verticalScrollBarContainer.style.display="none"},_getDefaultValue:function(){return this._cloneValue(this._defaultValue)},_cloneValue:function(t){return"object"!=typeof t?t:t instanceof Array?e.extend(!0,[],t):t instanceof Date?new Date(t.getTime()):t instanceof Object?e.extend(!0,{},t):void 0},_showHorizontalScrollbar:function(e){var t;(this.showHorizontalScrollbar=e,this._updateWidgetHeight("showHorizontalScrollbar"),!0===e)?(this._horizontalScrollBarContainer.style.display="block",!0!==this._hScrollBarInitialized&&this._initializeHScrollBar(),"none"!==this.type&&(t="LabVIEW"===this.arrayIndexingMode?this.dimensions-1:0,this._syncScrollbar(0,this._coordinates[t]))):this._horizontalScrollBarContainer.style.display="none"},_fillArray:function(e,t){for(var i=e.length>>>0,s=arguments[1]>>0,r=s<0?Math.max(i+s,0):Math.min(s,i),n=arguments[2],o=void 0===n?i:n>>0,a=o<0?Math.max(i+o,0):Math.min(o,i);r<a;)e[r]=t,r++;return e},_getElementValue:function(e,t,i){var s;return this.getElementValue?(s=this.getElementValue(e,t),!0!==i?s:this._cloneValue(s)):(s=e.val(),!0!==i?s:this._cloneValue(s))},_setElementValue:function(e,t,i){e=this._cloneValue(e),this.setElementValue?(this.setElementValue(e,t,i),!0===t.supressChange&&(t.supressChange=!1)):t.val(e)}})}(jqxBaseFramework),function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.createfilterpanel=null,this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.createwidget=null,this.initwidget=null,this.destroywidget=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.clipboard=!0,this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.reseteverpresentrowwidgetvalue=null,this.geteverpresentrowwidgetvalue=null,this.createeverpresentrowwidget=null,this.initeverpresentrowwidget=null,this.validateeverpresentrowwidgetvalue=null,this.destroyeverpresentrowwidget=null,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var s=this.that;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"enableTooltips")&&(this.enabletooltips=e.jqx.get(i,"enableTooltips")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"createfilterpanel")&&(this.createfilterpanel=e.jqx.get(i,"createfilterpanel")),e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hideable")&&(this.hideable=e.jqx.get(i,"hideable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"clipboard")&&(this.clipboard=e.jqx.get(i,"clipboard")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsformat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=parseInt(e.jqx.get(i,"minWidth")),isNaN(this.minwidth)&&(this.minwidth=25)),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=parseInt(e.jqx.get(i,"maxWidth")),isNaN(this.maxwidth)&&(this.maxwidth="auto")),e.jqx.hasProperty(i,"cellsRenderer")?this.cellsrenderer=e.jqx.get(i,"cellsRenderer"):i.cellsRenderer&&(this.cellsrenderer=i.cellsRenderer),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"checkChange")&&(this.checkchange=e.jqx.get(i,"checkChange")),e.jqx.hasProperty(i,"buttonClick")?this.buttonclick=e.jqx.get(i,"buttonClick"):i.buttonClick&&(this.buttonclick=i.buttonClick),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"visibleIndex")&&(this.visibleindex=e.jqx.get(i,"visibleIndex")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")?this.initeditor=e.jqx.get(i,"initEditor"):i.initEditor&&(this.initeditor=i.initEditor),e.jqx.hasProperty(i,"createEditor")?this.createeditor=e.jqx.get(i,"createEditor"):i.createEditor&&(this.createeditor=i.createEditor),e.jqx.hasProperty(i,"initWidget")?this.initwidget=e.jqx.get(i,"initWidget"):i.initWidget&&(this.initwidget=i.initWidget),e.jqx.hasProperty(i,"createWidget")?this.createwidget=e.jqx.get(i,"createWidget"):i.createWidget&&(this.createwidget=i.createWidget),e.jqx.hasProperty(i,"destroyWidget")?this.destroywidget=e.jqx.get(i,"destroyWidget"):i.destroyWidget&&(this.destroywidget=i.destroyWidget),e.jqx.hasProperty(i,"reseteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"reseteverpresentrowwidgetvalue")?this.reseteverpresentrowwidgetvalue=e.jqx.get(i,"reseteverpresentrowwidgetvalue"):i.resetEverPresentRowWidgetValue&&(this.reseteverpresentrowwidgetvalue=i.resetEverPresentRowWidgetValue),e.jqx.hasProperty(i,"geteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"geteverpresentrowwidgetvalue")?this.geteverpresentrowwidgetvalue=e.jqx.get(i,"geteverpresentrowwidgetvalue"):i.getEverPresentRowWidgetValue&&(this.geteverpresentrowwidgetvalue=i.getEverPresentRowWidgetValue),e.jqx.hasProperty(i,"createeverpresentrowwidget")||e.jqx.hasFunction(i,"createeverpresentrowwidget")?this.createeverpresentrowwidget=e.jqx.get(i,"createeverpresentrowwidget"):i.createEverPresentRowWidget&&(this.createeverpresentrowwidget=i.createEverPresentRowWidget),e.jqx.hasProperty(i,"initeverpresentrowwidget")||e.jqx.hasFunction(i,"initeverpresentrowwidget")?this.initeverpresentrowwidget=e.jqx.get(i,"initeverpresentrowwidget"):i.initEverPresentRowWidget&&(this.initeverpresentrowwidget=i.initEverPresentRowWidget),e.jqx.hasProperty(i,"validateeverpresentrowwidgetvalue")?this.validateeverpresentrowwidgetvalue=e.jqx.get(i,"validateeverpresentrowwidgetvalue"):i.validateEverPresentRowWidgetValue&&(this.validateeverpresentrowwidgetvalue=i.validateEverPresentRowWidgetValue),e.jqx.hasProperty(i,"destroyeverpresentrowwidget")||e.jqx.hasFunction(i,"destroyeverpresentrowwidget")?this.destroyeverpresentrowwidget=e.jqx.get(i,"destroyeverpresentrowwidget"):i.destroyEverPresentRowWidget&&(this.destroyEverPresentRowWidget=i.destroyEverPresentRowWidget),e.jqx.hasProperty(i,"destroyEditor")?this.destroyeditor=e.jqx.get(i,"destroyEditor"):i.destroyEditor&&(this.destroyeditor=i.destroyEditor),e.jqx.hasProperty(i,"getEditorValue")?this.geteditorvalue=e.jqx.get(i,"getEditorValue"):i.getEditorValue&&(this.geteditorvalue=i.getEditorValue),e.jqx.hasProperty(i,"validation")?this.validation=e.jqx.get(i,"validation"):i.validation&&(this.validation=i.validation),e.jqx.hasProperty(i,"cellBeginEdit")?this.cellbeginedit=e.jqx.get(i,"cellBeginEdit"):i.cellBeginEdit&&(this.cellbeginedit=i.cellBeginEdit),e.jqx.hasProperty(i,"cellEndEdit")?this.cellendedit=e.jqx.get(i,"cellEndEdit"):i.cellEndEdit&&(this.cellendedit=i.cellEndEdit),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")?this.cellclassname=e.jqx.get(i,"cellClassName"):i.cellClassName&&(this.cellclassname=i.cellClassName),e.jqx.hasProperty(i,"menu")&&(this.menu=e.jqx.get(i,"menu")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesrenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"createFilterWidget")&&(this.createfilterwidget=e.jqx.get(i,"createFilterWidget")),e.jqx.hasProperty(i,"filterType")&&(this.filtertype=e.jqx.get(i,"filterType")),e.jqx.hasProperty(i,"filterDelay")&&(this.filterdelay=e.jqx.get(i,"filterDelay")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"filterItems")&&(this.filteritems=e.jqx.get(i,"filterItems")),e.jqx.hasProperty(i,"cellValueChanging")&&(this.cellvaluechanging=e.jqx.get(i,"cellValueChanging")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"filterCondition")&&(this.filtercondition=e.jqx.get(i,"filterCondition")),e.jqx.hasProperty(i,"threeStateCheckbox")&&(this.threestatecheckbox=e.jqx.get(i,"threeStateCheckbox")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var r in i)if(!s.hasOwnProperty(r)&&!s.hasOwnProperty(r.toLowerCase()))throw t.host.remove(),new Error("jqxGrid: Invalid property name - "+r+".")}},this._initfields(i),this}function i(e,t){return this.setdata=function(e){null!=e&&(this.bounddata=e,this.boundindex=e.boundindex,this.visibleindex=e.visibleindex,this.group=e.group,this.parentbounddata=e.parentItem,this.uniqueid=e.uniqueid,this.level=e.level)},this.setdata(t),this.parentrow=null,this.subrows=new Array,this.owner=e,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(e){this.hidden=e.hidden,this.rowdetails=e.rowdetails,this.rowdetailsheight=e.rowdetailsheight,this.rowdetailshidden=!e.showdetails,this.height=e.height},this}e.jqx.jqxWidget("jqxGrid","",{}),e.extend(e.jqx._jqxGrid.prototype,{defineInstance:function(){var t={disabled:!1,width:600,height:400,pagerheight:34,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:28,columnsheight:30,filterrowheight:31,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showtoolbar:!1,toolbarheight:34,showstatusbar:!1,statusbarheight:34,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:799,headerZIndex:299,updatefilterconditions:null,showgroupaggregates:!1,showaggregates:!1,showfilterrow:!1,showeverpresentrow:!1,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:!1,copytoclipboardhiddencolumns:!1,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},filter:null,dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:e.jqx.utilities.scrollBarSize,touchscrollbarsize:e.jqx.utilities.touchScrollBarSize,scrollbarautoshow:e.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsautoresize:!0,columnsreorder:!1,columnsmenuwidth:15,autoshowcolumnsmenubutton:!0,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:!0,enablecolumnsvirtualization:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:30,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]};return this===e.jqx._jqxGrid.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){this.that=this;this.pagesize=parseInt(this.pagesize),this.toolbarheight=parseInt(this.toolbarheight),this.columnsheight=parseInt(this.columnsheight),this.filterrowheight=parseInt(this.filterrowheight),this.statusbarheight=parseInt(this.statusbarheight),this.groupsheaderheight=parseInt(this.groupsheaderheight),this.detailsVisibility=new Array,this.savedArgs=t&&t.length>0?t[0]:null;var i="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+this.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='addrow'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(this.element.innerHTML="",15!=e.jqx.utilities.scrollBarSize&&(this.scrollbarsize=e.jqx.utilities.scrollBarSize),this.source){if(!this.source.dataBind){if(!e.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js");this.source=new e.jqx.dataAdapter(this.source)}(n=this.source._source.datafields)&&n.length>0&&(this.editmode=this.editmode.toLowerCase(),this.selectionmode=this.selectionmode.toLowerCase())}this.host.attr("role","grid"),this.host.attr("align","left"),this.element.innerHTML=i,this.host.addClass(this.toTP("jqx-grid")),this.host.addClass(this.toTP("jqx-reset")),this.host.addClass(this.toTP("jqx-rc-all")),this.host.addClass(this.toTP("jqx-widget")),this.host.addClass(this.toTP("jqx-widget-content")),this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var s=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id);if(this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright jqx-scrollbar-state-normal")),!s.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(this.editors=new Array,this.vScrollBar=s.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.addnewrow=this.host.find("#addrow"),this.addnewrow[0].id="addrow"+this.element.id,this.addnewrow.addClass(this.toTP("jqx-widget-header")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.groupsheader=this.host.find("#groupsheader"),this.groupsheader.addClass(this.toTP("jqx-grid-groups-header")),this.groupsheader.addClass(this.toTP("jqx-widget-header")),this.groupsheader[0].id="groupsheader"+this.element.id,this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.gridtable=null,this.isNestedGrid=!!this.host.parent()&&9999==this.host.parent().css("z-index"),this.touchdevice=this.isTouchDevice(),this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this.rowdetailstemplate&&(null==this.rowdetailstemplate.rowdetails&&(this.rowdetailstemplate.rowdetails="<div></div>"),null==this.rowdetailstemplate.rowdetailsheight&&(this.rowdetailstemplate.rowdetailsheight=200),null==this.rowdetailstemplate.rowdetailshidden&&(this.rowdetailstemplate.rowdetailshidden=!0)),this.showfilterrow&&!this.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(this.autorowheight&&!this.autoheight&&!this.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(this.virtualmode&&null==this.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(this.virtualmode&&!this.pageable&&this.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!this._testmodules()){var n;if(this._builddataloadelement(),this._cachedcolumns=this.columns,this.columns&&this.columns.length>299&&(this.headerZIndex=this.columns.length+100),28!=this.rowsheight&&this._measureElement("cell"),(30!=this.columnsheight||this.columngroups)&&this._measureElement("column"),this.source)if(null==(n=this.source.datafields)&&this.source._source&&(n=this.source._source.datafields),n)for(var o=0;o<this.columns.length;o++){var a=this.columns[o];if(a&&a.cellsformat&&a.cellsformat.length>2)for(var l=0;l<n.length;l++)if(n[l].name==a.datafield&&!n[l].format){n[l].format=a.cellsformat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this._arrange(),this.pageable&&this._initpager&&this._initpager(),this.tableheight=null;var h=this.that,d=function(){h.content&&(h.content[0].scrollTop=0,h.content[0].scrollLeft=0),h.gridcontent&&(h.gridcontent[0].scrollLeft=0,h.gridcontent[0].scrollTop=0)};this.addHandler(this.content,"mousedown",function(){d()}),this.addHandler(this.content,"scroll",function(e){return d(),!1}),this.showfilterrow||(this.showstatusbar||this.showtoolbar||this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),this.enablebrowserselection&&(this.content.removeClass("jqx-disableselect"),this.host.removeClass("jqx-disableselect")),this._resizeWindow(),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.hasTransform=e.jqx.utilities.hasTransform(this.host),"logical"==this.scrollmode&&(this.vScrollInstance.thumbStep=this.rowsheight,this.vScrollInstance.step=this.rowsheight),e.jqx.isHidden(this.host)||(this.filterable||this.groupable||this.sortable)&&this._initmenu()}},_resizeWindow:function(){var t=this.that;if(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%")){this._updatesizeonwindowresize=!0,e.jqx.utilities.resize(this.host,function(i){var s=e(window).width(),r=e(window).height(),n=t.host.width(),o=t.host.height();if(t.autoheight&&(t._lastHostWidth=r),t._lastHostWidth!=n||t._lastHostHeight!=o){if(t.touchdevice&&t.editcell&&"orientationchange"!==i)return;t._updatesize(t._lastHostWidth!=n,t._lastHostHeight!=o)}t._lastWidth=s,t._lastHeight=r,t._lastHostWidth=n,t._lastHostHeight=o});var i=t.host.width(),s=t.host.height();t._lastHostWidth=i,t._lastHostHeight=s}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this.wrapper.prepend(this.dataloadelement)},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_measureMenuElement:function(){var t=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-menu")),t.addClass(this.toTP("jqx-menu-item-top")),t.addClass(this.toTP("jqx-fill-state-normal")),this.isTouchDevice()&&t.addClass(this.toTP("jqx-grid-menu-item-touch")),e(document.body).append(t);var i=t.outerHeight();return t.remove(),i},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var s=i.outerWidth()+20;return i.remove(),s},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_testmodules:function(){var t="",i=this.that,s=function(){""!=t.length&&(t+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(s(),t+=" jqxmenu.js"),this.host.jqxScrollBar||(s(),t+=" jqxscrollbar.js"),this.host.jqxButton||(s(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(s(),t+=" jqxdata.js"),this.pageable&&!this.gotopage&&(s(),t+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(s(),t+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(s(),t+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(s(),t+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(s(),t+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(s(),t+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(s(),t+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(s(),t+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(s(),t+=" jqxgrid.selection.js"),""!=t||this.editable||this.filterable||this.pageable){var r=[],n=function(e){switch(e){case"checkbox":i.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,s(),t+=" jqxcheckbox.js");break;case"numberinput":i.host.jqxNumberInput||r.numberinput||(r.numberinput=!0,s(),t+=" jqxnumberinput.js");break;case"datetimeinput":i.host.jqxDateTimeInput||r.datetimeinput?i.host.jqxCalendar||r.calendar||(s(),t+=" jqxcalendar.js"):(s(),r.datetimeinput=!0,t+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":i.host.jqxComboBox||r.combobox?i.host.jqxListBox||r.listbox||(s(),r.listbox=!0,t+=" jqxlistbox.js"):(s(),r.combobox=!0,t+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":i.host.jqxDropDownList||r.dropdownlist?i.host.jqxListBox||r.listbox||(s(),r.listbox=!0,t+=" jqxlistbox.js"):(s(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&n("dropdownlist");for(var o=0;o<this.columns.length;o++){var a;if(null!=this.columns[o])if(n(a=this.columns[o].columntype),this.filterable&&this.showfilterrow)"checkedlist"!=(a=this.columns[o].filtertype)&&"bool"!=a||n("checkbox"),"date"==a&&n("datetimeinput")}if(""!=t)throw new Error("jqxGrid: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus();var e=this.that;setTimeout(function(){e.wrapper.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},resize:function(e,t){this.width=e,this.height=t,this._updatesize(!0,!0)},_updatesize:function(t,i){if(!this._loading){var s=this.that;s._newmax=null;var r=s.host.width(),n=s.host.height();s._oldWidth||(s._oldWidth=r),s._oldHeight||(s._oldHeight=n),s._resizeTimer&&clearTimeout(s._resizeTimer);s._resizeTimer=setTimeout(function(){if(s.resizingGrid=!0,!e.jqx.isHidden(s.host)){if(s.editcell&&(s.endcelledit(s.editcell.row,s.editcell.column,!0,!0),s._oldselectedcell=null),h!=s._oldHeight||1==i){var n=s.groupable&&s.groups.length>0,o=s.vScrollBar.css("visibility");if(!s.autoheight){if(s.virtualmode&&(s._pageviews=new Array),n||s.rowdetails||s.pageable){s._arrange(),s.prerenderrequired=!0;h=Math.round(s.host.height())+2*s.rowsheight;realheight=s._gettableheight();var a=Math.round(h/s.rowsheight),l=Math.max(s.dataview.totalrows,s.dataview.totalrecords);s.pageable&&(l=s.pagesize,s.pagesize>Math.max(s.dataview.totalrows,s.dataview.totalrecords)&&s.autoheight?l=Math.max(s.dataview.totalrows,s.dataview.totalrecords):s.autoheight||s.dataview.totalrows<s.pagesize&&(l=Math.max(s.dataview.totalrows,s.dataview.totalrecords)));s.rowsheight,s._getpagesize();!s.pageable&&s.autoheight&&(a=l),s.virtualsizeinfo&&(s.virtualsizeinfo.visiblerecords=a),s.rendergridcontent(!0,!1),s._renderrows(s.virtualsizeinfo)}else{s._arrange(),s.virtualsizeinfo=s._calculatevirtualheight();var h=Math.round(s.host.height())+2*s.rowsheight;parseInt(h)>=parseInt(s._oldHeight)&&(s.prerenderrequired=!0),s._renderrows(s.virtualsizeinfo),s.rtl&&(s._updatecolumnwidths(),s.table&&s.table.width(s.columnsheader.width()),s._updatecellwidths())}o!=s.vScrollBar.css("visibility")&&(s.vScrollInstance.setPosition(0),s._arrange(),s._updatecolumnwidths(),s.table&&s.table.width(s.columnsheader.width()),s._updatecellwidths())}}if(r!=s._oldWidth||1==t){var d=!1;if(s.editcell&&s.editcell.editor)switch(s.editcell.columntype){case"dropdownlist":if(d=s.editcell.editor.jqxDropDownList("isOpened")||s.editcell.editor.jqxDropDownList("isanimating")&&!s.editcell.editor.jqxDropDownList("ishiding"))return s.editcell.editor.jqxDropDownList({openDelay:0}),s.editcell.editor.jqxDropDownList("open"),void s.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(d=s.editcell.editor.jqxComboBox("isOpened")||s.editcell.editor.jqxComboBox("isanimating")&&!s.editcell.editor.jqxComboBox("ishiding"))return s.editcell.editor.jqxComboBox({openDelay:0}),s.editcell.editor.jqxComboBox("open"),void s.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(d)return d=s.editcell.editor.jqxDateTimeInput("isOpened")||s.editcell.editor.jqxDateTimeInput("isanimating")&&!s.editcell.editor.jqxDateTimeInput("ishiding"),s.editcell.editor.jqxDateTimeInput({openDelay:0}),s.editcell.editor.jqxDateTimeInput("open"),void s.editcell.editor.jqxDateTimeInput({openDelay:250})}var c=s.hScrollBar.css("visibility");s._arrange(),s._updatecolumnwidths(),s.table&&s.table.width(s.columnsheader.width()),s._updatecellwidths(),0==t&&s._oldWidth>r||i&&0!=s.dataview.rows.length||s._renderrows(s.virtualsizeinfo),c!=s.hScrollBar.css("visibility")&&s.hScrollInstance.setPosition(0)}s._oldWidth=r,s._oldHeight=h,s.resizingGrid=!1}},5)}},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){t.scrollmode="logical",t.vScrollInstance.thumbStep=t.rowsheight;var i=e.jqx.mobile.getTouchEventName("touchstart"),s=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove");t.enablehover=!1,t.gridcontent&&(t.removeHandler(t.gridcontent,i+".touchScroll"),t.removeHandler(t.gridcontent,r+".touchScroll"),t.removeHandler(t.gridcontent,s+".touchScroll"),t.removeHandler(t.gridcontent,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.gridcontent[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),t._overlayElement&&(t.removeHandler(t._overlayElement,i+".touchScroll"),t.removeHandler(t._overlayElement,r+".touchScroll"),t.removeHandler(t._overlayElement,s+".touchScroll"),t.removeHandler(t._overlayElement,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._overlayElement[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,i,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")}),this.addHandler(this.host,s,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")})))}},_rendercelltexts:function(){},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();if(this.touchDevice=t,1==this.touchmode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return this.enablehover=!1,!1;t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t}else 0==this.touchmode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=t){for(var s in t)s.toLowerCase()!==s&&(t[s.toLowerCase()]=t[s]);if(t.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=t.pagergotopagestring),t.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=t.pagershowrowsstring),t.pagerrangestring&&(this.gridlocalization.pagerrangestring=t.pagerrangestring),t.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=t.pagernextbuttonstring),t.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=t.pagerpreviousbuttonstring),t.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=t.pagerfirstbuttonstring),t.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=t.pagerlastbuttonstring),t.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=t.groupsheaderstring),t.sortascendingstring&&(this.gridlocalization.sortascendingstring=t.sortascendingstring),t.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=t.sortdescendingstring),t.sortremovestring&&(this.gridlocalization.sortremovestring=t.sortremovestring),t.groupbystring&&(this.gridlocalization.groupbystring=t.groupbystring),t.groupremovestring&&(this.gridlocalization.groupremovestring=t.groupremovestring),t.firstDay&&(this.gridlocalization.firstDay=t.firstDay),t.days&&(this.gridlocalization.days=t.days),t.months&&(this.gridlocalization.months=t.months),t.AM&&(this.gridlocalization.AM=t.AM),t.PM&&(this.gridlocalization.PM=t.PM),t.patterns&&(this.gridlocalization.patterns=t.patterns),t.percentsymbol&&(this.gridlocalization.percentsymbol=t.percentsymbol),t.currencysymbol&&(this.gridlocalization.currencysymbol=t.currencysymbol),t.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=t.currencysymbolposition),null!=t.decimalseparator&&(this.gridlocalization.decimalseparator=t.decimalseparator),null!=t.thousandsseparator&&(this.gridlocalization.thousandsseparator=t.thousandsseparator),t.filterclearstring&&(this.gridlocalization.filterclearstring=t.filterclearstring),t.filterstring&&(this.gridlocalization.filterstring=t.filterstring),t.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=t.filtershowrowstring),t.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=t.filtershowrowdatestring),t.filterselectallstring&&(this.gridlocalization.filterselectallstring=t.filterselectallstring),t.filterchoosestring&&(this.gridlocalization.filterchoosestring=t.filterchoosestring),t.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=t.filterorconditionstring),t.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=t.filterandconditionstring),t.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=t.filterstringcomparisonoperators),t.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=t.filternumericcomparisonoperators),t.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=t.filterdatecomparisonoperators),t.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=t.filterbooleancomparisonoperators),t.emptydatastring&&(this.gridlocalization.emptydatastring=t.emptydatastring),t.filterselectstring&&(this.gridlocalization.filterselectstring=t.filterselectstring),t.todaystring&&(this.gridlocalization.todaystring=t.todaystring),t.clearstring&&(this.gridlocalization.clearstring=t.clearstring),t.validationstring&&(this.gridlocalization.validationstring=t.validationstring),t.loadtext&&(this.gridlocalization.loadtext=t.loadtext),t.addrowstring&&(this.gridlocalization.addrowstring=t.addrowstring),t.udpaterowstring&&(this.gridlocalization.udpaterowstring=t.udpaterowstring),t.deleterowstring&&(this.gridlocalization.deleterowstring=t.deleterowstring),t.resetrowstring&&(this.gridlocalization.resetrowstring=t.resetrowstring),t.everpresentrowplaceholder&&(this.gridlocalization.everpresentrowplaceholder=t.everpresentrowplaceholder),!1!==i){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var s in this._filterrowcache)e(this._filterrowcache[s]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter "}},_getmenudefaultheight:function(){var t=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(t=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(t+=2);var i=t*this._measureMenuElement()+9;return this.filterable&&!this.showfilterrow&&this.showfiltermenuitems&&(i+=190,e.jqx.browser.msie&&e.jqx.browser.version<8&&(i+=20)),i},_initmenu:function(){var t=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array;var i="";this.isTouchDevice()&&(i="jqx-grid-menu-item-touch"),this.gridmenu=e('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>'),this.host.append(this.gridmenu);var s=e("<ul></ul>"),r=e('<li class="'+i+'"><div class="jqx-grid-sortasc-icon"></div>'+this.gridlocalization.sortascendingstring+"</li>"),n=e('<li class="'+i+'"><div class="jqx-grid-sortdesc-icon"></div>'+this.gridlocalization.sortdescendingstring+"</li>"),o=e('<li class="'+i+'"><div class="jqx-grid-sortremove-icon"></div>'+this.gridlocalization.sortremovestring+"</li>"),a='<div class="jqx-grid-groupby-icon"></div>',l=e('<li class="'+i+'">'+a+this.gridlocalization.groupbystring+"</li>"),h=e('<li class="'+i+'">'+a+this.gridlocalization.groupremovestring+"</li>"),d=e('<li type="separator"></li>'),c=e('<li class="filter '+i+'" style="height: 190px;" ignoretheme="true"><div class="filter"></div></li>'),u=this.gridlocalization.sortascendingstring.length,p=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>u&&(u=this.gridlocalization.sortdescendingstring.length,p=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>u&&(u=this.gridlocalization.sortremovestring.length,p=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>u&&(u=this.gridlocalization.groupbystring.length,p=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>u&&(u=this.gridlocalization.groupremovestring.length,p=this.gridlocalization.groupremovestring));var f=200;p=e.trim(p).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var m=e("<span>"+p+"</span>");m.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(m),f=m.outerWidth()+60,m.remove();var g=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(s.append(r),this.menuitemsarray[0]=r[0],s.append(n),this.menuitemsarray[1]=n[0],s.append(o),this.menuitemsarray[2]=o[0],g=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(s.append(l),this.menuitemsarray[3]=l[0],s.append(h),this.menuitemsarray[4]=h[0],g+=2);var v=g*this._measureMenuElement()+9,x=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=c[0],this.menuitemsarray[6]=c[0],s.append(d),s.append(c),v+=190,e.jqx.browser.msie&&e.jqx.browser.version<8&&(v+=20),this.isTouchDevice()&&(v+=30);var b=e(c).find("div:first");this.excelfilterpanel=e("<div></div>"),this.filterpanel=b,this.filtermenu=e(c),f+=20,this._initfilterpanel(this,b,"",f),this._initfilterpanel(this,this.excelfilterpanel,"",f,!0),x=!1,this.removeHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t),this.addHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t)}if(this.gridmenu.append(s),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.filterable&&(e("#listBoxfilter1"+this.element.id).css("z-index",4990),e("#listBoxfilter2"+this.element.id).css("z-index",4990),e("#listBoxfilter3"+this.element.id).css("z-index",4990),e("#gridmenu"+this.element.id).css("z-index",5e3),this.addHandler(e("#gridmenu"+this.element.id),"initialized",function(){e("#menuWrappergridmenu"+t.element.id).css("z-index",4980)})),null==this.menuitemsarray[0]&&(v=65),this.removeHandler(e(window),"orientationchange.jqxgrid"+this.element.id),this.removeHandler(e(window),"orientationchanged.jqxgrid"+this.element.id),this.addHandler(e(window),"orientationchange.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.addHandler(e(window),"orientationchanged.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(i){if(27==i.keyCode)t.gridmenu.jqxMenu("close");else if(13==i.keyCode&&t.filterable&&t._buildfilter){var s="block"==e(e.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display"),r="block"==e(e.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display"),n="block"==e(e.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display");if(e(e.find("#filterclearbutton"+t.element.id)).hasClass("jqx-fill-state-focus")){var o=e.data(document.body,"contextmenu"+t.element.id).column;t._clearfilter(t,t.element,o),t.gridmenu.jqxMenu("close")}else if(!s&&!r&&!n){o=e.data(document.body,"contextmenu"+t.element.id).column;t.gridmenu.jqxMenu("close"),t._buildfilter(t,c,o)}}}),"auto"!=this.popupwidth&&(f=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:999999,width:f,height:v,autoCloseOnClick:x,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0}),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",c[0].id,"closeOnClick",!1),this.rtl){var w=this.that;e.each(s.find("li"),function(){e(this).addClass(w.toTP("jqx-rtl"))});var y=function(e){var t=e.find("div");t.css("float","right"),t.css("margin-left","4px"),t.css("margin-right","-4px")};y(o),y(n),y(r),y(l),y(h)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var t=this.gridlocalization.sortascendingstring.length,i=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>t&&(t=this.gridlocalization.sortdescendingstring.length,i=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>t&&(t=this.gridlocalization.sortremovestring.length,i=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>t&&(t=this.gridlocalization.groupbystring.length,i=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>t&&(t=this.gridlocalization.groupremovestring.length,i=this.gridlocalization.groupremovestring));var s=200;i=e.trim(i).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var r=e("<span>"+i+"</span>");r.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(r),s=r.outerWidth()+60,r.remove();var n=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(n=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(n+=2);var o=n*this._measureMenuElement()+9;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(o+=190,s+=20,e.jqx.browser.msie&&e.jqx.browser.version<8&&(o+=20),this.isTouchDevice()&&(o+=30)),null==this.menuitemsarray[0]&&(o=65),"auto"!=this.popupwidth&&(s=this.popupwidth),"auto"!=this.popupheight&&(o=this.popupheight),this.gridmenu.jqxMenu({width:s,height:o})},_closemenuafterclick:function(t){var i=null!=t?t.data:this,s=!1;if(null==t.target||null!=t.target&&null==t.target.className.indexOf)i.gridmenu.jqxMenu("close");else if(-1==t.target.className.indexOf("filter")||-1!=t.target.className.indexOf("jqx-grid-cell-filter"))if(-1==t.target.className.indexOf("jqx-grid-cell")){if(!i._hasOpenedMenu||!e(t.target).ischildof(i.gridmenu)){i.host.coord();var r=i.gridmenu.coord(),n=t.pageX,o=t.pageY;if(e.each(e(t.target).parents(),function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")?(s=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?(s=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")?(i.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(i.gridmenu.jqxMenu("close"),!1):void 0}),!s){try{if("default"===i.filtermode){var a=e(e.find("#filter1"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if((l=new Date)-a<100)return;if(l-e(e.find("#filter3"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup<100)return;if("block"==e(e.find("#filter3"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter1"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter2"+i.element.id)).jqxDropDownList("container").css("display"))return;if(i._hasdatefilter&&"div"==e(".filtertext1"+i.element.id)[0].nodeName.toLowerCase()){if("block"==e(".filtertext1"+i.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==e(".filtertext2"+i.element.id).jqxDateTimeInput("container").css("display"))return}}else{var l;a=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup;if((l=new Date)-a<100)return;if(l-e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup<100)return}}catch(e){}if(!(n>=r.left&&n<=r.left+i.gridmenu.width()&&o>=r.top&&o<=r.top+i.gridmenu.height())){if(i.columnmenuclosing){var h=e.data(document.body,"contextmenu"+i.element.id);if(h||(h={column:{displayfield:null}}),!1===i.columnmenuclosing(i.gridmenu,h.column.displayfield,e(i.gridmenu).height()))return}i.gridmenu.jqxMenu("close")}}}}else i.gridmenu.jqxMenu("close")},_handlemenueevents:function(){var t=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(e){t._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(i){for(var s=i.args,r=0;r<t.menuitemsarray.length;r++){if(s==t.menuitemsarray[r]){if(null!=e(s).attr("ignoretheme"))return;var n=e.data(document.body,"contextmenu"+t.element.id),o=n.column;t.filterable&&t.gridmenu.jqxMenu("close");var a=o.displayfield;if(null==a&&(a=o.datafield),null!=n)switch(r){case 0:t.sortby(a,"ascending",null);break;case 1:t.sortby(a,"descending",null);break;case 2:t.sortby(a,null,null);break;case 3:t.addgroup(a);break;case 4:t.removegroup(a);break;case 5:var l=e(t.menuitemsarray[6]);e(l).css("display","block")}break}}})},getdatainformation:function(){var e=this.dataview.totalrecords;return this.summaryrows&&(e+=this.summaryrows.length),{rowscount:e,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var t=this.that;this.hiddens=new Array;var i=this.hiddenboundrows;e.each(i,function(e){if(null!=this.index){this.index;var i=t.getrowvisibleindex(e);t.hiddens[i]=this.hidden}})},_updaterowheights:function(){var t=this.that;this.heights=new Array;var i=this.heightboundrows;e.each(i,function(e){if(null!=this.index){this.index;var i=t.getrowvisibleindex(e);t.heights[i]=this.height}})},_updaterowdetails:function(){var t=this.that;this.details=new Array;var i=this.detailboundrows;e.each(i,function(e){if(null!=this.index){this.index;var i=t.getrowvisibleindex(e);t.details[i]=this.details}})},_getmenuitembyindex:function(e){return null==e?null:this.menuitemsarray[e]},openmenu:function(t){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var i=this.getcolumn(t);if(!i.menu)return!1;this.gridmenu||this._initmenu();var s=i.columnsmenu;e(i.element).trigger("mouseenter"),this.menuOwner=i;for(var r=this,n=0;n<r.columns.records.length;n++)r.columns.records[n].datafield!=t&&e(r.columns.records[n].element).trigger("mouseleave");setTimeout(function(){"block"==e(s)[0].style.display&&e(s).trigger("click"),r._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){if(this.columnmenuclosing)if((t=e.data(document.body,"contextmenu"+this.element.id))||(t={column:{displayfield:null}}),!1===this.columnmenuclosing(this.gridmenu,t.column.displayfield,e(this.gridmenu).height()))return;null!=this.gridmenu&&this.gridmenu.jqxMenu("close");var t;if(null!=(t=e.data(document.body,"contextmenu"+this.element.id))&&this.autoshowcolumnsmenubutton){if(this.enableanimations){e(t.columnsmenu).animate({"margin-left":0},"fast",function(){e(t.columnsmenu).css("display","none")});var i=this.rtl?0:-32;t.column.iconscontainer.animate({"margin-left":i},"fast")}else{e(t.columnsmenu).css("display","none");i=this.rtl?0:-32;t.column.iconscontainer.css("margin-left",i)}e.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1,this.menuOwner=null;var s=this._getmenuitembyindex(5);if(s){var r=e(s).find("#filter1"+this.element.id),n=e(s).find("#filter2"+this.element.id),o=e(s).find("#filter3"+this.element.id);r.length>0&&"default"===this.filtermode&&(r.jqxDropDownList("hideListBox"),n.length>0&&n.jqxDropDownList("hideListBox"),o.length>0&&o.jqxDropDownList("hideListBox"))}}},scrolloffset:function(e,t){null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginupdate:function(e,t){this._updating=!0,this._datachanged=!1,!0===e&&(this._batchupdate=!0),!0===t&&(this._stopbindings=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void(this._stopbindings?this.updatebounddata():this.render());if(this._stopbindings)this.updatebounddata("data");else{if(1==this._datachanged){var e=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=e&&e<this.vScrollInstance.max&&this.scrolltop(e)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block")},hideloadelement:function(){e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var e=this.that;e.focusedfilter&&(e.focusedfilter.focus(),setTimeout(function(){if(e.focusedfilter.focus(),"input"==e.focusedfilter[0].nodeName.toLowerCase()){var t=e.focusedfilter.val().length;try{if("selectionStart"in e.focusedfilter[0])e.focusedfilter[0].setSelectionRange(t,t);else{var i=e.focusedfilter[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}catch(e){}}},50))},databind:function(t,i){if(!0!==this.loadingstate&&!0!==this._stopbindings){var s=window;"block"==this.host.css("display")&&(this.autoshowloadelement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var r=this.that;null==t&&(t={}),t.recordstartindex||(t.recordstartindex=0),t.recordendindex||(t.recordendindex=0),null!=t.loadallrecords&&null!=t.loadallrecords||(t.loadallrecords=!0),null!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),null!=t.filter&&null!=t.filter||(t.filter=null),null!=t.sort&&null!=t.sort||(t.sort=null),null!=t.data&&null!=t.data||(t.data=null);var n=null;if(null!=t&&(n=null!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataview,e.jqx.dataview.sort&&e.extend(this.dataview,new e.jqx.dataview.sort),e.jqx.dataview.grouping&&e.extend(this.dataview,new e.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!r.initializedcall){if(t._source&&this.sortable&&(null!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),null!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var o=t._source.sortdirection;if("a"==o||"asc"==o||"ascending"==o||1==o)var a=!0;else a=!1;this.sortdirection=null!=o?{ascending:a,descending:!a}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(null!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),null!=t._source.pagesize?(this.pagesize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection)),this.filterable&&this.columns&&e.each(this.columns,function(){this.filter&&r.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0,this.dataview.update=function(t){if(!r.pageable&&r.virtualmode&&(r.loadondemand=!0),r._loading=!1,r.dataview.isupdating()&&r.dataview.resumeupdate(!1),r.pageable&&r.pagerrenderer){if(!r._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");r._initpager()}if(r.source&&r.source.sortcolumn&&r.sortby&&!r.virtualmode)r.render(),r.source._source.sort||r.sortby(r.source.sortcolumn,r.source.sortdirection,r.source.sortcomparer),r.source.sortcolumn=null,r._postrender("data");else{var n=r.vScrollInstance.value,o=r.hScrollInstance.value,a=r.source?r.source.datatype:"array";if("local"!=a||"array"!=a){var l=null==r.virtualsizeinfo||null!=r.virtualsizeinfo&&0==r.virtualsizeinfo.virtualheight;if("cells"==i){var h=!1;if(r.filterable&&r._initfilterpanel&&r.dataview.filters.length&&(h=!0),0==t)return r.vScrollInstance.isScrolling()||r.hScrollInstance.isScrolling()||(r._cellscache=new Array,r._pagescache=new Array,r._renderrows(r.virtualsizeinfo),r.showfilterrow&&r.filterable&&r.filterrow&&r._updatelistfilters(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates()),r.sortcolumn&&r.sortby(r.sortcolumn,r.dataview.sortfielddirection,r.source.sortcomparer),r.autoshowloadelement&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none")),r.virtualmode&&!r._loading&&(r.loadondemand=!0,r._renderrows(r.virtualsizeinfo)),void r._postrender("data");h?i="filter":null!=r.sortcolumn&&(i="sort")}!r.virtualmode||l||r.virtualmode&&r.pageable?1==r.initializedcall&&"pagechanged"==i?(n=0,r.groupable&&r.groups.length>0?(r._render(!0,!0,!1,!1,!1),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo),r._postrender("data")):(r.rendergridcontent(!0),r.pageable&&r.updatepagerdetails&&(r.updatepagerdetails(),r.autoheight?(r._updatepageviews(),r.autorowheight&&r._renderrows(this.virtualsizeinfo)):r.autorowheight&&(r._updatepageviews(),r._renderrows(this.virtualsizeinfo)))),r.showaggregates&&r._updateaggregates&&r._updateaggregates(),r._postrender("data")):"filter"==i?(r.virtualmode,r._render(!0,!0,!1,!1,!1),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo),r._updatefocusedfilter(),r._postrender("data")):"sort"==i?(r.virtualmode?(r.rendergridcontent(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates(),r._postrender("data")):(r._render(!0,!0,!1,!1,!1),r.sortcolumn&&!r.source.sort&&r.sortby(r.sortcolumn,r.dataview.sortfielddirection,r.source.sortcomparer),r._postrender("data")),r.source.sort&&r._updatefocusedfilter()):"data"==i?(r._render(!0,!0,!1,!1,!1),r._postrender("data")):"state"==i?(r._render(!0,!0,!1,r.menuitemsarray&&r.menuitemsarray.length>0&&!r.virtualmode),r._postrender("data")):(r._render(!0,!0,!0,r.menuitemsarray&&r.menuitemsarray.length>0&&!r.virtualmode),r._postrender("data")):r.virtualmode&&1==t&&!r.pageable?(r._render(!0,!0,!1,!1,!1),r._updatefocusedfilter(),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo),r._postrender("data")):r.virtualmode&&!r.pageable&&0==t&&null!=i?(r.rendergridcontent(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates(),r._postrender("data")):r.virtualmode&&0==r.dataview.totalrecords&&r.dataview.filters.length>0?(r._render(!0,!0,!0,r.menuitemsarray&&!r.virtualmode),r._postrender("data")):(r._pagescache=new Array,r._renderrows(r.virtualsizeinfo),r._postrender("data")),r.vScrollInstance.value!=n&&n<=r.vScrollInstance.max&&r.vScrollInstance.setPosition(n),r.hScrollInstance.value!=o&&o<=r.hScrollInstance.max&&r.hScrollInstance.setPosition(o)}}if(r.autoshowloadelement&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none")),r.pageable&&(r.pagerrightbutton&&(r.pagerrightbutton.jqxButton({disabled:!1}),r.pagerleftbutton.jqxButton({disabled:!1}),r.pagershowrowscombo.jqxDropDownList({disabled:!1})),r.pagerfirstbutton&&(r.pagerfirstbutton.jqxButton({disabled:!1}),r.pagerlastbutton.jqxButton({disabled:!1}))),r._raiseEvent(11),r.initializedcall)r._updateTouchScrolling();else{var d=function(){if(r._raiseEvent(0),r.initializedcall=!0,r.isInitialized=!0,r.ready&&r.ready(),r.renderstatusbar&&r.renderstatusbar(r.statusbar),r.rendertoolbar&&r.rendertoolbar(r.toolbar),r._rendercelltexts&&r._rendercelltexts(),r._gridRenderElement){e(r._gridRenderElement).show("slow");var t=6e3+Math.floor(4e3*Math.random()+1),i=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();s[e.camelCase(i)](function(){e(r._gridRenderElement).hide("slow",function(){e(r._gridRenderElement).remove()})},t)}r.autoloadstate&&r.loadstate&&r.loadstate(null,!0)};if(e.jqx.isHidden(r.host)?(r.readyInterval&&clearInterval(r.readyInterval),r.readyInterval=setInterval(function(){e.jqx.isHidden(r.host)||r.__isRendered&&(clearInterval(r.readyInterval),r.readyInterval=null,d(),r._initmenu())},200)):d(),null!=r.width&&-1!=r.width.toString().indexOf("%")||null!=r.height&&r.height.toString().indexOf("%"),"hidden"==r.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==r.vScrollBar.css("visibility")&&r.vScrollBar.css("visibility","inherit"),r.autowidth||"visible"==r.hScrollBar.css("visibility")&&r.hScrollBar.css("visibility","inherit"),r._intervalTimer=setInterval(function(){"visible"==r.host.css("visibility")&&(r._updatesize(!0),clearInterval(r._intervalTimer))},100)}}},this.dataview.databind(t),this.dataview.isupdating()&&(null!=n?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(e,t){null!=e&&this.hScrollInstance.setPosition(e),null!=t&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(e){if(this.autoheight&&!this.pageable)return!0;var t=this._getpagesize(),i=Math.floor(e/t);if(this._pageviews[i]||this.pageable||this._updatepageviews(),this.groupable&&this.groups.length>0)return!0;var s=!1;if(this.pageable&&this.gotopage&&!this.virtualmode){i=Math.floor(e/t);if(this.dataview.pagenum!=i){if(this.groupable&&this.groups.length>0)return!0;this.gotopage(i),s=!0}}var r=this.vScrollInstance.value,n=this._gettableheight()-this.rowsheight,o=t*(e/t-i);if(o=Math.round(o),this._pageviews[i]){var a=this._pageviews[i].top+o*this.rowsheight;if(this.rowdetails)for(var l=t*i;l<e;l++)this.details[l]&&0==this.details[l].rowdetailshidden&&(a+=this.details[l].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=a+this.rowsheight&&(a=this.vScrollInstance.max),a<r?(this.scrolltop(a),s=!0):a>r+n+2&&(this.scrolltop(a-n),s=!0)}else if(this.pageable){a=o*this.rowsheight;if(this.rowdetails)for(l=t*i;l<t*i+o;l++)this.details[l]&&0==this.details[l].rowdetailshidden&&(a+=this.details[l].rowdetailsheight);(a<r||a>r+n)&&(this.scrollto(0,a),s=!0)}return s},ensurecellvisible:function(t,i){var s=this.that,r=this.hScrollBar.jqxScrollBar("value"),n=s.hScrollInstance.max;s.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(n=0);var o=this.ensurerowvisible(t),a=0;if(this.columns.records){var l=r;if("hidden"==this.hScrollBar.css("visibility"))return;var h=this.host.width(),d=0,c="visible"==this.vScrollBar.css("visibility")?20:0,u=!1;e.each(this.columns.records,function(){if(this.hidden)return!0;if(this.datafield==i){var e=0,t=s.rtl?n-r:l;return a+this.width>t+h-c?(e=a+this.width-h+c,s.rtl&&(e=n-e),s.scrollleft(e),u=!0):a<=t&&(e=a-this.width,s.rtl&&(e=n-e),s.scrollleft(e),u=!0),0==d?(s.rtl?s.scrollleft(n):s.scrollleft(0),u=!0):d==s.columns.records.length-1&&"visible"==s.hScrollBar.css("visibility")&&(s.rtl?s.scrollleft(s.hScrollBar.jqxScrollBar("min")):s.scrollleft(s.hScrollBar.jqxScrollBar("max")),u=!0),!1}d++,a+=this.width}),u||s.scrollleft(l)}return o},setrowheight:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return null!=e&&null!=t&&(this.heightboundrows[e]={index:e,height:t},!((e=this.getrowvisibleindex(e))<0)&&(this.rows.records[e]?this.rows.records[e].height=t:(row=new i(this,null),row.height=t,this.rows.replace(e,row)),this.heights[e]=t,this.rendergridcontent(!0),!0))},getrowheight:function(e){return null==e?null:!((e=this.getrowvisibleindex(e))<0)&&(this.rows.records[e]?this.rows.records[e].height:void 0)},setrowdetails:function(t,i,s,r){if(!(null==t||null==t||t<0)){var n=t+"_";if(this._rowdetailscache[n]){var o=this._rowdetailscache[n].element;e(o).remove(),this._rowdetailscache[n]=null}var a=this.dataview.generatekey();return this.detailboundrows[t]={index:t,details:{rowdetails:i,rowdetailsheight:s,rowdetailshidden:r,key:a}},!((t=this.getrowvisibleindex(t))<0)&&this._setrowdetails(t,i,s,r,a)}},getcolumn:function(t){var i=null;return this.columns.records?e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}):this.columns&&e.each(this.columns,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_getcolumnindex:function(t){var i=-1;return this.columns.records&&e.each(this.columns.records,function(){if(i++,this.datafield==t)return!1}),i},_getcolumnat:function(e){return this.columns.records[e]},_getprevvisiblecolumn:function(e){for(var t=this.that;e>0;){e--;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},_getnextvisiblecolumn:function(e){for(var t=this.that;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},getcolumnat:function(e){return isNaN(e)?null:this.columns.records[e]},_getcolumn:function(t){var i=null;return e.each(this._columns,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var s=this.getcolumn(e);if(null!=s){var r=s[t];s[t]=i;var n=this._getcolumn(e);switch(null!=n&&(n[t]=i),this._cellscache=new Array,t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo),this.filterable&&this.showfilterrow&&this.refreshfilterrow();break;case"editable":case"resizable":case"draggable":if("editable"==t&&i!=r){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==s.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==t&&(this._initializeColumns(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1;"hidden"==t&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;s._width=null,s._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getcolumn(e)[t])},setcolumnproperty:function(e,t,i){this._setcolumnproperty(e,t,i)},getcolumnproperty:function(e,t){return this._getcolumnproperty(e,t)},hidecolumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showcolumn:function(e){this._setcolumnproperty(e,"hidden",!1)},iscolumnvisible:function(e){return!this._getcolumnproperty(e,"hidden")},pincolumn:function(e){this._setcolumnproperty(e,"pinned",!0)},unpincolumn:function(e){this._setcolumnproperty(e,"pinned",!1)},iscolumnpinned:function(e){return this._getcolumnproperty(e,"pinned")},_setrowdetails:function(e,t,i,s,r){if(0==i&&(i=100),null==e||null==i)return!1;if(null!=r)this.details[e]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,detailskey:r};else{for(var n=null!=this.details[e]?this.details[e].detailskey:null,o={rowdetails:t,rowdetailsheight:i,rowdetailshidden:s,detailskey:n},a=(this.that,0);a<this.detailboundrows.length;a++)if(null!=this.detailboundrows[a]){var l=this.detailboundrows[a];if(l.details.detailskey==n){l.details.rowdetailsheight=o.rowdetailsheight,l.details.rowdetailshidden=o.rowdetailshidden,l.details.rowdetails=o.rowdetails;break}}this.details[e]=o}return this._detailsUpdate?void 0:(this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0)},getrowdetails:function(e){return null!=e&&(e=this.getrowvisibleindex(e),this._getrowdetails(e))},_getrowdetails:function(e){return null!=e&&(!(e<0)&&(this.details[e]?this.details[e]:this.rowdetailstemplate?this.rowdetailstemplate:void 0))},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e)return!1;if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!1,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!1)},hiderowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!0,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!0)},_togglerowdetails:function(e){this.detailsVisibility||(this.detailsVisibility=new Array);var t=e.visibleindex,i=this._getrowdetails(t);if(null!=i){var s=this.vScrollInstance.value,r=!i.rowdetailshidden,n=this.getboundindex(e);null!=n&&(this.detailsVisibility[n]=r);var o=this._setrowdetailsvisibility(t,i,r);return 0!==s&&"hidden"!==this.vScrollBar.css("visibility")&&(s<=this.vScrollInstance.max?this.vScrollInstance.setPosition(s):this.vScrollInstance.setPosition(this.vScrollInstance.max)),o}return!1},_setrowdetailsvisibility:function(e,t,i){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[e])){this.details[e]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var s=this.dataview.generatekey();this.details[e].detailskey=s,this.detailboundrows[e]={index:e,details:this.details[e]}}if(null==t)return!1;this.details[e].rowdetailshidden=i;var r=this.details[e];return i?this._raiseEvent(21,{rowindex:e,details:r.rowdetails,height:r.rowdetailsheight}):this._raiseEvent(20,{rowindex:e,details:r.rowdetails,height:r.rowdetailsheight}),this._setrowdetails(e,r.rowdetails,r.rowdetailsheight,r.rowdetailshidden)},getrowvisibleindex:function(e){if(null==e||null==e||e<0)return!1;if(this.virtualmode){var t=this.dataview.loadedrecords[e];return null==t?-1:t.visibleindex}return this.getrowdisplayindex(e)},hiderow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(null==e||null==e||e<0)&&(null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!0},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!0)))},showrow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(null==e||null==e||e<0)&&(null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!1},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!1)))},isrowhiddenat:function(e){return null==e?null:(e=this.getrowvisibleindex(e),this.rows.records[e]?this.rows.records[e].hidden:void 0)},_setrowvisibility:function(e,t,i){return null!=e&&(this.hiddens[e]=t,!(null!=i&&!i)&&(this.rendergridcontent(!0),!0))},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var e=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&null!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var t=this.that,s=new Array,r=new Array,n=t.groupable&&t.groups.length>0,o=(this.dataview.totalrecords,this.virtualsizeinfo.virtualheight,0);this.rows.beginupdate();var a=this.dataview.pagesize;this.pageable&&n&&(a=this.dataview.rows.length);for(var l=0;l<a&&!(l>=this.dataview.rows.length);l++){var h=this.dataview.rows[l],d=null;t.rows.records[h.visibleindex]?(d=t.rows.records[h.visibleindex]).setdata(h):d=new i(t,h),d.hidden=this.hiddens[d.visibleindex],this.rowdetailstemplate&&(d.rowdetails=this.rowdetailstemplate.rowdetails,d.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,d.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden);var c=this.details[d.visibleindex];if(c?(d.rowdetails=c.rowdetails,d.rowdetailsheight=c.rowdetailsheight,d.rowdetailshidden=c.rowdetailshidden):this.rowdetailstemplate||(d.rowdetails=null),n&&this.pageable&&null!=d.parentbounddata){var u=s[d.parentbounddata.uniqueid];if(null!=u){var p=this._findgroupstate(u.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,d.parentbounddata,!p,!1),d.hidden=this.hiddens[d.visibleindex]}null!=u&&null!=u&&(d.parentrow=u,u.subrows[u.subrows.length++]=d)}if(!d.hidden){var f=h.visibleindex;this.heights[f]||(this.heights[f]=this.rowsheight),d.height=this.heights[f],this.rowdetails&&d.rowdetails&&!d.rowdetailshidden&&(d.height+=d.rowdetailsheight),s[d.uniqueid]=d,r[o++]=d,d.top=e,e+=d.height;var m=f;t.rows.replace(m,d)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=e),this.rows.resumeupdate(),r.length>0&&(this._pagescache[this.dataview.pagenum]=r)}}},_updateaddnewrowui:function(t){for(var i="bottom"!=this.everpresentrowposition?this.addnewrowtop:this.addnewrowbottom,s=this.columns.records.length,r=0,n=0;n<s;n++){(o=this.columns.records[n]).addnewrowwidget&&e(o.addnewrowwidget).detach()}for(n=0;n<s;n++){var o,a=(o=this.columns.records[n]).width;a<o.minwidth&&(a=o.minwidth),a>o.maxwidth&&(a=o.maxwidth);var l=e(i[0].cells[n]);l.css("left",r);l.width()==a&&!1,t&&!0,l.width(a),l[0].left=r,o.addnewrowwidget&&(l.html(""),l.append(o.addnewrowwidget)),o.hidden&&o.hideable?l.css("display","none"):r+=a}var h=this.everpresentrowactions.split(" ");this.addnewrowbutton.show(),this.addnewrowupdatebutton.show(),this.addnewrowresetbutton.show(),this.addnewrowdeletebutton.show(),-1==h.indexOf("add")&&-1==h.indexOf("addBottom")&&this.addnewrowbutton.hide(),-1==h.indexOf("update")&&this.addnewrowupdatebutton.hide(),-1==h.indexOf("reset")&&this.addnewrowresetbutton.hide(),-1==h.indexOf("delete")&&this.addnewrowdeletebutton.hide();var d=e(i.children()[0]);d.width(parseInt(r)+2),d.height(this.everpresentrowheight),d.css("max-height",this.everpresentrowheight+"px")},_removeaddnewrow:function(){for(var e=this.columns.records.length,t=0;t<e;t++){var i=this.columns.records[t];i.addnewrowwidget&&(i.destroyeverpresentrowwidget?i.destroyeverpresentrowwidget(i.addnewrowwidget):i.addnewrowwidget.remove(),i.addnewrowwidget=null)}this.addnewrowbutton&&this.addnewrowbutton.remove(),this.addnewrowupdatebutton&&this.addnewrowupdatebutton.remove(),this.addnewrowdeletebutton&&this.addnewrowdeletebutton.remove(),this.addnewrowresetbutton&&this.addnewrowresetbutton.remove(),this.addnewrowpopup&&(this.addnewrowpopup.remove(),this.addnewrowpopup=null),this.addnewrowtop&&(this.addnewrowtop.remove(),this.addnewrowtop=null),this.addnewrowbottom&&(this.addnewrowbottom.remove(),this.addnewrowbottom=null)},_updateaddnewrow:function(){var t=this,i="bottom"!=t.everpresentrowposition?t.addnewrowtop:t.addnewrowbottom,s=e('<div style="position: relative;" id="row000'+t.element.id+'"></div>'),r=0,n=t.columns.records.length,o=t.toThemeProperty("jqx-grid-cell");o+=" "+t.toThemeProperty("jqx-grid-cell-add-new-row"),o+=" "+t.toThemeProperty("jqx-grid-cell-filter-row");var a=n+10,l=new Array;t.that;i[0].cells=l,s.height(t.everpresentrowheight),t.showfilterrow||"bottom"==t.everpresentrowposition?t.showfilterrow&&"bottom"!=t.everpresentrowposition&&i.css("max-height",t.everpresentrowheight-3+"px"):i.css("max-height",t.everpresentrowheight-1+"px"),s.css("max-height",t.everpresentrowheight+"px"),i.append(s);var h=e("<div style='border-width: 1px; border-style: solid; padding: 5px; z-index: 99999; display: none; position: absolute;'><div>").appendTo(e(document.body)),d=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.addrowstring+"</button>"),c=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.udpaterowstring+"</button>"),u=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.deleterowstring+"</button>"),p=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.resetrowstring+"</button>");h.addClass(t.toThemeProperty("jqx-popup")),h.addClass(t.toThemeProperty("jqx-rc-all")),h.addClass(t.toThemeProperty("jqx-fill-state-normal")),h.addClass(t.toThemeProperty("jqx-shadow")),h.append(d),h.append(c),h.append(u),h.append(p);var f=t.everpresentrowactions.split(" ");-1==f.indexOf("add")&&-1==f.indexOf("addBottom")&&d.hide(),-1==f.indexOf("update")&&c.hide(),-1==f.indexOf("reset")&&p.hide(),-1==f.indexOf("delete")&&u.hide(),t.addnewrowpopup=h,t.addnewrowbutton=d,t.addnewrowupdatebutton=c,t.addnewrowdeletebutton=u,t.addnewrowresetbutton=p,d.jqxButton({template:"success",theme:t.theme}),u.jqxButton({template:"danger",theme:t.theme}),c.jqxButton({template:"primary",theme:t.theme}),p.jqxButton({template:"warning",theme:t.theme}),c.mousedown(function(e){for(var i={},s={},r=0;r<n;r++){if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){var o=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);s[c.datafield]=o,c.datafield!=c.displayfield&&(s[c.datafield]=o.value,s[c.displayfield]=o.label)}}var a=!1;for(r=0;r<n;r++){if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){o=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);if(c.createeverpresentrowwidget&&c.validateeverpresentrowwidgetvalue){var l=c.validateeverpresentrowwidgetvalue(c.displayfield,o,s),d=t.gridlocalization.validationstring;null!=l.message&&(d=l.message),("boolean"==typeof l?l:l.result)?(c.addnewrowwidget.attr("title",""),c.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(o="invalid editor state",c.addnewrowwidget.attr("title",d),c.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==o||(e.preventDefault(),e.stopPropagation(),a=!0)}}if(a)return h.hide(),void t.focus();for(r=0;r<n;r++){var c;if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){o=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);i[c.datafield]=o,c.datafield!=c.displayfield&&(i[c.datafield]=o.value,i[c.displayfield]=o.label),c.reseteverpresentrowwidgetvalue&&c.reseteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget)}}if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var u=t.getselectedcells()[0].rowindex;else u=t.selectedrowindexes[0];rowData=t.getrowdata(u),rowData&&t.updaterow(rowData.uid,i)}h.hide(),t.focus()}),u.mousedown(function(e){if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex;else i=t.selectedrowindexes[0];rowData=t.getrowdata(i),rowData&&t.deleterow(rowData.uid)}for(var s=0;s<n;s++){var r=t.columns.records[s];r.reseteverpresentrowwidgetvalue&&r.reseteverpresentrowwidgetvalue(r.displayfield,r.addnewrowwidget)}h.hide(),t.focus(),t.updateeverpresentrow()}),d.mousedown(function(e){for(var i={},s={},r=0;r<n;r++){if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){var o=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);s[c.datafield]=o,c.datafield!=c.displayfield&&(s[c.datafield]=o.value,s[c.displayfield]=o.label),c.datafield!=c.displayfield&&(s[c.datafield]=o.label,s[c.displayfield]=o.value)}}var a=!1;for(r=0;r<n;r++){if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){o=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);if(c.createeverpresentrowwidget&&c.validateeverpresentrowwidgetvalue){var l=c.validateeverpresentrowwidgetvalue(c.displayfield,o,s),d=t.gridlocalization.validationstring;null!=l.message&&(d=l.message),("boolean"==typeof l?l:l.result)?(c.addnewrowwidget.attr("title",""),c.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(o="invalid editor state",c.addnewrowwidget.attr("title",d),c.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==o||(e.preventDefault(),e.stopPropagation(),a=!0)}}if(a)return h.hide(),void t.focus();for(r=0;r<n;r++){var c;if((c=t.columns.records[r]).geteverpresentrowwidgetvalue){o=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);i[c.datafield]=o,c.datafield!=c.displayfield&&(s[c.datafield]=o.label,s[c.displayfield]=o.value),c.reseteverpresentrowwidgetvalue&&c.reseteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget)}}var u=t.everpresentrowactions.indexOf("addBottom")>=0?"last":"first";t.addrow(null,i,u),h.hide(),t.focus()}),p.mousedown(function(e){for(var i=0;i<n;i++){var s=t.columns.records[i];s.reseteverpresentrowwidgetvalue&&s.reseteverpresentrowwidgetvalue(s.displayfield,s.addnewrowwidget),s.addnewrowwidget&&(s.addnewrowwidget.attr("title",""),s.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid")))}h.hide(),t.focus()});for(var m=0;m<n;m++){var g=t.columns.records[m],v=g.width;v<g.minwidth&&(v=g.minwidth),v>g.maxwidth&&(v=g.maxwidth);var x=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+o+'"></div>');if(s.append(x),x.css("left",r),t.rtl?(x.css("z-index",a++),x.css("border-left-width","1px")):x.css("z-index",a--),"auto"==v&&(v=0),x[0].style.width=parseFloat(v)+"px",x[0].left=r,g.hidden&&g.hideable?x.css("display","none"):r+=v,l[l.length]=x[0],g.checkboxcolumn){var b=t.toThemeProperty("jqx-grid-cell");b+=" "+t.toThemeProperty("jqx-grid-cell-filter-row"),b+=" "+t.toThemeProperty("jqx-grid-cell-pinned"),x.removeClass().addClass(b)}else{var w=!0;if(t.rtl){if(t.groupable){y=t.showrowdetailscolumn&&t.rowdetails?1:0;t.groups.length+y+m>n-1&&(w=!1)}t.showrowdetailscolumn&&t.rowdetails&&m==n-1&&(w=!1)}else{if(t.groupable){var y=t.showrowdetailscolumn&&t.rowdetails?1:0;t.groups.length+y>m&&(w=!1)}t.showrowdetailscolumn&&t.rowdetails&&0==m&&(w=!1)}if(t.updateeverpresentrow=function(){var e=null;if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex;else i=t.selectedrowindexes[0];e=t.getrowdata(i)}if(e)for(var s=0;s<t.columns.records.length;s++){var r=t.columns.records[s];if(r.seteverpresentrowwidgetvalue){var n=t.getcelltext(i,r.displayfield);r.seteverpresentrowwidgetvalue(r.addnewrowwidget,n)}}},w)if(g.createeverpresentrowwidget){g.addnewrowwidget=g.createeverpresentrowwidget(g.datafield,x,h,function(){d.trigger("mousedown")}),g.initeverpresentrowwidget&&g.initeverpresentrowwidget(g.datafield,x,h)}else{t._measureElement("column");var _=t.everpresentrowheight/2-t._columnheight/2;if(_<0&&(_=6),_+="px","addButtonColumn"===g.datafield){var j=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+_+';"><a href="#">'+t.gridlocalization.addrowstring+"</a></div>");x.append(j),j.mousedown(function(){d.trigger("mousedown")});continue}if("resetButtonColumn"===g.datafield){j=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+_+';"><a href="#">'+t.gridlocalization.resetrowstring+"</a></div>");x.append(j),j.mousedown(function(){p.trigger("mousedown")});continue}!function(i,s,r){var o=e('<input style="box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete="off" type="textarea"/>');if(o[0].id=e.jqx.utilities.createId(),o.addClass(i.toThemeProperty("jqx-widget")),o.addClass(i.toThemeProperty("jqx-input")),o.addClass(i.toThemeProperty("jqx-widget-content")),o.addClass(i.toThemeProperty("jqx-enableselect")),o.addClass(i.toThemeProperty("jqx-grid-cell-add-new-row")),o.css("text-align",r.cellsalign),i.rtl&&o.css("direction","rtl"),i.disabled&&o.attr("disabled",!0),o.attr("disabled",!1),o.attr("placeholder",i.gridlocalization.everpresentrowplaceholder+r.text),o.appendTo(s),o.css("width","100%"),o.css("height",i.everpresentrowheight+"px"),o.css("line-height",i.everpresentrowheight+"px"),o.css("max-height",i.everpresentrowheight+"px"),o.css("margin","0px"),o.focus(function(){(t.selectedcells.length>0||t.selectedrowindexes.length>0)&&(t.selectionmode.indexOf("cell")>=0?t.getselectedcells()[0].rowindex:t.selectedrowindexes[0]),o.addClass(i.toThemeProperty("jqx-fill-state-focus"));var e=i.columns.records.indexOf(r);"columns"!==i.everpresentrowactionsmode&&h.css({display:"block",top:o.coord().top+i.everpresentrowheight-1,left:e>0?o.coord().left:o.coord().left-1});var s=h.children().width();return"right"===r.cellsalign?(s=d.width()+p.width(),h.children().css("left",s-s+"px")):h.children().css("left","0px"),i.content[0].scrollLeft=0,i.content[0].scrollTop=0,setTimeout(function(){i.content[0].scrollLeft=0,i.content[0].scrollTop=0},50),!1}),r.addnewrowwidget=o,r.reseteverpresentrowwidgetvalue||(r.reseteverpresentrowwidgetvalue=function(e,i){i.val(""),i.focus(),i.blur(),i.removeClass(t.toThemeProperty("jqx-input-invalid")),i.attr("title","")}),r.seteverpresentrowwidgetvalue||(r.seteverpresentrowwidgetvalue=function(e,t){e.val(t)}),!r.geteverpresentrowwidgetvalue){var a=r;r.geteverpresentrowwidgetvalue=function(i,s,r){var l=s.val();if(!1!==r&&a.validateeverpresentrowwidgetvalue){for(var h={},d=0;d<n;d++){var c=t.columns.records[d];if(c.geteverpresentrowwidgetvalue){var u=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget,!1);h[c.datafield]=u,c.datafield!=c.displayfield&&(h[c.datafield]=u.value,h[c.displayfield]=u.label)}}var p=a.validateeverpresentrowwidgetvalue(a.displayfield,l,h),f=t.gridlocalization.validationstring;if(null!=p.message&&(f=p.message),!("boolean"==typeof p?p:p.result))return o.addClass(t.toThemeProperty("jqx-input-invalid")),o.attr("title",f),"invalid editor state";o.removeClass(t.toThemeProperty("jqx-input-invalid")),o.attr("title","")}var m="string",g=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(g){var v="";e.each(g,function(){if(this.name==a.displayfield)return this.type&&(v=this.type),!1}),v&&(m=v)}if("number"===m){var x=parseFloat(l);if(isNaN(x))return null}return"date"===m?e.jqx.dataFormat.tryparsedate(l,t.gridlocalization):"bool"===m||"boolean"===m?"true"===l||"1"==l||"false"!==l&&"0"!=l&&(!0===l?l:!1===l&&l):l}}o.keydown(function(e){13===e.keyCode&&(t.everpresentrowactions.indexOf("add")>=0?d.trigger("mousedown"):t.everpresentrowactions.indexOf("update")>=0?c.trigger("mousedown"):t.everpresentrowactions.indexOf("delete")>=0&&u.trigger("mousedown"))}),o.blur(function(){o.removeClass(i.toThemeProperty("jqx-fill-state-focus")),h.css("display","none")}),r.initeverpresentrowwidget&&r.initeverpresentrowwidget(r.datafield,s,h)}(this,x,g)}}}e.jqx.browser.msie&&e.jqx.browser.version<8&&s.css("z-index",a--),s.width(parseFloat(r)+2),i.addClass(o),i.css("border-bottom-width","0px"),t.showfilterrow?i.css("border-top-width","0px"):i.css("border-top-width","1px"),i.css("box-sizing","border-box"),i.css("border-right-width","0px")},_gettableheight:function(){if(null!=this.tableheight)return this.tableheight;var e=this.host.height();if(this.columnsheader){var t=this.columnsheader.outerHeight();this.showheader||(t=0)}return e-=t,"visible"==this.hScrollBar[0].style.visibility&&(e-=this.hScrollBar.outerHeight()),this.pageable&&(e-=this.pager.outerHeight()),this._groupsheader()&&(e-=this.groupsheader.outerHeight()),this.showtoolbar&&(e-=this.toolbarheight),this.showstatusbar&&(e-=this.statusbarheight),this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(e-=this.everpresentrowheight),e>0?(this.tableheight=e,e):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight;return Math.round(e/this.rowsheight)}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){this.that;var e=Math.round(this.host.height())+2*this.rowsheight;realheight=this._gettableheight();var t=Math.round(e/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var i=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(i=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?i=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(i=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var s=i*this.rowsheight,r=0,n=0,o=0,a=this._getpagesize(),l=a*this.rowsheight,h=0;if(!this.pageable&&this.autoheight&&(t=i),i+a>0)for(;h<=i+a;){if(r+=l,h-a<i&&h>=i){var d=h-i;d>0&&(o-=l,this._pageviews[n-1]={top:o,height:l-d*this.rowsheight});break}this._pageviews[n++]={top:o,height:l},o=r,h+=a}if(1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),"hidden"==this.hScrollBar.css("visibility")){var c=0;if(this.columns&&this.columns.records){for(h=0;h<this.columns.records.length;h++)c+=isNaN(this.columns.records[h].width)?this.columns.records[h].minwidth:this.columns.records[h].width;!isNaN(c)&&parseInt(c)>this.host.width()&&(realheight-=30)}}return s>realheight&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),"deferred"==this.scrollmode?this.vScrollBar.jqxScrollBar({max:s}):this.vScrollBar.jqxScrollBar({max:s-realheight})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=a,this.dataview.updateview(),{visiblerecords:t,virtualheight:s}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var e=this.that,t=Math.round(this.host.height())+2*this.rowsheight,i=Math.round(t/this.rowsheight),s=Math.max(this.dataview.totalrows,this.dataview.totalrecords),r=s*this.rowsheight,n=0,o=0,a=0,l=0,h=0,d=this._getpagesize();if(this.pageable)this._updatepagedview&&(r=this._updatepagedview(s,r,0)),this.autoheight&&this._arrange();else for(var c=0;c<s;c++){var u={index:c,height:this.heights[c],hidden:this.hiddens[c],details:this.details[c]};if(null==this.heights[c]&&(this.heights[c]=this.rowsheight,u.height=this.rowsheight),null==this.hiddens[c]&&(this.hiddens[c]=!1,u.hidden=!1),null==this.details[c]&&(this.details[c]=null),u.height!=e.rowsheight&&(r-=e.rowsheight,r+=u.height),u.hidden)r-=u.height;else{o+=u.height;var p=0;this.rowdetails&&(this.rowdetailstemplate&&(u.details||(u.details=this.rowdetailstemplate)),u.details&&u.details.rowdetails&&!u.details.rowdetailshidden&&(o+=p=u.details.rowdetailsheight,r+=p)),n+=u.height+p}(++h>=d||c==s-1)&&(this._pageviews[a++]={top:l,height:o},o=0,l=n,h=0)}var f=this._gettableheight();if(r>f)if(this.pageable&&this.gotopage&&(r=this._pageviews[0].height)<0&&(r=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(r<=f||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),r-f>0)if("deferred"!=this.scrollmode){var m=r-f,g=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:m}),m!=g&&this.vScrollBar.jqxScrollBar({value:0})}else this.vScrollBar.jqxScrollBar({value:0,max:r});else this.vScrollBar.jqxScrollBar({value:0,max:r});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(i=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:i,virtualheight:r}}},updatebounddata:function(e){"data"==e||"sort"==e||"filter"==e||"cells"==e||"pagechanged"==e||"pagesizechanged"==e||this.virtualmode||(this.virtualsizeinfo=null,this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.detailsVisibility=new Array,this.groupsVisibility=new Array,this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())),this.databind(this.source,e)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var e=this._pageviews[0].height;!this.virtualmode&&this.pageable||(e=this.virtualsizeinfo.virtualheight);var t=this._gettableheight();if(e>t)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height)<0&&(e=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(e<=t||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),e-t>0){var i=e-t;this.vScrollBar.jqxScrollBar({max:i})}else this.vScrollBar.jqxScrollBar({value:0,max:e});else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var e=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var t=this,i=0;i<this.columngroups.length;i++)this.columngroups[i].parent=null,this.columngroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;var s=function(e){for(var i=0;i<t.columngroups.length;i++){var s=t.columngroups[i];if(s.name===e)return s}return null};for(i=0;i<this.columngroups.length;i++){if((h=this.columngroups[i]).groups||(h.groups=null),h.parentgroup)(r=s(h.parentgroup))&&(h.parent=r,r.groups||(r.groups=new Array),-1===r.groups.indexOf(h)&&r.groups.push(h))}for(i=0;i<this.columns.records.length;i++){var r;if((h=this.columns.records[i]).columngroup)(r=s(h.columngroup))&&(r.groups||(r.groups=new Array),h.parent=r,-1===r.groups.indexOf(h)&&r.groups.push(h))}var n=0;for(i=0;i<this.columns.records.length;i++){var o=h=this.columns.records[i];for(h.level=0;o.parent;)o=o.parent,h.level++;o=h;var a=h.level;for(n=Math.max(n,h.level);o.parent;)(o=o.parent)&&(o.level=--a)}var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),e.groups)for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=l(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t};for(i=0;i<this.columngroups.length;i++){var h=this.columngroups[i],d=l(h);h.columns=d;for(var c=new Array,u=0,p=0;p<d.length;p++)c.push(this.columns.records.indexOf(d[p])),d[p].pinned&&u++;if(0!=u)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e>t?1:0});for(var f=1;f<c.length;f++)if(c[f]!=c[f-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+n,e=this.columngroupslevel*this.columnsheight}return e},_render:function(t,i,s,r,n){if(null!=this.dataview&&!this._loading&&!this._batchupdate){if(e.jqx.isHidden(this.host)){var o=this;return o.___hiddenTimer&&(clearInterval(o.___hiddenTimer),o.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){e.jqx.isHidden(o.host)||(clearInterval(o.___hiddenTimer),o.render())},300))}if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=null==i||i,this._newmax=null,s)if(this._requiresupdate||0!=r&&this._initmenu(),null==this.columns)this.columns=new e.jqx.collection(this.element);else{var a=this;this.columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(e){var t=function(){a.columns=a._columns,a.render()};switch(e.type){case"add":t();break;case"update":if("index"===e.name){for(var i in a.beginupdate(),e.newValue)a.setcolumnproperty(e.newValue.datafield,i,e.newValue[i]);a.endupdate()}else{var s=e.path.split(".");a.setcolumnproperty(a.columns[s[0]].datafield,e.name,e.newValue)}break;case"delete":t()}}),this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(e){a.render()}),this._initializeColumns()}this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==r&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,e.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),s?(this.filterrow&&this.filterrow.detach(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&e.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var l=this.columnsheight;if(l=this._preparecolumngroups(),this.showfilterrow&&this.filterable?(this.columnsheader.height(l+this.filterrowheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&this.columnsheader.height(l+this.filterrowheight+this.everpresentrowheight)):this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?this.columnsheader.height(l+this.everpresentrowheight):this.columnsheader.height(l),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||e("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,s),this.groups.length>0&&this.groupable){var h=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=h&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(null==n||1==n)&&this._updatelistfilters(!s),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=e("<div class='jqxgrid-overlay' style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",18e3),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var i=0;"checkbox"==this.selectionmode&&(i+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var s=this._overlayElement.css("left");this._overlayElement.css("left",s+i)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=e("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",18e3),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=e("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",18005),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},_postrender:function(e){if(("filter"==e||"sort"==e||"group"==e)&&this.rowdetails&&this.detailsVisibility&&this.detailsVisibility.length>0){this._detailsUpdate=!0;for(var t=0;t<this.details.length;t++)this.details[t]&&(this.details[t].rowdetailshidden=!0);for(t=0;t<this.detailsVisibility.length;t++)!1===this.detailsVisibility[t]?this.showrowdetails(t):!0===this.detailsVisibility[t]&&this.hiderowdetails(t);this._detailsUpdate=!1,this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}if(this.groupable&&this.groups.length>0)if("filter"==e||"sort"==e)for(t=0;t<this.dataview.loadedgroups.length;t++){var i=this.dataview.loadedgroups[t],s=0;for(var r in this.groupsVisibility)r==i.group&&this.groupsVisibility[r]&&(suspendgroupevents=!0,this._setgroupstate(i,!0,!1),s++);if(s>0){suspendgroupevents=!1;var n=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(n!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}}else"group"==e&&(this.groupsVisibility=new Array)},rendergridcontent:function(e,t){if(this.updating())return!1;null!=e&&null!=e||(e=!1),this._requiresupdate=e;var i=this.prerenderrequired;this.prerenderrequired&&this._arrange();var s=this.that;if(null!=(t=t)&&null!=t||(t=!0),this.tableheight=null,s.virtualsizeinfo=s.virtualsizeinfo||s._calculatevirtualheight(),s.pageable&&!s.autoheight&&s.dataview.totalrows<s.pagesize&&(s._requiresupdate=!0),t?s._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),s._renderrows(s.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),i){var r=this.tableheight;this._arrange(),r!=this.tableheight&&this.autoheight&&s._renderrows(s.virtualsizeinfo)}return this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),!0},_updatecolumnwidths:function(){var t=this.host.width(),i=t,s="";if(null!=this.columns&&null!=this.columns.records){var r=this.that,n=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;e.each(this.columns.records,function(e,o){if(!this.hidden||!this.hideable)if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){o=0;var a="hidden"==r.vScrollBar[0].style.visibility?0:r.scrollbarsize+5;(r.scrollbarautoshow||0==r.scrollbarsize)&&(a=0);var l=i;o=parseFloat(this.width)*l/100,a+=n,null!=this._percentagewidth&&(o=parseFloat(this._percentagewidth)*(l-a)/100),o<this.minwidth&&"auto"!=this.minwidth&&(o=this.minwidth),o>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth),t-=o}else"auto"==this.width||this._width?s+=this.text:t-=this.width});var o=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>o)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var a=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var l=0;l<this.dataview.rows.length;l++)this.dataview.rows[l].group&&0===this.dataview.rows[l].level&&(a+=this.rowsheight);a>o?(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5)}else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5;else"hidden"!=this.vScrollBar.css("visibility")&&this.scrollbarsize>0&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5);n=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(i-=n,this.columnsheader){var h=this.columnsheader.find("#columntable"+this.element.id);if(0!=h.length){var d=0,c=this,u=0;e.each(this.columns.records,function(r,n){var o=e(this.element);this.hidden||"none"!==this.element.style.display||(this.element.style.display="block");var a=!1,l=this.width;if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(l=null!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,a=!0),"auto"==this.width||this._width||a)if(a)l<this.minwidth&&"auto"!=this.minwidth&&(l=this.minwidth,this.width=l),l>this.maxwidth&&"auto"!=this.maxwidth&&(l=this.maxwidth,this.width=l),parseInt(o[0].style.width)!=l&&(o.width(l),this.width=l);else{var h=Math.floor(t*(this.text.length/s.length));t-(u+=h)<3&&t!=u?h+=2:r==c.columns.records.length-1&&u<t&&(h+=t-u),isNaN(h)&&(h=this.minwidth),h==1/0&&(h=0),h<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),h=10+$element.width(),$element.remove()),h<this.minwidth&&(h=this.minwidth),h>this.maxwidth&&(h=this.maxwidth),this._width="auto",this.width=h,o.width(this.width)}else parseInt(o[0].style.width)!=this.width&&o.width(this.width);parseInt(o[0].style.left)!=d&&o.css("left",d),this.hidden&&this.hideable||(d+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+d),h.width(this.columnsheader.width()),this.columnsheader[0].style.visibility=0==d?"hidden":"inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var t=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),void(this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var s=0,r=0,n="",o=this.host.width(),a=o,l=new Array,h=new Array,d=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(e.each(this.columns.records,function(e,i){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)n+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)o-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)o-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){i=0;var s="hidden"==t.vScrollBar[0].style.visibility?0:t.scrollbarsize+5;s+=d,(i=parseFloat(this.width)*(a-s)/100)<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),o-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),o-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),l[l.length]=this):h[h.length]=this}),this.rtl){var c=0;l.reverse();for(u=this.columns.records.length-1;u>=this.columns.records.length-l.length;u--)this.columns.replace(u,l[c++]);for(p=0;p<h.length;p++)this.columns.replace(p,h[p])}else{for(var u=0;u<l.length;u++)this.columns.replace(u,l[u]);for(var p=0;p<h.length;p++)this.columns.replace(l.length+p,h[p])}var f=this.headerZIndex,m=t.groupable?t.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&m++;var g=t.columnsheader.height();this.showfilterrow&&(this.columngroups?g-=this.filterrowheight:g=this.columnsheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&(g-=this.everpresentrowheight);var v=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>v&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var x=0;if(this.pageable){if(this.pageable)for(var b=0;b<this.dataview.rows.length;b++)this.dataview.rows[b].group&&0===this.dataview.rows[b].level&&(x+=this.rowsheight)}else x=this.dataview.loadedrootgroups.length*this.rowsheight;x>v&&(o-=this.scrollbarsize+5,a-=this.scrollbarsize+5)}else o-=this.scrollbarsize+5,a-=this.scrollbarsize+5;else!this.autoheight&&this.scrollbarsize>0&&(o-=this.scrollbarsize+5,a-=this.scrollbarsize+5);a-=d;var w=document.createDocumentFragment(),y=0;if(e.each(this.columns.records,function(l,h){this.height=t.columnsheight,t.columngroups&&t.columngroups.length&&(this.height=function(e,i){var s=t.columngroupslevel*t.columnsheight;return s-=i.level*t.columnsheight}(this.datafield,this),g=this.height);var d=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(d+=" "+t.toTP("jqx-grid-column-header-rtl"));var c=t.rtl?150+f+1:150+f-1,u=t.rtl?f++:f--,p=e('<div role="columnheader" style="z-index: '+u+';position: absolute; height: 100%;" class="'+d+'"><div style="height: 100%; width: 100%;"></div></div>');t.columngroups&&(p[0].style.height=g+"px",p[0].style.bottom="0px",this.pinned&&(p[0].style.zIndex=c)),this.uielement=p,""!=this.classname&&this.classname&&p.addClass(this.classname);var v=this.width,x=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(v=null!=this._percentagewidth?parseFloat(this._percentagewidth)*a/100:parseFloat(this.width)*a/100,x=!0),"auto"==this.width||this._width||x){if(x)v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),p.width(v),this.width=v;else if(!this.hidden){var b=Math.floor(o*(this.text.length/n.length));o-(y+=b)<3&&o!=y?o-y==1?b++:b+=2:l==t.columns.records.length-1&&y<o&&(b+=o-y),isNaN(b)&&(b=this.minwidth),b<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),b=10+$element.width(),$element.remove()),b<this.minwidth&&(b=this.minwidth),b>this.maxwidth&&(b=this.maxwidth),this._width="auto",this.width=b,v=this.width,p.width(this.width)}}else v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth,this.width=v),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth,this.width=v),p[0].style.width=parseInt(v)+"px";this.hidden&&this.hideable&&p.css("display","none");var _=e(p.children()[0]),j=t.rtl?t.toTP("jqx-grid-column-menubutton")+" "+t.toTP("jqx-grid-column-menubutton-rtl"):t.toTP("jqx-grid-column-menubutton");j+=" "+t.toTP("jqx-icon-arrow-down");var q=e('<div style="height: '+g+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+j+'" style="width: 100%; height:100%;"></div></div>');t.enableanimations||q.css("margin-left",-16),t.rtl&&q.css("left","0px"),this.columnsmenu=q[0],i[0].cells[l]=p[0],q[0].style.width=parseInt(t.columnsmenuwidth)+"px";var S=t.columnsmenu,T=!1,C=!1,I=t.groupable&&m>0&&s<m||t.rowdetails&&s<m;if(t.rtl&&(I=t.groupable&&m>0&&s<m||t.rowdetails&&s<m,I&=l>t.columns.records.length-1-m),I)s++,S&=!1,this.sortable=!1,this.editable=!1,C=!0;else{var k=null!=this.renderer?this.renderer(this.text,this.align,g):t._rendercolumnheader(this.text,this.align,g,t);null==k&&(k=t._rendercolumnheader(this.text,this.align,g,t)),null!=this.renderer&&(k=e(k)),S&=!0,T=!0}if(t.WinJS?MSApp.execUnsafeLocalFunction(function(){_.append(e(k))}):this.renderer?_.append(e(k)):k&&(_[0].innerHTML=k),null!=k){var P=e('<div class="iconscontainer" style="height: '+g+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+" "+t.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');q.addClass(t.toTP("jqx-widget-header")),_.append(P);var M=P.children();this.sortasc=M[1],this.sortdesc=M[2],this.filtericon=M[0],this.iconscontainer=P,t.rtl&&(P.css("margin-left","0px"),P.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left")),!t.autoshowfiltericon&&this.filterable&&e(this.filtericon).css("display","block")}if(this.element=p[0],S&&(t._handlecolumnsmenu(t,_,p,q,this),this.menu||q.hide()),w.appendChild(p[0]),t.groupable&&T){if(p[0].id=t.dataview.generatekey(),!t._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");t._handlecolumnstogroupsdragdrop(this,p)}t.columnsreorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,p);var N=this;if(t.addHandler(p,"click",function(e){if(N.checkboxcolumn)return!0;if(t.sorttogglestates>0&&t._togglesort&&!t._loading){if(t.suspendClick)return!0;t._togglesort(N)}e.preventDefault(),t._raiseEvent(7,{column:N.getcolumnproperties(),datafield:N.datafield,originalEvent:e})}),N.resizable&&t.columnsresize&&!C){var D=!1,B="mousemove";t.isTouchDevice()&&!0!==t.touchmode&&(D=!0,B=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(p,B,function(i){var s=parseInt(i.pageX),r=5,n=parseInt(p.coord().left);if(t.hasTransform&&(n=e.jqx.utilities.getOffset(p).left),t.resizing)return!0;if(t._handlecolumnsresize){if(D)return r=40,(s=t.getTouches(i)[0].pageX)>=n+N.width-r?(t.resizablecolumn={columnelement:p,column:N},p.css("cursor","col-resize")):(p.css("cursor",""),t.resizablecolumn=null),!0;var o=N.width;if(t.rtl&&(o=0),s>=n+o-r){if(s<=n+o+r)return t.resizablecolumn={columnelement:p,column:N},p.css("cursor","col-resize"),!1;p.css("cursor",""),t.resizablecolumn=null}else p.css("cursor",""),s<n+o-r&&(N._animating||N._menuvisible||p.mouseenter()),t.resizablecolumn=null}})}(p.css("left",r),this.hidden&&this.hideable||(r+=v),N.rendered)&&(N.rendered(e(_[0].firstChild),N.align,g)&&null!=P&&P.hide());if(N.checkboxcolumn){if(P&&P.hide(),!t.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");_.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>');var O=_.find("div:first");O.jqxCheckBox({_canFocus:!1,disabled:t.disabled,disabledContainer:!0,theme:t.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0}),N.checkboxelement=O;var A=O.data().jqxCheckBox.instance;t._checkboxcolumn=N,A.updated=function(e,i,s){t._checkboxcolumnupdating=!0,t.disabled&&(O.jqxCheckBox({disabled:t.disabled}),i=s),i?t.selectallrows():t.unselectallrows(),t._checkboxcolumnupdating=!1}}}),r>0?this.columnsheader.width(2+r):this.columnsheader.width(r),i[0].appendChild(w),this.columnsrow=i,t.columnsheader.append(i),this.showfilterrow&&this._updatefilterrow){if(this.columngroups?i.height(this.columngroupslevel*this.columnsheight):i.height(this.columnsheight),!this.filterrow){var _=e("<div style='position: relative !important; '></div>");_[0].id="filterrow."+this.element.id,_.height(this.filterrowheight),this.filterrow=_}this.filterrow.width(2+r),this.columnsheader.append(this.filterrow),this._updatefilterrow()}if(this.showeverpresentrow&&"bottom"!==this.everpresentrowposition){if(this.columngroups?i.height(this.columngroupslevel*this.columnsheight):i.height(this.columnsheight),!this.addnewrowtop){var j=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");j[0].id="addnewrowtop."+this.element.id,j.height(this.everpresentrowheight),this.addnewrowtop=j}this.addnewrowtop.width(2+r),"topAboveFilterRow"==this.everpresentrowposition&&this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()}else if(this.showeverpresentrow&&"bottom"===this.everpresentrowposition){if(!this.addnewrowbottom){var q=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");q[0].id="addnewrowbottom."+this.element.id,q.height(this.everpresentrowheight),this.addnewrowbottom=q}this.addnewrowbottom.width(2+r),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow()}i[0].style.visibility=0==r?"hidden":"inherit",i.width(r),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var s=this.headerZIndex-t+this.columns.records.length,r=this.that,n=r.toTP("jqx-grid-column-header")+" "+r.toTP("jqx-grid-columngroup-header")+" "+r.toTP("jqx-widget-header");r.rtl&&(n+=" "+r.toTP("jqx-grid-columngroup-header-rtl"));var o=this.columnsheader.find("#columntable"+this.element.id);o.find("jqx-grid-columngroup-header").remove();for(var a=0;a<this.columngroupslevel-1;a++)for(i=0;i<this.columngroups.length;i++){var l=this.columngroups[i],h=l.level;if(h===a){var d=h*this.columnsheight,c=99999;if(l.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=u(s):s.hidden||(t+=s.width,c=Math.min(parseFloat(s.element.style.left),c))}return t};l.width=u(l),l.left=c;var p=this.columnsheight,f=s--,m=e('<div role="columnheader" style="z-index: '+f+';position: absolute;" class="'+n+'"></div>'),g=e(this._rendercolumnheader(l.text,l.align,this.columnsheight,this));if(l.renderer){g=e("<div style='height: 100%; width: 100%;'></div>");var v=l.renderer(l.text,l.align,p);g.html(v)}m.append(g),m[0].style.left=c+"px",0===c&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=d+"px",m[0].style.height=p+"px",m[0].style.width=-1+l.width+"px",o.append(m),l.element=m,l.rendered&&l.rendered(g,l.align,p)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var e=0;e<this.columngroups.length;e++){var t=this.columngroups[e],i=t.level*this.columnsheight,s=99999;if(t.groups){var r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var n=e.groups[i];n.groups?t+=r(n):n.hidden||(t+=n.width,s=Math.min(parseFloat(n.element.style.left),s))}return t};t.width=r(t),t.left=s;var n=this.columnsheight,o=t.element;o[0].style.left=s+"px",o[0].style.top=i+"px",o[0].style.height=n+"px",o[0].style.width=-1+t.width+"px"}}},_handlecolumnsmenu:function(t,i,s,r,n){t.dragmousedown=null,r[0].id=t.dataview.generatekey(),i.append(r),s[0].columnsmenu=r[0],n.element=s[0];var o=this.columnsmenuwidth+1,a="mouseenter";if(t.isTouchDevice()&&(a="touchstart"),t.addHandler(s,a,function(i){var a=parseInt(i.pageX),l=t.columnsresize&&n.resizable?3:0,h=parseInt(s.coord().left);t.hasTransform&&(h=e.jqx.utilities.getOffset(s).left);var d=n.width;if(t.rtl&&(d=0),0!=l&&a>=h+d-l&&a<=h+d+l)return!1;var c=t.vScrollInstance.isScrolling();n.menu&&t.autoshowcolumnsmenubutton&&!c&&!t.disabled&&function(){if(!n.menu)return!1;if(!t.resizing){if(n._menuvisible&&t._hasOpenedMenu)return!1;if(n._animating=!0,t.menuitemsarray&&t.menuitemsarray.length>0)if(t.enableanimations)r.css("display","block"),r.stop(),n.iconscontainer.stop(),t.rtl?(r.css("margin-left",-o),r.animate({"margin-left":"0px"},"fast",function(){r.css("display","block"),n._animating=!1,n._menuvisible=!0})):(r.css("margin-left","0px"),r.animate({"margin-left":-o},"fast",function(){r.css("display","block"),n._animating=!1,n._menuvisible=!0})),e=t.rtl?o:-(32+o),n.iconscontainer.animate({"margin-left":e},"fast");else{r.css("display","block");var e=t.rtl?16:-48;n.iconscontainer.css("margin-left",e+"px"),n._animating=!1,n._menuvisible=!0}}}()}),!t.autoshowcolumnsmenubutton){r.css("display","block");var l=t.rtl?16:-48;n.iconscontainer.css("margin-left",l+"px"),t.rtl?r.css({"margin-left":"0px"}):r.css({"margin-left":-o})}t.addHandler(s,"mouseleave",function(i){if(t.menuitemsarray&&t.menuitemsarray.length>0&&n.menu){var s=e.data(document.body,"contextmenu"+t.element.id);if(null!=s&&r[0].id==s.columnsmenu.id)return;if(t.autoshowcolumnsmenubutton)if(t.enableanimations){t.rtl?r.css("margin-left","0px"):r.css("margin-left",-o),r.stop(),n.iconscontainer.stop(),t.rtl?r.animate({"margin-left":-o},"fast",function(){r.css("display","none"),n._menuvisible=!1}):r.animate({"margin-left":0},"fast",function(){r.css("display","none"),n._menuvisible=!1});a=t.rtl?0:-32;n.iconscontainer.animate({"margin-left":a},"fast")}else{r.css("display","none");var a=t.rtl?0:-32;n.iconscontainer.css("margin-left",a+"px"),n._menuvisible=!1}}});var h=!0,d="",c=e(n.filtericon);t.addHandler(r,"mousedown",function(i){t.gridmenu||t._initmenu(),h=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),null!=(d=e.data(document.body,"contextmenu"+t.element.id))&&(d=d.column.datafield)}),t.addHandler(c,"mousedown",function(i){t.gridmenu||t._initmenu(),h=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),null!=(d=e.data(document.body,"contextmenu"+t.element.id))&&(d=d.column.datafield)});var u=function(){if(!n.menu)return!1;if(t.gridmenu||t._initmenu(),t.disabled)return!1;for(var i=0;i<t.columns.records.length;i++)t.columns.records[i].datafield!=n.datafield&&(t.columns.records[i]._menuvisible=!1);var s=r.coord(!0),o=r.height();if(!h&&(h=!0,d==n.datafield))return t._closemenu(),!1;var a=t.host.coord(!0);t.hasTransform&&(a=e.jqx.utilities.getOffset(t.host),s=e.jqx.utilities.getOffset(r)),a.left+t.host.width()>parseInt(s.left)+t.gridmenu.width()?t.gridmenu.jqxMenu("open",s.left,s.top+o):t.gridmenu.jqxMenu("open",r.width()+s.left-t.gridmenu.width(),s.top+o),t.gridmenu.width()<100&&t._arrangemenu(),t._hasOpenedMenu=!0;var l=t._getmenuitembyindex(0),c=t._getmenuitembyindex(1),u=t._getmenuitembyindex(2),p=t._getmenuitembyindex(3),f=t._getmenuitembyindex(4),m=t._getmenuitembyindex(5);if(null!=l&&null!=c&&null!=u){var g=n.sortable&&t.sortable;if(t.gridmenu.jqxMenu("disable",l.id,!g),t.gridmenu.jqxMenu("disable",c.id,!g),t.gridmenu.jqxMenu("disable",u.id,!g),null!=n.displayfield)if(t.sortcolumn==n.displayfield){var v=t.getsortinformation();g&&(v.sortdirection.ascending?t.gridmenu.jqxMenu("disable",l.id,!0):t.gridmenu.jqxMenu("disable",c.id,!0))}else t.gridmenu.jqxMenu("disable",u.id,!0)}if(null!=p&&null!=f&&(t.groupable&&n.groupable?t.groups&&-1!=t.groups.indexOf(n.datafield)?(t.gridmenu.jqxMenu("disable",p.id,!0),t.gridmenu.jqxMenu("disable",f.id,!1)):(t.gridmenu.jqxMenu("disable",p.id,!1),t.gridmenu.jqxMenu("disable",f.id,!0)):(t.gridmenu.jqxMenu("disable",f.id,!0),t.gridmenu.jqxMenu("disable",p.id,!0))),null!=m){t.menuOwner=n,t._updatefilterpanel(t,m,n);var x=0;t.sortable&&t._togglesort&&t.showsortmenuitems&&(x+=3),t.groupable&&t.addgroup&&t.showgroupmenuitems&&(x+=2);var b=33*x+6;b=x*t._measureMenuElement()+14;e.jqx.browser.msie&&e.jqx.browser.version<8&&(b+=20,e(m).height(190)),t.isTouchDevice()&&(b+=10),t.filterable&&t.showfiltermenuitems&&(n.filterable?(t.gridmenu.height(b+190),e(m).css("display","block")):(t.gridmenu.height(b),e(m).css("display","none")))}t.columnmenuopening&&(!1===t.columnmenuopening(t.gridmenu,n.displayfield,t.gridmenu.height())&&t._closemenu());e.data(document.body,"contextmenu"+t.element.id,{column:n,columnsmenu:r[0]})};t.addHandler(c,"click",function(e){return!!n.menu&&(t.showfilterrow||("block"!=r[0].style.display&&s.trigger("mouseenter"),setTimeout(function(){"block"!=r[0].style.display&&s.trigger("mouseenter"),u()},200)),!1)}),t.addHandler(r,"click",function(e){return!!n.menu&&(u(),!1)}),t.isTouchDevice()&&t.addHandler(r,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return!!n.menu&&(t._hasOpenedMenu?t._closemenu():u(),!1)})},_removecolumnhandlers:function(t){var i=this.that,s=e(t.element);if(s.length>0){i.removeHandler(s,"mouseenter"),i.removeHandler(s,"mouseleave");var r=e(t.filtericon);if(i.removeHandler(r,"mousedown"),i.removeHandler(r,"click"),i.removeHandler(s,"click"),i.removeHandler(s,"mousemove"),i.columnsreorder&&(i.removeHandler(s,"mousedown.drag"),i.removeHandler(s,"mousemove.drag")),i.removeHandler(s,"dragstart"),s[0].columnsmenu){var n=e(s[0].columnsmenu);i.removeHandler(n,"click"),i.removeHandler(n,"mousedown"),i.removeHandler(n,e.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(e,t,i,s){var r="7px";return s.columngroups?((r=i/2-this._columnheight/2)<0&&(r=6),r+="px"):30!=this.columnsheight&&((r=this.columnsheight/2-this._columnheight/2)<0&&(r=6),r+="px"),this.enableellipsis?"left"==t?'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 2px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":"center"==t||"middle"==t?'<div style="padding-bottom: 2px; text-align: center; margin-top: '+r+';"><a href="#">'+e+"</a></div>":'<a style="margin-top: '+r+"; float: "+t+';" href="#">'+e+"</a>"},_renderrows:function(t,i,s){var r=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(r.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var n=this.source.totalrecords;isNaN(n)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=n&&(r.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||r.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?r.prerenderrequired=!0:this.pageable||(r.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?r.prerenderrequired=!0:this.pageable||(r.prerenderrequired=!0))),r._prerenderrows(t),r._requiresupdate&&(r._requiresupdate=!1,r._updatepageviews());var o=function(){r._loading||(r.WinJS?MSApp.execUnsafeLocalFunction(function(){r._rendervisualrows()}):r._rendervisualrows(),r.virtualmode&&r.showaggregates&&r._updateaggregates&&r.refreshaggregates())},a=e.jqx.browser.msie&&e.jqx.browser.version<10;if(this.virtualmode){this.loadondemand&&(o(),function(){if(r.rendergridrows){var e=r._startboundindex;null==e&&(e=0);var t=e+1+r.dataview.pagesize;if(null!=e&&null!=t){var s=!!r.source._source;if((s?r.source._source.recordstartindex:r.source.recordstartindex)!=e||1==i){if(s){if(t>=r.source._source.totalrecords&&((e=(t=r.source._source.totalrecords)-r.dataview.pagesize-1)<0&&(e=0),r.source._source.recordendindex==t&&r.source._source.recordstartindex==e))return;r.source._source.recordstartindex=e,r.source._source.recordendindex=t}else r.source.recordstartindex=e,r.source.recordendindex=t;r.updatebounddata("cells")}}}}(),this.loadondemand=!1);var l=null==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?o():this.autoheight?o():l||a||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){o()},5)):o()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var h=this._getfirstvisualrow();if(null!=h){var d=this.scrollfeedback?this.scrollfeedback(h.bounddata):function(t){if(null==h)return"";var i="<table>",s=r.deferreddatafields;null==s&&r.columns.records.length>0&&(s=new Array).push(r.columns.records[0].displayfield);for(var n=0;n<s.length;n++){var o=s[n],a=r._getcolumnbydatafield(o);if(a){var l=r._getcellvalue(a,h);""!=a.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(l)?l=e.jqx.dataFormat.formatdate(l,a.cellsformat,r.gridlocalization):e.jqx.dataFormat.isNumber(l)&&(l=e.jqx.dataFormat.formatnumber(l,a.cellsformat,r.gridlocalization))),i+="<tr><td>"+l+"</td></tr>"}}return i+="</table>"}(h.bounddata);d!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=d,this._scrollelementcontent=d)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){r.hScrollInstance.isScrolling()||r.vScrollInstance.isScrolling()||(o(),r._scrollelement.css("visibility","hidden"),r._scrollelementoverlay.css("visibility","hidden"),clearInterval(r._scrolltimer),h&&r.ensurerowvisible(h.visibleindex))},100))}if(navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),null!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5),((l=null==this._browser?this._isIE10():this._browser)||a)&&(this._updatedelay=5),l&&this.hScrollInstance.isScrolling())return void o();if(e.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0),this.isTouchDevice()&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)o();else{var c=this._jqxgridrendertimer;null!=c&&clearTimeout(c),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?c=setTimeout(function(){o()},this._updatedelay):(c=null,o()),this._jqxgridrendertimer=c):(this._jqxgridrendertimer=c,o())}}if(r.autorowheight&&!r.autoheight&&this._pageviews.length>0){var u=this._gettableheight(),p=this._pageviews[0].height;if(p>u)if(this.pageable&&this.gotopage&&(p=this._pageviews[0].height)<0&&(p=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(p<=u||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),p-u>0){if("deferred"!=this.scrollmode){var f=p-u,m=this.vScrollInstance.max;if(this.vScrollBar.jqxScrollBar({max:f}),Math.round(f)!=Math.round(m))this.vScrollBar.jqxScrollBar("value")>f&&this.vScrollBar.jqxScrollBar({value:0})}}else this.vScrollBar.jqxScrollBar({value:0,max:p});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=p)}},scrolling:function(){return{vertical:this.vScrollInstance.isScrolling(),horizontal:this.hScrollInstance.isScrolling()}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var s=this.table[0].rows.length,r=this.columnsrow,n=this.groupable&&this.groups.length>0?this.groups.length:0,o=this.columns.records.length-n,a=this.columns.records,l=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),l&&!this._haspinned){for(var h=0;h<s;h++)for(var d=this.table[0].rows[h],c=0;c<n+o;c++){if(null!=(u=d.cells[c]))if(a[c].pinned)if(u.style.marginLeft=i+"px",0==h)r[0].cells[c].style.marginLeft=i+"px"}this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px"}else if(this._haspinned||null==this._haspinned){for(h=0;h<s;h++)for(d=this.table[0].rows[h],c=0;c<n+o;c++){var u;if(null!=(u=d.cells[c]))if(a[c].pinned){if(0==i&&""==u.style.marginLeft)continue;var p=null,f=null,m=null;if(this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(m=this.addnewrowtop[0].cells[c]),this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(f=this.filterrow[0].cells[c]),this.showaggregates&&this.statusbar[0].cells&&(p=this.statusbar[0].cells[c]),this.rtl){if(u.style.marginLeft=-parseInt(t)+"px",0==h)r[0].cells[c].style.marginLeft=-parseInt(t)+"px",p&&(p.style.marginLeft=-parseInt(t)+"px"),f&&(f.style.marginLeft=-parseInt(t)+"px"),m&&(m.style.marginLeft=-parseInt(t)+"px")}else if(u.style.marginLeft=i+"px",0==h)r[0].cells[c].style.marginLeft=i+"px",p&&(p.style.marginLeft=i+"px"),f&&(f.style.marginLeft=i+"px"),m&&(m.style.marginLeft=i+"px")}}this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px");if(this.showaggregates&&this.statusbar[0].cells){var g=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(g=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-i+g+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-i+"px"),this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(this.addnewrowtop[0].style.marginLeft=-i+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var t=0;t<this._rowdetailselementscache.length;t++)e(this._rowdetailselementscache[t]).css("display","none")},_getvisualcolumnsindexes:function(e,t,i,s,r,n){if(this.rowdetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+s};var o=0,a=-1,l=i+s,h=!1;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var d=0;d<i+s;d++){if(h||this.columns.records[d].pinned&&n&&(h=!0),this.columns.records[d].hidden||(o+=this.columns.records[d].width),o>=e&&-1==a&&(a=d),o>t+e){l=d;break}}return++l>i+s&&(l=i+s),(-1==a||h)&&(a=0),{start:a,end:l}},_getvirtualcolumnsindexes:function(e,t,i,s,r){if(this.rtl||this.editcell||this.exporting)return{start:0,end:i+s};var n=0,o=-1,a=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var l=0;l<i+s;l++){if(this.columns.records[l].hidden||(n+=this.columns.records[l].width),n>=e&&-1==o&&(o=l),n>t+e){a=l;break}}return++a>i+s&&(a=i+s),-1==o&&(o=0),{start:o,end:a}},_getfirstvisualrow:function(){var e=this.vScrollInstance.value,t=parseInt(e);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(t=0),!this.pageable){var i=this._findvisiblerow(t,this._pageviews);if(-1==i)return null;i!=this.dataview.pagenum?(this.dataview.pagenum=i,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var s=this._findvisiblerow(t,this._pagescache[this.dataview.pagenum]),r=this._pagescache[this.dataview.pagenum];if(r&&r[0])return r[s]},_rendervisualrows:function(){if(this.virtualsizeinfo){var t=this.vScrollInstance,i=this.hScrollInstance,s=t.value,r=i.value,n=parseInt(s),o=parseInt(r),a=this._gettableheight(),l=null!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(a+=29),"deferred"==this.scrollmode&&0!=this._newmax&&n>this._newmax&&null!=this._newmax&&(n=this._newmax);var h=t.isScrolling()||i.isScrolling()||this._keydown,d=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&null==this.editrow&&this._hidecelleditor(!1),null!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(n=0),!this.pageable){var c=this._findvisiblerow(n,this._pageviews);if(-1==c)return this._clearvisualrows(),this._renderemptyrow(),void this._updaterowdetailsvisibility();c!=this.dataview.pagenum?(this.dataview.pagenum=c,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var u=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var p=this.columns.records.length-u,f=this._findvisiblerow(n,this._pagescache[this.dataview.pagenum]),m=this._pagescache[this.dataview.pagenum],g=f;g<0&&(g=0);var v=0,x=0,b=0,w=0,y=this.virtualsizeinfo.visiblerecords,_=this.groupable?this.groups.length:0,j=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(j+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(y=this.dataview.pagesize),d&&(j=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(j+=" "+this.toTP("jqx-touch")),this.autorowheight&&(j+=" jqx-grid-cell-wrap");var q=this.rowsheight,S=this._rendercell,T=this._getvisualcolumnsindexes(o,l,u,p,d,!0),C=T.start,I=T.end,k=this._getvirtualcolumnsindexes(o,l,u,p,d),P=k.start,M=k.end;e.jqx.browser.msie&&e.jqx.browser.version;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(g=0),g>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=m?m[g].bounddata.boundindex:0,this._startvisibleindex=null!=m?m[g].bounddata.visibleindex:0;var N=this.table[0].rows;if(this.columns.records.length>10&&this.enablecolumnsvirtualization)for(var D=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},B=0;B<N.length;B++){for(var O=N[B],A=0;A<P;A++){var H=A;if(!this.columns.records[H].pinned&&null!=this.columns.records[H].datafield){D(z=O.cells[H])&&z.parentNode.removeChild(z);var E=this.columns.records[H].element;this.columns.records[H]._rendered=!1,D(E)&&this.columnsrow[0].removeChild(E),this.filterrow&&D(this.filterrow[0].cells[H])&&this.columns.records[H].filterable&&this.filterrow[0].cells[H].parentNode.removeChild(this.filterrow[0].cells[H])}}for(A=M;A<this.columns.records.length;A++){H=A;if(!this.columns.records[H].pinned&&null!=this.columns.records[H].datafield){D(z=O.cells[H])&&z.parentNode.removeChild(z);E=this.columns.records[H].element;this.columns.records[H]._rendered=!1,D(E)&&this.columnsrow[0].removeChild(E),this.filterrow&&D(this.filterrow[0].cells[H])&&this.columns.records[H].filterable&&this.filterrow[0].cells[H].parentNode.removeChild(this.filterrow[0].cells[H])}}for(A=P;A<M;A++){var z;H=A;D(z=O.cells[H])||O.appendChild(z);E=this.columns.records[H].element;this.columns.records[H]._rendered=!0,D(E)||this.columnsrow[0].appendChild(E),this.filterrow&&!D(this.filterrow[0].cells[H])&&this.columns.records[H].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[H])}}for(var L=0;L<y&&x<y;L++){var F=null!=m?m[g+L]:null;if(null==F){if(g=-L,this._pagescache[this.dataview.pagenum+1])m=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var R=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){m=void 0;break}this.dataview.pagenum++,m=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),m=this._pagescache[this.dataview.pagenum])}while(null==m&&this.dataview.pagenum<R)}null!=m&&(F=m[g+L])}if(null!=F){if(F.hidden)continue;if(this._endboundindex=this._startboundindex+L,this._endvisibleindex=this._startvisibleindex+L,0==L){var V=Math.abs(n-F.top);this.table[0].style.top=-V+"px",w=-V}if(!(O=this.table[0].rows[x]))continue;parseInt(O.style.height)!=F.height&&(O.style.height=parseInt(F.height)+"px"),b+=F.height;var W=this.rowdetails&&F.rowdetails,G=!F.rowdetailshidden;W&&G&&(O.style.height=parseInt(F.height-F.rowdetailsheight)+"px",y++);var U=this._isrowselected(!0,F);for(A=C;A<I;A++){H=A;this._rendervisualcell(S,j,U,W,G,d,_,O,F,H,x,h)}if(null!=F.group&&this._rendergroup&&this._rendergroup(_,O,F,u,p,x,l),this.autorowheight&&(this.autoheight||this.pageable)){for(q=this.rowsheight,A=C;A<I;A++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[A].datafield&&this.editcell.row==this.getboundindex(F)&&this.editcell.editor?q=Math.max(q,this.editcell.editor.height()):O.cells[A].firstChild&&(q=Math.max(q,8+parseInt(O.cells[A].firstChild.offsetHeight)));O.style.height=parseInt(q)+"px",this.heights[this._startboundindex+L]=q,W&&G&&(q+=F.rowdetailsheight),F.height=q}if(this.visiblerows[this.visiblerows.length]=F,this.hittestinfo[this.hittestinfo.length]={row:F,visualrow:O,details:!1},W&&G){x++;O=this.table[0].rows[x];this._renderrowdetails(j,O,F,u,p,x),this.visiblerows[this.visiblerows.length]=F,this.hittestinfo[this.hittestinfo.length]={row:F,visualrow:O,details:!0}}if(!this.autorowheight&&b+w>=a)break}else cansetheight=!0,this._clearvisualrow(o,d,x,u,p),b+v+w<=a&&(v+=q);x++}if(this._horizontalvalue=o,v>0&&"visible"==this.vScrollBar[0].style.visibility){parseInt(this.table.css("top"));var X=this._pageviews[this._pageviews.length-1],Y=t.max,K=X.top+X.height-a;"visible"==this.hScrollBar.css("visibility")&&(K+=this.scrollbarsize+20),Y==K||this.autorowheight||K>=0&&("deferred"!=this.scrollmode?(t.max=K,t.setPosition(t.max)):this._newmax!=K&&(this._newmax=K,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;var $=0,J=0;for(B=0;B<this.visiblerows.length;B++){var Z=this.visiblerows[B];Z.top=$,$+=Z.height,J+=Z.height;W=this.rowdetails&&Z.rowdetails,G=!Z.rowdetailshidden,O=this.table[0].rows[B];W&&G&&B++;for(A=C;A<I;A++){var Q=this.columns.records[A];if(!Q.hidden&&!Q.cellsrenderer){var ee=O.cells[A],te=0;if(ee.firstChild){te=(Z.height-parseInt(ee.firstChild.offsetHeight)-8)/2;if(W&&G)te=(Z.height-Z.rowdetailsheight-e(ee.firstChild).height()-8)/2}else te=(Z.height-parseInt(e(ee).height())-8)/2;if(te>=0&&(te=parseInt(te)+4,ee.firstChild&&-1==ee.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=Q.columntype&&"button"!=Q.columntype)){if(this.editable&&this.editcell&&this.editcell.column==Q.datafield&&this.editcell.row==this.getboundindex(Z))continue;ee.firstChild.style.marginTop=te+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=J),this._arrange()}if(this._renderemptyrow(),this.toCompile&&this.toCompile.length>0){e.each(this.toCompile,function(t,i){if(this.compiled)return!0;var s=this.cell;if(!s)return!0;e.jqx.angularCompile&&e.jqx.angularCompile(s,"<div>"+this.value+"</div>"),this.compiled=!0})}}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var t=this.table[0].rows[0];if(t)for(var i=!1,s=0;s<t.cells.length;s++){var r=e(t.cells[s]);"none"==r.css("display")||i||r.width()!=this.host.width()&&r.text()!=this.gridlocalization.emptydatastring||(r[0].checkbox=null,r[0].button=null,i=!0,r[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var t=!1,i=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var s=this.table[0].rows[0];this.table[0].style.top="0px";for(var r=0;r<s.cells.length;r++){var n=e(s.cells[r]);if("none"!=n.css("display")&&!t){n[0].checkbox=null,n[0].button=null,n[0].className=i,t=!0,n[0].innerHTML="";var o=e("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");o.text(this.gridlocalization.emptydatastring),n.append(o);var a=0;this.oldhscroll||(a=parseInt(this.table[0].style.marginLeft),this.rtl&&(n.css("z-index",999),n.css("overflow","visible"))),o.css("left",-a-o.width()/2),o.css("top",this._gettableheight()/2-o.height()/2),e.jqx.browser.msie&&e.jqx.browser.version<8&&(o.css("margin-left","0px"),o.css("left",this.host.width()/2-o.width()/2));var l=Math.abs(parseInt(this.table[0].style.top));isNaN(l)&&(l=0),e(s).height(this._gettableheight()+l),n.css("margin-left","0px"),n.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}n.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords,t=this.hScrollInstance.value,i=parseInt(t),s=this.groupable&&this.groups.length>0;if(this.columns.records)for(var r=0;r<e;r++)this._clearvisualrow(i,s,r,0,this.columns.records.length)},_iscellselected:function(e,t,i){var s=!1,r=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(r=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var n=this.getrowboundindexbyid(t.bounddata.uid);if(-1!=n){for(var o in this.selectedcells)o==n+"_"+i&&(s=!0);return s}return!1}if(e&&null!=t.bounddata)if("singlerow"!=this.selectionmode){if(this.dataview.filters.length>0)if(this.virtualmode||null==t.bounddata.dataindex)for(var o in this.selectedcells)o==r+t.bounddata.boundindex+"_"+i&&(s=!0);else for(var o in this.selectedcells)o==r+t.bounddata.dataindex+"_"+i&&(s=!0);else for(var o in this.selectedcells)if(o==r+t.bounddata.boundindex+"_"+i){s=!0;break}}else if(this.dataview.filters.length>0){if(this.virtualmode||null==t.bounddata.dataindex){for(var o in this.selectedcells)if(o==r+t.bounddata.boundindex+"_"+i){s=!0;break}}else for(var o in this.selectedcells)if(o==r+t.bounddata.dataindex+"_"+i){s=!0;break}}else for(var o in this.selectedcells)if(o==r+t.bounddata.boundindex==this.selectedrowindex){s=!0;break}return s},_isrowselected:function(e,t){var i=!1,s=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(s=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var r=this.getrowboundindexbyid(t.bounddata.uid);return null!=r&&-1!=r&&(-1!=this.selectedrowindexes.indexOf(r)&&(i=!0),i||(i=r==this.selectedrowindex&&-1!=this.selectedrowindex),i)}return e&&null!=t.bounddata&&("singlerow"!=this.selectionmode?this.dataview.filters.length>0?this.virtualmode||null==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(s+t.bounddata.dataindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)&&(i=!0):this.dataview.filters.length>0?this.virtualmode||null==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(s+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(s+t.bounddata.dataindex)&&(i=!0):s+t.bounddata.boundindex==this.selectedrowindex&&(i=!0)),i},_rendervisualcell:function(t,i,s,r,n,o,a,l,h,d,c,u){var p=this.columns.records[d];if(p.hidden){(f=l.cells[d]).innerHTML=""}else{cellvalue=this._getcellvalue(p,h);var f=l.cells[d],m=i;if(-1!=this.selectionmode.indexOf("cell")&&(s=this.dataview.filters.length>0?!!this.selectedcells[h.bounddata.dataindex+"_"+p.datafield]:!!this.selectedcells[h.boundindex+"_"+p.datafield],this.editcell&&this.editcell.row===h.boundindex&&this.editcell.column===p.datafield&&"checkbox"!==p.columntype&&(s=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(s=this._iscellselected(!0,h,p.datafield))),""!=p.cellclassname&&p.cellclassname)if("string"==typeof p.cellclassname)m+=" "+p.cellclassname;else{var g=p.cellclassname(this.getboundindex(h),p.datafield,cellvalue,h.bounddata);g&&(m+=" "+g)}var v=this.showsortcolumnbackground&&this.sortcolumn&&p.displayfield==this.sortcolumn;if(v&&(m+=" "+this.toTP("jqx-grid-cell-sort")),p.filter&&this.showfiltercolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-filter")),h.bounddata.totalsrow&&(m+=" "+this.toTP("jqx-grid-cell-pinned")),(p.pinned&&this.showpinnedcolumnbackground||p.grouped)&&(o&&h.bounddata.totalsrow||(m+=" "+this.toTP("jqx-grid-cell-pinned"))),this.altrows&&null==h.group){var x=h.visibleindex;x>=this.altstart&&(this.altstart+x)%(1+this.altstep)==0&&(m+=v?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),p.filter&&this.showfiltercolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-filter-alt")),p.pinned&&this.showpinnedcolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(d<=a){if(o||this.rowdetails||this.pageable&&this.virtualmode){var b=e(f),w=this.columns.records[d].width;f.style.width!=parseInt(w)+"px"&&b.width(w)}}else if((o||this.rowdetails)&&this._hiddencolumns){b=e(f),w=this.columns.records[d].width;parseInt(f.style.width)!=w&&b.width(w)}var y=!0;if(this.rowdetails&&r&&(n&&!o?m+=" "+this.toTP("jqx-grid-details-cell"):o&&(m+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(null==h.group&&d==l.cells.length-a-1){_=this.toThemeProperty("jqx-icon-arrow-down");if(n)m+=" "+this.toTP("jqx-grid-group-expand-rtl"),m+=" "+_;else m+=" "+this.toTP("jqx-grid-group-collapse-rtl"),m+=" "+(_=this.toThemeProperty("jqx-icon-arrow-left"));return y=!1,f.title="",f.innerHTML="",void(f.className!=m&&(f.className=m))}}else if(null==h.group&&d==a&&!h.bounddata.totalsrow){var _=this.toThemeProperty("jqx-icon-arrow-down");if(n)m+=" "+this.toTP("jqx-grid-group-expand"),m+=" "+_;else m+=" "+this.toTP("jqx-grid-group-collapse"),m+=" "+(_=this.toThemeProperty("jqx-icon-arrow-right"));return y=!1,f.title="",f.innerHTML="",void(f.className!=m&&(f.className=m))}if(s&&y&&d>=a&&(m+=" "+this.toTP("jqx-grid-cell-selected"),m+=" "+this.toTP("jqx-fill-state-pressed")),f.className!=m&&(f.className=m),null!=h.group)return cellvalue="",f.title="",void(f.innerHTML="");t(this,p,h,cellvalue,f,u)}},_rendercell:function(t,i,s,r,n,o){var a=r+"_"+i.visibleindex;if("number"==i.columntype||null!=i.cellsrenderer)a=s.uniqueid+"_"+i.visibleindex;if("number"==i.columntype&&(r=s.visibleindex),t.editcell&&null==t.editrow)if("selectedrow"==t.editmode&&i.editable&&t.editable){if(t.editcell.row==t.getboundindex(s)&&t._showcelleditor)return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,n,!1,!1):t._showcelleditor(t.editcell.row,i,n,t.editcell.init))}else if(t.editcell.row==t.getboundindex(s)&&t.editcell.column==i.datafield&&(t.editcell.element=n,t.editcell.editing&&t._showcelleditor))return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init,!1):t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init));var l=t._defaultcellsrenderer(r,i),h=t._cellscache[a];if(!h){if("checkbox"==i.columntype)return t._rendercheckboxcell(t,n,i,s,r),t._cellscache[a]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(n.title=""+r));if("button"==i.columntype)return null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata)),t._renderbuttoncell(t,n,i,s,r),t._cellscache[a]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(n.title=""+r));if("number"==i.columntype&&(r=s.visibleindex),i.createwidget)return null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata)),t._renderwidgetcell(t,n,i,s,r),t._cellscache[a]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(n.title=r));f=null;if(null!=i.cellsrenderer){if((f=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata))&&(f.indexOf("<jqx-")>=0||f.indexOf(" ng-")>=0))return void(t.toCompile&&t.toCompile.push({cell:n,value:f,row:t.getboundindex(s)}))}else f=l;null==f&&(f=l);var d=r;if(t.enabletooltips&&i.enabletooltips&&(""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?d=e.jqx.dataFormat.formatdate(d,i.cellsformat,t.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(d=e.jqx.dataFormat.formatnumber(d,i.cellsformat,t.gridlocalization))),n.title=d),t.WinJS)e(n).html(f);else{var c=n.innerHTML;if(c.indexOf("editor")>=0||null!=i.cellsrenderer||t.groupable||t.virtualmode)n.innerHTML=f;else if(c.length>0){m=f.indexOf(">"),g=f.indexOf("</"),v=f.substring(m+1,g),x=n.childNodes[0];if(v.indexOf(">")>=0)n.innerHTML=f;else if(x.childNodes[0])v!=x.childNodes[0].nodeValue&&(v.indexOf("&")>=0||c.indexOf("span")>=0?n.innerHTML=f:x.childNodes[0].nodeValue=v);else{b=document.createTextNode(v);x.appendChild(b)}}else c!=f&&(n.innerHTML=f)}return t._cellscache[a]={element:n.innerHTML,title:d},!0}if("checkbox"==i.columntype){if(t.host.jqxCheckBox){""===r&&(r=null);var u=0==n.innerHTML.toString().length;if(!n.checkbox||t.groupable||u?t._rendercheckboxcell(t,n,i,s,r):(n.checkboxrow=t.getboundindex(s),""==r&&(r=!1),"1"==r&&(r=!0),"0"==r&&(r=!1),1==r&&(r=!0),0==r&&(r=!1),"true"==r&&(r=!0),"false"==r&&(r=!1),null!=r||i.threestatecheckbox||(r=!1),i.checkboxcolumn&&(r=!1,t.dataview.filters.length>0&&!t.virtualmode&&null!=s.bounddata.dataindex?-1!=t.selectedrowindexes.indexOf(s.bounddata.dataindex)&&(r=!0):-1!=t.selectedrowindexes.indexOf(s.bounddata.boundindex)&&(r=!0)),t.disabled||(n.checkboxinstance?n.checkboxinstance._setState(r):n.checkbox.jqxCheckBox("_setState",r))),null!=i.cellsrenderer){var p=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata);null!=p&&(n.innerHTML=p)}return}}else if("button"==i.columntype&&t.host.jqxButton)return""==r&&(r=!1),null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(s),i.datafield,r,l,i.getcolumnproperties(),s.bounddata)),""==n.innerHTML&&(n.buttonrow=t.getboundindex(s),n.button=null,t._renderbuttoncell(t,n,i,s,r)),void(n.button&&!t.groupable?(n.buttonrow=t.getboundindex(s),n.button.val(r)):t._renderbuttoncell(t,n,i,s,r));if(i.createwidget)if(""==n.innerHTML&&(n.widgetrow=t.getboundindex(s),n.widget=null,t._renderwidgetcell(t,n,i,s,r)),n.widget&&!t.groupable){if(n.widgetrow=t.getboundindex(s),!i.initwidget)throw new Error("jqxGrid: 'initwidget' column function is not implemented. Please, implement 'initwidget'");i.initwidget(t.getboundindex(s),i.datafield,r,n.firstChild)}else t._renderwidgetcell(t,n,i,s,r);else{var f=h.element;if(null!=i.cellsrenderer||n.childNodes&&0==n.childNodes.length||t.groupable||t.rowdetails)n.innerHTML!=f&&(n.innerHTML=f);else if(n.innerHTML.indexOf("editor")>=0)n.innerHTML=f;else if(o){var m=f.indexOf(">"),g=f.indexOf("</"),v=f.substring(m+1,g),x=n.childNodes[0];if(v.indexOf(">")>=0)n.innerHTML=f;else if(x.childNodes[0])v!=x.childNodes[0].nodeValue&&(v.indexOf("&")>=0?n.innerHTML=f:x.childNodes[0].nodeValue=v);else{var b=document.createTextNode(v);x.appendChild(b)}}else n.innerHTML!=f&&(n.innerHTML=f);t.enabletooltips&&i.enabletooltips&&(n.title=h.title)}},_isIE10:function(){if(null==this._browser){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)>9)this._browser=!0;else if(this._browser=!1,"msie"==t.browser){var i="Browser CodeName: "+navigator.appCodeName;i+="Browser Name: "+navigator.appName,i+="Browser Version: "+navigator.appVersion,i+="Platform: "+navigator.platform,-1!=(i+="User-agent header: "+navigator.userAgent).indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(t,i,s,r,n){e(i);i.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(t,i,s,r,n){if(t.host.jqxCheckBox){var o=e(i);if(""===n&&(n=!!s.threestatecheckbox&&null),null!==n||s.threestatecheckbox||(n=!1),"1"==n&&(n=!0),"0"==n&&(n=!1),1==n&&(n=!0),0==n&&(n=!1),"true"==n&&(n=!0),"false"==n&&(n=!1),s.checkboxcolumn){n=!1;var a=this.getboundindex(r);-1!=this.selectedrowindexes.indexOf(a)&&(n=!0)}if(0==o.find(".jqx-checkbox").length)i.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>',e(i.firstChild).jqxCheckBox({disabled:t.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:s.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:t.theme,checked:n}),this.enabletooltips&&s.enabletooltips&&(i.title=""+n),this.editable&&s.editable&&e(i.firstChild).jqxCheckBox({locked:!1}),s.checkboxcolumn&&e(i.firstChild).jqxCheckBox({locked:!1}),i.checkbox=e(i.firstChild),i.checkboxinstance=i.checkbox.data().jqxCheckBox.instance,i.checkboxrow=this.getboundindex(r),e.data(i.firstChild,"jqxCheckBox").instance.updated=function(r,n,o){if(t.disabled){n=o;for(var a=t.table[0].rows.length,l=t._getcolumnindex(s.datafield),h=0;h<a;h++){(c=t.table[0].rows[h].cells[l].firstChild)&&e(c).jqxCheckBox({disabled:t.disabled})}}if(s.editable&&!t.disabled){a=t.table[0].rows.length,l=t._getcolumnindex(s.datafield);if(null==t.editrow){if(s.cellbeginedit)if(0==s.cellbeginedit(i.checkboxrow,s.datafield,s.columntype,!n))return void t.setcellvalue(i.checkboxrow,s.datafield,!n,!0);if(s.cellvaluechanging){var d=s.cellvaluechanging(i.checkboxrow,s.datafield,s.columntype,o,n);null!=d&&(n=d)}if("selectedrow"!==t.editmode)for(h=0;h<a;h++){var c;(c=t.table[0].rows[h].cells[l].firstChild)&&e(c).jqxCheckBox("destroy")}if(t.editcell&&0==t.editcell.validated)t.setcellvalue(i.checkboxrow,s.datafield,!n,!0);else if("selectedrow"!==t.editmode||null==t.editcell){var u=t.getrowdata(i.checkboxrow);t._raiseEvent(17,{rowindex:i.checkboxrow,row:u,datafield:s.datafield,value:o,columntype:s.columntype}),t.setcellvalue(i.checkboxrow,s.datafield,n,!0),t._raiseEvent(18,{rowindex:i.checkboxrow,row:u,datafield:s.datafield,oldvalue:o,value:n,columntype:s.columntype})}else t.setcellvalue(i.checkboxrow,s.datafield,n,!1,!1);s.cellendedit&&s.cellendedit(i.checkboxrow,s.datafield,s.columntype,n)}}else s.checkboxcolumn&&(t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t.disabled||(n?t.selectrow(i.checkboxrow):t.unselectrow(i.checkboxrow),t.autosavestate&&t.savestate&&t.savestate()))};else i.checkboxrow=this.getboundindex(r),e(i.firstChild).jqxCheckBox("_setState",n,!(this.editable&&s.editable||s.checkboxcolumn))}},_renderwidgetcell:function(t,i,s,r,n){if(0==e(i).find(".jqx-grid-widget").length){i.innerHTML='<div class="jqx-grid-widget" style="opacity: 0.99; position: absolute; width: 100%; height:100%; top: 0%; left: 0%; padding: 0px;"></div>',s.createwidget(r,s.datafield,n,i.firstChild),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).children().addClass("jqx-grid-widget"),i.widget=e(i.firstChild),i.widgetrow=t.getboundindex(r)}else s.initwidget(t.getboundindex(r),s.datafield,n,i.firstChild),i.widgetrow=t.getboundindex(r),e(i.firstChild).val(n)},_renderbuttoncell:function(t,i,s,r,n){if(t.host.jqxButton)if(""==n&&(n=!1),0==e(i).find(".jqx-button").length)if(i.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',e(i.firstChild).val(n),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).jqxButton({disabled:t.disabled,theme:t.theme,height:t.rowsheight-4,width:s.width-4}),i.button=e(i.firstChild),i.buttonrow=t.getboundindex(r),this.isTouchDevice()){var o=e.jqx.mobile.getTouchEventName("touchend");t.addHandler(e(i.firstChild),o,function(e){s.buttonclick&&s.buttonclick(i.buttonrow,e)})}else t.addHandler(e(i.firstChild),"click",function(e){s.buttonclick&&s.buttonclick(i.buttonrow,e)});else i.buttonrow=t.getboundindex(r),e(i.firstChild).val(n)},_clearvisualrow:function(t,i,s,r,n){var o=this.toTP("jqx-grid-cell");i&&(o=" "+this.toTP("jqx-grid-group-cell")),o+=" "+this.toTP("jqx-grid-cleared-cell");for(var a=this.table[0].rows,l=0;l<r+n;l++)if(a[s]){var h=a[s].cells[l];h.className!=o&&(h.className=o);var d=this.columns.records[l];if(this._horizontalvalue!=t&&!d.pinned&&1==this.oldhscroll){h.style.marginLeft=-t+"px"}var c=d.width;c<d.minwidth&&(c=d.minwidth),c>d.maxwidth&&(c=d.maxwidth),parseInt(h.style.width)!=c&&(e(h)[0].style.width="auto"!=c?c+"px":c),""!=h.title&&(h.title=""),""!=h.innerHTML&&(h.innerHTML="")}a[s]&&parseInt(a[s].style.height)!=this.rowsheight&&(a[s].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(e){var t=this._findgroup(e);return null!=t&&t.expanded},_findgroup:function(e){return this.expandedgroups[e]?this.expandedgroups[e]:null},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(t){if(null==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[t])return this._columnsbydatafield[t];var i=t,s=null;return e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this.text,s=this,!1}),this._columnsbydatafield[t]={label:i,column:s},this._columnsbydatafield[t]},_getcolumnbydatafield:function(t){if(null==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[t])return this.__columnsbydatafield[t];var i=null;return e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return this.text,i=this,!1}),this.__columnsbydatafield[t]=i,this.__columnsbydatafield[t]},isscrollingvertically:function(){return this.vScrollBar.jqxScrollBar("isScrolling")},_renderrowdetails:function(t,i,s,r,n,o){if(null!=i){var a=e(i),l=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var h=0;h<=n;h++){var d;(d=e(i.cells[h]))[0].innerHTML="",d[0].className="jqx-grid-details-cell"}if("none"==(d=e(i.cells[0]))[0].style.display){for(var c=i.cells[0],u=2;null!=c&&"none"==c.style.display&&u<10;)c=i.cells[0+u-1],u++;d=e(c)}if(this.rtl)for(var p=r;p<n;p++)i.cells[p].innerHTML="",i.cells[p].className="jqx-grid-details-cell";d.css("width","100%"),a.height(s.rowdetailsheight),d[0].className=t;var f=this.getboundindex(s),m=f+"_";if(this._rowdetailscache[m]){var g=this._rowdetailscache[m].html;if(this.initrowdetails){if(this._rowdetailscache[m].element){var v=this._rowdetailscache[m].element,x=d.coord(),b=this.gridcontent.coord(),w=parseInt(x.top)-parseInt(b.top),y=parseInt(x.left)-parseInt(b.left);this.rtl&&(y=0),e(v).css("top",w),e(v).css("left",y),e(v).css("display","block"),e(v).width(this.host.width()-l),this.layoutrowdetails&&this.layoutrowdetails(f,v,this.element,this.getrowdata(f))}}else d[0].innerHTML=g}else{d[0].innerHTML="",this.enablerowdetailsindent||(l=0);var _='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+l+'px;">'+s.rowdetails+"</div>";if(this.rtl)_='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+l+'px;">'+s.rowdetails+"</div>";if(this._rowdetailscache[m]={id:i.id,html:_},this.initrowdetails){v=e(_)[0];e(this.gridcontent).prepend(e(v)),e(v).css("position","absolute"),e(v).width(this.host.width()-l),e(v).height(d.height());x=d.coord();e(v).css("z-index",9999),this.isTouchDevice()&&e(v).css("z-index",99999),e(v).addClass(this.toThemeProperty("jqx-widget-content"));x=d.coord(),b=this.gridcontent.coord(),w=parseInt(x.top)-parseInt(b.top),y=parseInt(x.left)-parseInt(b.left);e(v).css("top",w),e(v).css("left",y),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var j=e(e(v).children()[0]);""!=j[0].id&&(j[0].id=j[0].id+f),this.initrowdetails(f,v,this.element,this.getrowdata(f)),this._rowdetailscache[m].element=v,this._rowdetailselementscache[f]=v}else d[0].innerHTML=_}}},_defaultcellsrenderer:function(t,i){""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(t)?t=e.jqx.dataFormat.formatdate(t,i.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(t)&&(t=e.jqx.dataFormat.formatnumber(t,i.cellsformat,this.gridlocalization)));var s="6px";if(28!=this.rowsheight&&((s=this.rowsheight/2-this._cellheight/2)<0&&(s=4),s+="px"),this.enableellipsis){if("center"==i.cellsalign||"middle"==i.cellsalign)return'<div class="jqx-grid-cell-middle-align" style="margin-top: '+s+';">'+t+"</div>";if("left"==i.cellsalign)return'<div class="jqx-grid-cell-left-align" style="margin-top: '+s+';">'+t+"</div>";if("right"==i.cellsalign)return'<div class="jqx-grid-cell-right-align" style="margin-top: '+s+';">'+t+"</div>"}return"center"==i.cellsalign||"middle"==i.cellsalign?'<div style="text-align: center; margin-top: '+s+';">'+t+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+s+"; float: "+i.cellsalign+';">'+t+"</span>"},getcelltext:function(t,i){if(null==t||null==i)return null;var s=this.getcellvalue(t,i),r=this.getcolumn(i);return r&&""!=r.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?s=e.jqx.dataFormat.formatdate(s,r.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(s)&&(s=e.jqx.dataFormat.formatnumber(s,r.cellsformat,this.gridlocalization))),s},getcelltextbyid:function(t,i){if(null==t||null==i)return null;var s=this.getcellvaluebyid(t,i),r=this.getcolumn(i);return r&&""!=r.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?s=e.jqx.dataFormat.formatdate(s,r.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(s)&&(s=e.jqx.dataFormat.formatnumber(s,r.cellsformat,this.gridlocalization))),s},_getcellvalue:function(e,t){var i=null;return i=t.bounddata[e.datafield],null!=e.displayfield&&(i=t.bounddata[e.displayfield]),null==i&&(i=""),i},getcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),s=e,r="";return isNaN(i)||(s=this.getrowdata(i)),null!=s&&(r=s[t]),this._getcellresult(r,e,t)},getrenderedcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),s=e,r="";return isNaN(i)||(s=this.getrenderedrowdata(i)),null!=s&&(r=s[t]),this._getcellresult(r,e,t)},_getcellresult:function(e,t,i){var s=this.getcolumn(i);if(null==s||null==s)return null;var r=s.getcolumnproperties(),n=r.hidden,o=r.width,a=r.pinned,l=r.cellsalign,h=r.cellsformat,d=this.getrowheight(t);return 0==d?null:{value:e,row:t,column:i,datafield:i,width:o,height:d,hidden:n,pinned:a,align:l,format:h}},setcellvaluebyid:function(e,t,i,s,r){var n=this.getrowboundindexbyid(e);return this.setcellvalue(n,t,i,s,r)},getcellvaluebyid:function(e,t){var i=this.getrowboundindexbyid(e);return this.getcellvalue(i,t)},setcellvalue:function(t,i,s,r,n){if(null==t||null==i)return!1;var o=parseInt(t),a=t;isNaN(o)||(a=this.getrowdata(o));var l=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(l=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var h="",d="";if(null==a||a[i]===s)return this._updating||0==r||this._renderrows(this.virtualsizeinfo),!1;if(null!==a[i]||""!==s){var c=this._getcolumnbydatafield(i),u="string";if(y=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var p="";e.each(y,function(){if(this.name==c.displayfield)return this.type&&(p=this.type),!1}),p&&(u=p),d=a[c.displayfield]}if(h=a[i],!c.nullable||null!=s&&""!==s&&c.nullable&&void 0===s.label){if(e.jqx.dataFormat.isNumber(h)||"number"==u||"float"==u||"int"==u||"decimal"==u&&"date"!=u)this.gridlocalization&&","==this.gridlocalization.decimalseparator&&s&&s.indexOf&&s.indexOf(",")>=0&&(s=s.replace(",",".")),s=new Number(s),s=parseFloat(s),isNaN(s)&&(s=0);else if((e.jqx.dataFormat.isDate(h)||"date"==u)&&""!=s){var f=s;"Invalid Date"!=(f=new Date(f))&&null!=f?s=f:"Invalid Date"==f&&(s=f=new Date)}if(a[i]===s)return void(this._updating||0==r||this._renderrows(this.virtualsizeinfo))}var m=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name;if(a[i]=s,m){var g=this.source._source.localdata;g._updating||(g._updating=!0,g[t][i]=s,g._updating=!1)}var v=this.getrenderedrowdata(o,!0);if(v){if(v[i]=s,null!=s&&null!=s.label&&(a[(c=this._getcolumnbydatafield(i)).displayfield]=s.label,v[c.displayfield]=s.label,a[i]=s.value,v[i]=s.value,m&&!g._updating&&(g._updating=!0,g[t][i]=s.value,g[t][c.displayfield]=s.label,g._updating=!1)),l&&null!=a.dataindex&&(a.dataindex,this.dataview.cachedrecords[a.dataindex][i]=s,null!=s&&null!=s.label&&(this.dataview.cachedrecords[a.dataindex][i]=s.value,this.dataview.cachedrecords[a.dataindex][c.displayfield]=s.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var x=o;l&&null!=a.dataindex&&(x=a.dataindex);var b=this.source._source._localdata()[x];this.source.suspendKO=!0;var w=b;if(w[i]&&w[i].subscribe)null!=s&&null!=s.label?(w[c.displayfield](s.label),w[i](s.value)):w[i](s);else{var y=this.source._source.datafields,_=null;if(y&&e.each(y,function(){if(this.name==i)return _=this.map,!1}),null==_)null!=s&&null!=s.label?(w[i]=s.value,w[c.displayfield]=s.label):w[i]=s;else{var j=_.split(this.source.mapChar);if(j.length>0){for(var q=w,S=0;S<j.length-1;S++)q=q[j[S]];q[j[j.length-1]]=s}}this.source._source._localdata.replace(b,e.extend({},w))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var T=this.getsortinformation();this.sortcolumn==i&&(this.dataview.clearsortdata(),this.dataview.sortby(T.sortcolumn,T.sortdirection.ascending))}else this._updating||this.dataview.sortby&&this.dataview.sortcache[i]&&(this.dataview.sortcache[i]=null);if(this._cellscache=new Array,this._pagescache=new Array,this.source.updaterow&&(null==n||1==n)){var C=this.that;try{var I=this.getrowid(o);null==this.source.updaterow(I,a,function(e){0==e&&(C.setcellvalue(t,i,h,!0,!1),h!=d&&C.setcellvalue(t,C.getcolumn(i).displayfield,d,!0,!1))})&&!0}catch(e){return!1,C.setcellvalue(t,i,h,!0,!1),void(h!=d&&C.setcellvalue(t,C.getcolumn(i).displayfield,d,!0,!1))}}var k=this.vScrollInstance.value;if(this._updating&&1!=r&&(r=!1),1==r||null==r){C=this.that;var P=function(){C.pageable&&C.updatepagerdetails&&(C.updatepagerdetails(),(C.autoheight||C.autorowheight)&&C._updatepageviews())},M=this.groupable&&this.groups.length>0;l&&!M?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),P(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!M?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),P(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(i)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(k),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var N=this.getcolumn(i).filtertype;"list"!=N&&"checkedlist"!=N||this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:t,datafield:i,newvalue:s,value:s,oldvalue:h}),!0}}},getcellvalue:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),s=e;return isNaN(i)||(s=this.getrowdata(i)),null!=s?s[t]:null},getrows:function(){var t=this.dataview.records.length;if(this.virtualmode){for(var i=new Array,s=0;s<this.dataview.records.length;s++){var r=this.dataview.records[s];r&&i.push(r)}void 0===this.dataview.records.length&&e.each(this.dataview.records,function(){this&&i.push(this)});var n=0;return this.pageable&&(n=this.dataview.pagenum*this.dataview.pagesize),i.length>this.source._source.totalrecords-n?i.slice(0,this.source._source.totalrecords-n):i}if(this.dataview.sortdata){for(i=new Array,s=0;s<t;s++){var o;o=e.extend({},this.dataview.sortdata[s].value),i[s]=o}return i}return this.dataview.records},getrowboundindexbyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t&&t.boundindex)return this.getboundindex(t);for(var i=this.getboundrows(),s=0;s<i.length;s++)if(i[s]&&i[s].uid==e)return s;return-1},getrowdatabyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t)return t;var i=this.getrowboundindexbyid(e);return this.getboundrows()[i]},getrowdata:function(e){return null==e&&(e=0),this.virtualmode?this.dataview.records[e]:this.getboundrows()[e]},getrenderedrowdata:function(e,t){if(null==e&&(e=0),this.virtualmode){var i=this.getrowvisibleindex(e);return s=this.dataview.loadedrecords[i]}if((i=this.getrowvisibleindex(e))>=0){if(this.groupable&&this.groups.length>0)var s=this.dataview.loadedrecords[i];else{s=this.dataview.loadedrecords[i];if(this.pageable&&(null==t||0==t))s=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+e]}return s}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(e){for(var t=this.getdisplayrows(),i=0;i<t.length;i++)if(t[i])if(void 0!==t[i].dataindex){if(t[i].dataindex==e)return t[i].visibleindex}else if(t[i].boundindex==e)return t[i].visibleindex;return-1},getboundindex:function(e){var t=e.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&e.bounddata&&(t=this.getrowboundindexbyid(e.bounddata.uid)),this.dataview.filters.length>0&&(e.bounddata?void 0!==e.bounddata.dataindex&&(t=e.bounddata.dataindex):void 0!==e.dataindex&&(t=e.dataindex)),t},getrowboundindex:function(e){var t=this.getdisplayrows()[e];return t?void 0!==t.dataindex?t.dataindex:t.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(e){var t=this.getvisiblerows();return t?t[e]:null},getloadedrowdata:function(e){var t=this.getloadedrows();return t?t[e]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var e=[],t=0;t<this.dataview.pagesize;t++){if(null==(i=this.dataview.loadedrecords[t+this.dataview.pagesize*this.dataview.pagenum]))break;e.push(i)}return e}if(null!=this._startboundindex&&null!=this._endboundindex){for(e=[],t=this._startvisibleindex;t<=this._endvisibleindex;t++){var i;if(null==(i=this.dataview.loadedrecords[t]))break;e.push(i)}return e}return this.dataview.loadedrecords},getrowid:function(e){if(null==e&&(e=0),this.virtualmode){var t=this.getrowvisibleindex(e);if(i=this.dataview.loadedrecords[t])return i.uid}else{var i=null,s=this.dataview.filters.length>0;if(e>=0&&e<this.dataview.bounditems.length&&!s){if(this.groupable&&this.groups.length>0){t=this.getrowvisibleindex(e);var i=this.dataview.loadedrecords[t]}else t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];if(i)return i.uid}if(this.dataview.filters.length>0)return(i=this.getboundrows()[e])&&null!=i.uid?i.uid:null}return null},_updateGridData:function(e){var t=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(t=!0),t?(this.dataview.refresh(),"updaterow"==e?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):(this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(t,i,s){if(null!=t&&null!=i){var r=this.that,n=!1;r._datachanged=!0;var o=function(t,i,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var n=!1;e.isArray(i)?(e.each(i,function(e,i){n=t.dataview.updaterow(this,r[e],!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):n=t.dataview.updaterow(i,r);var o=t.vScrollInstance.value;if(null!=s&&1!=s||null!=t._updating&&0!=t._updating||t._updateGridData("updaterow"),t.showaggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var a=t.dataview.recordsbyid["id"+i],l=t.dataview.records.indexOf(a),h=t.source._source._localdata()[l];t.source.suspendKO=!0,t.source._source._localdata.replace(h,e.extend({},a)),t.source.suspendKO=!1}if(t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var d=t.getrowboundindexbyid(i);t.source._source.localdata.set(d,r),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition(o),n};if(this.source.updaterow){try{null==(n=this.source.updaterow(t,i,function(e){1==e||null==e?o(r,t,i):n=!1}))&&(n=!0)}catch(e){n=!1}}else n=o(r,t,i);return n}return!1},deleterow:function(t,i){if(null!=t){this._datachanged=!0;var s=!1,r=this.that,n=this.getrowboundindexbyid(t),o=new Array;new Array;if(null!=n&&(this.selectedrowindexes.indexOf(n)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(n),1),this.selectedrowindex==n&&(this.selectedrowindex=-1),!this.virtualmode))if(r.selectionmode.indexOf("row")>=0)e.each(this.selectedrowindexes,function(){var e=r.getrowid(this);o.push(e)}),this.selectedrowindexes=new Array,this.selectedrowindex=-1;else if(r.selectionmode.indexOf("cell")>=0)for(var a in r.selectedcells){var l=r.selectedcells[a],h=r.getrowid(l.rowindex);l.rowid=h}var d=function(t,s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var r=!1,a=t.vScrollInstance.value;if(e.isArray(s))e.each(s,function(){r=t.dataview.deleterow(this,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh();else r=t.dataview.deleterow(s);if(!t.virtualmode)if(t.selectionmode.indexOf("row")>=0)e.each(o,function(){var e=t.getrowboundindexbyid(this);-1!=e&&t.selectrow(e,!1)});else{var l=new Array;for(var h in t.selectedcells){var d=t.selectedcells[h],c=d.rowid,u=t.getrowboundindexbyid(c);-1!=u&&(d.rowindex=u,l[u+"_"+d.datafield]=d)}t.selectedcells=l}if(null!=t._updating&&0!=t._updating||null!=i&&1!=i||setTimeout(function(){t._render(!0,!0,!1,!1),"visible"!=t.vScrollBar.css("visibility")&&(t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._renderrows(t.virtualsizeinfo))}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(rowdata),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&(t.source._source.localdata._updating||(t.source._source.localdata._updating=!0,t.source._source.localdata.splice(n,1),t.source._source.localdata._updating=!1)),t.dataview.sortby){var p=t.getsortinformation();p.sortcolumn&&(t.dataview.clearsortdata(),t.dataview.sortby(p.sortcolumn,p.sortdirection?p.sortdirection.ascending:null))}return t.vScrollInstance.setPosition(a),r};if(this.source.deleterow){try{this.source.deleterow(t,function(e){1!=e&&null!=e||d(r,t)}),null==s&&(s=!0)}catch(e){s=!1}}else s=d(r,t);return s}return!1},addrow:function(t,i,s){if(null!=i){this._datachanged=!0,null==s&&(s="last");var r=!1,n=this.that;if(null==t){var o=this.dataview.filters&&this.dataview.filters.length>0?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(e.isArray(i)){var a=new Array;e.each(i,function(e,t){var s=n.dataview.getid(n.dataview.source.id,i[e],o+e);a.push(s)}),t=a}else for(t=this.dataview.getid(this.dataview.source.id,i,o);null!=this.dataview.recordsbyid["id"+t];)t++}var l=function(t,i,s,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var n=t.vScrollInstance.value,o=!1;if(e.isArray(s)?(e.each(s,function(e,s){null!=this.dataindex&&delete this.dataindex;var n=null;null!=i&&null!=i[e]&&(n=i[e]),o=t.dataview.addrow(n,this,r,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):(null!=s&&null!=s.dataindex&&delete s.dataindex,o=t.dataview.addrow(i,s,r)),null!=t._updating&&0!=t._updating||setTimeout(function(){t._render(!0,!0,!1,!1),t.invalidate()}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(s),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var a=t.getrowboundindexbyid(i);t.source._source.localdata.set(a,s),t.source._source.localdata._updating=!1}return"deferred"!=t.scrollmode?t.vScrollInstance.setPosition(n):t.vScrollInstance.setPosition(0),o};if(this.source.addrow){try{null==(r=this.source.addrow(t,i,s,function(e,r){1!=e&&null!=e||(null!=r&&(t=r),l(n,t,i,s))}))&&(r=!0)}catch(e){r=!1}if(0==r)return!1}else l(this,t,i,s);return r}return!1},_findvisiblerow:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value));var i=0;null!=t&&null!=t||(t=this.rows.records);for(var s=t.length;i<=s;){mid=parseInt((i+s)/2);var r=t[mid];if(null==r)break;if(r.top>e&&r.top+r.height>e)s=mid-1;else{if(!(r.top<e&&r.top+r.height<e))return mid;i=mid+1}}return-1},_updatecellwidths:function(){var e=this.virtualsizeinfo;if(e){var t=this.that;if(null!=t.gridcontent){null==t.table&&(t.table=t.gridcontent.find("#contenttable"+t.element.id));var i=t.groupable&&t.groups.length>0,s=0,r=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(r=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),r=t.dataview.rows.length)),t.groupable||t.pageable||!t.autoheight&&!t.autorowheight||(r=t.dataview.totalrecords),t.rowdetails&&(r+=t.dataview.pagesize),t.columns.records){for(var n=t.columns.records.length,o=t.table[0].rows,a=0;a<r;a++){var l=o[a];if(!l)break;for(var h=l.cells,d=0,c=0;c<n;c++){var u=t.columns.records[c],p=u.width,f=h[c];parseInt(f.style.left)!=d&&(f.style.left=d+"px"),parseInt(f.style.width)!=p&&(f.style.width=p+"px"),u.hidden&&u.hideable?f.style.display="none":d+=parseFloat(p)}0==s&&(t.table.width(parseFloat(d)+2),s=d)}t.showaggregates&&t._updateaggregates&&t._updateaggregates(),t.showfilterrow&&t.filterable&&t._updatefilterrowui&&t._updatefilterrowui(),t.showeverpresentrow&&t._updateaddnewrowui(),t._updatescrollbarsafterrowsprerender(),i&&t._renderrows(t.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var e=this.that,t=e.hScrollBar[0].style.visibility,i=0,s=e.vScrollBar[0].style.visibility;"visible"==s&&(i=e.scrollbarsize+3),0==e.scrollbarsize&&(i=0),e.scrollbarautoshow&&(i=0);var r=e.element.style.width;if(r=r.toString().indexOf("%")>=0?e.host.width():parseInt(r),parseInt(e.table[0].style.width)-2>r-i){if("visible"!=t&&(e.autowidth||(e.hScrollBar[0].style.visibility="visible"),e._arrange()),"visible"==s){if("deferred"==e.scrollmode||e.virtualmode)e._updatevscrollbarmax();else if(e.virtualsizeinfo){var n=e.virtualsizeinfo.virtualheight-e._gettableheight();!isNaN(n)&&n>0&&("hidden"!=t?e.vScrollBar.jqxScrollBar("max",n+e.scrollbarsize+4):e.vScrollBar.jqxScrollBar("max",n))}}else i=-2;e.hScrollBar.jqxScrollBar("max",i+e.table.width()-e.host.width())}else"hidden"!=t&&(e.hScrollBar.css("visibility","hidden"),e._arrange());e._renderhorizontalscroll()},_prerenderrows:function(t){var i=this.that;if(1==i.prerenderrequired){if(i.prerenderrequired=!1,i.editable&&i._destroyeditors&&i._destroyeditors(),null==i.gridcontent)return;i.gridcontent.find("#contenttable"+i.element.id).remove(),null!=i.table&&(i.table.remove(),i.table=null),i.table=e('<div id="contenttable'+i.element.id+'" style="overflow: hidden; position: relative;"></div>'),i.gridcontent.addClass(i.toTP("jqx-grid-content")),i.gridcontent.addClass(i.toTP("jqx-widget-content")),i.gridcontent.append(i.table);var s=i.groupable&&i.groups.length>0,r=0;i.table[0].rows=new Array;var n=i.toTP("jqx-grid-cell");s&&(n=" "+i.toTP("jqx-grid-group-cell"));var o=t.visiblerecords;if(i.pageable&&(i.autoheight||i.autorowheight)&&(o=i.dataview.pagesize,i.groupable&&(i.dataview.updateview(),(o=i.dataview.rows.length)<i.dataview.pagesize&&(o=i.dataview.pagesize))),i.pageable||!i.autoheight&&!i.autorowheight||(o=i.dataview.totalrecords),i.groupable&&i.groups.length>0&&(i.autoheight||i.autorowheight)&&!i.pageable&&(o=i.dataview.rows.length),i.rowdetails&&(i.autoheight||i.autorowheight?o+=i.dataview.pagesize:o+=o),!i.columns.records)return;var a=i.columns.records.length;e.jqx.browser.msie&&e.jqx.browser.version>8&&i.table.css("opacity","0.99"),e.jqx.browser.mozilla,-1!=navigator.userAgent.indexOf("Safari")&&i.table.css("opacity","0.99");var l=e.jqx.browser.msie&&e.jqx.browser.version<8;l&&i.host.attr("hideFocus","true");var h=i.tableZIndex;o*a>h&&(h=o*a);i.dataview.records.length,i.isTouchDevice();var d="";i._hiddencolumns=!1;for(var c=0;c<o;c++){var u='<div role="row" style="position: relative; height:'+i.rowsheight+'px;" id="row'+c+i.element.id+'">';if(l){u='<div role="row" style="position: relative; z-index: '+h+"; height:"+i.rowsheight+'px;" id="row'+c+i.element.id+'">';h--}for(var p=0,f=0;f<a;f++){if((w=(b=i.columns.records[f]).width)<b.minwidth&&(w=b.minwidth),w>b.maxwidth&&(w=b.maxwidth),i.rtl){var m='<div role="gridcell" style="left: '+p+"px; z-index: "+(h-a+2*f)+"; width:"+w+"px;";h--}else m='<div role="gridcell" style="left: '+p+"px; z-index: "+h--+"; width:"+w+"px;";b.hidden&&b.hideable?(m+="display: none;",i._hiddencolumns=!0,h++):p+=w,m+='" class="'+n+'">',m+=this._defaultcellsrenderer("",b),u+=m+="</div>"}0==r&&(i.table.width(parseInt(p)+2),r=p),d+=u+="</div>"}i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(d)}):i.table[0].innerHTML=d,i.table[0].rows=new Array;var g=i.table.children();for(c=0;c<o;c++){var v=g[c];i.table[0].rows.push(v),v.cells=new Array;var x=e(v).children();for(f=0;f<a;f++)v.cells.push(x[f])}if(0==o){p=0;if(i.showemptyrow){u=e('<div style="position: relative;" id="row0'+i.element.id+'"></div>');i.table.append(u),u.height(i.rowsheight),i.table[0].rows[0]=u[0],i.table[0].rows[0].cells=new Array}for(f=0;f<a;f++){var b,w=(b=i.columns.records[f]).width;if(i.showemptyrow)(m=e('<div style="position: absolute; height: 100%; left: '+p+"px; z-index: "+h--+"; width:"+w+'px;" class="'+n+'"></div>')).height(i.rowsheight),u.append(m),i.table[0].rows[0].cells[f]=m[0];w<b.minwidth&&(w=b.minwidth),w>b.maxwidth&&(w=b.maxwidth),b.hidden&&b.hideable||(p+=w)}i.table.width(parseInt(p)+2),r=p}i._updatescrollbarsafterrowsprerender(),i.rendered&&i.rendered("rows"),i.toCompile=new Array,i._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var e=null,t=null;this.tableheight=null;var i=this.that,s=!1,r=!1;if(null!=i.width&&-1!=i.width.toString().indexOf("px")?e=i.width:null==i.width||isNaN(i.width)||(e=i.width),null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=i.width,s=!0),i.scrollbarautoshow&&(i.vScrollBar[0].style.display="none",i.hScrollBar[0].style.display="none",i.vScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex,i.hScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex),i.autowidth){for(var n=0,o=0;o<i.columns.records.length;o++){var a=i.columns.records[o].width;n+="auto"==a?a=i._measureElementWidth(i.columns.records[o].text):a}"hidden"!=i.vScrollBar.css("visibility")&&(n+=i.scrollbarsize+4),e=n,i.width=e}null!=i.height&&-1!=i.height.toString().indexOf("px")?t=i.height:null==i.height||isNaN(i.height)||(t=i.height),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=i.height,r=!0);var l=function(){var e=0;return e+=i.showheader&&null!=i.columnsheader?i.columnsheader.height()+2:0,i.pageable&&(e+=i.pagerheight),i._groupsheader()&&(e+=i.groupsheaderheight),i.showtoolbar&&(e+=i.toolbarheight),i.showstatusbar&&(e+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(e+=i.everpresentrowheight),"visible"==i.hScrollBar[0].style.visibility&&(e+=20),e};if(i.autoheight&&i.virtualsizeinfo)if(i.pageable&&i.gotopage){t=(h=0)+(i._pageviews[0]?i._pageviews[0].height:0),t+=l(),i.showemptyrow&&0==i.dataview.totalrecords&&(t+=i.rowsheight)}else{var h=i.host.height()-i._gettableheight();i._pageviews.length>0?(t=h+i._pageviews[i._pageviews.length-1].height+i._pageviews[i._pageviews.length-1].top,i.vScrollBar[0].style.visibility="hidden"):(t=l(),i.showemptyrow&&(t+=i.rowsheight))}else i.autoheight&&(t=i.dataview.totalrecords*i.rowsheight,i.pageable&&i.gotopage&&(t=i.pagesize*i.rowsheight),i._loading&&(t=250,i.dataloadelement.height(t)),(t+=l())>1e4&&(t=1e4));null!=e?(e=parseInt(e),s?i.element.style.width=i.width:i.element.style.width!=parseInt(i.width)+"px"&&(i.element.style.width=parseInt(i.width)+"px"),s&&((e=i.host.width())<=2&&(e=600,i.host.width(e)),i._oldWidth||(i._oldWidth=e))):i.host.width(250),null!=t?(r||(t=parseInt(t)),r?i.element.style.height=i.height:i.element.style.height!=parseInt(t)+"px"&&(i.element.style.height=parseInt(t)+"px"),r&&!i.autoheight&&(0==(t=i.host.height())&&(t=400,i.host.height(t)),i._oldHeight||(i._oldHeight=t))):i.host.height(250),i.autoheight&&(i.tableheight=null,i._gettableheight());var d=0;if(i.showtoolbar?(i.toolbar.width(e),i.toolbar.height(i.toolbarheight-1),i.toolbar.css("top",0),d+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.toolbar[0].style.height="0px",i.showstatusbar?(i.showaggregates?i.statusbar.width(i.table?Math.max(e,i.table.width()):e):i.statusbar.width(e),i.statusbar.height(i.statusbarheight)):i.statusbar[0].style.height="0px",i.showeverpresentrow&&"bottom"===i.everpresentrowposition?(i.addnewrow.width(e),i.addnewrow.height(i.everpresentrowheight)):i.addnewrow[0].style.height="0px",i._groupsheader()){i.groupsheader.width(e),i.groupsheader.height(i.groupsheaderheight),i.groupsheader.css("top",d),d+=c=i.groupsheader.height()+1,t>c&&(t-=parseInt(c))}else{i.groupsheader[0].style.width!=e+"px"&&(i.groupsheader[0].style.width=parseInt(e)+"px"),i.groupsheader[0].style.height="0px",i.groupsheader[0].style.top!=d+"px"&&i.groupsheader.css("top",d);var c,u=d+(c=i.showgroupsheader&&i.groupable?i.groupsheaderheight:0)+"px";i.content[0].style.top!=u&&i.content.css("top",d+i.groupsheaderheight)}var p=i.scrollbarsize;isNaN(p)&&(p=parseInt(p),isNaN(p)?p="17px":p+="px"),p=parseInt(p);var f=2,m=0;"visible"==i.vScrollBar[0].style.visibility&&(m=p+4),"visible"==i.hScrollBar[0].style.visibility&&(f=p+4+2),0==p&&(m=0,f=0);var g=0;i.pageable&&(g=i.pagerheight,f+=i.pagerheight),i.showstatusbar&&(f+=i.statusbarheight,g+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(f+=i.everpresentrowheight,g+=i.everpresentrowheight),i.hScrollBar[0].style.height!=p+"px"&&(i.hScrollBar[0].style.height=parseInt(p)+"px"),i.hScrollBar[0].style.top==d+t-4-p-g+"px"&&"0px"==i.hScrollBar[0].style.left||i.hScrollBar.css({top:d+t-4-p-g+"px",left:"0px"});var v=i.hScrollBar[0].style.width,x=!1,b=!1;0==m?v!=e-2+"px"&&(i.hScrollBar.width(e-2),x=!0):v!=e-p-4+"px"&&(i.hScrollBar.width(e-p-4+"px"),x=!0),i.autoheight||(i.vScrollBar[0].style.width!=p+"px"&&(i.vScrollBar.width(p),b=!0),i.vScrollBar[0].style.height!=parseInt(t)-f+"px"&&(i.vScrollBar.height(parseInt(t)-f+"px"),b=!0),i.vScrollBar[0].style.left==parseInt(e)-parseInt(p)-4+"px"&&i.vScrollBar[0].style.top==d+"px"||i.vScrollBar.css({left:parseInt(e)-parseInt(p)-4+"px",top:d})),i.rtl&&(i.vScrollBar.css({left:"0px",top:d}),"hidden"!=i.vScrollBar.css("visibility")&&i.hScrollBar.css({left:p+2}));var w=i.vScrollInstance;w.disabled=i.disabled,i.autoheight||b&&w.refresh();var y=i.hScrollInstance;y.disabled=i.disabled,x&&y.refresh(),i.autowidth&&(i.hScrollBar[0].style.visibility="hidden"),i.statusbarheight=parseInt(i.statusbarheight),i.toolbarheight=parseInt(i.toolbarheight);var _=function(e){if("visible"==e.vScrollBar[0].style.visibility&&"visible"==e.hScrollBar[0].style.visibility){e.bottomRight[0].style.visibility="visible",e.bottomRight.css({left:1+parseInt(e.vScrollBar.css("left")),top:parseInt(e.hScrollBar.css("top"))}),e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight.width(parseInt(p)+3),e.bottomRight.height(parseInt(p)+4);var t=e.showeverpresentrow&&"bottom"==e.everpresentrowposition?e.everpresentrowheight:0;t>0&&!e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-t})),e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+e.statusbarheight+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.statusbarheight-t}))}else e.bottomRight[0].style.visibility="hidden"};if(_(this),i.content[0].style.width!=e-m+"px"&&i.content.width(e-m),i.content[0].style.height!=t-f+3+"px"&&i.content.height(t-f+3),i.scrollbarautoshow&&(i.content[0].style.width!=e+"px"&&i.content.width(e),i.content[0].style.height!=t+"px"&&i.content.height(t)),i.content[0].style.top!=d+"px"&&i.content.css("top",d),i.rtl&&(i.content.css("left",m),i.scrollbarautoshow&&i.content.css("left","0px"),i.table)){var j=i.table.width();j<e-m&&i.content.css("left",e-j)}if(i.showstatusbar&&(i.statusbar.css("top",d+t-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.showaggregates&&("visible"==i.hScrollBar.css("visibility")&&(i.hScrollBar.css({top:d+t-4-p-g+i.statusbarheight+"px"}),i.statusbar.css("top",1+d+t-p-5-i.statusbarheight-(i.pageable?i.pagerheight:0))),_(this)),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.statusbar.css("left",i.content.css("left")):i.statusbar.css("left","0px"))),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(i.addnewrow.css("top",d+t-(i.showstatusbar?i.statusbarheight:0)-(i.pageable?i.pagerheight:0)-i.everpresentrowheight),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.addnewrow.css("left",i.content.css("left")):i.addnewrow.css("left","0px"))),i.pageable?(i.pager.width(e),i.pager.height(i.pagerheight),i.pager.css("top",d+t-i.pagerheight-1)):i.pager[0].style.height="0px",null!=i.table){var q=-2;if("visible"==i.vScrollBar[0].style.visibility&&(q=i.scrollbarsize+3),"visible"==i.hScrollBar[0].style.visibility){var S=q+i.table.width()-i.host.width();S>=0&&i.hScrollBar.jqxScrollBar("max",S),"visible"==i.hScrollBar[0].style.visibility&&0==S&&(i.hScrollBar[0].style.visibility="hidden",i._arrange())}}e!=parseInt(i.dataloadelement[0].style.width)&&(i.dataloadelement[0].style.width=i.element.style.width),t!=parseInt(i.dataloadelement[0].style.height)&&(i.dataloadelement[0].style.height=i.element.style.height),i._hostwidth=e},destroy:function(){if(delete e.jqx.dataFormat.datescache,delete this.gridlocalization,e.jqx.utilities.resize(this.host,null,!0),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&this.removeHandler(e(window.top.document),"mouseup.grid"+this.element.id),this.table&&this.table[0]){for(var t=this.table[0].rows.length,i=0;i<t;i++){for(var s=this.table[0].rows[i],r=s.cells.length,n=0;n<r;n++)e(s.cells[n]).remove(),s.cells[n]=null,delete s.cells[n];s.cells=null,s.cells&&delete s.cells,e(this.table[0].rows[i]).remove(),this.table[0].rows[i]=null}try{delete this.table[0].rows}catch(e){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(i=0;i<this.columns.records.length;i++){var o=this.columns.records[i];o.addnewrowwidget&&o.destroyeverpresentrowwidget&&o.destroyeverpresentrowwidget(o.addnewrowwidget),this._removecolumnhandlers(this.columns.records[i]),o.element&&(e(o.element).remove(),e(o.sortasc).remove(),e(o.sortdesc).remove(),e(o.filtericon).remove(),e(o.menu).remove(),o.element=null,o.uielement=null,o.sortasc=null,o.sortdesc=null,o.filtericon=null,o.menu=null,delete o.element,delete o.uielement,delete o.sortasc,delete o.sortdesc,delete o.filtericon,delete o.menu,delete this.columnsrow[0].cells[i])}try{delete this.columnsrow[0].cells}catch(e){}delete this.columnsrow}if(e.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(e(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(e(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(e(document),"selectstart."+this.element.id),this.removeHandler(e(document),"mousedown.resize"+this.element.id),this.removeHandler(e(document),"mouseup.resize"+this.element.id),this.removeHandler(e(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var a=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,h=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),a),this.removeHandler(e(document),l),this.removeHandler(e(document),h)}if(this.removeHandler(e(document),"mousedown.reorder"+this.element.id),this.removeHandler(e(document),"mouseup.reorder"+this.element.id),this.removeHandler(e(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){a=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,h=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(e(document),a),this.removeHandler(e(document),l),this.removeHandler(e(document),h)}if(this.removeHandler(e(window),"resize."+this.element.id),this.resizeline&&this.resizeline.remove(),this.resizestartline&&this.resizestartline.remove(),this.groupable){a="mousemove.grouping"+this.element.id,l="mousedown.grouping"+this.element.id,h="mouseup.grouping"+this.element.id;this.removeHandler(e(document),a),this.removeHandler(e(document),l),this.removeHandler(e(document),h)}if(this.columnsreorder){a="mousemove.reorder"+this.element.id,l="mousedown.reorder"+this.element.id,h="mouseup.reorder"+this.element.id;this.removeHandler(e(document),a),this.removeHandler(e(document),l),this.removeHandler(e(document),h),delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader&&(this.columnsheader.remove(),delete this.columnsheader),this.selectionarea&&(this.selectionarea.remove(),delete this.selectionarea),this.menuitemsarray&&this.menuitemsarray.length){var d=this.menuitemsarray.length;for(i=0;i<d;i++)e(this.menuitemsarray[i]).remove()}delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent&&(this.gridcontent.remove(),delete this.gridcontent),this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var i=this.source?this.source.datafields:null;null==i&&this.source&&this.source._source&&(i=this.source._source.datafields);var s=!!i&&i.length>0;if(this.autogeneratecolumns){var r=new Array;if(i)e.each(i,function(){var e={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};r.push(e)});else if(this.source.records.length>0){var n=this.source.records[0];for(obj in n)if("uid"!=obj){var o={width:100,datafield:obj,text:obj};r.push(o)}}this.columns=r}if(this.columns&&this.columns.records)for(var a=0;a<this.columns.records.length;a++)this._removecolumnhandlers(this.columns.records[a]);var l=this.that,h=new e.jqx.collection(this.element),d=0;(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&e.each(this.groups,function(e){var i=new t(l,this);i.visibleindex=d++,i.width=l.groupindentwidth,h.add(i),i.grouped=!0,i.filterable=!1,i.sortable=!1,i.editable=!1,i.resizable=!1,i.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn)&&((o=new t(l,this)).visibleindex=d++,o.width=l.groupindentwidth,o.pinned=!0,o.editable=!1,o.filterable=!1,o.draggable=!1,o.groupable=!1,o.resizable=!1,h.add(o),l._haspinned=!0);"checkbox"==this.selectionmode&&((o=new t(l,null)).visibleindex=d++,o.width=l.groupindentwidth,o.checkboxcolumn=!0,o.editable=!1,o.columntype="checkbox",o.groupable=!1,o.draggable=!1,o.filterable=!1,o.resizable=!1,o.datafield="_checkboxcolumn",h.add(o));var c=new Array;e.each(this.columns,function(e){if(null!=l.columns[e]){var i=new t(l,this);if(i.visibleindex=d++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(l._haspinned=!0),l.showeverpresentrow&&("addButtonColumn"!==this.datafield&&"resetButtonColumn"!==this.datafield&&"updateButtonColumn"!==this.datafield&&"deleteButtonColumn"!==this.datafield||(i.editable=!1,i.groupable=!1,i.draggable=!1,i.filterable=!1,i.resizable=!1,i.menu=!1)),null==this.datafield)l.source&&l.source._source&&"array"==l.source._source.datatype&&(s||(l.source._source.datafields?l.source._source.datafields.push({name:e.toString()}):(l.source._source.datafields=new Array,l.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(c[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");c[this.datafield]=!0}h.add(i)}}),this.rtl&&h.records.reverse(),this.columns=h},_initializeRows:function(){var t=new e.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=t},_raiseEvent:function(t,i){if(null==i&&(i={owner:null}),!1!==this._trigger){var s=this.events[t];if(this._camelCase||(s=s.toLowerCase()),(2==t||15==t)&&this.showeverpresentrow&&(this.everpresentrowactions.indexOf("delete")>=0||this.everpresentrowactions.indexOf("update")>=0)){if(this.updateeverpresentrow)var r=this;setTimeout(function(){r.updateeverpresentrow()},50)}args=i,args.owner=this;var n=new e.Event(s);n.owner=this,n.args=args;var o=this.host.trigger(n);return i=n.args,o}},wheel:function(e,t){if(t.autoheight&&"visible"!=t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(e>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.value+this.rowsheight<=e.max?e.setPosition(parseInt(e.value)+this.rowsheight):e.setPosition(e.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.value-this.rowsheight>=e.min?e.setPosition(parseInt(e.value)-this.rowsheight):e.setPosition(e.min)}},_removeHandlers:function(){var t=this.that;t.removeHandler(e(window),"orientationchange.jqxgrid"+t.element.id),t.removeHandler(e(window),"orientationchanged.jqxgrid"+t.element.id),t.removeHandler(t.vScrollBar,"valueChanged"),t.removeHandler(t.hScrollBar,"valueChanged"),t.vScrollInstance.valueChanged=null,t.hScrollInstance.valueChanged=null;var i="mousedown.jqxgrid";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),t.removeHandler(t.host,"dblclick.jqxgrid"),t.removeHandler(t.host,i),t.removeHandler(t.content,"mousemove",t._mousemovefunc),t.removeHandler(t.host,"mouseleave.jqxgrid"),t.removeHandler(t.content,"mouseenter"),t.removeHandler(t.content,"mouseleave"),t.removeHandler(t.content,"mousedown"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"selectstart."+t.element.id),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"keydown.edit"+t.element.id),t.removeHandler(e(document),"keydown.edit"+t.element.id),t.removeHandler(e(document),"keyup.edit"+t.element.id),t._mousemovedocumentfunc&&t.removeHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc),t.removeHandler(e(document),"mouseup.selection"+t.element.id),t._mousewheelfunc&&t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.editable&&t.removeHandler(e(document),"mousedown.gridedit"+t.element.id),t.host.off&&(t.content.off("mousemove"),t.host.off("mousewheel"))},_addHandlers:function(){var t=this.that,i=t.isTouchDevice();i||t.addHandler(t.host,"dragstart."+t.element.id,function(e){return!1}),t.scrollbarautoshow&&(t.addHandler(t.host,"mouseenter.gridscroll"+t.element.id,function(e){t.vScrollBar.fadeIn("fast"),t.hScrollBar.fadeIn("fast")}),t.addHandler(t.host,"mouseleave.gridscroll"+t.element.id,function(e){t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()||(t.vScrollBar.fadeOut("fast"),t.hScrollBar.fadeOut("fast"))})),t.editable&&t.addHandler(e(document),"mousedown.gridedit"+t.element.id,function(e){if(t.editable&&t.begincelledit&&t.editcell&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var i=t.host.coord(),s=t.host.width(),r=t.host.height(),n=!1,o=!1;if((e.pageY<i.top||e.pageY>i.top+r)&&(n=!0,o=!0),(e.pageX<i.left||e.pageX>i.left+s)&&(n=!0,!0),n){if(t.editcell&&t.editcell.editor)switch(t.editcell.columntype){case"datetimeinput":if(t.editcell.editor.jqxDateTimeInput&&t.editcell.editor.jqxDateTimeInput("container")&&"block"==t.editcell.editor.jqxDateTimeInput("container")[0].style.display){var a=t.editcell.editor.jqxDateTimeInput("container").coord().top,l=t.editcell.editor.jqxDateTimeInput("container").coord().top+t.editcell.editor.jqxDateTimeInput("container").height();if(!o||!(e.pageY<a||e.pageY>l))return;n=!0,t.editcell.editor.jqxDateTimeInput("close")}break;case"combobox":if(t.editcell.editor.jqxComboBox&&t.editcell.editor.jqxComboBox("container")&&"block"==t.editcell.editor.jqxComboBox("container")[0].style.display){a=t.editcell.editor.jqxComboBox("container").coord().top,l=t.editcell.editor.jqxComboBox("container").coord().top+t.editcell.editor.jqxComboBox("container").height();if(!o||!(e.pageY<a||e.pageY>l))return;n=!0,t.editcell.editor.jqxComboBox("close")}break;case"dropdownlist":if(t.editcell.editor.jqxDropDownList&&t.editcell.editor.jqxDropDownList("container")&&"block"==t.editcell.editor.jqxDropDownList("container")[0].style.display){a=t.editcell.editor.jqxDropDownList("container").coord().top,l=t.editcell.editor.jqxDropDownList("container").coord().top+t.editcell.editor.jqxDropDownList("container").height();if(!o||!(e.pageY<a||e.pageY>l))return;n=!0,t.editcell.editor.jqxDropDownList("close")}break;case"template":case"custom":for(var h=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],d=function(i){var s=t.editcell.editor.data();if(s[i]&&s[i].instance.container&&"block"==s[i].instance.container[0].style.display){var r=s[i].instance,a=r.container.coord().top,l=r.container.coord().top+r.container.height();return!(!o||!(e.pageY<a||e.pageY>l))&&(n=!0,r.close(),!0)}},c=0;c<h.length;c++){if(0==d(h[c]))return}}t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t._oldselectedcell=null}}}),t.vScrollInstance.valueChanged=function(e){t.virtualsizeinfo&&(t._closemenu(),"physical"!=t.scrollmode?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):(null!=t.currentScrollValue&&Math.abs(t.currentScrollValue-e.currentValue),t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue),t.pageable||t.groupable||!t.dataview.virtualmode||(t.loadondemandupdate&&clearTimeout(t.loadondemandupdate),t.loadondemandupdate=setTimeout(function(){t.loadondemand=!0,t._renderrows(t.virtualsizeinfo)},100)),i&&(t._lastScroll=new Date))},t.hScrollInstance.valueChanged=function(s){if(t.virtualsizeinfo){t._closemenu();var r=function(){t._renderhorizontalscroll(),t._renderrows(t.virtualsizeinfo),t.editcell&&!t.editrow&&t._showcelleditor&&t.editcell.editing&&(t.hScrollInstance.isScrolling()||t._showcelleditor(t.editcell.row,t.getcolumn(t.editcell.column),t.editcell.element,t.editcell.init))};if(i)r();else{null==t._browser?t._isIE10():t._browser;navigator&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){r()},1)):e.jqx.browser.msie?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){r()},.01)):r()}i&&(t._lastScroll=new Date)}},t._mousewheelfunc=t._mousewheelfunc||function(e){if(!t.editcell&&t.enablemousewheel)return t.wheel(e,t),!1},t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.addHandler(t.host,"mousewheel",t._mousewheelfunc);var s="mousedown.jqxgrid";i&&(s=e.jqx.mobile.getTouchEventName("touchend")),t.addHandler(t.host,s,function(i){if(t.isTouchDevice()){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(e(i.target).ischildof(t.vScrollBar))return!1;if(e(i.target).ischildof(t.hScrollBar))return!1}t._mousedown=new Date;var s=t._handlemousedown(i,t);return t.isNestedGrid&&(t.resizablecolumn||t.columnsreorder||i.stopPropagation()),t._lastmousedown=new Date,s}),i||(t.addHandler(t.host,"dblclick.jqxgrid",function(i){if(t.editable&&t.begincelledit&&"dblclick"==t.editmode)t._handledblclick(i,t);else if(e.jqx.browser.msie&&e.jqx.browser.version<9)t._handlemousedown(i,t);return t.mousecaptured=!1,t._lastmousedown=new Date,!0}),t._mousemovefunc=function(e){if(t._handlemousemove)return t._handlemousemove(e,t)},t.addHandler(t.content,"mousemove",t._mousemovefunc),t._handlemousemoveselection&&(t._mousemovedocumentfunc=function(e){if(t._handlemousemoveselection)return t._handlemousemoveselection(e,t)},t.addHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc)),t.addHandler(e(document),"mouseup.selection"+t.element.id,function(e){t._handlemouseupselection&&t._handlemouseupselection(e,t)}));try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r=null;if(window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)){t.addHandler(e(window.top.document),"mouseup.grid"+t.element.id,function(e){if(t._handlemouseupselection)try{t._handlemouseupselection(e,t)}catch(e){}})}}}catch(e){}t.focused=!1,i||(t.addHandler(t.content,"mouseenter",function(e){t.focused=!0,t.wrapper&&(t.wrapper.attr("tabindex",1),t.content.attr("tabindex",2)),t._overlayElement&&(t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()?t._overlayElement[0].style.visibility="visible":t._overlayElement[0].style.visibility="hidden")}),t.addHandler(t.content,"mouseleave",function(e){t._handlemousemove&&t.enablehover&&t._clearhoverstyle(),t._overlayElement&&(t._overlayElement[0].style.visibility="hidden"),t.focused=!1}),(t.groupable||t.columnsreorder)&&t.addHandler(e(document),"selectstart."+t.element.id,function(e){if(!0===t.__drag)return!1}),t.addHandler(t.content,"selectstart."+t.element.id,function(i){if(t.enablebrowserselection)return!0;if(t.showfilterrow&&e(i.target).ischildof(t.filterrow))return!0;if(t.showeverpresentrow){if(e(i.target).ischildof(t.addnewrow))return!0;if(t.addnewrowtop&&e(i.target).ischildof(t.addnewrowtop))return!0}return!!(i.target.className&&i.target.className.indexOf("jqx-grid-widget")>=0)||!!t.editcell&&void(i.stopPropagation&&i.stopPropagation())}),t.addHandler(e(document),"keyup.edit"+t.element.id,function(e){t._keydown=!1}),t.addHandler(e(document),"keydown.edit"+t.element.id,function(i){if((t._keydown=!t.editcell,20===(r=i.charCode?i.charCode:i.keyCode?i.keyCode:0)&&(t._capsLock?t._capsLock=!1:t._capsLock=!0),t.handlekeyboardnavigation)&&((t.focused||i.target===t.element||e(i.target).ischildof(t.host))&&1==t.handlekeyboardnavigation(i)))return!1;if(t.editable&&t.editcell&&(13!=r&&27!=r&&9!=r||t._handleeditkeydown&&(s=t._handleeditkeydown(i,t))),27==r&&(t.mousecaptured=!1,"visible"==t.selectionarea.css("visibility")&&t.selectionarea.css("visibility","hidden")),e.jqx.browser.msie&&e.jqx.browser.version<12&&t.focused&&!t.isNestedGrid){if(13==r&&0==s)return s;var s=!0,r=i.charCode?i.charCode:i.keyCode?i.keyCode:0;if(!t.editcell&&t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(s=t._handleeditkeydown(i,t)),s&&t.keyboardnavigation&&t._handlekeydown)return(s=t._handlekeydown(i,t))||(i.preventDefault&&i.preventDefault(),null!=i.stopPropagation&&i.stopPropagation()),s}return!0}),t.addHandler(t.host,"keydown.edit"+t.element.id,function(i){var s=!0;if(t.handlekeyboardnavigation&&1==t.handlekeyboardnavigation(i))return!1;return t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(s=t._handleeditkeydown(i,t),t.isNestedGrid&&i.stopPropagation()),e.jqx.browser.msie&&e.jqx.browser.version<8?t.isNestedGrid&&s&&t.keyboardnavigation&&t._handlekeydown&&(s=t._handlekeydown(i,t),i.stopPropagation()):s&&t.keyboardnavigation&&t._handlekeydown&&(s=t._handlekeydown(i,t),t.isNestedGrid&&i.stopPropagation()),s||(i.preventDefault&&i.preventDefault(),null!=i.stopPropagation&&i.stopPropagation()),s}))},_hittestrow:function(t,i){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){null==t&&(t=0);var s=this.vScrollInstance,r=this.hScrollInstance,n=s.value;"visible"!=this.vScrollBar.css("visibility")&&(n=0);var o=r.value;"visible"!=this.hScrollBar.css("visibility")&&(o=0),"deferred"==this.scrollmode&&null!=this._newmax&&n>this._newmax&&(n=this._newmax);var a=parseInt(n)+i;parseInt(o);if(null!=this.visiblerows&&0!=this.visiblerows.length){var l=!1,h=this._findvisiblerow(a,this.visiblerows);if(h>=0){var d=this.visiblerows[h],c=this.rowdetails&&d.rowdetails,u=!d.rowdetailshidden;if(c){var p=this.visiblerows[h-1];if(p==d&&(d=p,h--),u){var f=e(this.hittestinfo[h].visualrow).position().top+parseInt(this.table.css("top")),m=e(this.hittestinfo[h].visualrow).height();i>=f&&i<=f+m||(h++,d=this.visiblerows[h],l=!0)}}}return{index:h,row:d,details:l}}}},getcellatposition:function(t,i){var s=this.that,r=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0;n+=this.showtoolbar?this.toolbarheight:0;var o=this.host.coord();this.hasTransform&&(o=e.jqx.utilities.getOffset(this.host));var a=t-o.left,l=i-r-o.top-n,h=this._hittestrow(a,l),d=h.row,c=h.index,u=this.table[0].rows[c];if(this.dataview&&0==this.dataview.records.length){for(var p=this.table[0].rows,f=0,m=0;m<p.length;m++){if(l>=f&&l<f+this.rowsheight){u=p[m];break}f+=this.rowsheight}d={boundindex:m}}if(null==u)return!0;var g=this.hScrollInstance.value,v=0;for(this.groupable&&this.groups.length,m=0;m<u.cells.length;m++){var x=parseInt(e(this.columnsrow[0].cells[m]).css("left"));t=x-g;if(s.columns.records[m].pinned&&(t=x),!s.columns.records[m].hidden)if(t+e(this.columnsrow[0].cells[m]).width()>=a&&a>=t){v=m;break}}if(null!=d){var b=this._getcolumnat(v);return{row:this.getboundindex(d),column:b.datafield,value:this.getcellvalue(this.getboundindex(d),b.datafield)}}return null},_handlemousedown:function(t,i){if(null==t.target)return!0;if(i.disabled)return!0;if(e(t.target).ischildof(this.columnsheader)||e(t.target).ischildof(this.hScrollBar)||e(t.target).ischildof(this.vScrollBar))return!0;var s,r;if(t.which?s=3==t.which:t.button&&(s=2==t.button),t.which?r=2==t.which:t.button&&(r=1==t.button),r)return!0;if(this.showstatusbar){if(e(t.target).ischildof(this.statusbar))return!0;if(t.target==this.statusbar[0])return!0}if(this.showtoolbar){if(e(t.target).ischildof(this.toolbar))return!0;if(t.target==this.toolbar[0])return!0}if(this.pageable){if(e(t.target).ischildof(this.pager))return!0;if(t.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&e(t.target).ischildof(this.pager))return!0;var n=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0;o+=this.showtoolbar?this.toolbarheight:0;var a=this.host.coord();if(this.hasTransform){a=e.jqx.utilities.getOffset(this.host);var l=this._getBodyOffset();a.left-=l.left,a.top-=l.top}var h=parseInt(t.pageX),d=parseInt(t.pageY);if(this.isTouchDevice()){var c=i.getTouches(t)[0];h=parseInt(c.pageX),d=parseInt(c.pageY),1==i.touchmode&&null!=c._pageX&&(h=parseInt(c._pageX),d=parseInt(c._pageY))}var u=h-a.left,p=d-n-a.top-o;if(this.pageable&&!this.autoheight&&this.gotopage&&p>this.pager.coord().top-a.top-o-n)return;var f=this._hittestrow(u,p);if(f&&!f.details){var m=f.row,g=f.index,v=t.target.className,x=this.table[0].rows[g];if(null==x)return i.editable&&i.begincelledit&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!0;i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-o,clickedrow:x};var b=this.hScrollInstance,w=b.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(w=b.max-b.value);var y=-1,_=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(w-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(w=-parseInt(this.content.css("left"))));for(var j=0;j<x.cells.length;j++){h=(q=parseInt(e(this.columnsrow[0].cells[j]).css("left")))-w;if(i.columns.records[j].pinned&&!i.rtl&&(h=q),null==(S=this._getcolumnat(j))||!S.hidden)if(h+e(this.columnsrow[0].cells[j]).width()>=u&&u>=h){y=j,i.mousecaptureposition.clickedcell=j;break}}if(this.rtl&&this._haspinned)for(j=x.cells.length-1;j>=0&&i.columns.records[j].pinned;j--){var q;h=q=e(this.columnsrow[0].cells[j]).coord().left-this.host.coord().left;if((null==(S=this._getcolumnat(j))||!S.hidden)&&h+e(this.columnsrow[0].cells[j]).width()>=u&&u>=h){y=j,i.mousecaptureposition.clickedcell=j;break}}if(null!=m&&y>=0){this._raiseEvent(1,{rowindex:this.getboundindex(m),visibleindex:m.visibleindex,row:m,group:m.group,rightclick:s,originalEvent:t});var S=this._getcolumnat(y),T=this.getcellvalue(this.getboundindex(m),S.datafield);if(this.editable&&this.editcell&&S.datafield==this.editcell.column&&this.getboundindex(m)==this.editcell.row&&(this.mousecaptured=!1),this._raiseEvent(8,{rowindex:this.getboundindex(m),column:S?S.getcolumnproperties():null,row:m,visibleindex:m.visibleindex,datafield:S?S.datafield:null,columnindex:y,value:T,rightclick:s,originalEvent:t}),S.createwidget)return!0;if(this.isTouchDevice())if("checkbox"==S.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(g,S.datafield),!0}else if("button"==S.columntype&&this._overlayElement)return S.buttonclick&&S.buttonclick(x.cells[y].buttonrow,t),!0;var C=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(m)&&(this._raiseEvent(22,{rowindex:this.getboundindex(m),row:m,visibleindex:m.visibleindex,group:m.group,rightclick:s,originalEvent:t}),this._clickedcolumn==S.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(m),row:m,visibleindex:m.visibleindex,column:S?S.getcolumnproperties():null,datafield:S?S.datafield:null,columnindex:y,value:T,rightclick:s,originalEvent:t}),C=!0,this._clickedrowindex=-1,this._clickedcolumn=null,t.isPropagationStopped&&t.isPropagationStopped()))return!1;if(s)return!0;C||(this._clickedrowindex=this.getboundindex(m),this._clickedcolumn=S.datafield);var I=e.jqx.utilities.getBrowser();if("msie"==I.browser&&parseInt(I.version)<=7&&(0==y&&this.rowdetails&&(v="jqx-grid-group-collapse"),_>0&&y<=_&&(v="jqx-grid-group-collapse")),-1!=v.indexOf("jqx-grid-group-expand")||-1!=v.indexOf("jqx-grid-group-collapse"))this.rtl?_>0&&y>x.cells.length-_-1&&this._togglegroupstate?this._togglegroupstate(m.bounddata,!0):y==x.cells.length-1-_&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(m.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):_>0&&y<_&&this._togglegroupstate?this._togglegroupstate(m.bounddata,!0):y==_&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(m.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=m.boundindex){var k=this.selectedrowindexes.slice(0),P=!1;if("none"!=i.selectionmode&&"checkbox"!=i.selectionmode&&this._selectrowwithmouse){"multiplecellsadvanced"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplerowsextended"!=i.selectionmode&&"multiplerowsadvanced"!=i.selectionmode||t.ctrlKey||t.shiftKey||t.metaKey||(i.selectedrowindexes=new Array,i.selectedcells=new Array);var M=!1,N=this.getboundindex(m);i._oldselectedrow!==N&&"none"!==i.selectionmode||(M=!0),-1==i.selectionmode.indexOf("cell")?("singlerow"!=i.selectionmode||i.selectedrowindex!=N&&"singlerow"==i.selectionmode)&&(this._applyrowselection(N,!0,!1,null,S.datafield),this._selectrowwithmouse(i,f,k,S.datafield,t.ctrlKey||t.metaKey,t.shiftKey)):null!=S.datafield&&(this._selectrowwithmouse(i,f,k,S.datafield,t.ctrlKey||t.metaKey,t.shiftKey),t.shiftKey||this._applycellselection(N,S.datafield,!0,!1)),i._oldselectedcell&&i._oldselectedcell.datafield==i.selectedcell.datafield&&i._oldselectedcell.rowindex==i.selectedcell.rowindex&&(P=!0),i._oldselectedcell=i.selectedcell,i._oldselectedrow=N}if(i.autosavestate&&i.savestate&&i.savestate(),i.editable&&i.begincelledit&&"programmatic"!=i.editmode){if(t.isPropagationStopped&&t.isPropagationStopped())return!1;if("selectedrow"==i.editmode){if(M&&!i.editcell){if("checkbox"!==S.columntype)i.beginrowedit(this.getboundindex(m))}else if(i.editcell&&!M&&"none"!=i.selectionmode)i.endrowedit(i.editcell.row)}else{N=this.getboundindex(m);var D="click"==i.editmode||P&&"selectedcell"==i.editmode;if(-1==i.selectionmode.indexOf("cell")&&"dblclick"!=i.editmode&&(D=!0),D&&null!=m.boundindex&&S.editable){i.begincelledit(this.getboundindex(m),S.datafield,S.defaulteditorvalue);-1!=i.selectionmode.indexOf("cell")&&i._applycellselection(N,S.datafield,!1,!1)}-1!=i.selectionmode.indexOf("cell")&&"selectedcell"==i.editmode&&!P&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),"dblclick"!=i.editmode||P||!i.editcell||i.editcell.row==N&&S.datafield==i.editcell.column||i.endcelledit(i.editcell.row,i.editcell.column,!1,!0)}return!0}}}return!0}},_columnPropertyChanged:function(e,t,i,s){},_rowPropertyChanged:function(e,t,i,s){},_serializeObject:function(t){if(null==t)return"";var i="";return e.each(t,function(e){e>0&&(i+=", "),i+="[";var t=0;for(obj in this)t>0&&(i+=", "),i+="{"+obj+":"+this[obj]+"}",t++;i+="]"}),i},isbindingcompleted:function(){return!this._loading},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout(function(){e._renderrows(e.virtualsizeinfo)},100))},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i=i.toLowerCase()){case"editable":t.refresh();break;case"everpresentrowactionsmode":s!=r&&(t._removeaddnewrow(),t.render());break;case"everpresentrowactions":t._updateaddnewrowui();break;case"showeverpresentrow":case"everpresentrowposition":case"everpresentrowheight":s!=r&&(t._removeaddnewrow(),t.render());break;case"rtl":t.content.css("left",""),t.columns=t._columns,t._filterrowcache=[],t.vScrollBar.jqxScrollBar({rtl:r}),t.hScrollBar.jqxScrollBar({rtl:r}),t._initpager&&t._initpager(),t._initgroupsheader&&t._initgroupsheader(),t.render();break;case"enablebrowserselection":t.showfilterrow||(t.showstatusbar||t.showtoolbar||t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect")),t.enablebrowserselection&&(t.content.removeClass("jqx-disableselect"),t.host.removeClass("jqx-disableselect"));break;case"columnsheight":(30!=t.columnsheight||t.columngroups)&&t._measureElement("column"),t._render(!0,!0,!0,!1,!1);break;case"rowsheight":r!=s&&(30!=t.rowsheight&&t._measureElement("cell"),t.virtualsizeinfo=null,t.rendergridcontent(!0,!1),t.refresh());break;case"scrollMode":t.vScrollInstance.thumbStep=t.rowsheight;break;case"showdefaultloadelement":t._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":t._initmenu();break;case"touchmode":s!=r&&(t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._addHandlers());break;case"autoshowcolumnsmenubutton":s!=r&&t._rendercolumnheaders();break;case"rendergridrows":s!=r&&t.updatebounddata();break;case"editmode":s!=r&&(t._removeHandlers(),t._addHandlers());break;case"source":t.updatebounddata(),t.virtualmode&&!t._loading&&(t.loadondemand=!0,t._renderrows(t.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":t._initgroupsheader&&t._initgroupsheader();break;case"showgroupsheader":s!=r&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader(),t._renderrows(t.virtualsizeinfo));break;case"theme":r!=s&&(e.jqx.utilities.setTheme(s,r,t.host),t.gridmenu&&t.gridmenu.jqxMenu({theme:r}),t.pageable&&t._updatepagertheme(),t.filterable&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0));break;case"showtoolbar":case"toolbarheight":s!=r&&(t._arrange(),t.refresh());break;case"showstatusbar":s!=r&&(t.statusbar&&(r?t.statusbar.show():t.statusbar.hide()),t._arrange(),t.refresh());break;case"statusbarheight":s!=r&&(t._arrange(),t.refresh());break;case"filterable":case"showfilterrow":s!=r&&t.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":s!=r&&t.rendergridcontent();break;case"showrowdetailscolumn":s!=r&&t.render();break;case"scrollbarsize":s!=r&&t._arrange();break;case"width":case"height":s!=r&&(t._updatesize(!0,!0),t._resizeWindow(),t.virtualmode&&!t._loading?t.vScrollInstance.setPosition(0):setTimeout(function(){t._renderrows(t.virtualsizeinfo)},100));break;case"altrows":case"altstart":case"altstep":s!=r&&t._renderrows(t.virtualsizeinfo);break;case"groupsheaderheight":s!=r&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader());break;case"pagerheight":s!=r&&t._initpager();break;case"selectedrowindex":t.selectrow(r);break;case"selectionmode":s!=r&&("none"==r&&(t.selectedrowindexes=new Array,t.selectedcells=new Array,t.selectedrowindex=-1),t._renderrows(t.virtualsizeinfo),"checkbox"==r&&t._render(!1,!1,!0,!1,!1));break;case"showheader":r?t.columnsheader.css("display","block"):t.columnsheader.css("display","none");break;case"virtualmode":s!=r&&(t.dataview.virtualmode=t.virtualmode,t.dataview.refresh(!1),t._render(!1,!1,!1));break;case"columnsmenu":s!=r&&t.render();break;case"columngroups":t._render(!0,!0,!0,!1,!1);break;case"columns":if(t._serializeObject(t._cachedcolumns)!==t._serializeObject(r)){var n=!1;t.filterable&&s&&s.records&&e.each(s.records,function(){this.filter&&(n=!0),t.dataview.removefilter(this.displayfield,this.filter)}),t._columns=null,t._filterrowcache=[],t.render(),n&&t.applyfilters(),t._cachedcolumns=t.columns,t.removesort&&t.removesort()}else t[i]=s;break;case"autoheight":s!=r&&t._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":s!=r&&t._initpager&&(t.pagershowrowscombo&&(t.pagershowrowscombo.jqxDropDownList("destroy"),t.pagershowrowscombo=null),t.pagerrightbutton&&(t.removeHandler(t.pagerrightbutton,"mousedown"),t.removeHandler(t.pagerrightbutton,"mouseup"),t.removeHandler(t.pagerrightbutton,"click"),t.pagerrightbutton.jqxButton("destroy"),t.pagerrightbutton=null),t.pagerleftbutton&&(t.removeHandler(t.pagerleftbutton,"mousedown"),t.removeHandler(t.pagerleftbutton,"mouseup"),t.removeHandler(t.pagerleftbutton,"click"),t.pagerleftbutton.jqxButton("destroy"),t.removeHandler(e(document),"mouseup.pagerbuttons"+t.element.id),t.pagerleftbutton=null),t.pagerdiv.remove(),t._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(s!=r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);if(!t.host.jqxDropDownList||!t.host.jqxListBox)return void t._testmodules();if(t._initpager){if("pageable"!=i&&"pagermode"!=i&&"string"==typeof r){var o="The expected value type is: Int.";if("pagesize"!=i)o="The expected value type is: Array of Int values.";throw new Error("Invalid Value for: "+i+". "+o)}t.dataview.pageable=t.pageable,t.dataview.pagenum=0,t.dataview.pagesize=t._getpagesize(),t.virtualmode&&t.updatebounddata(),t.dataview.refresh(!0),t._initpager(),"pagesizeoptions"==i&&null!=r&&r.length>0&&(t.pagesize=parseInt(r[0]),t.dataview.pagesize=parseInt(r[0]),t.prerenderrequired=!0,t._requiresupdate=!0,t.dataview.pagenum=-1,t.gotopage(0))}t._render(!1,!1,!1)}break;case"groups":t._serializeObject(s)!==t._serializeObject(r)&&(t.dataview.groups=r,t._refreshdataview(),t._render(!0,!0,!0,!1));break;case"groupable":s!=r&&(t.dataview.groupable=t.groupable,t.dataview.pagenum=0,t.dataview.refresh(!1),t._render(!1,!1,!0));break;case"renderstatusbar":null!=r&&t.renderstatusbar(t.statusbar);break;case"rendertoolbar":null!=r&&t.rendertoolbar(t.toolbar);break;case"disabled":r?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",t.disabled),t.pageable&&(t.pagerrightbutton&&(t.pagerrightbutton.jqxButton({disabled:r}),t.pagerleftbutton.jqxButton({disabled:r}),t.pagershowrowscombo.jqxDropDownList({disabled:r}),t.pagergotoinput.attr("disabled",r)),t.pagerfirstbutton&&(t.pagerfirstbutton.jqxButton({disabled:r}),t.pagerlastbutton.jqxButton({disabled:r}))),t.vScrollBar.jqxScrollBar({disabled:r}),t.hScrollBar.jqxScrollBar({disabled:r}),t.filterable&&t.showfilterrow&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0)}}}),e.jqx.collection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(e){},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t,this.updating||this._raiseEvent({type:"replace",element:t})},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,this.updating||this._raiseEvent({type:"add",element:e}),!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),this.updating||this._raiseEvent({type:"insert",index:e,element:t}),!0):this.add(t))))},this.remove=function(e){if(null==e||null==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),this.updating||this._raiseEvent({type:"remove",element:e}),!0)},this.removeAt=function(e){if(null==e||null==e)return!1;if(e<0)return!1;if(e<this.records.length){var t=this.records[e];return this.records.splice(e,1),this.updating||this._raiseEvent({type:"removeAt",index:e,element:t}),!0}return!1},this},e.jqx.dataview=function(){return this.self=this,this.aggregates=!1,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(e){this.suspend=!1,null==e&&(e=!0),this.refresh(e)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(t,i){var s=!!t._source,r=null;this.grid&&(this.aggregates=this.grid.showgroupaggregates),s?(r=t,t=t._source):r=new e.jqx.dataAdapter(t,{autoBind:!1});var n=function(i){if(i.totalrecords=r.totalrecords,i.virtualmode){var s={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize};if(null!=t.recordstartindex&&(s.startindex=parseInt(t.recordstartindex)),null!=t.recordendindex?s.endindex=parseInt(t.recordendindex):i.grid.pageable||(s.endindex=s.startindex+100,i.grid.autoheight&&(s.endindex=s.startindex+i.totalrecords)),t.recordendindex||(i.grid.pageable?s={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize}:(s.endindex=s.startindex+100,i.grid.autoheight&&(s.endindex=s.startindex+i.totalrecords))),s.data=r.records,i.grid.rendergridrows&&i.totalrecords>0){var n=0;if(t.records=i.grid.rendergridrows(s),t.records.length&&(n=t.records.length),t.records&&!t.records[s.startindex]){var o=new Array,a=s.startindex;e.each(t.records,function(){o[a]=this,a++,n++}),t.records=o}if(0==n&&t.records&&e.each(t.records,function(){n++}),n>0&&n<s.endindex-s.startindex&&!i.grid.groupable)for(var l=t.records[0],h=0;h<s.endindex-s.startindex-n;h++){var d={};for(obj in l)d[obj]="";t.records.push&&t.records.push(d)}}t.records&&0!=i.totalrecords||(t.records=new Array),i.originaldata=t.records,i.records=t.records,i.cachedrecords=t.records}else i.originaldata=r.originaldata,i.records=r.records,i.recordids=r.recordids,i.cachedrecords=r.cachedrecords};!function(e){r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.virtualmode=e.virtualmode,r._options.totalrecords=e.totalrecords,r._options.originaldata=e.originaldata,r._options.recordids=e.recordids,r._options.cachedrecords=new Array,r._options.pagenum=e.pagenum,r._options.pageable=e.pageable,null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async),null!=t.updaterow&&(r._options.updaterow=t.updaterow),null!=t.addrow&&(r._options.addrow=t.addrow),null!=t.deleterow&&(r._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),r._options.pagesize=e.pagesize}(this),this.source=t,void 0!==i&&(uniqueId=i);var o=this.that;switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata)r.unbindBindingUpdate(o.grid.element.id),(!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind)&&r.dataBind(),(j=function(i){if(null!=i&&""!=i){if(r._changedrecords[0]){var s=new Array;e.each(r._changedrecords,function(e){var t=this.index,n=this.record;switch(o.grid._updateFromAdapter=!0,i){case"update":var a=o.grid.getrowid(t);return e==r._changedrecords.length-1?o.grid.updaterow(a,n):o.grid.updaterow(a,n,!1),void(o.grid._updateFromAdapter=!1);case"add":return o.grid.addrow(null,n),void(o.grid._updateFromAdapter=!1);case"remove":a=o.grid.getrowid(t);return void s.push(a)}}),s.length>0&&(o.grid.deleterow(s,!1),o.grid._updateFromAdapter=!1)}if("update"==i)return}var a=o.totalrecords;n(o),null===t.localdata.notifier&&"observableArray"==t.localdata.name&&(t.localdata.notifier=function(i){if(!this._updating){this._updating=!0;var s=o.grid.getrowid(i.index);switch(i.type){case"add":var n=e.extend({},i.object[i.index]),a=r.getid(t.id,n,i.index);0===i.index?o.grid.addrow(a,n,"first"):o.grid.addrow(a,n);break;case"delete":o.grid.deleterow(s);break;case"update":if(i.path&&i.path.split(".").length>1){var l=i.path.split(".");o.grid.setcellvalue(i.index,l[l.length-1],i.newValue)}else{n=e.extend({},i.object[i.index]);o.grid.updaterow(s,n)}}this._updating=!1}}),"updateData"==i?(o.refresh(),o.grid._updateGridData()):(t.recordstartindex&&this.virtualmode?o.updateview(t.recordstartindex,t.recordstartindex+o.pagesize):o.refresh(),o.update(a!=o.totalrecords))})(),r.bindBindingUpdate(o.grid.element.id,j);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(o.grid.element.id),(!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind)&&r.dataBind(),(j=function(e){var i=o.totalrecords;n(o),"updateData"==e?(o.refresh(),o.grid._updateGridData()):(t.recordstartindex&&o.virtualmode?o.updateview(t.recordstartindex,t.recordstartindex+o.pagesize):o.refresh(),o.update(i!=o.totalrecords))})(),void r.bindBindingUpdate(o.grid.element.id,j);for(var a=[],l=0,h={},d=0;d<this.filters.length;d++){var c=this.filters[d].datafield,u=this.filters[d].filter;if(u.getfilters){var p=u.getfilters();h[c+"operator"]=u.operator;for(var f=0;f<p.length;f++){p[f].datafield=c;var m=p[f].value;if("datefilter"==p[f].type)if(p[f].value&&p[f].value.toLocaleString){var g=this.grid.getcolumn(p[f].datafield);if(g&&g.cellsformat){var v=this.grid.source.formatDate(p[f].value,g.cellsformat,this.grid.gridlocalization);h["filtervalue"+l]=v||p[f].value.toLocaleString()}else h["filtervalue"+l]=m.toString()}else h["filtervalue"+l]=m.toString();else h["filtervalue"+l]=m.toString(),p[f].data&&(h["filterid"+l]=p[f].data.toString()),p[f].id&&(h["filterid"+l]=p[f].id.toString());h["filtercondition"+l]=p[f].condition,h["filteroperator"+l]=p[f].operator,h["filterdatafield"+l]=c;var x={label:m.toString()};p[f].data&&(x.value=p[f].data.toString()),p[f].id?x.value=p[f].id.toString():x.value=m.toString(),x.condition=p[f].condition,x.operator=0==p[f].operator?"and":"or",x.field=c,x.type=p[f].type;var b=!1;if(a.length>0)for(var w=0;w<a.length;w++){var y=a[w];if(y.field==c){y.filters.push(x),b=!0;break}}b||(a.push({field:c,filters:[]}),a[a.length-1].filters.push(x)),l++}}}h.filterGroups=a,h.filterscount=l,h.groupscount=o.groups.length;for(d=0;d<o.groups.length;d++)h["group"+d]=o.groups[d];null==t.recordstartindex&&(t.recordstartindex=0),null!=t.recordendindex&&0!=t.recordendindex||(o.grid.height&&-1==o.grid.height.toString().indexOf("%")?(t.recordendindex=parseInt(o.grid.height)/o.grid.rowsheight,t.recordendindex+=2,t.recordendindex=parseInt(t.recordendindex)):(t.recordendindex=e(window).height()/o.grid.rowsheight,t.recordendindex=parseInt(t.recordendindex)),this.pageable&&(t.recordendindex=this.pagesize)),this.pageable&&(t.recordstartindex=this.pagenum*this.pagesize,t.recordendindex=(this.pagenum+1)*this.pagesize),e.extend(h,{sortdatafield:o.sortfield,sortorder:o.sortfielddirection,pagenum:o.pagenum,pagesize:o.grid.pagesize,recordstartindex:t.recordstartindex,recordendindex:t.recordendindex});var _=r._options.data;r._options.data?e.extend(r._options.data,h):(t.data&&e.extend(h,t.data),r._options.data=h);var j=function(){var i=function(){var e=o.totalrecords;n(o),t.recordstartindex&&o.virtualmode?o.updateview(t.recordstartindex,t.recordstartindex+o.pagesize):o.refresh(),o.update(e!=o.totalrecords)};if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{i()}catch(e){}else i()};r.unbindDownloadComplete(o.grid.element.id),r.bindDownloadComplete(o.grid.element.id,j),!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind?r.dataBind():o.grid.isInitialized||o.grid.autobind||j(),r._options.data=_}},this.getid=function(t,i,s){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var r=e(i).attr(t);if(null!=r&&r.toString().length>0)return r}return s},this.getvaluebytype=function(t,i){var s=t;if("date"==i.type){var r=new Date(t);null==(t=("NaN"==r.toString()||"Invalid Date"==r.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):r)&&(t=s)}else if("float"==i.type){t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type){t=parseInt(t);isNaN(t)&&(t=s)}else"bool"==i.type&&(null!=t&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||0!=t&&"");return t},this.setpaging=function(e){null!=e.pageSize&&(this.pagesize=e.pageSize),null!=e.pageNum&&(this.pagenum=Math.min(e.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(e,t){for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removefilter=function(e){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.getItemFromIndex=function(e){return this.records[e]},this.updaterow=function(e,t,i){if(!(this.filters&&this.filters.length>0&&!this.virtualmode)&&null!=t&&null!=e){t.uid=e,t[this.source.id]||(t[this.source.id]=t.uid);var s=this.recordsbyid["id"+e];return-1!=(n=this.records.indexOf(s))&&(this.records[n]=t,this.cachedrecords&&(this.cachedrecords[n]=t),1!=i&&null!=i||this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:s,Data:t},!0)}if(this.filters&&this.filters.length>0){for(var r=this.cachedrecords,n=(s=null,-1),o=0;o<r.length;o++)if(r[o].uid==e){s=r[o],n=o;break}if(s){var a=this.that;for(var l in t)a.cachedrecords[n][l]=t[l];return 1!=i&&null!=i||this.refresh(),!0}}return!1},this.addrow=function(t,i,s,r){if(null!=i){if(e.isEmptyObject(i)&&this.source&&this.source.datafields&&e.each(this.source.datafields,function(){var e="";"number"==this.type&&(e=null),"date"==this.type&&(e=null),"bool"!=this.type&&"boolean"!=this.type||(e=!1),i[this.name]=e}),!t||this.recordsbyid["id"+t]){i.uid=this.getid(this.source.id,i,this.totalrecords);for(var n=this.recordsbyid["id"+i.uid];null!=n;){var o=Math.floor(1e4*Math.random()).toString();i.uid=o,n=this.recordsbyid["id"+o]}}else i.uid=t;return i[this.source.id]||null!=this.source.id&&(i[this.source.id]=i.uid),"last"==s?this.records.push(i):"number"==typeof s&&isFinite(s)?this.records.splice(s,0,i):this.records.splice(0,0,i),this.filters&&this.filters.length>0&&("last"==s?this.cachedrecords.push(i):"number"==typeof s&&isFinite(s)?this.cachedrecords.splice(s,0,i):this.cachedrecords.splice(0,0,i)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=r&&null!=r||this.refresh(),this.changedrecords[i.uid]={Type:"New",Data:i},!0}return!1},this.deleterow=function(e,t){if(null!=e){var i=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+e]&&!i){var s=this.recordsbyid["id"+e],r=this.records.indexOf(s);return this.changedrecords[e]={Type:"Delete",Data:this.records[r]},this.records.splice(r,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=t&&null!=t||this.refresh(),!0}if(this.filters&&this.filters.length>0){for(var n=this.cachedrecords,o=(s=null,r=-1,0);o<n.length;o++)if(n[o].uid==e){s=n[o],r=o;break}if(s)return this.cachedrecords.splice(r,1),1!=t&&null!=t||(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(t,i,s,r,n,o,a){var l=this.that,h=new Array,d=t,c=i,u=s,p=r,f=c.length,m=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i};var g=Object.size(d);this.totalrecords=g,e.each(this.records,function(t){var i=0;return e.each(this,function(e,t){l.columns[i++]=e}),!1})}if(this.virtualmode){if(this.pageable)return void this.updateview();o=0;if(!this.groupable)return void this.updateview();a=this.totalrecords}else o=0,a=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var v=o;v=this.loadgrouprecords(0,o,a,u,0,p,c,f,h)}else m=this.loadflatrecords(o,a,u,0,p,c,f,h);return f>0&&c.splice(0,f-0),this.groups.length>0&&this.groupable?this.totalrows=v:this.totalrows=m,h},this.loadflatrecords=function(t,i,s,r,n,o,a,l){var h=this.that,d=t,c=t;i=Math.min(i,this.totalrecords);for(var u=null!=this.sortdata,p=(this.source.id&&("local"==this.source.datatype||"array"==this.source.datatype||this.source.datatype),u?this.sortdata:this.records),f=t;f<i;f++){var m={};u?(m=e.extend({},p[f].value),id=m[h.uniqueId],m.boundindex=p[f].index,null==m.uid&&(m.uid=h.getid(h.source.id,m,m.boundindex)),h.recordsbyid["id"+m.uid]=p[f].value,h.loadedrecords[d]=m,m.uniqueid=h.generatekey(),h.bounditems[m.boundindex]=m):(m=new Object(p[f]),id=m[h.uniqueId],m.boundindex=d,h.loadedrecords[d]=m,null==m.uid&&(m.uid=h.getid(h.source.id,m,d)),h.recordsbyid["id"+m.uid]=p[f],m.uniqueid=h.generatekey(),h.bounditems[this.bounditems.length]=m),(r>=a||id!=o[r][h.uniqueId]||n&&n[id])&&(l[l.length]=r),o[r]=m,r++,m.visibleindex=c,c++,d++}if(h.grid.summaryrows){var g=d;e.each(h.grid.summaryrows,function(){var t=e.extend({},this);t.boundindex=i++,h.loadedrecords[g]=t,t.uniqueid=h.generatekey(),h.bounditems[h.bounditems.length]=t,o[r]=t,r++,t.visibleindex=c,c++,g++})}return c},this.updateview=function(e,t){var i=this.that,s=this.pagesize*this.pagenum,r=0,n=new Array,o=this.filters,a=this.updated,l=n.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(null!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length);var h=this.pagesize*(1+this.pagenum);return h>this.totalrecords&&(h=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,h,o,r,a,n,l,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),o,r,a,n,l,[]),this.totalrows=n.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var d=this.pagesize;0==d&&(d=Math.min(100,this.totalrecords));this.pagenum;if(0==this.loadedrecords.length&&0,null!=e&&null!=t?this.loadflatrecords(e,t,o,r,a,n,l,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),o,r,a,n,l,[]),this.totalrows=this.loadedrecords.length,this.rows=n,n.length>=d)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)n=this._updategroupsinpage(i,o,s,r,l,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var c=this.pagesize*this.pagenum;c<this.pagesize*(1+this.pagenum);c++){null!=(p=c<this.loadedrecords.length?this.loadedrecords[c]:null)&&((!this.pagesize||s>=this.pagesize*this.pagenum&&s<=this.pagesize*(this.pagenum+1))&&(n[r]=p,r++),s++)}if((0==n.length||n.length<this.pagesize)&&!this.pageable&&this.virtualmode){r=n.length;var u=n.length;for(c=this.pagesize*this.pagenum;c<this.pagesize*(1+this.pagenum)-u;c++){var p;(p={}).boundindex=c+u,p.visibleindex=c+u,p.uniqueid=i.generatekey(),p.empty=!0,i.bounditems[c+u]=p,n[r]=p,r++}}this.rows=n},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(t){if(!this.suspend){null==t&&(t=!0);var i=this.rows.length,s=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var r="",n=this.cachedrecords.length,o=new Array;this.totalrecords=0;var a=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var l=this.filters.length;if(null!=this.source&&null!=this.source.filter&&null!=this.source.localdata)null==(o=this.source.filter(this.filters,a,n))&&(o=new Array),this.records=o;else if(null==this.source.filter||null==this.source.filter){for(var h=0;h<n;h++){for(var d=a[h],c=void 0,u=0;u<l;u++){r=this.filters[u].filter;var p=d[this.filters[u].datafield],f=r.evaluate(p);if(this.grid.filter){var m=this.grid.filter(p,d,this.filters[u].datafield,r,f);void 0!==m&&(f=m)}c=null==c?f:"or"==r.operator?c||f:c&&f}c?(o[o.length]=e.extend({dataindex:h},d),this._dataIndexToBoundIndex[h]={boundindex:o.length-1}):this._dataIndexToBoundIndex[h]=null}this.records=o}if(this.sortdata){var g=this.sortfield;if(this.sortcache[g]){this.sortdata=null;var v=this.sortcache[g].direction;return this.sortcache[g]=null,void this.sortby(this.sortfield,v)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;a=this.cachedrecords;if(this.records=a,this.sortdata){g=this.sortfield;if(this.sortcache[g]){this.sortdata=null;v=this.sortcache[g].direction;return this.sortcache[g]=null,void this.sortby(this.sortfield,v)}}}var x=this.reload(this.records,this.rows,this.filter,this.updated,t);this.updated=null,null!=this.rowschangecallback&&(s!=totalrows&&this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()}),i!=rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:i,current:rows.length}}),(x.length>0||i!=rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:i,current:rows.length,diff:x}}))}},this}}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_calculateaggregate:function(t,i,s,r){var n=t.aggregates;if(n||(n=i),n){for(var o=new Array,a=0;a<n.length;a++)"count"!=n[a]&&(o[o.length]=t.cellsformat);if(this.source&&this.source.getAggregatedData){if(null==r&&(r=this.getrows()),this.virtualmode){r=new Array;e.each(this.source._source.records,function(){r.push(this)})}return null==s||1==s?this.source.getAggregatedData([{name:t.datafield,aggregates:n,formatStrings:o}],this.gridlocalization,r):this.source.getAggregatedData([{name:t.datafield,aggregates:n}],this.gridlocalization,r)}}return null},getcolumnaggregateddata:function(e,t,i,s){var r=this.getcolumn(e),n=null!=i&&0!=i&&i;if(null==t)return"";var o=r.aggregates;r.aggregates=null;var a=this._calculateaggregate(r,t,n,s),l={};return a&&(l=a[e]),r.aggregates=o,l},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(t,i,s){var r=this;if(i)if(s.children().remove(),s.html(""),t.aggregatesrenderer){if(i){o=t.aggregatesrenderer(i[t.datafield],t,s,this.getcolumnaggregateddata(t.datafield,i[t.datafield]));s.html(o)}}else e.each(i,function(){for(n in this){var t=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),i=n;i=r._getaggregatename(i),t.html(i+":"+this[n]),r.rtl&&t.addClass(r.toThemeProperty("jqx-rtl")),s.append(t)}});else if(s.children().remove(),s.html(""),t.aggregatesrenderer){var n={};t.aggregates&&(n=this.getcolumnaggregateddata(t.datafield,t.aggregates));var o=t.aggregatesrenderer({},t,s,null);s.html(o)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var t=this.getrows(),i=this.columns.records.length;if(null!=this.statusbar[0].cells)for(var s=0;s<i;s++){var r=e(this.statusbar[0].cells[s]),n=this.columns.records[s],o=this._calculateaggregate(n,null,!0,t);this._updatecolumnaggregates(n,o,r)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,s=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");this.rtl&&(r+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=-1),r+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var n=s+10,o=new Array;this.statusbar[0].cells=o;for(var a=this.getrows(),l=0;l<s;l++){var h=this.columns.records[l],d=this._calculateaggregate(h,h.aggregates,!0,a),c=h.width;c<h.minwidth&&(c=h.minwidth),c>h.maxwidth&&(c=h.maxwidth);var u=r;h.cellsalign&&(u+=" "+this.toThemeProperty("jqx-"+h.cellsalign+"-align"));var p=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+u+'"></div>');t.append(p),p.css("left",i),this.rtl?p.css("z-index",n++):p.css("z-index",n--),p.width(c),p[0].left=i,h.hidden&&h.hideable?p.css("display","none"):i+=c,o[o.length]=p[0],this._updatecolumnaggregates(h,d,p)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",n--),t.width(parseFloat(i)+2),t.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(t),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(r),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll(),this._arrange()}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;i<e;i++){var s=t[i];if(s){var r=this.getboundindex(s);null!=r&&(this.selectedrowindexes[i]=r)}else this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(e,t){this._applyrowselection(e,!0,t),!1!==t&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var e=this.getrows();if(e&&this._checkboxcolumn){if(0===e.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var t=e.length;this.groupable&&(t=this.dataview.loadedrecords.length),this.virtualmode&&(t=this.source._source.totalrecords);var i=this.selectedrowindexes.length;i===t?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}):0===i?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}}},unselectrow:function(e,t){this._applyrowselection(e,!1,t),!1!==t&&this._updatecheckboxselection()},selectcell:function(e,t){this._applycellselection(e,t,!0)},unselectcell:function(e,t){this._applycellselection(e,t,!1)},clearselection:function(e,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,!1!==t)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]});this.selectedrowindexes=new Array,this.selectedcells=new Array,this.selectedcell=null,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1!==e?(this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})):this._trigger=!0},getselectedrowindex:function(){if(-1==this.selectedrowindex||null==this.selectedrowindex)for(var e=0;e<this.selectedrowindexes.length;e++)return this.selectedrowindexes[e];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var e=this.selectedcell;return e.row=this.selectedcell.rowindex,e.column=this.selectedcell.datafield,e.value=this.getcellvalue(e.row,e.column),e},getselectedcells:function(){var e=new Array;for(obj in this.selectedcells)e[e.length]=this.selectedcells[obj];return e},_getcellsforcopypaste:function(){var e=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var t=this.selectedrowindexes,i=0;i<t.length;i++)for(var s=t[i],r=0;r<this.columns.records.length;r++)if("_checkboxcolumn"!==this.columns.records[r].datafield){this.columns.records[r].datafield;var n={rowindex:s,datafield:this.columns.records[r].datafield};e.push(n)}return e},deleteselection:function(){var e=this.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){for(var t=0;t<e.length;t++){var i=e[t],s=this.getcolumn(i.datafield),r=this.getcellvalue(i.rowindex,i.datafield);if(s&&""!==r){var n=null;"checkbox"==s.columntype&&(s.threestatecheckbox||(n=!1)),this._raiseEvent(17,{rowindex:i.rowindex,datafield:i.datafield,value:r}),t==e.length-1?(this.setcellvalue(i.rowindex,i.datafield,n,!0),s.displayfield!=s.datafield&&this.setcellvalue(i.rowindex,s.displayfield,n,!0)):(this.setcellvalue(i.rowindex,i.datafield,n,!1),s.displayfield!=s.datafield&&this.setcellvalue(i.rowindex,s.displayfield,n,!0)),this._raiseEvent(18,{rowindex:i.rowindex,datafield:i.datafield,oldvalue:r,value:n})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var t="",i=this;this.clipboardselection={},this.logicalclipboardselection={},this._clipboardselection=[];var s=i.getselectedcells();-1==this.selectionmode.indexOf("cell")&&(s=this._getcellsforcopypaste());var r=new Array;if(null!=s&&s.length>0){for(var n=999999999999999,o=-1,a=0;a<s.length;a++){var l=s[a],h=i.getcolumn(l.datafield);if(null!=h&&h.clipboard&&(!h.hidden||this.copytoclipboardhiddencolumns)){-1==r.indexOf(h.text)&&r.push(h.text);var d=i.getcelltext(l.rowindex,h.displayfield),c=this.getrowdisplayindex(l.rowindex);this.clipboardselection[c]||(this.clipboardselection[c]={}),this.clipboardselection[c][h.displayfield]=d,this.logicalclipboardselection[c]||(this.logicalclipboardselection[c]={}),this.logicalclipboardselection[c][h.displayfield]=d,h.displayfield!=h.datafield&&(this.logicalclipboardselection[c][h.datafield]=i.getcellvalue(l.rowindex,h.datafield)),n=Math.min(n,c),o=Math.max(o,c)}}for(var u=new Array,p=n;p<=o;p++)if(this.logicalclipboardselection[p]){var f=e.extend({},this.logicalclipboardselection[p]);u.push(f)}if(this.logicalclipboardselection=u,this.copytoclipboardwithheaders){for(var m=0;m<r.length;m++)m>0&&(t+="\t"),t+=r[m];t+="\r\n"}for(p=n;p<=o;p++){var g=0;this._clipboardselection[this._clipboardselection.length]=new Array,null!=this.clipboardselection[p]&&(e.each(this.clipboardselection[p],function(e,s){g>0&&(t+="\t");var r=s;null==s&&(r=""),i._clipboardselection[i._clipboardselection.length-1][g]=r,g++,t+=r}),p<o&&(t+="\r\n"))}}return this.clipboardselectedtext=t,t},pasteselection:function(){var e=this.getselectedcells();if(this._oldselectedcell=null,-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){var t=e[0].rowindex,i=this.getrowdisplayindex(t),s=e[0].datafield,r=this._getcolumnindex(s);this.selectedrowindexes=new Array,this.selectedcells=new Array;e.length;var n=0,o=new Array;this.copytoclipboardwithheaders&&this._clipboardselection.splice(0,1);for(var a=0;a<this._clipboardselection.length;a++){n+=this._clipboardselection[a].length,o[a]=new Array;for(var l=0;l<this._clipboardselection[a].length;l++){var h=this._clipboardselection[a][l];o[a].push(h)}}if(n<e.length){var d=new Array;for(a=0;a<e.length;a++){d[(b=e[a]).rowindex]||(d[b.rowindex]=new Array),d[b.rowindex].push(b)}var c=0,u=0;for(a=0;a<d.length;a++)if(d[a]){for(l=0;l<d[a].length;l++){var p=(b=d[a][l]).rowindex;if("_checkboxcolumn"!==(x=this.getcolumn(b.datafield)).datafield&&!x.hidden){h="";if(null==o[c][u]&&(u=0),h=o[c][u],u++,x.cellsformat&&(-1!=x.cellsformat.indexOf("p")||-1!=x.cellsformat.indexOf("c")||-1!=x.cellsformat.indexOf("n")||-1!=x.cellsformat.indexOf("f"))){h.indexOf(this.gridlocalization.currencysymbol)>-1&&(h=h.replace(this.gridlocalization.currencysymbol,"")),(h=(h=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(h,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(h=h.replace(this.gridlocalization.percentsymbol,""));for(var f="",m=0;m<h.length;m++){"-"===(w=h.substring(m,m+1))&&(f+="-"),"."===w&&(f+="."),null!=w.match(/^[0-9]+$/)&&(f+=w)}h=(h=f).replace(/ /g,""),h=new Number(h),isNaN(h)&&(h="")}if(this._raiseEvent(17,{rowindex:p,datafield:b.datafield,value:h}),this.setcellvalue(p,x.displayfield,h,!1),x.displayfield!=x.datafield&&this.logicalclipboardselection)if(this.logicalclipboardselection[p])null!=(y=this.logicalclipboardselection[p][x.datafield])&&this.setcellvalue(p,x.datafield,y,!1);this._raiseEvent(18,{rowindex:p,datafield:b.datafield,oldvalue:this.getcellvalue(b.rowindex,b.datafield),value:h}),this._applycellselection(p,b.datafield,!0,!1)}}u=0,o[++c]||(c=0)}}else{if(!this._clipboardselection)return;for(var g=0;g<this._clipboardselection.length;g++)for(var v=0;v<this._clipboardselection[g].length;v++){var x;if((x=this.getcolumnat(r+v))&&("_checkboxcolumn"!==x.datafield&&!x.hidden)){p=this.getrowboundindex(i+g);var b=this.getcell(p,x.datafield);h=null;if(null!=(h=this._clipboardselection[g][v])){if(x.cellsformat&&(-1!=x.cellsformat.indexOf("p")||-1!=x.cellsformat.indexOf("c")||-1!=x.cellsformat.indexOf("n")||-1!=x.cellsformat.indexOf("f"))){h.indexOf(this.gridlocalization.currencysymbol)>-1&&(h=h.replace(this.gridlocalization.currencysymbol,"")),(h=(h=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(h,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(h=h.replace(this.gridlocalization.percentsymbol,""));for(f="",m=0;m<h.length;m++){var w;"-"===(w=h.substring(m,m+1))&&(f+="-"),"."===w&&(f+="."),null!=w.match(/^[0-9]+$/)&&(f+=w)}h=(h=f).replace(/ /g,""),h=new Number(h),isNaN(h)&&(h="")}var y;if(this._raiseEvent(17,{rowindex:p,datafield:b.datafield,value:h}),this.setcellvalue(p,x.displayfield,h,!1),x.displayfield!=x.datafield&&this.logicalclipboardselection)null!=(y=this.logicalclipboardselection[g][x.datafield])&&this.setcellvalue(p,x.datafield,y,!1);this._raiseEvent(18,{rowindex:p,datafield:b.datafield,oldvalue:this.getcellvalue(b.rowindex,b.datafield),value:h}),this._applycellselection(p,b.datafield,!0,!1)}}}}"checkbox"==this.selectionmode&&this._updatecheckboxselection(),this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}this.clipboardend&&this.clipboardend("paste")},_applyrowselection:function(e,t,i,s,r){if(null==e)return!1;var n=this.selectedrowindex;if("singlerow"==this.selectionmode&&(t?this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)}):this._raiseEvent(3,{rowindex:e,row:this.getrowdata(e)}),this._raiseEvent(3,{rowindex:n}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==s&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var o=this.getrowdata(e);o&&void 0!==o.dataindex?e=o.dataindex:o&&void 0===o.dataindex&&null!=o.uid&&(e=this.getrowboundindexbyid(o.uid))}var a=this.selectedrowindexes.indexOf(e);if(t)this.selectedrowindex=e,-1==a?(this.selectedrowindexes.push(e),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(e)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(a>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var l=this.selectedrowindexes[a];this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:l,row:this.getrowdata(e)}),this.selectedrowindex=-1}return(null==i||i)&&this._rendervisualrows(),!0},_applycellselection:function(e,t,i,s){if(null==e)return!1;if(null==t)return!1;var r;this.selectedrowindex;"singlecell"==this.selectionmode&&(null!=(r=this.selectedcell)&&this._raiseEvent(16,{rowindex:r.rowindex,datafield:r.datafield}),this.selectedcells=new Array);"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||null!=(r=this.selectedcell)&&this._raiseEvent(16,{rowindex:r.rowindex,datafield:r.datafield});var n=e+"_"+t;if(this.dataview.filters.length>0){var o=this.getrowdata(e);if(o&&void 0!==o.dataindex)n=(e=o.dataindex)+"_"+t;else if(o&&void 0===o.dataindex&&o.uid)n=(e=this.getrowboundindexbyid(o.uid))+"_"+t}var a={rowindex:e,datafield:t};return i?(this.selectedcell=a,this.selectedcells[n]?"multiplecells"!=this.selectionmode&&"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||(delete this.selectedcells[n],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,a)):(this.selectedcells[n]=a,this.selectedcells.length++,this._raiseEvent(15,a))):(delete this.selectedcells[n],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,a)),(null==s||s)&&this._rendervisualrows(),!0},_getcellindex:function(t){var i=-1;return e.each(this.selectedcells,function(){if(i++,this[t])return!1}),i},_clearhoverstyle:function(){if(null!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var e=this.table.find(".jqx-grid-cell-hover");e.length>0&&(e.removeClass(this.toTP("jqx-grid-cell-hover")),e.removeClass(this.toTP("jqx-fill-state-hover"))),this.hoveredrow=-1}},_clearselectstyle:function(){for(var t=this.table[0].rows.length,i=this.table[0].rows,s=this.toTP("jqx-grid-cell-selected"),r=this.toTP("jqx-fill-state-pressed"),n=this.toTP("jqx-grid-cell-hover"),o=this.toTP("jqx-fill-state-hover"),a=0;a<t;a++)for(var l=i[a],h=l.cells.length,d=l.cells,c=0;c<h;c++){var u=d[c],p=e(u);-1!=u.className.indexOf("jqx-grid-cell-selected")&&(p.removeClass(s),p.removeClass(r)),-1!=u.className.indexOf("jqx-grid-cell-hover")&&(p.removeClass(n),p.removeClass(o))}},_selectpath:function(e,t){var i=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,s=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0;if(i<=s){var r=this._getcolumnindex(this._lastClickedCell.column),n=this._getcolumnindex(t),o=Math.min(r,n),a=Math.max(r,n);this.selectedcells=new Array;for(var l=this.dataview.loadedrecords,h=i;h<=s;h++)for(var d=o;d<=a;d++){e=l[h];this._applycellselection(this.getboundindex(e),this._getcolumnat(d).datafield,!0,!1)}this._rendervisualrows()}},_selectrowpath:function(e){if("multiplerowsextended"==this.selectionmode){var t=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,i=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0,s=this.dataview.loadedrecords;if(t<=i){this.selectedrowindexes=new Array;for(var r=t;r<=i;r++){e=s[r];var n=this.getrowboundindex(r);this._applyrowselection(n,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(e,t,i,s,r,n){if(null!=(b=t.row)){var o=t.index;if(null!=this.hittestinfo[o]){var a=this.hittestinfo[o].visualrow;if(!this.hittestinfo[o].details){a.cells[0].className;if(!b.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==n||1==r)){var l=this.getboundindex(b);if(this.dataview.filters.length>0){var h=this.getrowdata(l);if(h&&null==(l=h.dataindex))l=this.getboundindex(b)}var d=-1!=i.indexOf(l),c=this.getboundindex(b)+"_"+s;if(-1!=this.selectionmode.indexOf("cell")){var u=null!=this.selectedcells[c];if(null!=this.selectedcells[c]&&u?this._selectcellwithstyle(e,!1,o,s,a):this._selectcellwithstyle(e,!0,o,s,a),n&&null==this._lastClickedCell){var p=this.getselectedcells();p&&p.length>0&&(this._lastClickedCell={row:p[0].rowindex,column:p[0].datafield})}n&&this._lastClickedCell&&(this._selectpath(b.visibleindex,s),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(d?r?this._applyrowselection(this.getboundindex(b),!1):this._selectrowwithstyle(e,a,!1,s):this._selectrowwithstyle(e,a,!0,s),n&&null==this._lastClickedCell){var f=this.getselectedrowindexes();f&&f.length>0&&(this._lastClickedCell={row:f[0],column:s})}if(n&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var m=this._lastClickedCell?Math.min(this._lastClickedCell.row,b.visibleindex):0,g=this._lastClickedCell?Math.max(this._lastClickedCell.row,b.visibleindex):0,v=this.dataview.loadedrecords,x=m;x<=g;x++){var b;(b=v[x])&&this._applyrowselection(this.getboundindex(b),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(e,a,!0,s),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(e,!0,o,s,a);n||(this._lastClickedCell={row:b.visibleindex,column:s})}}}}},_selectcellwithstyle:function(t,i,s,r,n){var o=e(n.cells[t._getcolumnindex(r)]);o.removeClass(this.toTP("jqx-grid-cell-hover")),o.removeClass(this.toTP("jqx-fill-state-hover")),i?(o.addClass(this.toTP("jqx-grid-cell-selected")),o.addClass(this.toTP("jqx-fill-state-pressed"))):(o.removeClass(this.toTP("jqx-grid-cell-selected")),o.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(t,i,s,r){var n=i.cells.length,o=0;t.rowdetails&&t.showrowdetailscolumn?this.rtl?(n-=1,n-=this.groups.length):o=1+this.groups.length:this.groupable&&(this.rtl?n-=this.groups.length:o=this.groups.length);for(var a=o;a<n;a++){var l=i.cells[a];s?(e(l).removeClass(this.toTP("jqx-grid-cell-hover")),e(l).removeClass(this.toTP("jqx-fill-state-hover")),-1==t.selectionmode.indexOf("cell")&&(e(l).addClass(this.toTP("jqx-grid-cell-selected")),e(l).addClass(this.toTP("jqx-fill-state-pressed")))):(e(l).removeClass(this.toTP("jqx-grid-cell-hover")),e(l).removeClass(this.toTP("jqx-grid-cell-selected")),e(l).removeClass(this.toTP("jqx-fill-state-hover")),e(l).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(t,i){if(i.hScrollInstance.isScrolling()||i.vScrollInstance.isScrolling())return!1;if(("multiplerowsextended"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i.mousecaptured){if(i.multipleselectionbegins)if(!1===i.multipleselectionbegins(t))return!0;var s=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0;r+=this.showtoolbar?this.toolbar.height():0;var n=this.host.coord();if(this.hasTransform){n=e.jqx.utilities.getOffset(this.host);var o=this._getBodyOffset();n.left-=o.left,n.top-=o.top}"0px"===this.host.css("border-top-width")&&(r-=2);var a=t.pageX,l=t.pageY-r;if(Math.abs(this.mousecaptureposition.left-a)>3||Math.abs(this.mousecaptureposition.top-l)>3){parseInt(this.columnsheader.coord().top);this.hasTransform&&e.jqx.utilities.getOffset(this.columnsheader).top,a<n.left&&(a=n.left),a>n.left+this.host.width()&&(a=n.left+this.host.width());var h=n.top+s;l<h&&(l=h+5);var d=parseInt(Math.min(i.mousecaptureposition.left,a)),c=-5+parseInt(Math.min(i.mousecaptureposition.top,l)),u=parseFloat(Math.abs(i.mousecaptureposition.left-a)),p=parseInt(Math.abs(i.mousecaptureposition.top-l));if(d-=n.left,c-=n.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==i.selectionmode){var f=(a=d)+u,m=i.hScrollInstance,g=m.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(g=m.max-m.value),this.vScrollBar[0].style.visibility);var v=i.table[0].rows[0],x=0,b=i.mousecaptureposition.clickedcell,w=b,y=!1,_=0,j=v.cells.length;i.mousecaptureposition.left<=t.pageX&&(_=b);for(var q=!1,S=_;S<j;S++){var T=parseFloat(e(this.columnsrow[0].cells[S]).css("left")),C=T-g;if(!i.columns.records[S].pinned||i.columns.records[S].hidden){if(q){y=!0,w--;break}var I=this._getcolumnat(S);if(!(null!=I&&I.hidden||i.groupable&&i.groups.length>0&&S<i.groups.length)){k=C+e(this.columnsrow[0].cells[S]).width();if(i.mousecaptureposition.left>t.pageX){if(k>=a&&a>=C){w=S,y=!0;break}}else if(k>=f&&f>=C){w=S,y=!0;break}}}else{S==b&&(q=!0);var k=T+e(this.columnsrow[0].cells[S]).width();if(i.mousecaptureposition.left>t.pageX){if(k>=a&&a>=C){w=S,y=!0;break}}else if(k>=f&&f>=C){w=S,y=!0;break}}}y||(i.mousecaptureposition.left>t.pageX?e.each(this.columns.records,function(e,t){return!!(i.groupable&&i.groups.length>0&&e<i.groups.length)||(this.pinned||this.hidden?void 0:(w=e,!1))}):(!i.groupable||i.groupable&&!i.groups.length>0)&&(w=v.cells.length-1));var P=b;b=Math.min(b,w),w=Math.max(P,w),c+=5,c+=r;i.table[0].rows.indexOf(i.mousecaptureposition.clickedrow);var M=0,N=-1,D=-1,B=0;for(S=0;S<i.table[0].rows.length;S++){var O=e(i.table[0].rows[S]);0==S&&(B=O.coord().top);var A=O.height(),H=B-n.top;if(-1==N&&H+A>=c){for(var E=!1,z=0;z<i.groups.length;z++){if(-1!=(L=O[0].cells[z].className).indexOf("jqx-grid-group-collapse")||-1!=L.indexOf("jqx-grid-group-expand")){E=!0;break}}if(E)continue;N=S}if(B+=A,i.groupable&&i.groups.length>0){for(E=!1,z=0;z<i.groups.length;z++){var L;if(-1!=(L=O[0].cells[z].className).indexOf("jqx-grid-group-collapse")||-1!=L.indexOf("jqx-grid-group-expand")){E=!0;break}}if(E)continue;x=0;for(var F=i.groups.length;F<O[0].cells.length;F++){var R=O[0].cells[F];""==e(R).html()&&x++}if(x==O[0].cells.length-i.groups.length)continue}if(-1!=N&&(M+=A),H+A>c+p){D=S;break}}if(-1!=N){c=e(i.table[0].rows[N]).coord().top-n.top-r-2;var V=0;this.filterable&&this.showfilterrow&&(V=this.filterrowheight),parseFloat(i.table[0].style.top)<0&&c<this.rowsheight+V&&(c-=parseFloat(i.table[0].style.top),M+=parseFloat(i.table[0].style.top)),p=M;var W=e(this.columnsrow[0].cells[b]),G=e(this.columnsrow[0].cells[w]);if(d=parseFloat(W.css("left")),u=parseFloat(G.css("left"))-parseFloat(d)+G.width()-2,d-=g,q&&(d+=g),i.editcell&&i.editable&&i.endcelledit&&(b!=w||N!=D)){if(0==i.editcell.validated)return;i.endcelledit(i.editcell.row,i.editcell.column,!0,!0)}}}this.selectionarea.width(u),this.selectionarea.height(p),this.selectionarea.css("left",d),this.selectionarea.css("top",c)}}},_handlemouseupselection:function(t,i){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return i.mousecaptured=!1,!0;if(i.mousecaptured&&("multiplerowsextended"==i.selectionmode||"multiplerowsadvanced"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&(i.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var s=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(r-=2),r+=this.showtoolbar?this.toolbar.height():0;var n=this.selectionarea.coord(),o=this.host.coord();this.hasTransform&&(o=e.jqx.utilities.getOffset(this.host),n=e.jqx.utilities.getOffset(this.selectionarea)),"0px"===this.host.css("border-top-width")&&(r-=2);var a=n.left-o.left,l=n.top-s-o.top-r,h=l,d=a+this.selectionarea.width(),c=a,u=new Array,p=new Array;if("multiplerowsextended"==i.selectionmode){for(;l<h+this.selectionarea.height();){var f=(w=this._hittestrow(a,l)).row;-1!=(y=w.index)&&(p[y]||(p[y]=!0,u[u.length]=w)),l+=20}h=0;e.each(u,function(){var e=this.row;"none"!=i.selectionmode&&i._selectrowwithmouse&&(t.ctrlKey||t.metaKey?i._applyrowselection(i.getboundindex(e),!0,!1,!1):0==h?i._applyrowselection(i.getboundindex(e),!0,!1,!0):i._applyrowselection(i.getboundindex(e),!0,!1,!1),h++)})}else{"multiplecellsadvanced"==i.selectionmode&&(l+=2);var m=i.hScrollInstance,g=m.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(g=m.max-m.value),"hidden"!=this.vScrollBar[0].style.visibility&&(g-=this.scrollbarsize+4));var v=i.table[0].rows[0],x=i.selectionarea.height();!t.ctrlKey&&!t.metaKey&&x>0&&(i.selectedcells=new Array);for(var b=x;l<h+b;){var w;if(w=i._hittestrow(a,l)){var y;f=w.row;if(-1!=(y=w.index)&&!p[y]){p[y]=!0;for(var _=0;_<v.cells.length;_++){var j=parseFloat(e(i.columnsrow[0].cells[_]).css("left"))-g,q=j+e(i.columnsrow[0].cells[_]).width();(c>=j&&c<=q||d>=j&&d<=q||j>=c&&j<=d)&&i._applycellselection(i.getboundindex(f),i._getcolumnat(_).datafield,!0,!1)}}l+=5}else l+=5}}i.autosavestate&&i.savestate&&i.savestate(),i._renderrows(i.virtualsizeinfo)}}},selectprevcell:function(e,t){var i=this._getcolumnindex(t),s=(this.columns.records.length,this._getprevvisiblecolumn(i));null!=s&&(this.clearselection(),this.selectcell(e,s.datafield))},selectnextcell:function(e,t){var i=this._getcolumnindex(t),s=(this.columns.records.length,this._getnextvisiblecolumn(i));null!=s&&(this.clearselection(),this.selectcell(e,s.datafield))},_getfirstvisiblecolumn:function(){for(var e=this.columns.records.length,t=0;t<e;t++){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_getlastvisiblecolumn:function(){for(var e=this.columns.records.length-1;e>=0;e--){var t=this.columns.records[e];if(!t.hidden&&null!=t.datafield)return t}return null},_handlekeydown:function(t,i){if(i.groupable&&i.groups.length,i.disabled)return!1;var s=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(i.editcell&&"multiplecellsadvanced"!=i.selectionmode)return!0;if(i.editcell&&"multiplecellsadvanced"==i.selectionmode){if(!(s>=33&&s<=40))return!0;if(t.altKey)return i._cancelkeydown=!1,!0;if(null!=i._cancelkeydown&&0!=i._cancelkeydown)return i._cancelkeydown=!1,!0;if("selectedrow"===i.editmode)return!0;if(i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),i._cancelkeydown=!1,i.editcell&&!i.editcell.validated)return i._rendervisualrows(),i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!1}if("none"==i.selectionmode)return!0;if(i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(i.filterrow))return!0;if(i.showeverpresentrow){if(i.addnewrowtop&&e(t.target).ischildof(i.addnewrowtop))return!0;if(i.addnewrowbottom&&e(t.target).ischildof(i.addnewrowbottom))return!0}if(t.target.className&&t.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;var r=!1;if(t.altKey)return!0;if((t.ctrlKey||t.metaKey)&&this.clipboard){var n=String.fromCharCode(s).toLowerCase();if(this.clipboardbegin){var o=null;if("c"==n?o=this.clipboardbegin("copy",this.copyselection()):"x"==n?o=this.clipboardbegin("cut",this.copyselection()):"v"==n&&(o=this.clipboardbegin("paste")),!1===o)return!1}if("c"==n||"x"==n){var a=this.copyselection();if("c"==n&&this.clipboardend&&this.clipboardend("copy"),"x"==n&&this.clipboardend&&this.clipboardend("cut"),window.clipboardData)window.clipboardData.setData("Text",a);else{var l=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');l.val(a),e("body").append(l),l.select(),setTimeout(function(){document.designMode="off",l.select(),l.remove(),i.focus()},100)}if("c"==n&&e.jqx.browser.msie)return!1;if("c"==n)return!0}else if("v"==n){var h=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');e("body").append(h),h.select();var d=this;return setTimeout(function(){if(d._clipboardselection=new Array,0==(e=h.val()).length&&window.clipboardData){h.val(window.clipboardData.getData("Text"));var e=h.val()}for(var t=e.split("\n"),i=0;i<t.length;i++)if(t[i].split("\t").length>0){var s=t[i].split("\t");if(1==s.length&&i==t.length-1&&""==s[0])continue;s.length>0&&d._clipboardselection.push(s)}d.pasteselection(),h.remove(),d.focus()},100),!0}if("x"==n)return this.deleteselection(),this.host.focus(),!1}var c=Math.round(i._gettableheight()),u=Math.round(c/i.rowsheight),p=i.getdatainformation();switch(i.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var f=i.getselectedcell();if(null!=f){var m=this.getrowvisibleindex(f.rowindex),g=f.datafield,v=i._getcolumnindex(g),x=(i.columns.records.length,function(e,s,n,o){var a=function(e,t){var s,a=i.dataview.loadedrecords[e];if(i.groupable&&i.groups.length>0){var l=e;"up"==o&&l++,"down"==o&&l--;a=i.getdisplayrows()[l];for(var h=1,d=!0;d&&h<300&&(d=!1,"down"==o?a=i.getdisplayrows()[l+h]:"up"==o&&(a=i.getdisplayrows()[l-h]),a);){a&&a.group&&(d=!0);for(var c=a.parentItem;c;)!c||(s=c).group&&(i.expandedgroups[s.uniqueid]?i.expandedgroups[s.uniqueid].expanded:void 0)||(d=!0),c=c.parentItem;if(!d)break;h++}if(300==h&&(a=null),i.pageable){var u=!1;if(a){for(var p=0;p<i.dataview.rows.length;p++)i.dataview.rows[p].boundindex==a.boundindex&&(u=!0);u||(a=null)}}}if(null!=a&&null!=t){(n||null==n)&&i.clearselection();var f=i.getboundindex(a);return i.selectcell(f,t),i._oldselectedcell=i.selectedcell,r=!0,i.ensurecellvisible(e,t),!0}return!1};if(a(e,s)||(i.ensurecellvisible(e,s),a(e,s),i.virtualmode&&i.host.focus()),!(i.groupable&&i.groups.length>0))if(t.shiftKey&&9!=t.keyCode){if(("multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i._lastClickedCell){i._selectpath(e,s);var l=i.dataview.loadedrecords[e],h=i.getboundindex(l);return void(i.selectedcell={rowindex:h,datafield:s})}}else t.shiftKey||(i._lastClickedCell={row:e,column:s})}),b=t.shiftKey&&"singlecell"!=i.selectionmode&&"multiplecells"!=i.selectionmode,w=function(){x(0,g,!b)},y=function(){var e=p.rowscount-1;x(e,g,!b)},_=9==s&&!t.shiftKey,j=9==s&&t.shiftKey;if(i.rtl){var q=_;_=j,j=q}if((_||j)&&(b=!1),(_||j)&&document.activeElement&&document.activeElement.className&&document.activeElement.className.indexOf("jqx-grid-cell-add-new-row")>=0)return!0;if((M=t.ctrlKey||t.metaKey)&&37==s)null!=(I=i._getfirstvisiblecolumn(v))&&x(m,I.datafield);else if(M&&39==s){var S=i._getlastvisiblecolumn(v);null!=S&&x(m,S.datafield)}else if(39==s||_){var T=i._getnextvisiblecolumn(v);if(null!=T)x(m,T.datafield,!b);else if(_){var C=i._getfirstvisiblecolumn();s=40,g=C.displayfield}else r=!0}else if(37==s||j){var I;if(null!=(I=i._getprevvisiblecolumn(v)))x(m,I.datafield,!b);else if(j){var k=i._getlastvisiblecolumn();s=38,g=k.displayfield}else r=!0}else if(36==s)w();else if(35==s)y();else if(33==s){if(m-u>=0)x(m-u,g,!b);else w()}else if(34==s){if(p.rowscount>m+u)x(m+u,g,!b);else y()}38==s&&(M?w():m>0?x(m-1,g,!b,"up"):r=!0),40==s&&(M?y():p.rowscount>m+1||i.groupable&&i.groups.length>0?x(m+1,g,!b,"down"):r=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":if(null==(m=i.getselectedrowindex())||-1==m)return!0;m=this.getrowvisibleindex(m);var P=function(e,n,o){var a=function(e){var t,s=i.dataview.loadedrecords[e];if(i.groupable&&i.groups.length>0){"up"==o&&e++,"down"==o&&e--;s=i.getdisplayrows()[e];for(var a=1,l=!0;l&&a<300&&(l=!1,"down"==o?s=i.getdisplayrows()[e+a]:"up"==o&&(s=i.getdisplayrows()[e-a]),s);){s&&s.group&&(l=!0);for(var h=s.parentItem;h;)!h||(t=h).group&&(i.expandedgroups[t.uniqueid]?i.expandedgroups[t.uniqueid].expanded:void 0)||(l=!0),h=h.parentItem;if(!l)break;a++}if(300==a&&(s=null),i.pageable){var d=!1;if(s){for(var c=0;c<i.dataview.rows.length;c++)i.dataview.rows[c].boundindex==s.boundindex&&(d=!0);d||(s=null)}}}if(null!=s){var u=i.getboundindex(s),p=i.selectedrowindex;return(n||null==n)&&i.clearselection(),i.selectedrowindex=p,i.selectrow(u,!1),(!i.ensurerowvisible(e)||i.autoheight||i.groupable)&&i._rendervisualrows(),r=!0,!0}return!1};if(a(e)||(i.ensurerowvisible(e),a(e),i.virtualmode&&setTimeout(function(){a(e)},25),i.virtualmode&&i.host.focus()),!(i.groupable&&i.groups.length>0))if(t.shiftKey&&9!=s){if("multiplerowsextended"==i.selectionmode&&i._lastClickedCell)return i._selectrowpath(e),void(i.selectedrowindex=i.getrowboundindex(e))}else t.shiftKey||(i._lastClickedCell={row:e},i.selectedrowindex=i.getrowboundindex(e))},M=(b=t.shiftKey&&"singlerow"!=i.selectionmode&&"multiplerows"!=i.selectionmode,w=function(){P(0,!b)},y=function(){var e=p.rowscount-1;P(e,!b)},t.ctrlKey||t.metaKey);if(36==s||M&&38==s)w();else if(35==s||M&&40==s)y();else if(33==s){if(m-u>=0)P(m-u,!b);else w()}else if(34==s){if(p.rowscount>m+u)P(m+u,!b);else y()}else 38==s?m>0?P(m-1,!b,"up"):r=!0:40==s&&(p.rowscount>m+1||i.groupable&&i.groups.length>0?P(m+1,!b,"down"):r=!0)}return!r||(i.autosavestate&&i.savestate&&i.savestate(),!1)},_handlemousemove:function(t,i){if(!i.vScrollInstance.isScrolling()&&!i.hScrollInstance.isScrolling()){var s,r,n,o,a;if(i.enablehover||"multiplerows"==i.selectionmode){if(s=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0,r+=this.showtoolbar?this.toolbarheight:0,n=this.host.coord(),this.hasTransform){n=e.jqx.utilities.getOffset(this.host);var l=this._getBodyOffset();n.left-=l.left,n.top-=l.top}o=t.pageX-n.left,a=t.pageY-s-n.top-r}if("multiplerowsextended"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplecellsadvanced"!=i.selectionmode||1!=i.mousecaptured){if(!i.enablehover)return!0;if(!i.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var h=this._hittestrow(o,a);if(h){var d=h.row,c=h.index;if((-1==this.hoveredrow||-1==c||this.hoveredrow!=c||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=c&&null!=d)){var u=this.hittestinfo[c].visualrow;if(null!=u&&!(this.hittestinfo[c].details||t.clientX>e(u).width()+e(u).coord().left)){var p=0,f=u.cells.length;if(i.rowdetails&&i.showrowdetailscolumn?this.rtl?(f-=1,f-=this.groups.length):p=1+this.groups.length:this.groupable&&(this.rtl?f-=this.groups.length:p=this.groups.length),0!=u.cells.length){var m=u.cells[p].className;if(!(d.group||this.selectionmode.indexOf("row")>=0&&-1!=m.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=c,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(b=p;b<f;b++){y=u.cells[b];e(y).addClass(this.toTP("jqx-grid-cell-hover")),e(y).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(y,t.pageX,t.pageY)}else{var g=-1,v=this.hScrollInstance,x=v.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(x=v.max-v.value);for(var b=p;b<f;b++){var w=parseInt(e(this.columnsrow[0].cells[b]).css("left"))-x;if(this.columns.records[b].pinned&&!this.rtl&&(w=parseInt(e(this.columnsrow[0].cells[b]).css("left"))),w+e(this.columnsrow[0].cells[b]).width()>=o&&o>=w){g=b;break}}if(-1!=g){var y=u.cells[g];if(this.cellhover&&this.cellhover(y,t.pageX,t.pageY),-1==y.className.indexOf("jqx-grid-cell-selected")){if(this.editcell){var _=this._getcolumnat(g);if(_&&this.editcell.row==c&&this.editcell.column==_.datafield)return}e(y).addClass(this.toTP("jqx-grid-cell-hover")),e(y).addClass(this.toTP("jqx-fill-state-hover"))}}}}}}}}}}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{autoresizecolumns:function(t,i){"cells"!=t&&"all"!=t&&"column"!=t&&(t="all");var s=this.that,r=this.getrows();this.pageable&&(r=this.dataview.rows,this.groupable&&(r=this.dataview.records)),i=null==i?0:parseInt(i);var n=r.length;if(null==n&&null!=r){var o=new Array;e.each(r,function(e){o.push(this)}),n=(r=o).length}var a=e("<span></span>");a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(a);var l=[],h=[],d=[],c=[],u=s.host.width();"hidden"!=s.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),u<0&&(u=0);for(var p=0;p<n;p++)for(var f=r[p],m=0;m<this.columns.records.length;m++){if(!(q=this.columns.records[m]).hidden&&!(this.groups.length>0&&m<=this.groups.length-1)){null==h[q.displayfield]&&(h[q.displayfield]=0),null==d[q.displayfield]&&(d[q.displayfield]="");var g=f[q.displayfield];if(""!=q.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(g)?g=e.jqx.dataFormat.formatdate(g,q.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(g)&&(g=e.jqx.dataFormat.formatnumber(g,q.cellsformat,this.gridlocalization)));else if(q.cellsrenderer){var v=s._defaultcellsrenderer(g,q),x=q.cellsrenderer(p,q.datafield,g,v,q.getcolumnproperties(),f);null!=x&&(g=e(x).text())}if((null==t||"cells"==t||"all"==t)&&null!=g){l=g.toString().length;var b=g.toString().replace(/[^A-Z]/g,"").length;if(l>h[q.displayfield]&&(h[q.displayfield]=l,d[q.displayfield]=g,c[q.displayfield]=b),l>0&&l>=b)(w=20*b+15*(l-b))>(y=20*c[q.displayfield]+15*(h[q.displayfield]-c[q.displayfield]))&&w>0&&y>0&&(h[q.displayfield]=l,d[q.displayfield]=g,c[q.displayfield]=b)}if("column"==t||"all"==t){if(q.text.toString().length>h[q.displayfield]){d[q.displayfield]=q.text,h[q.displayfield]=q.text.length;b=q.text.toString().replace(/[^A-Z]/g,"").length;c[q.displayfield]=b}var w,y;l=(g=q.text).toString().length,b=g.toString().replace(/[^A-Z]/g,"").length;if(l>0&&l>=b)(w=20*b+15*(l-b))>(y=20*c[q.displayfield]+15*(h[q.displayfield]-c[q.displayfield]))&&w>0&&y>0&&(h[q.displayfield]=l,d[q.displayfield]=g,c[q.displayfield]=b)}}}if(this.columns.records){for(m=0;m<this.columns.records.length;m++){if((q=this.columns.records[m]).displayfield){null==d[q.displayfield]&&(d[q.displayfield]=q.text),a[0].className.indexOf("jqx-grid-column-header")>=0&&a.removeClass(this.toThemeProperty("jqx-grid-column-header")),d[q.displayfield]==q.text&&a.addClass(this.toThemeProperty("jqx-grid-column-header")),a[0].innerHTML=d[q.displayfield].toString();var _=a.outerWidth()+10;if(a.children().length>0&&(_=a.children().outerWidth()+10),e.jqx.browser.msie&&e.jqx.browser.version<8&&(_+=10),this.filterable&&this.showfilterrow&&(_+=5),(_+=i)>q.maxwidth&&(_=q.maxwidth),null!=q._width&&(q.__width=q._width),q._width=null,"auto"==q.maxwidth||_<=q.maxwidth){var j=q.width;_<q.minwidth&&(_=q.minwidth),q.width=_,null!=q._percentagewidth&&(q._percentagewidth=null),this._raiseEvent(14,{columntext:q.text,column:q.getcolumnproperties(),datafield:q.datafield,displayfield:q.displayfield,oldwidth:j,newwidth:_})}}}a.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo);for(m=0;m<this.columns.records.length;m++){var q;null!=(q=this.columns.records[m]).__width&&(q._width=q.__width)}}},autoresizecolumn:function(t,i,s){if("cells"!=i&&"all"!=i&&"column"!=i&&(i="all"),null==t)return!1;var r=this.getrows();this.pageable&&(r=this.dataview.rows,this.groupable&&(r=this.dataview.records));var n=this.getcolumn(t);if(null==n)return!1;s=null==s?0:parseInt(s);var o=r.length,a=e("<span></span>");a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(a);var l=0,h="",d=0,c=this.that,u=c.host.width();if("hidden"!=c.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),u<0&&(u=0),null==i||"cells"==i||"all"==i)for(var p=0;p<o;p++){var f=r[p][n.displayfield];if(""!=n.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(f)?f=e.jqx.dataFormat.formatdate(f,n.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(f)&&(f=e.jqx.dataFormat.formatnumber(f,n.cellsformat,this.gridlocalization)));else if(n.cellsrenderer){var m=n.cellsrenderer(p,n,f);null!=m&&(f=e(m).text())}if(null!=f){var g=f.toString().length,v=f.toString().replace(/[^A-Z]/g,"").length;if(g>l&&(l=g,h=f,d=v),g>0&&g>=v)(x=20*v+15*(g-v))>(b=20*d+15*(l-d))&&x>0&&b>0&&(l=g,h=f,d=v)}}if("column"==i||"all"==i){n.text.toString().length>l&&(h=n.text);var x,b;g=(f=n.text.toString()).toString().length,v=f.toString().replace(/[^A-Z]/g,"").length;if(g>0&&g>=v)(x=20*v+15*(g-v))>(b=20*d+15*(l-d))&&x>0&&b>0&&(l=g,h=f,d=v)}null==h&&(h=n.text),a[0].innerHTML=h,h==n.text&&a.addClass(this.toThemeProperty("jqx-grid-column-header"));var w=a.outerWidth()+10;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(w+=5),this.filterable&&this.showfilterrow&&(w+=5),w+=s,a.remove(),w>n.maxwidth&&(w=n.maxwidth),"auto"==n.maxwidth||w<=n.maxwidth){var y=n.width;w<n.minwidth&&(w=n.minwidth),n.width=w,null!=n._width&&(n.__width=n._width),n._width=null,null!=n._percentagewidth&&(n._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:n.text,column:n.getcolumnproperties(),datafield:t,displayfield:n.displayfield,oldwidth:y,newwidth:w}),this._renderrows(this.virtualsizeinfo),null!=n._width&&(n._width=n.__width)}},_handlecolumnsresize:function(){var t=this.that;if(this.columnsresize){var i=!1;t.isTouchDevice()&&!0!==t.touchmode&&(i=!0);var s="mousemove.resize"+this.element.id,r="mousedown.resize"+this.element.id,n="mouseup.resize"+this.element.id;if(i)s=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,r=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),s),this.addHandler(e(document),s,function(s){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){t.resizablecolumn.columnelement;var r=t.host.coord(),n=parseInt(t.resizestartline.coord().left),o=n-t._startcolumnwidth,a=t.resizablecolumn.column.minwidth;a="auto"==a?0:parseInt(a);var l=t.resizablecolumn.column.maxwidth;l="auto"==l?0:parseInt(l);var h=s.pageX;if(i)h=t.getTouches(s)[0].pageX;o+=a;var d=l>0?n+l:0,c=0==l||t._startcolumnwidth+h-n<l;if(t.rtl)c=!0;if(c)if(t.rtl){if(h>=r.left&&h<=r.left+t.host.width()&&(t.resizeline.css("left",h),i))return!1}else if(h>=r.left&&h>=o&&(0!=d&&s.pageX<d?t.resizeline.css("left",h):0==d&&t.resizeline.css("left",h),i))return!1}return!(!i&&null!=t.resizablecolumn)&&void 0}),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;if(null!=t.resizablecolumn&&!t.disabled){var s=t.resizablecolumn.columnelement;if(s.coord().top+s.height()+5<i.pageY)return void(t.resizablecolumn=null);if(s.coord().top-5>i.pageY)return void(t.resizablecolumn=null);if(t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect"),t._mouseDownResize=new Date,t.resizing=!0,t._lastmouseDownResize&&t.columnsautoresize&&t._lastmouseDownResize-t._mouseDownResize<300&&t._lastmouseDownResize-t._mouseDownResize>-500){var r=t.resizablecolumn.column;if(r.resizable){t.resizablecolumn.column.width;var n=t.hScrollBar[0].style.visibility;return t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t.columndragstarted=!1,t.dragmousedown=null,t.__drag=!1,t.autoresizecolumn(r.displayfield,"all"),n!=t.hScrollBar[0].style.visibility&&t.hScrollInstance.setPosition(0),t.rtl&&t._arrange(),t.autosavestate&&t.savestate&&t.savestate(),i.stopPropagation(),t.suspendClick=!0,setTimeout(function(){t.suspendClick=!1},100),!1}}t._lastmouseDownResize=new Date,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground);var o=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",9999);var a=function(e){t.rtl?e.css("left",parseInt(o.left)):e.css("left",parseInt(o.left)+t._startcolumnwidth);var i=t._groupsheader()?t.groupsheader.height():0;i+=t.showtoolbar?t.toolbarheight:0,i+=t.showstatusbar?t.statusbarheight:0;var s=0;t.pageable&&(s=t.pagerheight);var r="visible"==t.hScrollBar.css("visibility")?17:0;e.css("top",parseInt(o.top)),e.css("z-index",99999),t.columngroups?e.height(t.host.height()+t.resizablecolumn.columnelement.height()-s-i-r-t.columngroupslevel*t.columnsheight):e.height(t.host.height()-s-i-r),t.enableanimations?e.show("fast"):e.show()};a(t.resizeline),a(t.resizestartline),t.dragmousedown=null}});var o=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),(t.showfilterrow||t.showstatusbar||t.showtoolbar||t.enablebrowserselection)&&(t.host.removeClass("jqx-disableselect"),t.content.removeClass("jqx-disableselect")),t.resizing){if(t._mouseUpResize=new Date,t._mouseUpResize-t._mouseDownResize<200)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()));if(t.resizing=!1,!t.disabled){var i=t.host.width();if("hidden"!=t.vScrollBar[0].style.visibility&&(i-=20),i<0&&(i=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var s=parseInt(t.resizeline.css("left")),r=parseInt(t.resizestartline.css("left")),n=t._startcolumnwidth+s-r;if(t.rtl)n=t._startcolumnwidth-s+r;var o=t._resizecolumn.width;t._closemenu(),n<t._resizecolumn.minwidth&&(n=t._resizecolumn.minwidth),t._resizecolumn.width=n,null!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=n/i*100);for(var a=0;a<t._columns.length;a++)if(t._columns[a].datafield===t._resizecolumn.datafield){t._columns[a].width=t._resizecolumn.width,t._columns[a].width<t._resizecolumn.minwidth&&(t._columns[a].width=t._resizecolumn.minwidth);break}var l=t.hScrollBar[0].style.visibility;t._updatecolumnwidths(),t._updatecellwidths(),t._raiseEvent(14,{columntext:t._resizecolumn.text,column:t._resizecolumn.getcolumnproperties(),datafield:t._resizecolumn.datafield,oldwidth:o,newwidth:n}),t._renderrows(t.virtualsizeinfo),t.autosavestate&&t.savestate&&t.savestate(),l!=t.hScrollBar[0].style.visibility&&t.hScrollInstance.setPosition(0),t.rtl&&t._arrange(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null}else t.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var a=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(a=document.referrer),a&&-1!=a.indexOf(document.location.host)){var l=function(e){o()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(e){}this.removeHandler(e(document),n),this.addHandler(e(document),n,function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;o()})}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_handledblclick:function(t,i){var s,r;if(null!=t.target&&!(i.disabled||e(t.target).ischildof(this.columnsheader)||(t.which?s=3==t.which:t.button&&(s=2==t.button),s||(t.which?r=2==t.which:t.button&&(r=1==t.button),r)))){var n=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0;o+=this.showtoolbar?this.toolbarheight:0;var a=this.host.offset(),l=t.pageX-a.left,h=t.pageY-n-a.top-o,d=this._hittestrow(l,h);if(d){var c=d.row,u=d.index,p=t.target.className,f=this.table[0].rows[u];if(null!=f){i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-o};for(var m=this.hScrollInstance.value,g=0,v=(this.groupable&&this.groups.length,0);v<f.cells.length;v++){var x=parseInt(e(this.columnsrow[0].cells[v]).css("left")),b=x-m;if(i.columns.records[v].pinned&&(b=x),null==(w=this._getcolumnat(v))||!w.hidden)if(b+e(this.columnsrow[0].cells[v]).width()>=l&&l>=b){g=v;break}}if(null!=c){var w=this._getcolumnat(g);-1==p.indexOf("jqx-grid-group-expand")&&-1==p.indexOf("jqx-grid-group-collapse")&&-1!=c.boundindex&&i.begincelledit(i.getboundindex(c),w.datafield,w.defaulteditorvalue)}}}}},_getpreveditablecolumn:function(e){for(;e>0;){e--;var t=this.getcolumnat(e);if(!t)return null;if(t.editable&&!t.hidden)return t}return null},_getnexteditablecolumn:function(e){for(;e<this.columns.records.length;){e++;var t=this.getcolumnat(e);if(!t)return null;if(t.editable&&!t.hidden)return t}return null},_handleeditkeydown:function(t,i){if(i.handlekeyboardnavigation&&1==i.handlekeyboardnavigation(t))return!0;var s=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(i.editEvent=t,i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(this.filterrow))return!0;if(t.target.className&&t.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showeverpresentrow){if(this.addnewrowtop&&e(t.target).ischildof(this.addnewrowtop))return!0;if(this.addnewrowbottom&&e(t.target).ischildof(this.addnewrowbottom))return!0}if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;if(this.rowdetails&&e(t.target).ischildof(this.content.find("[role='rowgroup']")))return!0;if(this.editcell){if("selectedrow"===this.editmode){if(13===s)return this.endrowedit(this.editcell.row,!1),!1;if(27===s)return this.endrowedit(this.editcell.row,!0),!1;if(32==s)if(this._currentColumn&&"checkbox"==this.getcolumn(this._currentColumn).columntype)if((p=this.getcolumn(this._currentColumn)).editable){var r=!this.getcellvalue(this.editcell.row,p.datafield),n=this.getrowdata(this.editcell.row),o=this.editcell.row;n=i.getrowdata(i.editcell.row);this.setcellvalue(this.editcell.row,p.datafield,r,!1);var a=this._focusedColumn,l=this._currentColumn,h=this._currentEditableColumn;if(this.endrowedit(this.editcell.row,!1),this.beginrowedit(o,!1),this._currentColumn=l,this._focusedColumn=a,this._currentEditableColumn=h,this._renderrows(),this.selectcell(o,p.datafield),this._oldselectedcell=this.selectedcell,a){var d=this;setTimeout(function(){d.selectcell(o,p.datafield),d._oldselectedcell=d.selectedcell,e(d._checkboxCells[p.datafield].checkbox).jqxCheckBox("focus")},25)}return!1}if(9===s){var c=this.editcell.datafield,u=this._getcolumnindex(c);this._currentEditableColumn?u=this._currentEditableColumn:this._currentEditableColumn=u;var p=this._getnexteditablecolumn(u);if(t.shiftKey&&(p=this._getpreveditablecolumn(u)),p){u=this._getcolumnindex(p.datafield);if(this.editcell[p.datafield])this._currentEditableColumn=u,(f=this.editcell[p.datafield].editor)&&(f.data().jqxWidget&&f.data().jqxWidget.focus?f.data().jqxWidget.focus():f.focus()),this._focusedColumn=p.datafield,this._currentColumn=p.datafield;else if("checkbox"==p.columntype)return this._currentColumn=p.datafield,this._currentEditableColumn=u,this.selectcell(this.editcell.row,p.datafield),this._oldselectedcell=this.selectedcell,this._checkboxCells[p.datafield]&&e(this._checkboxCells[p.datafield].checkbox).jqxCheckBox("focus"),!1}return!1}return!0}if(null==this.editcell.columntype||"textbox"==this.editcell.columntype||"numberinput"==this.editcell.columntype||"combobox"==this.editcell.columntype||"datetimeinput"==this.editcell.columntype){if(s>=33&&s<=40&&"multiplecellsadvanced"==i.selectionmode){var f="textbox"==this.editcell.columntype||null==this.editcell.columntype?this.editcell.editor:this.editcell.editor.find("input"),m=i._selection(f),g=f.val().length;m.length>0&&"datetimeinput"!=this.editcell.columntype&&(i._cancelkeydown=!0),m.start>0&&37==s&&(i._cancelkeydown=!0),m.start<g&&39==s&&"datetimeinput"!=this.editcell.columntype&&(i._cancelkeydown=!0),"datetimeinput"==this.editcell.columntype&&39==s&&m.start+m.length<g&&(i._cancelkeydown=!0)}}else"dropdownlist"==this.editcell.columntype?(37==s||39==s&&"multiplecellsadvanced"==i.selectionmode)&&(i._cancelkeydown=!1):"multiplecellsadvanced"==this.selectionmode&&"textbox"!=this.editcell.columntype&&"numberinput"!=this.editcell.columntype&&(i._cancelkeydown=!0);if(32==s)if("checkbox"==i.editcell.columntype)if((p=i.getcolumn(i.editcell.datafield)).editable){r=!i.getcellvalue(i.editcell.row,i.editcell.column);if(p.cellbeginedit)if(0==p.cellbeginedit(i.editcell.row,p.datafield,p.columntype,!r))return!1;n=i.getrowdata(i.editcell.row);return i.setcellvalue(i.editcell.row,i.editcell.column,r,!0),i._raiseEvent(18,{rowindex:i.editcell.row,row:n,datafield:i.editcell.column,oldvalue:!r,value:r,columntype:"checkbox"}),!1}if(9==s){var v=this.editcell.row,x=c=this.editcell.column,b=(u=i._getcolumnindex(c),!1),w=i.getrowvisibleindex(v);this.editchar="";var y=this.editcell.validated;if(!this.editcell.validated)y=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1);if(0!=y){if(t.shiftKey)if(p=i._getpreveditablecolumn(u))c=p.datafield,b=!0,-1!=i.selectionmode.indexOf("cell")&&(i.selectprevcell(v,x),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(w,c)},10));else{var _=i._getlastvisiblecolumn();b=!0,c=_.displayfield,v--,-1!=i.selectionmode.indexOf("cell")&&(i.clearselection(),i.selectcell(v,c),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(w,c)},10))}else if(p=i._getnexteditablecolumn(u))c=p.datafield,b=!0,-1!=i.selectionmode.indexOf("cell")&&(i.selectnextcell(v,x),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(w,c)},10));else{var j=i._getfirstvisiblecolumn();b=!0,c=j.displayfield,v++,-1!=i.selectionmode.indexOf("cell")&&(i.clearselection(),i.selectcell(v,c),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(w,c)},10))}if(!b)return null!=this.editcell&&(i.endcelledit(v,c,!1),this._renderrows(this.virtualsizeinfo)),!0;i.begincelledit(v,c),null!=this.editcell&&"checkbox"==this.editcell.columntype&&this._renderrows(this.virtualsizeinfo)}return!1}if(13==s){var q=this.selectedcell;if(q)var S=this.getrowvisibleindex(q.rowindex);if(this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),"multiplecellsadvanced"==this.selectionmode)if(null!=(T=i.getselectedcell())&&i.selectcell&&null==this.editcell&&T.rowindex+1<this.dataview.totalrecords)if(this.sortcolumn!=T.datafield){w=this.getrowvisibleindex(T.rowindex);if((D=this.dataview.loadedrecords[w+1])&&(!this.pageable||this.pageable&&w+1<(this.dataview.pagenum+1)*this.pagesize)){this.clearselection(!1),this.selectcell(this.getboundindex(D),T.datafield);var T=this.getselectedcell();this.ensurecellvisible(D.visibleindex,T.datafield)}}else{if(null!=q)if(C=this.dataview.loadedrecords[S+1])if(!this.pageable||this.pageable&&S+1<this.pagesize)this.clearselection(!1),this.selectcell(this.getboundindex(C),T.datafield);else if(this.pageable&&S+1>=this.pagesize){this.clearselection(!1);var C=this.dataview.loadedrecords[S];this.selectcell(this.getboundindex(C),T.datafield)}}return!1}if(27==s)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{var I=!1;if(113==s&&(I=!0),!t.ctrlKey&&!t.altKey&&!t.metaKey){if(s>=48&&s<=57&&(this.editchar=String.fromCharCode(s),I=!0),189===s&&(I=!0),s>=65&&s<=90){this.editchar=String.fromCharCode(s);var k=!1;t.shiftKey?k=t.shiftKey:t.modifiers&&(k=!!(4&t.modifiers)),this._capsLock&&(k=!k),k||(this.editchar=this.editchar.toLowerCase()),I=!0}else s>=96&&s<=105&&(this.editchar=s-96,this.editchar=this.editchar.toString(),I=!0);var P=e(".jqx-grid").length;I=I&&(1==P||P>1&&i.focused);var M=e.data(document.body,"jqxgrid.edit");if(void 0!==M&&""!==M&&(13===s||I)&&M!=i.element.id)return!0}if((13==s||I)&&i.getselectedrowindex){v=i.getselectedrowindex();if("selectedrow"===i.editmode){if(!(v>=0)){if(null!=(T=i.getselectedcell())){var p=i._getcolumnbydatafield(T.datafield);i.beginrowedit(T.rowindex)}return!1}i.beginrowedit(v)}switch(i.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(v>=0){c="";for(var N=0;N<i.columns.records.length;N++){if((p=i.getcolumnat(N)).editable){c=p.datafield;break}}"selectedrow"===i.editmode?i.beginrowedit(v):i.begincelledit(v,c)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":if(null!=(T=i.getselectedcell())){p=i._getcolumnbydatafield(T.datafield);"selectedrow"===i.editmode?i.beginrowedit(T.rowindex):"checkbox"!=p.columntype&&i.begincelledit(T.rowindex,T.datafield)}break;case"multiplecellsadvanced":var D;if(null!=(T=i.getselectedcell()))if(13==s){if(i.selectcell)if((w=this.getrowvisibleindex(T.rowindex))+1<i.dataview.totalrecords)if(D=this.dataview.loadedrecords[w+1]){this.clearselection(!1),this.selectcell(this.getboundindex(D),T.datafield);var T=this.getselectedcell();this.ensurecellvisible(D.visibleindex,T.datafield)}}else"selectedrow"!==i.editmode&&i.begincelledit(T.rowindex,T.datafield)}return!1}if(46==s){var B=i.getselectedcells();if(-1==i.selectionmode.indexOf("cell")&&i._getcellsforcopypaste&&(B=i._getcellsforcopypaste()),null!=B&&B.length>0){for(var O=0;O<B.length;O++){if((T=B[O]).datafield){p=i.getcolumn(T.datafield);var A=i.getcellvalue(T.rowindex,T.datafield);if(""!==A&&p.editable&&i.enablekeyboarddelete){var H=null;if("checkbox"==p.columntype&&(p.threestatecheckbox||(H=!1)),p.cellbeginedit)if(0==p.cellbeginedit(T.rowindex,p.datafield,p.columntype,H))return!1;n=i.getrowdata(T.rowindex);if(i._raiseEvent(17,{rowindex:T.rowindex,row:n,datafield:T.datafield,value:A}),O==B.length-1?(i.setcellvalue(T.rowindex,T.datafield,H,!0),p.displayfield!=p.datafield&&i.setcellvalue(T.rowindex,p.displayfield,H,!0)):(i.setcellvalue(T.rowindex,T.datafield,H,!1),p.displayfield!=p.datafield&&i.setcellvalue(T.rowindex,p.displayfield,H,!0)),p.cellendedit)p.cellendedit(T.rowindex,p.datafield,p.columntype,H);i._raiseEvent(18,{rowindex:T.rowindex,row:n,datafield:T.datafield,oldvalue:A,value:H})}}}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}}if(32==s)if(null!=(T=i.getselectedcell()))if("checkbox"==(p=i.getcolumn(T.datafield)).columntype&&p.editable){r=!i.getcellvalue(T.rowindex,T.datafield);if(p.cellbeginedit)if(0==p.cellbeginedit(T.rowindex,p.datafield,p.columntype,!r))return!1;n=i.getrowdata(T.rowindex);return i._raiseEvent(17,{rowindex:T.rowindex,row:n,datafield:T.datafield,value:!r,columntype:"checkbox"}),i.setcellvalue(T.rowindex,T.datafield,r,!0),i._raiseEvent(18,{rowindex:T.rowindex,row:n,datafield:T.datafield,oldvalue:!r,value:r,columntype:"checkbox"}),!1}}return!0},begincelledit:function(t,i,s,r,n){var o=this.getcolumn(i);if(this._cellscache=new Array,null!=i&&"number"!=o.columntype&&"button"!=o.columntype&&!o.createwidget){if(this.groupable){if(this.groups.indexOf(i)>=0)return;if(this.groups.indexOf(o.displayfield)>=0)return}if(null==this.editrow){if(this.editcell){if(this.editcell.row==t&&this.editcell.column==i)return!0;if("selectedrow"===this.editmode&&this.editcell.row==t)return;if(0==this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1))return}var a="checkbox"==o.columntype||"button"==o.columntype||o.createwidget;if(this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),o.editable){if(o.cellbeginedit){var l=this.getcell(t,i);if(0==o.cellbeginedit(t,i,o.columntype,null!=l?l.value:null))return}var h=this.getrowvisibleindex(t);if(this.editcell=this.getcell(t,i),this.editcell&&(this.editcell.visiblerowindex=h,!this.editcell.editing)){if(a||(this.editcell.editing=!0),this.editcell.columntype=o.columntype,this.editcell.defaultvalue=s,null!=o.defaultvalue&&(this.editcell.defaultvalue=o.defaultvalue),this.editcell.init=!0,"checkbox"!=o.columntype&&"selectedrow"!=this.editmode){var d=this.getrowdata(t);this._raiseEvent(17,{rowindex:t,row:d,datafield:o.datafield,value:this.editcell.value,columntype:o.columntype})}if(e.data(document.body,"jqxgrid.edit",this.element.id),!a){var c=this.getrowvisibleindex(t);!1!==r&&(this.autorowheight||this.ensurecellvisible(c,o.datafield)),!1!==n&&this._renderrows(this.virtualsizeinfo)}if(this.editcell)return this.editcell.init=!1,!0}}else{if(!this.editcell)return;this.editcell.editor=null,this.editcell.editing=!1,!1!==n&&this._renderrows(this.virtualsizeinfo),this.editcell=null}}}},getScrollTop:function(){if(this._py)return pageYOffset;if(this._py="undefined"!=typeof pageYOffset,this._py)return pageYOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollTop},getScrollLeft:function(){if("undefined"!=typeof pageXOffset)return pageXOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollLeft},endcelledit:function(t,i,s,r,n){if(null!=t&&null!=i||(this.editcell&&(t=this.editcell.row,i=this.editcell.column),null==s&&(s=!0)),this.editcell){var o=this.getcolumn(i),a=this;if("selectedrow"!==a.editmode){var l=function(){if(0!=n){if(a.isTouchDevice())return;if(!a.isNestedGrid){var e=a.getScrollTop(),t=a.getScrollLeft();try{a.element.focus(),a.content.focus(),e!=a.getScrollTop()&&window.scrollTo(t,e),setTimeout(function(){a.element.focus(),a.content.focus(),e!=a.getScrollTop()&&window.scrollTo(t,e)},10)}catch(e){}}}};if("checkbox"==o.columntype||"button"==o.columntype||o.createwidget)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;var h=this._geteditorvalue(o),d=function(e){if(e._hidecelleditor(),o.cellendedit&&o.cellendedit(t,i,o.columntype,e.editcell.value,h),e.editchar=null,o.displayfield!=o.datafield){var s=e.getcellvalue(e.editcell.row,o.displayfield),n=e.editcell.value;oldvalue={value:n,label:s}}else oldvalue=e.editcell.value;var a=e.getrowdata(t);e._raiseEvent(18,{rowindex:t,row:a,datafield:i,displayfield:o.displayfield,oldvalue:h,value:h,columntype:o.columntype}),e.editcell.editor=null,e.editcell.editing=!1,e.editcell=null,(r||null==r)&&e._renderrows(e.virtualsizeinfo),l(),e.enablebrowserselection||(e.host.addClass("jqx-disableselect"),e.content.addClass("jqx-disableselect"))};if(s)return d(this),!1;if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),o.cellvaluechanging){var c=o.cellvaluechanging(t,i,o.columntype,this.editcell.value,h);null!=c&&(h=c)}if(o.validation){var u=this.getcell(t,i);try{var p=o.validation(u,h),f=this.gridlocalization.validationstring;if(null!=p.message&&(f=p.message),!("boolean"==typeof p?p:p.result))return null!=p.showmessage&&1!=p.showmessage||this._showvalidationpopup(t,i,f),this.editcell.validated=!1,!1}catch(e){return this._showvalidationpopup(t,i,this.gridlocalization.validationstring),this.editcell.validated=!1,!1}}if(o.displayfield!=o.datafield){var m=this.getcellvalue(this.editcell.row,o.displayfield),g=this.editcell.value;oldvalue={value:g,label:m}}else oldvalue=this.editcell.value;var v=this.getrowdata(t);if(o.cellendedit)if(0==o.cellendedit(t,i,o.columntype,this.editcell.value,h))return this._raiseEvent(18,{rowindex:t,row:v,datafield:i,displayfield:o.displayfield,oldvalue:oldvalue,value:oldvalue,columntype:o.columntype}),d(this),!1;return this._raiseEvent(18,{rowindex:t,row:v,datafield:i,displayfield:o.displayfield,oldvalue:oldvalue,value:h,columntype:o.columntype}),this._hidecelleditor(!1),null!=this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.setcellvalue(t,i,h,r),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),e.jqx.browser.msie||l(),e.data(document.body,"jqxgrid.edit",""),!0}this.endrowedit(t,s)}},beginrowedit:function(t){var i=this;i._oldselectedrow=t,this._cellscache=new Array;var s=!1;if("selectedrow"!=this.editmode&&(s=!0),s){var r=this.editmode;this.editmode="selectedrow"}var n=null;e.each(this.columns.records,function(e,s){if(i.editable&&this.editable){if("checkbox"===this.columntype||"custom"===this.columntype||"widget"===this.columntype||"template"===this.columntype||"button"===this.columntype)return!0;n||(n=this.datafield);var r=i.getcell(t,this.datafield);i.begincelledit(t,this.datafield,null,!1,!1);var o=i.getrowdata(t);i._raiseEvent(17,{rowindex:t,row:o,datafield:this.datafield,value:r.value,columntype:this.columntype})}}),i.editcell&&(i.editcell.init=!0),this._renderrows(this.virtualsizeinfo),s&&(this.editmode=r),n&&i.editcell&&setTimeout(function(){if(i.editcell&&i.editcell[n]){var e=i.editcell[n].editor;e&&(e.data().jqxWidget&&e.data().jqxWidget.focus?e.data().jqxWidget.focus():e.focus())}},25)},endrowedit:function(t,i){var s=this;if(this._currentEditableColumn=0,this._focusedColumn=null,this._currentColumn=null,this._checkboxCells=[],!this.editcell)return!1;if(null==this.editcell.editor&&"checkbox"!==this.editcell.columntype)return!1;var r=!1;if("selectedrow"!=this.editmode&&(r=!0),r){var n=this.editmode;this.editmode="selectedrow"}var o=!1,a={};this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());for(var l=0;l<this.columns.records.length;l++){if((y=this.columns.records[l]).editable&&(!y.hidden&&"checkbox"!=y.columntype&&!y.createwidget)){var h=this._geteditorvalue(y),d=function(e){e._hidecelleditor();var i=e.getcellvalue(e.editcell.row,y.displayfield);if(y.cellendedit&&y.cellendedit(t,p,y.columntype,i,h),e.editchar=null,y.displayfield!=y.datafield){var s=e.getcellvalue(e.editcell.row,y.displayfield);c={value:i,label:s}}else c=i;var r=e.getrowdata(t);e._raiseEvent(18,{rowindex:t,row:r,datafield:p,displayfield:y.displayfield,oldvalue:i,value:i,columntype:y.columntype}),e.editcell.editing=!1};if(i)d(this);else{if(y.cellvaluechanging){var c=this.getcellvalue(this.editcell.row,y.displayfield),u=y.cellvaluechanging(t,p,y.columntype,c,h);null!=u&&(h=u)}var p=y.datafield;if(y.validation){var f=this.getcell(t,y.datafield);try{var m=y.validation(f,h),g=this.gridlocalization.validationstring;if(null!=m.message&&(g=m.message),!(q="boolean"==typeof m?m:m.result)){null!=m.showmessage&&1!=m.showmessage||this._showvalidationpopup(t,p,g),o=!0,this.editcell[y.datafield].validated=!1;continue}}catch(e){this._showvalidationpopup(t,p,this.gridlocalization.validationstring),this.editcell[y.datafield].validated=!1,o=!0;continue}}if(y.displayfield!=y.datafield){var v=this.getcellvalue(this.editcell.row,y.displayfield),x=this.editcell.value;c={value:x,label:v}}else c=this.getcellvalue(this.editcell.row,y.displayfield);a[y.datafield]={newvalue:h,oldvalue:c}}}}var b={},w={};if(!o){this._hidecelleditor(!1);for(l=0;l<this.columns.records.length;l++){var y;p=(y=this.columns.records[l]).datafield;if(!y.hidden&&y.editable){var _=this.getrowdata(t);if(!y.createwidget)if("checkbox"!=y.columntype){if(a[y.datafield]){h=a[y.datafield].newvalue,c=a[y.datafield].oldvalue;if(y.cellendedit)if(0==y.cellendedit(t,p,y.columntype,c,h)){this._raiseEvent(18,{rowindex:t,row:_,datafield:p,displayfield:y.displayfield,oldvalue:c,value:c,columntype:y.columntype}),d(this);continue}this.source.updaterow||this._raiseEvent(18,{rowindex:t,row:_,datafield:y.datafield,displayfield:y.displayfield,oldvalue:c,value:h,columntype:y.columntype}),b[y.datafield]=h,w[y.datafield]=c}}else{var h=this.getcellvalue(t,y.displayfield);this._raiseEvent(18,{rowindex:t,row:_,datafield:y.datafield,displayfield:y.displayfield,oldvalue:h,value:h,columntype:y.columntype})}}}var j=this.getrowid(t);_=this.getrowdata(t);if(e.each(b,function(e,t){if(t&&null!=t.label){var i=s.getcolumn(e);_[i.displayfield]=t.label,_[i.datafield]=t.value}else _[e]=t}),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),e.data(document.body,"jqxgrid.edit",""),this.editcell=null,this.editchar=null,this.source.updaterow&&!i){s=this;var q=function(i){var r=s.source.updaterow;s.source.updaterow=null,0==i?(e.each(w,function(e,t){if(t&&null!=t.label){var i=s.getcolumn(e);_[i.displayfield]=t.label,_[i.datafield]=t.value}else _[e]=t}),s.updaterow(j,_)):s.updaterow(j,_);for(var n=0;n<s.columns.records.length;n++){var o=s.columns.records[n];o.datafield;s._raiseEvent(18,{rowindex:t,datafield:o.datafield,row:_,displayfield:o.displayfield,oldvalue:w[o.datafield],value:_[o.displayfield],columntype:o.columntype})}s.source.updaterow=r};try{null==this.source.updaterow(j,_,q)&&!0}catch(e){return void!1}}else i||this.updaterow(j,_),this._renderrows(this.virtualsizeinfo)}return r&&(this.editmode=n),o},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var s=document.selection.createRange();if(null==s)return{start:0,end:t.value.length,length:0};var r=e[0].createTextRange(),n=r.duplicate();r.moveToBookmark(s.getBookmark()),n.setEndPoint("EndToStart",r);i=s.text.length;return{start:n.text.length,end:n.text.length+s.text.length,length:i,text:s.text}},_setSelection:function(e,t,i){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(e,t);else{var s=i[0].createTextRange();s.collapse(!0),s.moveEnd("character",t),s.moveStart("character",e),s.select()}},findRecordIndex:function(e,t,i){i=i;if(t)for(var s=i.length,r=0;r<s;r++){if(e==i[r].label)return r}return-1},_destroyeditors:function(){var t=this;this.columns.records&&(e.each(this.columns.records,function(i,s){var r=e.trim(this.datafield).split(" ").join("");switch(this.columntype){case"dropdownlist":var n=t.editors["dropdownlist_"+r];n&&(n.jqxDropDownList("destroy"),t.editors["dropdownlist_"+r]=null);break;case"combobox":var o=t.editors["combobox_"+r];o&&(o.jqxComboBox("destroy"),t.editors["combobox_"+r]=null);break;case"datetimeinput":var a=t.editors["datetimeinput_"+this.datafield];a&&(a.jqxDateTimeInput("destroy"),t.editors["datetimeinput_"+r]=null);break;case"numberinput":var l=t.editors["numberinput_"+r];l&&(l.jqxNumberInput("destroy"),t.editors["numberinput_"+r]=null);break;case"custom":case"template":if(t.destroyeditor&&t.editors["templateeditor_"+r]&&(t.destroyeditor(t.editors["templateeditor_"+r]),t.editors["templateeditor_"+r]=null),t.destroyeditor)for(var h=t.getrows.length(),d=0;d<h;d++)t.editors["customeditor_"+r+"_"+d]&&(t.destroyeditor(t.editors["customeditor_"+r+"_"+d],d),t.editors["customeditor_"+r+"_"+d]=null);break;case"textbox":default:var c=t.editors["textboxeditor_"+r];c&&(t.removeHandler(c,"keydown"),t.editors["textbox_"+r]=null)}}),t.editors=new Array)},_showcelleditor:function(t,i,s,r,n){if(null!=s&&null!=this.editcell)if("checkbox"==i.columntype&&i.editable)"selectedrow"==this.editmode&&(this._checkboxCells||(this._checkboxCells=[]),this._checkboxCells[i.datafield]=s);else{null==n&&(n=!0),"selectedrow"==this.editmode&&(this.editchar="",n=!1);var o=i.datafield,a=e(s),l=this,h=this.editcell.editor,d=this.getcellvalue(t,o),c=this.getcelltext(t,o),u=this.hScrollInstance.value,p=parseInt(u);this.columns.records.indexOf(i);if(this.editcell.element=s,0==this.editcell.validated){var f="";this.validationpopup&&(f=this.validationpopup.text()),this._showvalidationpopup(t,o,f)}var m=function(e){l.hScrollInstance.isScrolling()||l.vScrollInstance.isScrolling()||n&&(l.isTouchDevice()||(e&&e.focus(),0!=l.gridcontent[0].scrollTop&&(l.scrolltop(Math.abs(l.gridcontent[0].scrollTop)),l.gridcontent[0].scrollTop=0),0!=l.gridcontent[0].scrollLeft&&(l.gridcontent[0].scrollLeft=0)))};switch(i.columntype){case"dropdownlist":if(this.host.jqxDropDownList){s.innerHTML="";var g=e.trim(i.datafield).split(" ").join(""),v=e.trim(i.displayfield).split(" ").join("");-1!=g.indexOf(".")&&(g=g.replace(".","")),-1!=v.indexOf(".")&&(v=v.replace(".",""));var x=this.editors["dropdownlist_"+g];if((h=null==x?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):x).css("top",e(s).parent().position().top),this.oldhscroll?h.css("left",-p+parseInt(e(s).position().left)):h.css("left",parseInt(e(s).position().left)),i.pinned&&h.css("left",p+parseInt(e(s).position().left)),null==x){h.prependTo(this.table),h[0].id="dropdownlisteditor"+this.element.id+g;var b=null;if(!!this.source._source){var w={localdata:this.source.records,datatype:this.source.datatype,async:!1};b=new e.jqx.dataAdapter(w,{autoBind:!1,async:!1,uniqueDataFields:[v],autoSort:!0,autoSortField:v})}else b=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[v],async:!1,autoSort:!0,autoSortField:v});var y=!i.createeditor;h.jqxDropDownList({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:b,rtl:this.rtl,autoDropDownHeight:y,theme:this.theme,width:a.width()-2,height:a.height()-2,displayMember:v,valueMember:o}),this.editors["dropdownlist_"+g]=h,i.createeditor&&i.createeditor(t,d,h)}i._requirewidthupdate&&h.jqxDropDownList({width:a.width()-2});var _=h.jqxDropDownList("listBox").visibleItems;i.createeditor||(_.length<8?h.jqxDropDownList("autoDropDownHeight",!0):h.jqxDropDownList("autoDropDownHeight",!1));d=this.getcellvalue(t,v);var j=this.findRecordIndex(d,v,_);if(r&&(""!=d?h.jqxDropDownList("selectIndex",j,!0):h.jqxDropDownList("selectIndex",-1)),!this.editcell)return;null!=this.editcell.defaultvalue&&h.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0),n&&h.jqxDropDownList("focus")}break;case"combobox":if(this.host.jqxComboBox){s.innerHTML="";g=e.trim(i.datafield).split(" ").join(""),v=e.trim(i.displayfield).split(" ").join("");-1!=g.indexOf(".")&&(g=g.replace(".","")),-1!=v.indexOf(".")&&(v=v.replace(".",""));var q=this.editors["combobox_"+g];if((h=null==q?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"):q).css("top",e(s).parent().position().top),this.oldhscroll?h.css("left",-p+parseInt(e(s).position().left)):h.css("left",parseInt(e(s).position().left)),i.pinned&&h.css("left",p+parseInt(e(s).position().left)),null==q){h.prependTo(this.table),h[0].id="comboboxeditor"+this.element.id+g;b=null;if(!!this.source._source){w={localdata:this.source.records,datatype:this.source.datatype,async:!1};b=new e.jqx.dataAdapter(w,{autoBind:!1,async:!1,uniqueDataFields:[v],autoSort:!0,autoSortField:v})}else b=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[v],async:!1,autoSort:!0,autoSortField:v});y=!i.createeditor;h.jqxComboBox({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:b,rtl:this.rtl,autoDropDownHeight:y,theme:this.theme,width:a.width()-2,height:a.height()-2,displayMember:v,valueMember:o}),h.removeAttr("tabindex"),h.find("div").removeAttr("tabindex"),this.editors["combobox_"+g]=h,i.createeditor&&i.createeditor(t,d,h)}i._requirewidthupdate&&h.jqxComboBox({width:a.width()-2});_=h.jqxComboBox("listBox").visibleItems;i.createeditor||(_.length<8?h.jqxComboBox("autoDropDownHeight",!0):h.jqxComboBox("autoDropDownHeight",!1));d=this.getcellvalue(t,v),j=this.findRecordIndex(d,v,_);if(r&&(""!=d?(h.jqxComboBox("selectIndex",j,!0),h.jqxComboBox("val",d)):(h.jqxComboBox("selectIndex",-1),h.jqxComboBox("val",d))),!this.editcell)return;null!=this.editcell.defaultvalue&&h.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0),this.editchar&&this.editchar.length>0&&h.jqxComboBox("input").val(this.editchar),n&&setTimeout(function(){if(m(h.jqxComboBox("input")),h)if(h.jqxComboBox("_setSelection",0,0),l.editchar)h.jqxComboBox("_setSelection",1,1),l.editchar=null;else if(h.jqxComboBox("input")){var e=h.jqxComboBox("input").val();h.jqxComboBox("_setSelection",0,e.length)}},10)}break;case"datetimeinput":if(this.host.jqxDateTimeInput){s.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""));var S=this.editors["datetimeinput_"+g];if((h=null==S?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):S).show(),h.css("top",e(s).parent().position().top),this.oldhscroll?h.css("left",-p+parseInt(e(s).position().left)):h.css("left",parseInt(e(s).position().left)),i.pinned&&h.css("left",p+parseInt(e(s).position().left)),null==S){h.prependTo(this.table),h[0].id="datetimeeditor"+this.element.id+g;var T={calendar:this.gridlocalization};h.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,enableBrowserBoundsDetection:!0,localization:T,_editor:!0,theme:this.theme,rtl:this.rtl,width:a.width(),height:a.height(),formatString:i.cellsformat}),this.editors["datetimeinput_"+g]=h,i.createeditor&&i.createeditor(t,d,h)}if(i._requirewidthupdate&&h.jqxDateTimeInput({width:a.width()-2}),r){if(""!=d&&null!=d){var C=new Date(d);"Invalid Date"==C&&this.source.getvaluebytype&&(C=this.source.getvaluebytype(d,{name:i.datafield,type:"date"})),h.jqxDateTimeInput("setDate",C)}else h.jqxDateTimeInput("setDate",null);null!=this.editcell.defaultvalue&&h.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}if(n){var I=this.editEvent;setTimeout(function(){m(h.jqxDateTimeInput("dateTimeInput")),setTimeout(function(){if(h.jqxDateTimeInput("_selectGroup",0),l.editchar&&l.editchar.length>0){var e=parseInt(l.editchar);if(!isNaN(e)&&I){var t=I.charCode?I.charCode:I.keyCode?I.keyCode:0;h.jqxDateTimeInput("_handleKeyPress",I,t)}}},25)},10)}}break;case"numberinput":if(this.host.jqxNumberInput){s.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""));var k=this.editors["numberinput_"+g];if((h=null==k?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):k).show(),h.css("top",e(s).parent().position().top),this.oldhscroll?h.css("left",-p+parseInt(e(s).position().left)):h.css("left",parseInt(e(s).position().left)),i.pinned&&h.css("left",p+parseInt(e(s).position().left)),null==k){h.prependTo(this.table),h[0].id="numbereditor"+this.element.id+g;var P="",M="left",N=2;i.cellsformat?-1!=i.cellsformat.indexOf("c")?(P=this.gridlocalization.currencysymbol,M="before"==(M=this.gridlocalization.currencysymbolposition)?"left":"right",i.cellsformat.length>1&&(N=parseInt(i.cellsformat.substring(1),10))):-1!=i.cellsformat.indexOf("p")&&(P=this.gridlocalization.percentsymbol,M="right",i.cellsformat.length>1&&(N=parseInt(i.cellsformat.substring(1),10))):N=0,h.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:N,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:a.width()-1,height:a.height()-1,spinButtons:!0,symbol:P,symbolPosition:M}),this.editors["numberinput_"+g]=h,i.createeditor&&i.createeditor(t,d,h)}if(i._requirewidthupdate&&h.jqxNumberInput({width:a.width()-2}),r){if(""!=d&&null!=d){var D=d;h.jqxNumberInput("setDecimal",D)}else h.jqxNumberInput("setDecimal",0);if(null!=this.editcell.defaultvalue&&h.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&this.editchar.length>0){var B=parseInt(this.editchar);isNaN(B)||h.jqxNumberInput("setDecimal",B)}n&&setTimeout(function(){if(m(h.jqxNumberInput("numberInput")),h.jqxNumberInput("_setSelectionStart",0),l.editchar)i.cellsformat.length>0?h.jqxNumberInput("_setSelectionStart",2):h.jqxNumberInput("_setSelectionStart",1),l.editchar=null;else{if(h.jqxNumberInput("spinButtons")){var e=h.jqxNumberInput("numberInput").val();l._setSelection(h.jqxNumberInput("numberInput")[0],e.length,e.length)}else{e=h.jqxNumberInput("numberInput").val();l._setSelection(h.jqxNumberInput("numberInput")[0],0,e.length)}h.jqxNumberInput("selectAll")}},10)}}break;case"custom":s.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""));var O=this.editors["customeditor_"+g+"_"+t];if((h=null==O?e("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"):O).show(),h.css("top",e(s).parent().position().top),this.oldhscroll?h.css("left",-p+parseInt(e(s).position().left)):h.css("left",parseInt(e(s).position().left)),i.pinned&&h.css("left",p+parseInt(e(s).position().left)),null==O){h.prependTo(this.table),h[0].id="customeditor"+this.element.id+g+"_"+t,this.editors["customeditor_"+g+"_"+t]=h;var A=a.width()-1,H=a.height()-1;h.width(A),h.height(H),i.createeditor&&i.createeditor(t,d,h,c,A,H,this.editchar)}i._requirewidthupdate&&h.width(a.width()-2);break;case"template":s.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""));var E=this.editors["templateeditor_"+g];if((h=null==E?e("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"):E).show(),h.css("top",e(s).parent().position().top),this.oldhscroll?h.css("left",-p+parseInt(e(s).position().left)):h.css("left",parseInt(e(s).position().left)),i.pinned&&h.css("left",p+parseInt(e(s).position().left)),null==E){h.prependTo(this.table),h[0].id="templateeditor"+this.element.id+g,this.editors["templateeditor_"+g]=h;A=a.width()-1,H=a.height()-1;h.width(A),h.height(H),i.createeditor&&i.createeditor(t,d,h,c,A,H,this.editchar)}i._requirewidthupdate&&h.width(a.width()-2);break;case"textbox":default:s.innerHTML="",(h=this.editors["textboxeditor_"+i.datafield]||e("<input autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>"))[0].id="textboxeditor"+this.element.id+i.datafield,h.appendTo(a),this.rtl&&h.css("direction","rtl"),(r||""==h[0].className)&&(h.addClass(this.toThemeProperty("jqx-input")),h.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&this.editchar.length>0?h.val(this.editchar):(""!=i.cellsformat&&(d=this.getcelltext(t,o)),null==d&&(d=""),h.val(d)),null!=this.editcell.defaultvalue&&h.val(this.editcell.defaultvalue),h.width(a.width()+1),h.height(a.height()+1),i.createeditor&&i.createeditor(t,d,h),""!=i.cellsformat&&(-1==i.cellsformat.indexOf("p")&&-1==i.cellsformat.indexOf("c")&&-1==i.cellsformat.indexOf("n")&&-1==i.cellsformat.indexOf("f")||this.editors["textboxeditor_"+i.datafield]||h.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,s=String.fromCharCode(t),r=parseInt(s);if(isNaN(r))return!0;if(l._selection(h).length>0)return!0;var n="",o=h.val();if(i.cellsformat.length>1){var a=parseInt(i.cellsformat.substring(1));isNaN(a)&&(a=0)}else a=0;if(a>0&&-1!=o.indexOf(l.gridlocalization.decimalseparator)&&l._selection(h).start>o.indexOf(l.gridlocalization.decimalseparator))return!0;for(var d=0;d<o.length-a;d++){var c=o.substring(d,d+1);null!=c.match(/^[0-9]+$/)&&(n+=c)}return!(n.length>=11)&&void 0}))),this.editors["textboxeditor_"+i.datafield]=h,r&&n&&setTimeout(function(){m(h),l.editchar?(l._setSelection(h[0],1,1),l.editchar=null):l._setSelection(h[0],0,h.val().length)},25)}h&&(h[0].style.zIndex=1+parseInt(s.style.zIndex),e.jqx.browser.msie&&e.jqx.browser.version<8&&(h[0].style.zIndex=1+this.columns.records.length+s.style.zIndex),h.css("display","block"),this.editcell.editor=h,this.editcell[o]?this.editcell[o].editor=h:(this.editcell[o]={},this.editcell[o].editor=h)),r&&i.initeditor&&i.initeditor(t,d,h,c,this.editchar),l.isTouchDevice()||setTimeout(function(){l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.gridcontent&&(l.gridcontent[0].scrollLeft=0,l.gridcontent[0].scrollTop=0)},10)}},_setSelection:function(e,t,i){try{if("selectionStart"in e)e.setSelectionRange(t,i);else{var s=e.createTextRange();s.collapse(!0),s.moveEnd("character",i),s.moveStart("character",t),s.select()}}catch(e){}},_hideeditors:function(){if(null!=this.editcells){for(var e in this.editcells)this.editcell=this.editcells[e],this._hidecelleditor()}},_hidecelleditor:function(e){if(this.editcell)if("selectedrow"!==this.editmode){if("checkbox"!=this.editcell.columntype){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0}),this.editcell.editor.jqxDropDownList("hideListBox"),this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0}),this.editcell.editor.jqxComboBox("hideListBox"),this.editcell.editor.jqxComboBox({closeDelay:300});break;case"datetimeinput":var t=this.editcell.editor;t.jqxDateTimeInput("isOpened")&&(t.jqxDateTimeInput({closeDelay:0}),t.jqxDateTimeInput("hideCalendar"),t.jqxDateTimeInput({closeDelay:300}))}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),this.isNestedGrid||0!=e&&this.element.focus()}}else{for(var i=0;i<this.columns.records.length;i++){var s=this.columns.records[i];if(this.editcell[s.datafield]&&this.editcell[s.datafield].editor){this.editcell[s.datafield].editor.hide();var r=this.editcell[s.datafield].editor;switch(s.columntype){case"dropdownlist":r.jqxDropDownList({closeDelay:0}),r.jqxDropDownList("hideListBox"),r.jqxDropDownList({closeDelay:300});break;case"combobox":r.jqxComboBox({closeDelay:0}),r.jqxComboBox("hideListBox"),r.jqxComboBox({closeDelay:300});break;case"datetimeinput":r.jqxDateTimeInput("isOpened")&&(r.jqxDateTimeInput({closeDelay:0}),r.jqxDateTimeInput("hideCalendar"),r.jqxDateTimeInput({closeDelay:300}))}}}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide())}},_geteditorvalue:function(t){var i=new String;if(!this.editcell)return null;var s=this.editcell.editor;if("selectedrow"==this.editmode&&this.editcell[t.datafield])s=this.editcell[t.datafield].editor;if(s){switch(t.columntype){case"textbox":default:if(i=s.val(),""!=t.cellsformat){var r="string",n=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(n){var o="";e.each(n,function(){if(this.name==t.displayfield)return this.type&&(o=this.type),!1}),o&&(r=o)}var a="date"===r||"time"===r;if("number"===r||"float"===r||"int"===r||"integer"===r||"string"===r&&(-1!=t.cellsformat.indexOf("p")||-1!=t.cellsformat.indexOf("c")||-1!=t.cellsformat.indexOf("n")||-1!=t.cellsformat.indexOf("f"))){if(""===i&&t.nullable)return"";i.indexOf(this.gridlocalization.currencysymbol)>-1&&(i=i.replace(this.gridlocalization.currencysymbol,""));var l=i;if(l=new Number(l),!isNaN(l))return l;(i=(i=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(i,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(i=i.replace(this.gridlocalization.percentsymbol,""));for(var h="",d=0;d<i.length;d++){var c=i.substring(d,d+1);"-"===c&&(h+="-"),"."===c&&(h+="."),null!=c.match(/^[0-9]+$/)&&(h+=c)}i=(i=h).replace(/ /g,""),i=new Number(i),isNaN(i)&&(i="")}if(a||"string"===r&&(-1!=t.cellsformat.indexOf("H")||-1!=t.cellsformat.indexOf("m")||-1!=t.cellsformat.indexOf("M")||-1!=t.cellsformat.indexOf("y")||-1!=t.cellsformat.indexOf("h")||-1!=t.cellsformat.indexOf("d"))){if(""===i&&t.nullable)return"";var u=i;e.jqx.dataFormat&&(i=e.jqx.dataFormat.tryparsedate(u,this.gridlocalization)),"Invalid Date"!=i&&null!=i||(i="")}}t.displayfield!=t.datafield&&(i={label:i,value:i});break;case"checkbox":s.jqxCheckBox&&(i=s.jqxCheckBox("checked"));break;case"datetimeinput":if(s.jqxDateTimeInput){if(s.jqxDateTimeInput({isEditing:!1}),"none"!==s.jqxDateTimeInput("container").css("display")&&s.jqxDateTimeInput("close"),s.jqxDateTimeInput("_validateValue"),null==(i=s.jqxDateTimeInput("getDate")))return null;i=new Date(i.toString()),t.displayfield!=t.datafield&&(i={label:i,value:i})}break;case"dropdownlist":if(s.jqxDropDownList){var p=s.jqxDropDownList("selectedIndex"),f=s.jqxDropDownList("listBox").getVisibleItem(p);null==(i=t.displayfield!=t.datafield?f?{label:f.label,value:f.value}:"":f?f.label:"")&&(i="")}break;case"combobox":if(s.jqxComboBox){if(i=s.jqxComboBox("val"),t.displayfield!=t.datafield)null!=(f=s.jqxComboBox("getSelectedItem"))&&(i={label:f.label,value:f.value});null==i&&(i="")}break;case"numberinput":if(s.jqxNumberInput){this.touchdevice&&s.jqxNumberInput("_doTouchHandling");var m=s.jqxNumberInput("getDecimal");i=new Number(m),i=parseFloat(i),isNaN(i)&&(i=0),null===m&&(i=null),t.displayfield!=t.datafield&&(i={label:i,value:i})}}t.geteditorvalue&&(i="selectedrow"==this.editmode?t.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,t.datafield),s):t.geteditorvalue(this.editcell.row,this.editcell.value,s))}return i},hidevalidationpopups:function(){this.popups&&(e.each(this.popups,function(){this.validation.remove(),this.validationrow.remove()}),this.popups=new Array),this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(t,i,s){if(null==s)s=this.gridlocalization.validationstring;var r=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),n=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");r.html(s),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),r.addClass(this.toThemeProperty("jqx-grid-validation")),r.addClass(this.toThemeProperty("jqx-rc-all")),r.prependTo(this.table),n.prependTo(this.table);for(var o=this.hScrollInstance.value,a=parseInt(o),l=this.getcolumn(i).uielement,h=null,d=0;d<this.hittestinfo.length;d++)t===this.hittestinfo[d].row.visibleindex&&(h=this.hittestinfo[d]);if(!h){this.ensurerowvisible(t);var c=this;return r.remove(),n.remove(),void setTimeout(function(){for(var e=null,r=0;r<c.hittestinfo.length;r++)t===c.hittestinfo[r].row.visibleindex&&(e=c.hittestinfo[r]);e&&c.showvalidationpopup(t,i,s)},25)}var u=e(h.visualrow);r.css("top",parseInt(u.position().top)+30+"px");var p=parseInt(r.css("top"));n.css("top",p-12),n.removeClass(),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var f=!1;p>=this._gettableheight()&&(n.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),n.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(p=parseInt(u.position().top)-this.rowsheight-5)<0&&(p=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),f=!0),r.css("top",p+"px"),n.css("top",p+r.outerHeight()-9));var m=-a+parseInt(e(l).position().left);n.css("left",a+m+30);var g=r.width();g+m>this.host.width()-20&&(m-=g+m-this.host.width()+40);f?r.css("left",a+parseInt(e(l).position().left)-r.outerWidth()):r.css("left",a+m),r.show(),n.show(),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:r,validationrow:n}},_showvalidationpopup:function(t,i,s){var r=this.editcell,n=this.editcell.editor;"selectedrow"==this.editmode&&((r=this.editcell[i])&&r.editor&&(n=r.editor,r.element=n));if(n&&!(this.validationpopup&&e.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,void 0===i&&void 0===s&&this.editors&&0===this.editors.length))){if(this.validationpopup)this.validationpopup.html(s);else{var o=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),a=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");o.html(s),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation")),o.addClass(this.toThemeProperty("jqx-rc-all")),o.prependTo(this.table),a.prependTo(this.table),this.validationpopup=o,this.validationpopuparrow=a}var l=this.hScrollInstance.value,h=parseInt(l);"selectedrow"==this.editmode?this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.validationpopup.css("top",this.visiblerows[this.editcell.visiblerowindex].top+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(r.editor).position().top)+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(r.element).parent().position().top)+(this.rowsheight+5)+"px");var d=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",d-11),this.validationpopuparrow.removeClass(),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var c=!1;d>=this._gettableheight()&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),d=parseInt(e(r.element).parent().position().top)-this.rowsheight-5,"selectedrow"==this.editmode&&(d=this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5:parseInt(e(r.editor).position().top)-this.rowsheight-5),d<0&&(d=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),c=!0),this.validationpopup.css("top",d+"px"),this.validationpopuparrow.css("top",d+this.validationpopup.outerHeight()-9));var u=-h+parseInt(e(r.element).position().left);this.validationpopuparrow.css("left",h+u+30);var p=this.validationpopup.width();if(p+u>this.host.width()-20)u-=p+u-this.host.width()+40;c?this.validationpopup.css("left",h+parseInt(e(r.element).position().left)-this.validationpopup.outerWidth()):this.validationpopup.css("left",h+u),"none"==this.editcell.editor.css("display")?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_updatefilterrowui:function(t){var i=this.columns.records.length,s=0,r=this;if(this.filterrow){for(var n=0;n<i;n++){var o=this.columns.records[n],a=o.width;a<o.minwidth&&(a=o.minwidth),a>o.maxwidth&&(a=o.maxwidth);var l=e(this.filterrow[0].cells[n]);l.css("left",s);var h=!0;if(l.width()==a&&(h=!1),t&&(h=!0),l.width(a),l[0].left=s,o.hidden&&o.hideable?l.css("display","none"):s+=a,h)if(o.createfilterwidget&&"custom"==o.filtertype)o.createfilterwidget(o,l);else if(o.filterable){var d=function(t,i){var s=e(i.children()[0]);s.width(a-10),s.attr("disabled",t.disabled)};switch(o.filtertype){case"number":case"input":e(l.children()[0]).width(a),l.find("input").width(a-30),l.find("input").attr("disabled",r.disabled),e(l.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:r.theme,disabled:r.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?e(l.children()[0]).jqxDateTimeInput({theme:r.theme,disabled:r.disabled,width:a-10}):d(this,l);break;case"textbox":case"default":d(this,l);break;case"list":case"checkedlist":this.host.jqxDropDownList?e(l.children()[0]).jqxDropDownList({theme:r.theme,disabled:r.disabled,width:a-10}):d(this,l);break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({theme:r.theme,disabled:r.disabled}):d(this,l)}}}var c=e(this.filterrow.children()[0]);c.width(parseInt(s)+2),c.height(this.filterrowheight)}},clearfilterrow:function(t){if(this._disablefilterrow=!0,this.columns.records){for(var i=this.columns.records.length,s=0;s<i;s++){var r=this.columns.records[s],n=e(this.filterrow[0].cells[s]);if(("string"!=typeof t||r.displayfield==t)&&r.filterable){var o=function(t,i){var s=e(i.children()[0]);s.val(""),s[0]&&(t["_oldWriteText"+s[0].id]="")};switch(r.filtertype){case"number":case"input":if(n.find("input").val(""),this.host.jqxDropDownList){var a=e(e(e(n).children()[0]).children()[1]);a.jqxDropDownList("clearSelection");var l=0;if(0==l){this._getfiltersbytype("number"==r.filtertype?"number":"string");var h=(new e.jqx.filter).getoperatorsbyfiltertype("number"==r.filtertype?"numberfilter":"stringfilter");null!=r.filtercondition?-1==(l=h.indexOf(r.filtercondition.toUpperCase()))&&(l="number"==r.filtertype?0:2):l="number"==r.filtertype?0:2}a.jqxDropDownList({selectedIndex:l}),a.jqxDropDownList("ensureVisible",l)}break;case"date":case"range":this.host.jqxDateTimeInput?e(n.children()[0]).jqxDateTimeInput("setDate",null):o(this,n);break;case"textbox":case"default":o(this,n);break;case"list":this.host.jqxDropDownList?e(n.children()[0]).jqxDropDownList("clearSelection"):o(this,n);break;case"checkedlist":this.host.jqxDropDownList?e(n.children()[0]).jqxDropDownList("checkAll",!1):o(this,n);break;case"bool":case"boolean":this.host.jqxCheckBox?e(n.children()[0]).jqxCheckBox({checked:null}):o(this,n)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var t=this.columns.records.length,i=this.that,s=0;s<t;s++){var r=new e.jqx.filter,n=this.columns.records[s];if(n.filterable&&null!==n.datafield){var o=i._getcolumntypebydatafield(n),a=i._getfiltertype(o),l=!0,h=(n.filtertype,function(e,t,s){var r=!0;if(e._filterwidget){var n=e._filterwidget.val();if(""!=n){var o="equal";if("stringfilter"==t)o="contains";if("numericfilter"==t&&","==i.gridlocalization.decimalseparator&&n.indexOf(i.gridlocalization.decimalseparator)>=0&&(n=n.replace(i.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var a=0;if(-1!=n.indexOf(">")&&(o="greater_than",a=1),-1!=n.indexOf("<")&&(o="less_than",a=1),-1!=n.indexOf("=")&&("greater_than"==o?(o="greater_than_or_equal",a=2):"less_than"==o?(o="less_than_or_equal",a=2):(o="equal",a=1)),0!=a&&(n=n.substring(a)).length<1)return!1}if(null!=e.filtercondition&&(o=e.filtercondition),"datefilter"==t)var l=s.createfilter(t,n,o,null,e.cellsformat,i.gridlocalization);else l=s.createfilter(t,n,o);s.addfilter(1,l)}else r=!1}return r});switch(n.filtertype){case"range":case"date":if(n._filterwidget.jqxDateTimeInput)if("range"==n.filtertype)if(null!=(m=n._filterwidget.jqxDateTimeInput("getRange"))&&null!=m.from&&null!=m.to){var d="GREATER_THAN_OR_EQUAL";(f=new Date(0)).setHours(0),f.setMinutes(0),f.setFullYear(m.from.getFullYear(),m.from.getMonth(),m.from.getDate());var c=new Date(0);c.setHours(0),c.setMinutes(0),c.setFullYear(m.to.getFullYear(),m.to.getMonth(),m.to.getDate()),c.setHours(m.to.getHours()),c.setMinutes(m.to.getMinutes()),c.setSeconds(m.to.getSeconds());var u=r.createfilter(a,f,d);r.addfilter(0,u);var p=r.createfilter(a,c,"LESS_THAN_OR_EQUAL");r.addfilter(0,p)}else l=!1;else if(null!=(m=n._filterwidget.jqxDateTimeInput("getDate"))){var f;(f=new Date(0)).setHours(0),f.setMinutes(0),f.setFullYear(m.getFullYear(),m.getMonth(),m.getDate());d="EQUAL";null!=n.filtercondition&&(d=n.filtercondition);u=r.createfilter(a,f,d);r.addfilter(0,u)}else l=!1;else l=h(n,a,r);break;case"input":if(n._filterwidget){var m=n._filterwidget.find("input").val(),g=n._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),v=r.getoperatorsbyfiltertype(a)[g];if(i.updatefilterconditions){null!=(w=i.updatefilterconditions(a,r.getoperatorsbyfiltertype(a)))&&r.setoperatorsbyfiltertype(a,w);v=r.getoperatorsbyfiltertype(a)[g]}var x="NULL"==v||"NOT_NULL"==v,b="EMPTY"==v||"NOT_EMPTY"==v;null!=m&&m.length>0||x||b?(u=r.createfilter(a,m,v,null,n.cellsformat,i.gridlocalization),r.addfilter(0,u)):l=!1}else l=!1;break;case"number":if(n._filterwidget){m=n._filterwidget.find("input").val();","==i.gridlocalization.decimalseparator&&m.indexOf(i.gridlocalization.decimalseparator)>=0&&(m=m.replace(i.gridlocalization.decimalseparator,"."));g=n._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),v=r.getoperatorsbyfiltertype(a)[g];if(i.updatefilterconditions){var w;null!=(w=i.updatefilterconditions(a,r.getoperatorsbyfiltertype(a)))&&r.setoperatorsbyfiltertype(a,w);v=r.getoperatorsbyfiltertype(a)[g]}x="NULL"==v||"NOT_NULL"==v,b="EMPTY"==v||"NOT_EMPTY"==v;null!=m&&m.length>0||x||b?(u=r.createfilter(a,new Number(m),v,null,n.cellsformat,i.gridlocalization),r.addfilter(0,u)):l=!1}else l=!1;break;case"textbox":case"default":l=h(n,a,r);break;case"bool":case"boolean":if(n._filterwidget.jqxCheckBox)if(null!=(m=n._filterwidget.jqxCheckBox("checked"))){d="equal";var y=r.createfilter(a,m,d);r.addfilter(1,y)}else l=!1;else l=h(n,a,r);break;case"list":if((q=n._filterwidget.jqxDropDownList("listBox")).selectedIndex>0){var _=q.getItem(q.selectedIndex),j=(m=_.label,_.value);d="equal";""===m&&(d="NULL");y=r.createfilter(a,m,d);r.addfilter(1,y),j!==m&&(y.data=j)}else l=!1;break;case"checkedlist":if(n._filterwidget.jqxDropDownList){var q,S=(q=n._filterwidget.jqxDropDownList("listBox")).getCheckedItems();if(0==S.length){for(var T=1;T<q.items.length;T++){m=q.items[T].label,j=q.items[T].value,d="not_equal";""===m&&(d="NULL");y=r.createfilter(a,m,d);j!==m&&(y.data=j),r.addfilter(0,y)}l=!0}else if(S.length!=q.items.length)for(T=0;T<S.length;T++){m=S[T].label,j=S[T].value,d="equal";""===m&&(d="NULL");y=r.createfilter(a,m,d);j!==m&&(y.data=j),r.addfilter(1,y)}else l=!1}else l=h(n,a,r)}this._loading||(l?this.addfilter(n.displayfield,r,!1):this.removefilter(n.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var t=e('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),i=0,s=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");r+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),r+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var n=s+10,o=new Array,a=this.that;this.filterrow[0].cells=o,t.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(t),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var l=!1,h=new Array,d=document.createDocumentFragment(),c=0;c<s;c++){var u=this.columns.records[c],p=u.width;p<u.minwidth&&(p=u.minwidth),p>u.maxwidth&&(p=u.maxwidth);var f=document.createElement("div");f.style.overflow="hidden",f.style.position="absolute",f.style.height="100%",f.className=r,f=e(f),d.appendChild(f[0]),f[0].style.left=i+"px",this.rtl?(f.css("z-index",n++),f.css("border-left-width","1px")):f.css("z-index",n--),"auto"==p&&(p=0),f[0].style.width=parseFloat(p)+"px",f[0].left=i,u.hidden&&u.hideable?f.css("display","none"):i+=p,o[o.length]=f[0];var m=!0;if(this.rtl){if(this.groupable){g=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+g+c>s-1&&(m=!1)}this.showrowdetailscolumn&&this.rowdetails&&c==s-1&&(m=!1)}else{if(this.groupable){var g=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+g>c&&(m=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==c&&(m=!1)}if(m)if("custom"==u.filtertype&&u.createfilterwidget){u.createfilterwidget(u,f,function(){a._applyfilterfromfilterrow()})}else u.filterable&&(this._filterrowcache[u.datafield]?(l=!0,f.append(this._filterrowcache[u.datafield]),u._filterwidget=this._filterrowcache[u.datafield]):(this._addfilterwidget(u,f,p),h[u.datafield]=u._filterwidget))}t[0].appendChild(d),this._filterrowcache=h,e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",n--),t.width(parseFloat(i)+2),this.filterrow.addClass(r),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),l&&this._updatefilterrowui(!0)},_addfilterwidget:function(t,i,s){for(var r=this.that,n="",o="",a=0;a<r.dataview.filters.length;a++){var l=r.dataview.filters[a];if(l.datafield&&l.datafield==t.datafield){a=l.filter.getfilters()[0];n=a.value,"range"===t.filtertype&&(n={from:n,to:l.filter.getfilters()[1].value}),o=a.condition,t.filtercondition=o;break}}var h=function(i,r){var o=e('<input autocomplete="off" type="textarea"/>');o[0].id=e.jqx.utilities.createId(),o.addClass(i.toThemeProperty("jqx-widget")),o.addClass(i.toThemeProperty("jqx-input")),o.addClass(i.toThemeProperty("jqx-rc-all")),o.addClass(i.toThemeProperty("jqx-widget-content")),i.rtl&&o.css("direction","rtl"),i.disabled&&o.attr("disabled",!0),o.attr("disabled",!1),o.appendTo(r),o.width(s-10),o.height(i.filterrowheight-10),o.css("margin","4px"),o.css("box-sizing","border-box"),t.createfilterwidget&&t.createfilterwidget(t,r,o),t._filterwidget=o,o.focus(function(){return i.content[0].scrollLeft=0,setTimeout(function(){i.content[0].scrollLeft=0},10),i.focusedfilter=o,o.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),o.blur(function(){o.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),o.keydown(function(e){"13"==e.keyCode&&i._applyfilterfromfilterrow(),o[0]._writeTimer&&clearTimeout(o[0]._writeTimer),o[0]._writeTimer=setTimeout(function(){i._loading||(i["_oldWriteText"+o[0].id]||(i["_oldWriteText"+o[0].id]=""),i["_oldWriteText"+o[0].id].length>0&&i["_oldWriteText"+o[0].id]!=o.val()?(i._applyfilterfromfilterrow(),i["_oldWriteText"+o[0].id]=o.val()):0==i["_oldWriteText"+o[0].id].length&&(i._applyfilterfromfilterrow(),i["_oldWriteText"+o[0].id]=o.val()))},t.filterdelay),i.focusedfilter=o}),i.host.removeClass("jqx-disableselect"),i.content.removeClass("jqx-disableselect"),o.val(n)};switch(null!=t.datatype&&("number"==t.filtertype&&("string"!=t.datatype&&"date"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"date"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"bool"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"date"!=t.datatype||(t.filtertype="textbox"))),t.filtertype){case"number":case"input":var d=e("<div></div>");d.width(i.width()),d.height(this.filterrowheight),i.append(d);!function(i,s,o){var a=e('<input style="float: left;" autocomplete="off" type="textarea"/>');r.rtl&&(a.css("float","right"),a.css("direction","rtl")),a[0].id=e.jqx.utilities.createId(),a.addClass(r.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-widget-content")),a.appendTo(i),a.width(s-16),r.disabled&&a.attr("disabled",!0),a.attr("disabled",!1),a.height(r.filterrowheight-10),a.css("margin","4px"),a.css("margin-right","2px"),a.focus(function(){r.focusedfilter=a,a.addClass(r.toThemeProperty("jqx-fill-state-focus"))}),a.blur(function(){a.removeClass(r.toThemeProperty("jqx-fill-state-focus"))}),a.keydown(function(e){"13"==e.keyCode&&r._applyfilterfromfilterrow(),a[0]._writeTimer&&clearTimeout(a[0]._writeTimer),a[0]._writeTimer=setTimeout(function(){r._loading||r["_oldWriteText"+a[0].id]!=a.val()&&(r._applyfilterfromfilterrow(),r["_oldWriteText"+a[0].id]=a.val())},t.filterdelay),r.focusedfilter=a}),a.val(n)}(d,s=i.width()-21);var c=r._getfiltersbytype("number"==t.filtertype?"number":"string");(b=e("<div class='filter' style='float: left;'></div>")).css("margin-top","4px"),b.appendTo(d),r.rtl&&b.css("float","right");var u=0;if(null!=t.filtercondition)-1!=(p=(a=new e.jqx.filter).getoperatorsbyfiltertype("number"==t.filtertype?"numericfilter":"stringfilter").indexOf(t.filtercondition.toUpperCase()))&&(u=p);var p,f=180;if("input"==t.filtertype)if(f=240,0==u)-1!=(p=c.indexOf("contains")||2)&&null==t.filtercondition&&(u=p);b.jqxDropDownList({disabled:r.disabled,touchMode:r.touchmode,rtl:r.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:u,width:18,height:21,dropDownHeight:150,dropDownWidth:f,source:c,theme:r.theme}),b.jqxDropDownList({selectionRenderer:function(e){return""}}),b.jqxDropDownList("setContent",""),b.find(".jqx-dropdownlist-content").hide(),t.createfilterwidget&&t.createfilterwidget(t,i,d),t._filterwidget=d;var m=null;this.addHandler(b,"select",function(){var e=b.jqxDropDownList("getSelectedItem").label;t._filterwidget.find("input").val().length>0&&!r.refreshingfilter&&r._applyfilterfromfilterrow(),("input"!=t.filtertype||r.refreshingfilter)&&(0!=t._filterwidget.find("input").val().length||r.refreshingfilter||"null"!=m&&"not null"!=m&&"null"!=e&&"not null"!=e)||r._applyfilterfromfilterrow(),m=e});break;case"textbox":case"default":default:h(this,i);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var g=e("<div></div>");g.css("margin","4px"),g.appendTo(i);var v={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};g.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,readonly:!0,disabled:r.disabled,localization:v,rtl:r.rtl,showFooter:!0,formatString:t.cellsformat,selectionMode:t.filtertype,value:null,theme:this.theme,width:s-10,height:this.filterrowheight-10}),t.createfilterwidget&&t.createfilterwidget(t,i,g),n&&n.from?g.jqxDateTimeInput("setRange",n.from,n.to):n&&n.toString().length>1&&g.val(n),t._filterwidget=g,this.addHandler(g,"valueChanged",function(e){r.refreshingfilter||(r._applyfilterfromfilterrow(),r.focusedfilter=null)})}else h(this,i);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var x,b,w=this._getfilterdataadapter(t);(b=e("<div></div>")).css("margin","4px");var y=t.datafield,_="checkedlist"==t.filtertype;f=s<150?220:"auto";w.dataBind();var j=w.records.length<8;x=j,b.appendTo(i),b.jqxDropDownList({placeHolder:r.gridlocalization.filterchoosestring,disabled:r.disabled,touchMode:r.touchmode,rtl:r.rtl,checkboxes:_,dropDownWidth:f,source:w.records,autoDropDownHeight:j,theme:this.theme,width:s-10,height:this.filterrowheight-10,displayMember:t.displayfield,valueMember:y}),t.createfilterwidget&&t.createfilterwidget(t,i,b);var q=b.jqxDropDownList("listBox");if(_){b.jqxDropDownList({selectionRenderer:function(){return'<span class="'+r.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+r.gridlocalization.filterselectstring+"</span>"}});var S=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+r.gridlocalization.filterselectstring+"</span>");if(S.addClass(this.toThemeProperty("jqx-item")),null!=q){x||q.host.height(200),q.insertAt(r.gridlocalization.filterselectallstring,0),b.jqxDropDownList("setContent",S);var T=!0;new Array;q.checkAll(!1),r.addHandler(q.host,"checkChange",function(e){if(b[0]._selectionChanged=!0,T)if(e.args.label!=r.gridlocalization.filterselectallstring){T=!1,q.host.jqxListBox("checkIndex",0,!0,!1);var t=q.host.jqxListBox("getCheckedItems"),i=q.host.jqxListBox("getItems");1==t.length?q.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&q.host.jqxListBox("indeterminateIndex",0,!0,!1),T=!0}else T=!1,e.args.checked?q.host.jqxListBox("checkAll",!1):q.host.jqxListBox("uncheckAll",!1),T=!0})}}else q.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),b.jqxDropDownList({selectedIndex:0});t._filterwidget=b;b.jqxDropDownList("dropdownlistWrapper");"list"==t.filtertype?this.addHandler(b,"select",function(e){r.refreshingfilter||e.args&&"none"!=e.args.type&&(r._applyfilterfromfilterrow(),r.focusedfilter=null)}):this.addHandler(b,"close",function(e){b[0]._selectionChanged&&(r._applyfilterfromfilterrow(),r.focusedfilter=null,b[0]._selectionChanged=!1)})}else h(this,i);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var C=e('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>');C.appendTo(i),C.jqxCheckBox({disabled:r.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),t.createfilterwidget&&t.createfilterwidget(t,i,C),!0===n||"true"==n?C.jqxCheckBox({checked:!0}):!1!==n&&"false"!=n||C.jqxCheckBox({checked:!1}),t._filterwidget=C,this.addHandler(C,"change",function(e){r.refreshingfilter||e.args&&(r.focusedfilter=null,r._applyfilterfromfilterrow())})}else h(this,i)}},_getfilterdataadapter:function(t){if(!!this.source._source){var i={localdata:e.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},s=this;dataadapter=new e.jqx.dataAdapter(i,{autoBind:!1,autoSort:!0,autoSortField:t.displayfield,async:!1,uniqueDataFields:[t.displayfield],beforeLoadComplete:function(e){var i=new Array;if(t.cellsformat){for(var r=s._getcolumntypebydatafield(t),n=0;n<e.length;n++){i.push(e[n]);var o=e[n][t.displayfield];e[n][t.displayfield+"JQValue"]=o,"date"===r?e[n][t.displayfield]=null!=o?dataadapter.formatDate(o,t.cellsformat,s.gridlocalization):"":"number"!==r&&"float"!==r&&"int"!==r||(e[n][t.displayfield]=null!=o?dataadapter.formatNumber(o,t.cellsformat,s.gridlocalization):"")}return i}return e}})}else dataadapter=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t.displayfield],autoSort:!0,autoSortField:t.displayfield,async:!1});if(t.filteritems&&t.filteritems.length>0){i={localdata:t.filteritems,datatype:this.source.datatype,async:!1};dataadapter=new e.jqx.dataAdapter(i,{autoBind:!1,async:!1})}else if(t.filteritems){if(t.filteritems._source)return t.filteritems._options.autoBind=!1,t.filteritems._options.async=!1,t.filteritems;if(e.isFunction(t.filteritems))return t.filteritems()}return dataadapter},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var t=this.that,i=this.columns.records.length,s=0;s<i;s++){var r=this.columns.records[s];if(r.filterable&&r.filter){var n=r.filter.getfilters();if(n.length>0){var o=n[0].value,a=r._filterwidget,l=r._filterwidget.parent();if(null!=a)switch(r.filtertype){case"number":if(l.find("input").val(o),this.host.jqxDropDownList){var h=r.filter.getoperatorsbyfiltertype("numericfilter");a.find(".filter").jqxDropDownList("selectIndex",h.indexOf(n[0].condition))}break;case"input":if(l.find("input").val(o),this.host.jqxDropDownList){h=r.filter.getoperatorsbyfiltertype("stringfilter");a.find(".filter").jqxDropDownList("selectIndex",h.indexOf(n[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){if(null!=(o=r.filter.getfilterat(0).filtervalue)){if(r.filter.getfilterat(1))var d=r.filter.getfilterat(1).filtervalue;else d=o;"range"==r.filtertype?e(l.children()[0]).jqxDateTimeInput("setRange",new Date(o),new Date(d)):e(l.children()[0]).jqxDateTimeInput("setDate",new Date(o))}}else a.val(o);break;case"textbox":case"default":a.val(o),t["_oldWriteText"+a[0].id]=o;break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({checked:o}):a.val(o)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){this.that;for(var t=this.columns.records.length,i=0;i<t;i++){var s=this.columns.records[i];if(s.filterable){var r=s._filterwidget;if("list"==s.filtertype||"checkedlist"==s.filtertype)this.removeHandler(r,"select"),this.removeHandler(r,"close"),r.jqxDropDownList("destroy");else if("date"==s.filtertype||"range"==s.filtertype)this.removeHandler(r,"valueChanged"),r.jqxDateTimeInput("destroy");else if("bool"==s.filtertype)this.removeHandler(r,"change"),r.jqxCheckBox("destroy");else if("number"==s.filtertype||"input"===s.filtertype){var n=r.find(".jqx-input");this.removeHandler(n,"keydown"),e(r.children()[1]).jqxDropDownList("destroy")}else this.removeHandler(r,"keydown");r.remove()}}},_updatelistfilters:function(t,i){for(var s=this.that,r=this.columns.records.length,n=0;n<r;n++){var o=this.columns.records[n];if(o.filterable&&("list"==o.filtertype||"checkedlist"==o.filtertype)){var a=o._filterwidget;if(t){var l=this._getfilterdataadapter(o);a.jqxDropDownList({source:l});var h=!0;if((u=a.jqxDropDownList("getItems")).length!=l.records.length+1&&(h=!1),h)for(var d=1;d<u.length;d++)if(u[d].label!=l.records[d-1][o.displayfield]){h=!1;break}if(h&&!i)continue}else if(null==o.filter){a.jqxDropDownList("renderSelection");continue}var c="checkedlist"==o.filtertype,u=a.jqxDropDownList("getItems"),p=a.jqxDropDownList("listBox");if(a.jqxDropDownList("dataBind"),c){a.jqxDropDownList({selectionRenderer:function(){return s.gridlocalization.filterselectstring}}),null==p.getItem(this.gridlocalization.filterselectallstring)&&p.insertAt(this.gridlocalization.filterselectallstring,0);var f=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(f.addClass(this.toThemeProperty("jqx-item")),a.jqxDropDownList("setContent",f),p.checkAll(!1),o.filter){var m=o.filter.getfilters();for(d=0;d<p.items.length;d++){var g=p.items[d].label,v=void 0;e.each(m,function(){var e;"NOT_EQUAL"==this.condition?e=g!=this.value:"EQUAL"==this.condition&&(e=g==this.value),v=null==v&&void 0!==e?e:"EQUAL"==this.condition?v||e:v&&e}),v?p.checkIndex(d,!1,!1):p.uncheckIndex(d,!1,!1)}p._updateCheckedItems();var x=p.getCheckedItems().length;p.items.length!=x&&x>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==p.getItem(this.gridlocalization.filterselectallstring)&&p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),a.jqxDropDownList({selectedIndex:0}),o.filter){m=o.filter.getfilters();var b=-1;for(d=0;d<p.items.length;d++){g=p.items[d].label;e.each(m,function(){return"NOT_EQUAL"==this.condition||(g==this.value?(b=d,!1):void 0)})}-1!=b&&p.selectIndex(b)}u.length<8?a.jqxDropDownList("autoDropDownHeight",!0):a.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var t=this.that;if(this.filterable){if(!this.columns.records)return;e.each(this.columns.records,function(i,s){var r=!1;t.autoshowfiltericon?this.filter?(e(this.filtericon).show(),r=!0):e(this.filtericon).hide():this.filterable&&(e(this.filtericon).show(),r=!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=r?"18px":"2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var t=this.source._source.datafields;if(t)for(var i=0;i<this.columns.records.length;i++){var s=this.columns.records[i];if(!s.datatype){var r="";e.each(t,function(){if(this.name==s.displayfield)return this.type&&(r=this.type),!1}),s.datatype=""!=r?r:""}}}},_getcolumntypebydatafield:function(t){var i=this.that,s="string",r=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(r){var n="";if(e.each(r,function(){if(this.name==t.displayfield)return this.type&&(n=this.type),!1}),n)return n}if(null!=t){if(null==this.dataview.cachedrecords)return s;var o=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return o=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return s;if(null!=(o=this.dataview.cachedrecords[0][t.displayfield])&&""==o.toString())return"string"}if(null!=o)if("boolean"==typeof o)s="boolean";else if(e.jqx.dataFormat.isNumber(o))s="number";else{var a=new Date(o);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(e.jqx.dataFormat){if(null!=(a=e.jqx.dataFormat.tryparsedate(o))){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var l=new Number(o);return isNaN(l)?"string":"number"}return"date"}s="string"}else s="string";else s="date"}}return s},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(t,i,s){var r=e(i).find(".filter1"),n=e(i).find(".filter2"),o=e(i).find(".filter3"),a=e(i).find(".filtertext1"+t.element.id),l=e(i).find(".filtertext2"+t.element.id),h=a.val(),d=l.val(),c=t._getcolumntypebydatafield(s),u=(t._getfiltersbytype(c),new e.jqx.filter),p=t._getfiltertype(c);if("default"===t.filtermode&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype){var f=r.jqxDropDownList("selectedIndex"),m=n.jqxDropDownList("selectedIndex"),g=o.jqxDropDownList("selectedIndex"),v=null,x=null;if(t.updatefilterconditions){var b=t.updatefilterconditions(p,u.getoperatorsbyfiltertype(p));null!=b&&u.setoperatorsbyfiltertype(p,b)}var w=!1,y=u.getoperatorsbyfiltertype(p)[f],_=(o=u.getoperatorsbyfiltertype(p)[g],"NULL"==y||"NOT_NULL"==y),j="EMPTY"==y||"NOT_EMPTY"==y;null==y&&(y=u.getoperatorsbyfiltertype(p)[0]),null==o&&(o=u.getoperatorsbyfiltertype(p)[0]),(h.length>0||_||j)&&(v=u.createfilter(p,h,y,null,s.cellsformat,t.gridlocalization),u.addfilter(m,v),w=!0);var q="NULL"==o||"NOT_NULL"==o,S="EMPTY"==o||"NOT_EMPTY"==o;if((d.length>0||q||S)&&(x=u.createfilter(p,d,o,null,s.cellsformat,t.gridlocalization),u.addfilter(m,x),w=!0),w){var T=s.displayfield;this.addfilter(T,u,!0)}else this._clearfilter(t,i,s)}else if("excel"===t.filtermode||"list"===s.filtertype||"checkedlist"===s.filtertype){var C=!1,I=r.data().jqxListBox.instance,k="excel"===this.filtermode||"checkedlist"===s.filtertype,P=I.getCheckedItems();if(!k)P=I.getSelectedItems();if(0==P.length){for(var M=1;M<I.items.length;M++){void 0===(B=I.items[M].value)&&(B="");var N="not_equal";if(B&&B.indexOf&&(B.indexOf("|")>=0||B.indexOf(" AND ")>=0||B.indexOf(" OR ")>=0||B.indexOf(" and ")>=0||B.indexOf(" or ")>=0)){B=(B=(B=(B=(B=B.replace("|","")).replace("AND","")).replace("OR","")).replace("and","")).replace("or","");N="equal"}if("datefilter"==p)var D=u.createfilter(p,B,N,null,s.cellsformat,t.gridlocalization);else D=u.createfilter(p,B,N,null);u.addfilter(0,D)}C=!0}else if(P.length!=I.items.length){C=!0;for(M=0;M<P.length;M++)if(t.gridlocalization.filterselectallstring!==P[M].value){var B;void 0===(B=P[M].value)&&(B="");N="equal";if("datefilter"==p)D=u.createfilter(p,B,N,null,s.cellsformat,t.gridlocalization);else D=u.createfilter(p,B,N,null);u.addfilter(1,D)}}else C=!1;if(C){T=s.displayfield;this.addfilter(T,u,!0)}else{T=s.displayfield;this.removefilter(T,!0)}}},_clearfilter:function(e,t,i){var s=i.displayfield;this.removefilter(s,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var s=this.getcolumn(e),r=this._getcolumn(e);null!=s&&null!=s&&(s.filter=t,r.filter=t,this.dataview.addfilter(e,t),1==i&&null!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),s=this._getcolumn(e);null!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,s.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&!1===t||this.applyfilters("remove"))},applyfilters:function(t){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var i=-1;this.pageable?(i=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=i)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});this.selectedrowindexes,this.that;if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var s=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,s,null,!1,!1):this.sortby(this.sortcolumn,s,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("filter")),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(t){var i=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var s=1==t||!1!==t;e.each(this.columns.records,function(){i.removefilter(this.displayfield,!s)})}!1!==t&&(1!=t&&!1===t||this.applyfilters("clear"))},_destroyfilterpanel:function(){var t=e(e.find("#filterclearbutton"+this.element.id)),i=e(e.find("#filterbutton"+this.element.id)),s=e(e.find("#filter1"+this.element.id)),r=e(e.find("#filter2"+this.element.id)),n=e(e.find("#filter3"+this.element.id)),o=e(e.find(".filtertext1"+this.element.id)),a=e(e.find(".filtertext2"+this.element.id));o.length>0&&a.length>0&&(o.removeClass(),a.removeClass(),o.remove(),a.remove()),t.length>0&&(t.jqxButton("destroy"),i.jqxButton("destroy"),this.removeHandler(t,"click"),this.removeHandler(i,"click")),s.length>0&&s.jqxDropDownList("destroy"),r.length>0&&r.jqxDropDownList("destroy"),n.length>0&&n.jqxDropDownList("destroy");s=e(e.find("#filter1"+this.element.id+"ex")),r=e(e.find("#filter2"+this.element.id+"ex")),n=e(e.find("#filter3"+this.element.id+"ex"));s.length>0&&s.jqxDropDownList("destroy"),r.length>0&&r.jqxDropDownList("destroy"),n.length>0&&n.jqxDropDownList("destroy")},_updatefilterpanel:function(t,i,s){null!=t&&null!=t||(t=this);var r=t._getcolumntypebydatafield(s),n=t._getfiltersbytype(r);if(!t.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");t.filterpanel.detach(),t.excelfilterpanel.detach(),s.filterpanel&&s.filterpanel.detach(),e(i).children().detach();var o=e(t.menuitemsarray[6]);if(e(o).css("height","190px"),s.createfilterpanel&&!s.filterpanel){var a=e("<div class='filter' style='margin-left: 7px;'></div>");e(i).append(a),s.createfilterpanel(s.displayfield,a),s.filterpanel=a}"list"===s.filtertype||"checkedlist"===s.filtertype?e(i).append(t.excelfilterpanel):"custom"!==s.filtertype?e(i).append(t.filterpanel):s.filterpanel&&e(i).append(s.filterpanel);var l=e(i),h=l.find("#filterclearbutton"+t.element.id),d=l.find("#filterbutton"+t.element.id),c=l.find(".filter1"),u=l.find(".filter2"),p=l.find(".filter3"),f=l.find(".filtertext1"+t.element.id),m=l.find(".filtertext2"+t.element.id);if(this._hasdatefilter&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype&&"custom"!==s.filtertype){var g=f.parent(),v=m.parent();if(g.children().remove(),v.children().remove(),"date"==s.filtertype){t._showwhere.text(t.gridlocalization.filtershowrowdatestring);var x=e("<div class='filtertext1"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");g.append(x),(b=function(e){var i={calendar:t.gridlocalization,todayString:t.gridlocalization.todaystring,clearString:t.gridlocalization.clearstring};e.jqxDateTimeInput({disabled:t.disabled,firstDayOfWeek:t.gridlocalization.firstDay,localization:i,rtl:t.rtl,width:t._filterpanelwidth-15,height:23,value:null,formatString:s.cellsformat,theme:t.theme})})(x);x=e("<div class='filtertext2"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");v.append(x),b(x)}else{t._showwhere.text(t.gridlocalization.filtershowrowstring);var b;x=e("<input class='filtertext1"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");g.append(x),(b=function(e){e.addClass(t.toThemeProperty("jqx-input")),e.addClass(t.toThemeProperty("jqx-widget-content")),e.addClass(t.toThemeProperty("jqx-rc-all")),e.width(t._filterpanelwidth-21)})(x);x=e("<input class='filtertext2"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");v.append(x),b(x)}f=l.find(".filtertext1"+t.element.id),m=l.find(".filtertext2"+t.element.id)}if("date"!=s.filtertype?(f.val(""),m.val("")):(f.val(null),m.val(null)),this.removeHandler(d,"click"),this.addHandler(d,"click",function(){t._buildfilter(t,i,s),t._closemenu()}),this.removeHandler(h,"click"),this.addHandler(h,"click",function(){t._clearfilter(t,i,s),t._closemenu()}),this.removeHandler(d,"keydown"),this.addHandler(d,"keydown",function(e){13===e.keyCode&&(t._buildfilter(t,i,s),t._closemenu())}),this.removeHandler(h,"keydown"),this.addHandler(h,"keydown",function(e){13===e.keyCode&&(t._clearfilter(t,i,s),t._closemenu())}),this.removeHandler(f,"keydown"),this.addHandler(f,"keydown",function(e){13===e.keyCode&&d.trigger("click"),27===e.keyCode&&t._closemenu()}),this.removeHandler(m,"keydown"),this.addHandler(m,"keydown",function(e){13===e.keyCode&&d.trigger("click"),27===e.keyCode&&t._closemenu()}),"default"===this.filtermode&&"list"!==s.filtertype&&"checkedlist"!==s.filtertype&&"custom"!==s.filtertype){if(c.jqxDropDownList("source")!=n&&(c.jqxDropDownList({enableBrowserBoundsDetection:!1,source:n}),p.jqxDropDownList({enableBrowserBoundsDetection:!1,source:n})),"boolean"==r||"bool"==r)c.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),p.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var w=!1;n&&n.length&&n.length<5&&(w=!0),c.jqxDropDownList({autoDropDownHeight:w,selectedIndex:2}),p.jqxDropDownList({autoDropDownHeight:w,selectedIndex:2})}u.jqxDropDownList({selectedIndex:0});var y=s.filter,_=new e.jqx.filter,j="";switch(r){case"number":case"int":case"float":case"decimal":j="numericfilter",q=_.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":j="booleanfilter",q=_.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":j="datefilter",q=_.getoperatorsbyfiltertype("datefilter");break;case"string":j="stringfilter",q=_.getoperatorsbyfiltertype("stringfilter")}if(null!=y){g=y.getfilterat(0),v=y.getfilterat(1),y.getoperatorat(0);if(t.updatefilterconditions){var q=[],S=t.updatefilterconditions(j,q);if(null!=S){for(var T=0;T<S.length;T++)S[T]=S[T].toUpperCase();y.setoperatorsbyfiltertype(j,S),q=S}}if(null!=g){var C=q.indexOf(g.comparisonoperator),I=g.filtervalue;f.val(I),c.jqxDropDownList({selectedIndex:C,animationType:"default"})}if(null!=v){var k=q.indexOf(v.comparisonoperator),P=v.filtervalue;m.val(P),p.jqxDropDownList({selectedIndex:k,animationType:"default"})}null==y.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0,animationType:"default"}):"and"==y.getoperatorat(0)||0==y.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0}):u.jqxDropDownList({selectedIndex:1})}t.updatefilterpanel&&t.updatefilterpanel(c,p,u,f,m,d,h,y,j,q),(!this._hasdatefilter||this._hasdatefilter&&"date"!=s.filtertype)&&(this.touchdevice||(f.focus(),setTimeout(function(){f.focus()},10)))}else if("excel"===this.filtermode||"list"===s.filtertype||"checkedlist"===s.filtertype){var M=t._getfilterdataadapter(s),N=(j=t._getfiltertype(r),"excel"===this.filtermode||"checkedlist"===s.filtertype);if(c.jqxListBox("focus"),this.removeHandler(c,"keyup"),this.addHandler(c,"keyup",function(e){13===e.keyCode&&d.trigger("click"),27===e.keyCode&&t._closemenu()}),s.cellsformat?c.jqxListBox({checkboxes:N,displayMember:s.displayfield,valueMember:s.displayfield+"JQValue",source:M}):c.jqxListBox({checkboxes:N,displayMember:s.displayfield,valueMember:s.displayfield,source:M}),N){c.jqxListBox("insertAt",t.gridlocalization.filterselectallstring,0),(H=c.data().jqxListBox.instance).checkAll(!1);if(s.filter){H.uncheckAll(!1);for(var D=s.filter.getfilters(),B=0;B<H.items.length;B++){var O=H.items[B].value;e.each(D,function(){if("NOT_EQUAL"==this.condition){if(O!=this.value)return H.uncheckIndex(B,!1,!1),!1;if(null!=O&&null!=this.value&&O.toString()!=this.value.toString())return H.uncheckIndex(B,!1,!1),!1}else if("EQUAL"==this.condition){if(O==this.value)return H.checkIndex(B,!1,!1),!1;if(null!=O&&null!=this.value&&O.toString()==this.value.toString())return H.checkIndex(B,!1,!1),!1}})}H._updateCheckedItems();var A=H.getCheckedItems().length;H.items.length!=A&&A>0&&H.host.jqxListBox("indeterminateIndex",0,!0,!1),A===H.items.length-1&&H.host.jqxListBox("checkIndex",0,!0,!1)}}else if(s.filter){var H;(H=c.data().jqxListBox.instance).clearSelection();for(D=s.filter.getfilters(),B=0;B<H.items.length;B++){O=H.items[B].value;e.each(D,function(){if("NOT_EQUAL"==this.condition){if(O!=this.value)return H.unselectIndex(B,!1,!1),!1}else if("EQUAL"==this.condition&&O==this.value)return H.selectIndex(B,!0,!1),!1})}H._renderItems()}}},_initfilterpanel:function(t,i,s,r,n){null!=t&&null!=t||(t=this),i[0].innerHTML="";var o=e("<div class='filter' style='margin-left: 7px;'></div>");i.append(o);var a=e("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");a.text(t.gridlocalization.filtershowrowstring),this._showwhere=a;var l=n?"ex":"",h=e("<div class='filter filter1' id='filter1"+t.element.id+l+"'></div>"),d=e("<div class='filter filter2' id='filter2"+t.element.id+l+"' style='margin-bottom: 3px;'></div>"),c=e("<div class='filter filter3' id='filter3"+t.element.id+l+"'></div>"),u=t._getcolumntypebydatafield(s);if(!h.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var p=t._getfiltersbytype(u);if(this._hasdatefilter=!1,this._filterpanelwidth=r,this.columns&&this.columns.records){for(var f=0;f<this.columns.records.length;f++)if("date"==this.columns.records[f].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(f=0;f<this.columns.length;f++)if("date"==this.columns[f].filtertype){this._hasdatefilter=!0;break}var m=e("<div class='filter'><input class='filtertext1"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),g=m.find("input");g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(r-21);var v=e("<div class='filter'><input class='filtertext2"+t.element.id+"' style='height: 23px; margin-top: 3px;' type='text'></input></div>"),x=v.find("input");x.addClass(this.toThemeProperty("jqx-input")),x.addClass(this.toThemeProperty("jqx-widget-content")),x.addClass(this.toThemeProperty("jqx-rc-all")),x.width(r-21),t.rtl&&(g.css("direction","rtl"),x.css("direction","rtl"));var b=e("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>"),w=e('<span tabIndex=0 id="filterbutton'+t.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+t.gridlocalization.filterstring+"</span>");b.append(w);var y=e('<span tabIndex=0 id="filterclearbutton'+t.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+t.gridlocalization.filterclearstring+"</span>");b.append(y),w.jqxButton({height:20,theme:t.theme}),y.jqxButton({height:20,theme:t.theme});var _=function(e){if(e){if(-1!=e.text().indexOf("case sensitive")){var i=e.text();i=i.replace("case sensitive","match case"),e.text(i)}return e.css("font-family",t.host.css("font-family")),e.css("font-size",t.host.css("font-size")),e.css("top","2px"),e.css("position","relative"),e}return""};if("default"!==this.filtermode||n){if("excel"===this.filtermode||n){o.append(a),o.append(h),h.attr("tabindex",0),h.jqxListBox({rtl:t.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:r-15,height:130,theme:t.theme});var j=!0;t.addHandler(h,"checkChange",function(e){if(j)if(e.args.label!=t.gridlocalization.filterselectallstring){j=!1,h.jqxListBox("checkIndex",0,!0,!1);var i=h.jqxListBox("getCheckedItems"),s=h.jqxListBox("getItems");1==i.length?h.jqxListBox("uncheckIndex",0,!0,!1):s.length!=i.length&&h.jqxListBox("indeterminateIndex",0,!0,!1),j=!0}else j=!1,e.args.checked?h.jqxListBox("checkAll",!1):h.jqxListBox("uncheckAll",!1),j=!0})}}else{o.append(a),o.append(h),h.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:r-15,height:23,dropDownHeight:150,dropDownWidth:r-15,selectionRenderer:_,source:p,theme:t.theme}),o.append(m);var q=new Array;q[0]=t.gridlocalization.filterandconditionstring,q[1]=t.gridlocalization.filterorconditionstring,d.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:23,source:q,selectionRenderer:_,theme:t.theme}),o.append(d),c.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:r-15,height:23,dropDownHeight:150,dropDownWidth:r-15,selectionRenderer:_,source:p,theme:t.theme}),o.append(c),o.append(v)}o.append(b),t.updatefilterpanel&&t.updatefilterpanel(h,c,d,m,v,w,y,null,null,p)}})}(jqxBaseFramework),function(e){e.jqx.dataview.sort=function(){this.sortby=function(t,i,s){var r=Object.prototype.toString;if(null==i)return this.sortdata=null,this.sortcache={},this.grid._pagescache=new Array,this.grid._cellscache=new Array,void this.refresh();null==i&&(i=!0),i="a"==i||"asc"==i||"ascending"==i||1==i;var n=t;this.sortfield=t,this.sortfielddirection=i?"asc":"desc",null==this.sortcache&&(this.sortcache={}),this.sortdata=[];var o=[],a=!1;if("constructor"==n&&(n=""),!this.virtualmode&&null!=this.sortcache[n]){var l=this.sortcache[n];o=l._sortdata,l.direction==i?o.reverse():(!l.direction&&i&&o.reverse(),a=!0),o.length<this.totalrecords&&(this.sortcache={},a=!1,o=[])}Object.prototype.toString="function"==typeof t?t:function(){return this[t]};var h=this.records,d=(this.that,"");if(this.source.datafields&&e.each(this.source.datafields,function(){if(this.name==t)return this.type&&(d=this.type),!1}),0==o.length)if(h.length)for(var c=h.length,u=0;u<c;u++){if(null!=(m=h[u])){var p=(g=m).toString();o.push({sortkey:p,value:g,index:u})}}else{var f=!1;for(obj in h){var m;if(null==(m=h[obj])){f=!0;break}var g=m;o.push({sortkey:g.toString(),value:g,index:obj})}f&&e.each(h,function(e,t){o.push({sortkey:t.toString(),value:t,index:e})})}if(!a)if(null==s){this._sortcolumntype=d;var v=this;o.sort(function(e,t){return v._compare(e,t,d)})}else o.sort(s);i||o.reverse(),Object.prototype.toString=r,this.sortdata=o,this.sortcache[n]={_sortdata:o,direction:i},this.reload(this.records,this.rows,this.filters,this.updated,!0)},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(t,i,s){if(void 0===(t=t.sortkey)&&(t=null),void 0===(i=i.sortkey)&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;if(e.jqx.dataFormat)if(s&&""!=s)switch(s){case"number":case"int":case"float":return t<i?-1:t>i?1:0;case"date":case"time":return t<i?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)}},e.extend(e.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var t=this.that,i=this.getsortcolumn();if(this.sortdirection){var s=function(i,s){var r=t.getcolumn(i);r&&(s.ascending?e.jqx.aria(r.element,"aria-sort","ascending"):s.descending?e.jqx.aria(r.element,"aria-sort","descending"):e.jqx.aria(r.element,"aria-sort","none"))};this._oldsortinfo&&this._oldsortinfo.column&&s(this._oldsortinfo.column,{ascending:!1,descending:!1}),s(i,this.sortdirection)}this._oldsortinfo={column:i,direction:this.sortdirection},this.sortdirection&&e.each(this.columns.records,function(s,r){var n=e.data(document.body,"groupsortelements"+this.displayfield);null==i||this.displayfield!=i?(e(this.sortasc).hide(),e(this.sortdesc).hide(),null!=n&&(n.sortasc.hide(),n.sortdesc.hide())):t.sortdirection.ascending?(e(this.sortasc).show(),e(this.sortdesc).hide(),null!=n&&(n.sortasc.show(),n.sortdesc.hide())):(e(this.sortasc).hide(),e(this.sortdesc).show(),null!=n&&(n.sortasc.hide(),n.sortdesc.show()))})},getsortcolumn:function(){return null!=this.sortcolumn?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(e,t,i,s,r){if(this._loading&&!1!==r)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e&&(t=null,e=this.sortcolumn),null!=e){var n=this.that;if(null==i&&null!=n.source.sortcomparer&&(i=n.source.sortcomparer),ascending="a"==t||"asc"==t||"ascending"==t||1==t,n.sortdirection=null!=t?{ascending:ascending,descending:!ascending}:{ascending:!1,descending:!1},n.sortcolumn=null!=t?e:null,n.source.sort||n.virtualmode){if(n.dataview.sortfield=e,n.dataview.sortfielddirection=null==t?"":ascending?"asc":"desc",n.source.sort&&!this._loading)return n.source.sort(e,t),void n._raiseEvent(6,{sortinformation:n.getsortinformation()})}else n.dataview.sortby(e,t,i);if(!1===s)return;n.groupable&&n.groups.length>0?(n._render(!0,!1,!1),n._updategroupheadersbounds&&n.showgroupsheader&&n._updategroupheadersbounds(),n._postrender("sort")):(n.pageable&&n.dataview.updateview(),n._updaterowsproperties(),n.rendergridcontent(!0),n._postrender("sort")),n._raiseEvent(6,{sortinformation:n.getsortinformation()})}},_togglesort:function(e){var t=this.that;if(!this.disabled&&e.sortable&&t.sortable){var i=t.getsortinformation(),s=null;null!=i.sortcolumn&&i.sortcolumn==e.displayfield?(s=i.sortdirection.ascending,s=t.sorttogglestates>1?1!=s&&null:!s):s=!0,t.sortby(e.displayfield,s,null)}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_initpager:function(){var t=this.that,i=this.gridlocalization.pagergotopagestring,s=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),r=(this.pagerheight-20)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="line-height: 20px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if(this.pagerrenderer){this.pagerdiv.children().remove();var n=this.pagerrenderer();null!=n&&this.pagerdiv.append(e(n)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",r),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||e('<div style="margin-right: 12px; width: 27px; height: 20px; float: right;"><input style="margin-top: 0px; text-align: right; height:20px; width: 27px;" type="text"/></div>'),this.pagergoto=this.pagergoto||e('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=e('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerlastbutton=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var o=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");o.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(o);var a=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");a.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(a),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var l=this.rtl?"right":"left";this.pagerbuttons.css("float",l),this.pagerlastbutton.css("float",l),this.pagerfirstbutton.css("float",l),this.pagerrightbutton.css("float",l),this.pagerleftbutton.css("float",l),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var h=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");h.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(h);var d=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");d.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(d),this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var c=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:c,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:20,theme:this.theme});for(var u=0,p=0;p<c.length;p++)this.pagesize>=c[p]&&(u=p);this.pagershowrows[0].innerHTML=s,this.pagergoto[0].innerHTML=i,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:u}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");t=this.that;this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(e){if(e.args){t.vScrollInstance&&t.vScrollInstance.setPosition(0),null!=t.editcell&&t.endcelledit&&t.endcelledit(t.editcell.row,t.editcell.column,!0,!1);var i=e.args.index,s=t.dataview.pagenum*t.dataview.pagesize,r=c[i],n=t.pagesize;t.pagesize=parseInt(r),isNaN(t.pagesize)&&(t.pagesize=10),r>=100?t.pagershowrowscombo.jqxDropDownList({width:"auto"}):t.pagershowrowscombo.jqxDropDownList({width:44}),t.dataview.pagesize=t.pagesize;var o=Math.floor(s/t.dataview.pagesize);t.prerenderrequired=!0,t._requiresupdate=!0,t._raiseEvent(10,{pagenum:o,oldpagesize:n,pagesize:t.dataview.pagesize}),t.gotopage(o),t.autoheight&&t._updatesizeonwindowresize&&(t._updatesize(!0),setTimeout(function(){t._updatesize(!0)},500))}});var f=this.pagergotoinput.find("input");f.addClass(this.toThemeProperty("jqx-grid-pager-input")),f.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(f,"keydown"),this.removeHandler(f,"change"),this.addHandler(f,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var i=f.val();return i=parseInt(i),isNaN(i)||t.gotopage(i-1),!1}}),this.addHandler(f,"change",function(){var e=f.val();e=parseInt(e),isNaN(e)||t.gotopage(e-1)}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){h.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){h.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+this.element.id,function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected")),h.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){t.pagerrightbutton.jqxButton("disabled")||(t.rtl?t.gotoprevpage():t.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){t.pagerleftbutton.jqxButton("disabled")||(t.rtl?t.gotonextpage():t.gotoprevpage())});var m=this;if("simple"===this.pagermode){var g=this.pagerfirstbutton,v=this.pagerlastbutton;this.addHandler(v,"mouseenter",function(){a.addClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseenter",function(){o.addClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mouseleave",function(){a.removeClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseleave",function(){o.removeClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mousedown",function(){a.addClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mousedown",function(){o.addClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(v,"mouseup",function(){a.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mouseup",function(){o.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+name+this.element.id,function(){d.removeClass(m.toThemeProperty("jqx-icon-arrow-right-selected")),h.removeClass(m.toThemeProperty("jqx-icon-arrow-left-selected")),a&&(a.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected")),o.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(g,"click",function(){if(!g.jqxButton("disabled"))if(m.rtl){var e=m.dataview.totalrecords,t=Math.ceil(e/m.pagesize);m.gotopage(t-1)}else m.gotopage(0)}),this.addHandler(v,"click",function(){if(!v.jqxButton("disabled"))if(m.rtl)m.gotopage(0);else{var e=m.dataview.totalrecords,t=Math.ceil(e/m.pagesize);m.gotopage(t-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var t=this.pagergotoinput.find("input");t.removeClass(),t.addClass(this.toThemeProperty("jqx-grid-pager-input")),t.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var i=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(i);var s=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(s.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(s),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var r=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");r.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(r);var n=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");n.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(n),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var o=function(e,t){e.removeHandler(t,"mouseenter"),e.removeHandler(t,"mouseleave"),e.removeHandler(t,"mousedown"),e.removeHandler(t,"mouseup")};o(this,this.pagerrightbutton),o(this,this.pagerleftbutton);var a=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){s.addClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){i.addClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){s.removeClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){i.removeClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){s.addClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){s.removeClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){i.addClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){i.removeClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(e){if(null!=e&&null!=e||(e=0),-1==e&&(e=0),!(e<0)){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:e,pagesize:this.dataview.pagesize});var s=Math.ceil(t/this.pagesize);if(e>=s&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),e>0&&(e=s-1),e<0&&(e=0)),(this.dataview.pagenum!=e||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(e,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=e,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var r=e*this.dataview.pagesize,n=r+this.dataview.pagesize;if(null!=r&&null!=n)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight){var o=this.host.height()-this._gettableheight();height=o+this._pageviews[0].height,height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))}null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.focus(),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.gotopage(t-1)}},gotonextpage:function(){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.dataview.pagenum<t-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var t=this.dataview.pagenum*this.pagesize,i=(this.dataview.pagenum+1)*this.pagesize;i>=this.dataview.totalrecords&&(i=this.dataview.totalrecords);var s=this.dataview.totalrecords;this.summaryrows&&(s+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(i=s)),t++;var r=Math.ceil(s/this.dataview.pagesize);if(r>=1&&r--,r++,"simple"!==this.pagermode){this.pagergotoinput.find("input").val(this.dataview.pagenum+1)}else{var n="",o=this.pagerbuttonscount;0!=o&&o||(o=5);var a=0;for(this.rtl&&(a=o-1);this.rtl&&a>=0||!this.rtl&&a<o;){var l=1+a,h=this.dataview.pagenum/o;l+=Math.floor(h)*o;var d=this.toTP("jqx-grid-pager-number");if(d+=" "+this.toTP("jqx-rc-all"),l>r)break;if(this.rtl||0==a&&l>o&&(n+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(-1+l)+"'>...</a>"),this.dataview.pagenum===l-1&&(d+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(a===o-1){d=this.toTP("jqx-grid-pager-number");d+=" "+this.toTP("jqx-rc-all"),r>=1+l&&(n+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(1+l)+"'>...</a>")}this.dataview.pagenum===l-1&&(d+=" "+this.toTP("jqx-fill-state-pressed")),n+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+l+"'>"+l+"</a>"}else if(n+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+l+"'>"+l+"</a>",a===o-1){var d=this.toTP("jqx-grid-pager-number");d+=" "+this.toTP("jqx-rc-all"),r>=1+l&&(n+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(1+l)+"'>...</a>")}if(this.rtl){d=this.toTP("jqx-grid-pager-number");d+=" "+this.toTP("jqx-rc-all"),0==a&&l>o&&(n+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(-1+l)+"'>...</a>")}this.rtl?a--:a++}var c=this.pagerbuttons.find("a");this.removeHandler(c,"click"),this.removeHandler(c,"mouseenter"),this.removeHandler(c,"mouseleave"),this.pagerbuttons[0].innerHTML=n;var u=this;c=this.pagerbuttons.find("a");u.addHandler(c,"click",function(t){var i=e(t.target).attr("data-page");return u.gotopage(parseInt(i)-1),!1}),u.addHandler(c,"mouseenter",function(t){e(t.target).addClass(u.toTP("jqx-fill-state-hover"))}),u.addHandler(c,"mouseleave",function(t){e(t.target).removeClass(u.toTP("jqx-fill-state-hover"))})}this.pagergotoinput.attr("title","1 - "+r),0==i&&i<t&&(t=0),this.rtl?this.pagerdetails[0].innerHTML=s+this.gridlocalization.pagerrangestring+i+"-"+t:this.pagerdetails[0].innerHTML=t+"-"+i+this.gridlocalization.pagerrangestring+s,t>i&&this.gotoprevpage()}},_updatepagedview:function(e,t,i){var s=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var r=this.dataview.rows.length,n=0;n<r;n++){var o=this.dataview.rows[n].visibleindex,a={index:o,height:this.heights[o],hidden:this.hiddens[o],details:this.details[o]};if(null==this.heights[o]&&(this.heights[o]=this.rowsheight,a.height=this.rowsheight),null==this.hiddens[o]&&(this.hiddens[o]=!1,a.hidden=!1),null==this.details[o]&&(this.details[o]=null),a.height!=s.rowsheight&&(t-=s.rowsheight,t+=a.height),a.hidden)t-=a.height;else{i+=a.height;var l=0;this.rowdetails&&a.details&&a.details.rowdetails&&!a.details.rowdetailshidden&&(i+=l=a.details.rowdetailsheight,t+=l)}}return this._pageviews[0]={top:0,height:i},t}})}(jqxBaseFramework),function(e){e.jqx.dataview.grouping=function(){this.loadgrouprecords=function(t,i,s,r,n,o,a,l,h){for(var d=t,c=new Array,u=0;u<this.groups.length;u++)c[u]=this.generatekey();var p=new Array,f=0,m=(c=c,new Array),g=i,v=this.groups.length;this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array;var x=null!=this.sortdata,b=x?this.sortdata:this.records;if(this.pageable){var w=new Array,y=0;b[i]||(e.each(b,function(e,t){w[i+e++]=this}),b=w)}if(this.virtualmode){for(w=new Array,y=0,g=0;g<s-i;g++)b[g]?w[i+y++]=b[g]:b[i+y]&&(w[i+y]=b[i+y],y++);g=0,b=w}for(var _=i;_<s;_++){var j={};j=x?e.extend({},b[_].value):e.extend({},b[_]),id=j[this.uniqueId],(n>=l||id!=a[n][this.uniqueId]||o&&o[id])&&(h[h.length]=n);var q=new Array,S=0;for(u=0;u<v;u++){var T=j[O=this.groups[u]];null==T&&(T=""),q[S++]={value:T,hash:c[u]}}if(q.length!=v)break;for(var C=null,I="",k=0;k<q.length;k++){0;var P=q[k].value;if(null==m[I=I+"_"+q[k].hash+"_"+P]||null==m[I]){if(null==C)C={group:P,subItems:new Array,subGroups:new Array,level:0},p[f++]=C,C.uniqueid=this.generatekey(),this.loadedgroupsByKey[P]=C;else{var M={group:P,subItems:new Array,subGroups:new Array,parentItem:C,level:C.level+1};this.loadedgroupsByKey[C.uniqueid+"_"+P]=M,M.uniqueid=this.generatekey(),C.subGroups[C.subGroups.length++]=M,C=M}m[I]=C}else C=m[I]}null!=C?(null==j.uid&&(j.uid=this.getid(this.source.id,j,g)),x?(j.boundindex=b[_].index,this.recordsbyid["id"+j.uid]=b[_].value):(j.boundindex=g,this.recordsbyid["id"+j.uid]=b[_]),this.bounditems[j.boundindex]=j,this.sortedgroups[g]=j,j.uniqueid=this.generatekey(),j.parentItem=C,j.level=C.level+1,C.subItems[C.subItems.length++]=j):(null==j.uid&&(j.uid=this.getid(this.source.id,j,g)),x?(j.boundindex=b[_].index,this.recordsbyid["id"+j.uid]=b[_].value):(j.boundindex=g,this.recordsbyid["id"+j.uid]=b[_]),this.sortedgroups[g]=j,this.bounditems[j.boundindex]=j,j.uniqueid=this.generatekey()),n++,g++,0}var N=function(e,i,s){for(var r=0;r<i.subItems.length;r++)i.subItems[r].visibleindex=t+s,e.rows[s]=i.subItems[r],e.loadedrecords[s]=i.subItems[r],s++;return s},D=function(e,i,s){var r=1,n=e.grid.columns.records?e.grid.columns.records:e.grid.columns;if(1==e.aggregates)for(var o=0;o<n.length;o++)n[o].aggregates&&(r=Math.max(r,n[o].aggregates.length));for(subGroup in i.subGroups){var a=i.subGroups[subGroup];a.subGroups&&(e.loadedgroups[e.loadedgroups.length]=a,a.visibleindex=t+s,e.rows[s]=a,e.loadedrecords[s]=a,s++,a.subGroups.length>0?s=D(e,a,s):a.subItems.length>0&&(s=N(e,a,s)))}return i.subItems.length>0&&(s=N(e,i,s)),function(i){if(1==e.aggregates)for(var o=function(r){var o=i,a={},l=function(t){for(var i=0;i<n.length;i++)if(n[i].aggregates)for(var s=e.grid.getcolumnaggregateddata(n[i].datafield,n[i].aggregates,!0,t),o=0;o<n[i].aggregates.length;o++)if(n[i].aggregates[r]){var l=n[i],h=n[i].aggregates[r],d=h,c=(d=e.grid._getaggregatename(d))+":"+s[h];a[l.datafield]=c}};if(null!=o)if(a.level=o.level,a.visibleindex=t+s,a.uniqueid=e.generatekey(),e.rows[s]=a,e.loadedrecords[s++]=a,a.totalsrow=!0,i.subItems.length>0){o=i.subItems[i.subItems.length-1],a.parentItem=o.parentItem,a.parentItem.subItems&&(a.parentItem.subItems[a.parentItem.subItems.length]=a);var h=[];(d=function(){for(var e=0;e<i.subItems.length;e++)i.subItems[e].totalsrow||(h[h.length]=i.subItems[e])})(i),l(h)}else if(i.subGroups.length>0){var d;o=i.subGroups[i.subGroups.length-1],a.level=o.level,a.parentItem=i,i.subGroups[i.subGroups.length]=a,h=[],(d=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(h[h.length]=e.subItems[t]);for(t=0;t<e.subGroups.length;t++)d(e.subGroups[t])}})(i),l(h)}},a=0;a<r;a++)o(a)}(i),s},B=p.length;this.loadedgroups=new Array,this.rows=new Array;for(d=0,g=0;g<B;g++){var O=p[g];this.loadedrootgroups[g]=O,this.loadedgroups[this.loadedgroups.length]=O,O.visibleindex=t+d,this.rows[d]=O,this.loadedrecords[d]=O,d=D(this,O,++d)}return d},this._updategroupsinpage=function(t,i,s,r,n,o,a){var l=new Array,h=[];if(this.groupable&&this.groups.length>0){for(var d=0,c=new Array,u=new Array,p=0;p<t.groups.length;p++)u[p]=t.generatekey();var f=0,m=new Array,g=0;a>this.totalrecords&&(a=this.totalrecords);for(var v=o;v<a;v++){var x=e.extend({},t.sortedgroups[v]);if(id=x[t.uniqueId],!t.pagesize||s>=t.pagesize*t.pagenum&&s<t.pagesize*(t.pagenum+1)){(r>=n||id!=l[r][t.uniqueId]||updated&&updated[id])&&(h[h.length]=r);var b=new Array,w=0;for(p=0;p<t.groups.length;p++){var y=x[M=t.groups[p]];null==y&&(y=""),b[w++]={value:y,hash:u[p]}}if(b.length!=t.groups.length)break;for(var _=null,j="",q=0;q<b.length;q++){0;var S=b[q].value;if(null==c[j=j+"_"+b[q].hash+"_"+S]||null==c[j]){if(null==_){_={group:S,subItems:new Array,subGroups:new Array,level:0},m[g++]=_,null!=(C=t.loadedgroupsByKey[S])&&(_.visibleindex=C.visibleindex,_.uniqueid=C.uniqueid)}else{var T={group:S,subItems:new Array,subGroups:new Array,parentItem:_,level:_.level+1},C=t.loadedgroupsByKey[_.uniqueid+"_"+S];T.visibleindex=C.visibleindex,T.uniqueid=C.uniqueid,_.subGroups[_.subGroups.length++]=T,_=T}c[j]=_}else _=c[j]}null!=_&&(x.parentItem=_,x.level=_.level+1,_.subItems[_.subItems.length++]=x),r++}f++,s++}var I=function(t,i,s){for(var r=0;r<i.subItems.length;r++)l[s]=e.extend({},i.subItems[r]),s++;return s},k=function(e){var t=!1;for(subGroup in e.subGroups){var i=e.subGroups[subGroup];if(i.subGroups){if(i.subGroups.length>0)if(k(i))return t=!0,!0;if(i.subItems.length>0)return t=!0,!0}}return e.subItems.length>0?(t=!0,!0):t},P=function(e,t,i){var s=1,r=e.grid.columns.records?e.grid.columns.records:e.grid.columns;if(1==e.aggregates)for(var n=0;n<r.length;n++)r[n].aggregates&&(s=Math.max(s,r[n].aggregates.length));var o=function(t){if(1==e.aggregates)for(var n=function(s){var n=t,o={},a=function(t){for(var i=0;i<r.length;i++)if(r[i].aggregates)for(var n=e.grid.getcolumnaggregateddata(r[i].datafield,r[i].aggregates,!0,t),a=0;a<r[i].aggregates.length;a++)if(r[i].aggregates[s]){var l=r[i],h=r[i].aggregates[s],d=h,c=(d=e.grid._getaggregatename(d))+":"+n[h];o[l.datafield]=c}};if(null!=n)if(o.level=n.level,o.visibleindex=i,o.uniqueid=e.generatekey(),l[i]=o,e.loadedrecords[i++]=o,o.totalsrow=!0,t.subItems.length>0){n=t.subItems[t.subItems.length-1],o.parentItem=n.parentItem,o.parentItem.subItems&&(o.parentItem.subItems[o.parentItem.subItems.length]=o);var h=[];(d=function(){for(var e=0;e<t.subItems.length;e++)t.subItems[e].totalsrow||(h[h.length]=t.subItems[e])})(t),a(h)}else if(t.subGroups.length>0){n=t.subGroups[t.subGroups.length-1],o.level=n.level,o.parentItem=t,t.subGroups[t.subGroups.length]=o;var d;h=[];(d=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(h[h.length]=e.subItems[t]);for(t=0;t<e.subGroups.length;t++)d(e.subGroups[t])}})(t),a(h)}},o=0;o<s;o++)n(o)};for(subGroup in t.subGroups){var a=t.subGroups[subGroup];a.subGroups&&k(a)&&(l[i]=a,i++,a.subGroups.length>0?i=P(e,a,i):a.subItems.length>0&&(i=I(0,a,i)),o(a))}return t.subItems.length>0&&(i=I(0,t,i)),o(t),i};for(f=0;f<m.length;f++){var M=m[f];k(M)&&(l[d]=M,d=P(this,M,++d))}}return l}},e.extend(e.jqx._jqxGrid.prototype,{_initgroupsheader:function(){if(this.groupsheader.css("visibility","hidden"),this._groupsheader()){this.groupsheader.css("visibility","inherit");var t=this,i=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||e('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array;var s=this.groups.length;this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="";var r=new Array;if(s>0)e.each(this.groups,function(i){var n=this,o=t._getColumnText(this).label,a=t._rendergroupcolumn(o,n);if(a.addClass(t.toThemeProperty("jqx-grid-group-column")),t.groupsheaderdiv.append(a),t.closeablegroups){var l=e(a.find(".jqx-icon-close"));t.isTouchDevice()&&!0!==t.touchmode?t.addHandler(l,"touchstart",function(){return t.removegroupat(i),!1}):t.addHandler(l,"click",function(){return t.removegroupat(i),!1})}if(t.sortable&&t.addHandler(a,"click",function(){var e=t.getcolumn(n);return null!=e&&t._togglesort(e),!1}),r[r.length]=a,t._handlegroupstocolumnsdragdrop(this,a),i<s-1){var h=a.height(),d=e('<div style="float: left; position: relative;"></div>');t.rtl&&d.css("float","right"),d.width(t.groupindentwidth/3),d.height(1),d.css("top",h/2),d.addClass(t.toThemeProperty("jqx-grid-group-column-line")),t.groupsheaderdiv.append(d)}});else{var n=e('<div style="position: relative;">'+i+"</div>");this.groupsheaderdiv.append(n),this.rtl&&n.addClass(this.toThemeProperty("jqx-rtl"))}this._groupheaders=r,this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var t=this,i=this.groupsheaderdiv.children().outerHeight(),s=(this.groupsheader.height()-i)/2;this.groupsheaderdiv.css("top",s),this.rtl?(this.groupsheaderdiv.css("left",""),this.groupsheaderdiv.css("right",s)):(this.groupsheaderdiv.css("left",s),this.groupsheaderdiv.css("right","")),this.rtl&&this._groupheaders.reverse(),e.each(this._groupheaders,function(e){var i=this.coord();t.groupheadersbounds[e]={left:i.left,top:i.top,width:this.outerWidth(),height:this.outerHeight(),index:e}})},addgroup:function(e){if(e){this.groups!==this.dataview.groups&&(this.dataview.groups=this.groups),this.groups[this.groups.length]=e,this.refreshgroups(),this._raiseEvent(12,{type:"Add",index:this.groups[this.groups.length],groups:this.groups})}},insertgroup:function(e,t){if(null!=e&&null!=e&&e>=0&&e<=this.groups.length&&t){this.groups!==this.dataview.groups&&(this.dataview.groups=this.groups),this.groups.splice(e,0,t.toString()),this.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:e,groups:this.groups})}},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1),this._postrender("group")},_insertaftergroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i+1,t)},_insertbeforegroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i,t)},removegroupat:function(e){if(e>=0&&null!=e&&null!=e){return this.groups!==this.dataview.groups&&(this.dataview.groups=this.groups),this.groups.splice(e,1),this.refreshgroups(),this.virtualmode&&this.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:e,groups:this.groups}),!0}return!1},cleargroups:function(){return this.groups=[],this.dataview.groups=this.groups,this.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:this.groups}),!0},removegroup:function(e){if(null==e)return!1;var t=this.groups.indexOf(e.toString());return this.removegroupat(t)},getrootgroupscount:function(){return this.dataview.loadedrootgroups.length},collapsegroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!1);var t=e.toString().split("."),i=null;this.groupsVisibility||(this.groupsVisibility=new Array);for(var s=0;s<t.length;s++){e=parseInt(t[s]);if(0==s){i=this.dataview.loadedrootgroups[e];this.groupsVisibility[i.group]=null}else{var r=i.subGroups[e];r&&(i=r,s==t.length-1&&(this._setgroupstate(i,!1,!0),this.groupsVisibility[i.group]=null))}}},expandgroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!0);for(var t=e.toString().split("."),i=null,s=0;s<t.length;s++){e=parseInt(t[s]);if(0==s){i=this.dataview.loadedrootgroups[e];this._setrootgroupstate(e,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i}else{var r=i.subGroups[e];r&&(i=r,this._setgroupstate(i,!0,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i)}}},collapseallgroups:function(e){this._setbatchgroupstate(!1,e)},expandallgroups:function(e){this._setbatchgroupstate(!0,e)},isgroupexpanded:function(e){var t=this.dataview.loadedrootgroups[e];return null==t?null:this.expandedgroups[t.uniqueid].expanded},getgroup:function(t){var i=this.dataview.loadedrootgroups[t];if(null==i)return null;var s=this.expandedgroups[i.uniqueid].expanded,r=i.group,n=i.level,o=new Array;this._getsubgroups(o,i);var a=this,l={group:r,level:n,expanded:s,subgroups:o};if(i.subItems){var h=new Array;e.each(i.subItems,function(){var e=this.boundindex;h[h.length]=a.getrowdata(e)}),h.length>0&&(l.subrows=h)}return l},getrootgroups:function(){for(var e=this.dataview.loadedrootgroups.length,t=new Array,i=0;i<e;i++)t[i]=this.getgroup(i);return t},_getsubgroups:function(t,i){var s=this;for(obj in i.subGroups){var r=i.subGroups[obj],n=s.expandedgroups[r.uniqueid].expanded,o=r.group,a=r.level;if(t[t.length]={group:o,level:a,expanded:n},r.subItems){var l=new Array;e.each(r.subItems,function(){var e=this.boundindex;l[l.length]=s.getrowdata(e)}),t[t.length-1].subrows=l}if(r.subGroups){var h=new Array;s._getsubgroups(h,r)}}return t},_setbatchgroupstate:function(e,t){for(obj in this.dataview.loadedrootgroups)this._setrootgroupstate(obj,e,!1,!0);if(0==t)return this._requiresupdate=!0,this._renderrows(this.virtualsizeinfo),!0;var i=this.vScrollBar[0].style.visibility;return this.rendergridcontent(!0,!1),(i!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(e,t,i,s){if(null==e||null==e||e<0)return!1;if(!this.groupable||0==this.groups.length)return!1;var r=null==i||i;if(e>=0&&e<this.dataview.loadedrootgroups.length){var n=this.dataview.loadedrootgroups[e];if(this.pageable){for(var o=new Array,a=0;a<this.dataview.rows.length;a++)null!=this.dataview.rows[a].group&&0===this.dataview.rows[a].level&&o.push(this.dataview.rows[a]);if(!(n=o[e]))return}return this._setgroupstate(n,t,r,s)}return!1},_togglegroupstate:function(e,t){if(null==e||null==e)return!1;var i=this.vScrollInstance.value,s=this.expandedgroups[e.uniqueid];s=!(s=null!=s&&s.expanded),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[e.group]=s?e:null;var r=this._setgroupstate(e,s,t);return this._newmax=null,0!==i&&"hidden"!==this.vScrollBar.css("visibility")&&(i<=this.vScrollInstance.max?this.vScrollInstance.setPosition(i):this.vScrollInstance.setPosition(this.vScrollInstance.max)),r},_setgroupstate:function(e,t,i,s){if(null==e||null==e)return!1;var r=!1;this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1);var n=this.expandedgroups[e.uniqueid];if(null==n&&(n={expanded:!1},r=!0),n.expanded!=t&&(r=!0),r){if(this.expandedgroups[e.uniqueid]={expanded:t,group:e},this._setsubgroupsvisibility(this,e,!t,s),i){var o=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(o!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}return null!=this.suspendgroupevents&&0!=this.suspendgroupevents||(t?this._raiseEvent(4,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex}):this._raiseEvent(5,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex})),!0}return!1},_setgroupitemsvisibility:function(e,t,i){for(var s=0;s<t.subItems.length;s++)e._setrowvisibility(t.subItems[s].visibleindex,i,!1)},_setsubgroupsvisibility:function(e,t,i,s){if(null!=t.parentItem){if(this.hiddens[t.parentItem.visibleindex])return}else if(null==t.parentItem&&this.hiddens[t.visibleindex])return;for(subGroup in t.subGroups){var r=t.subGroups[subGroup];i||e._setrowvisibility(r.visibleindex,i,!1);var n=!i;s?this.expandedgroups[r.uniqueid]={expanded:n,group:r}:n=null!=e.expandedgroups[r.uniqueid]&&e.expandedgroups[r.uniqueid].expanded,r.subGroups&&(r.subGroups.length>0?e._setsubgroupsvisibility(e,r,!n||i,s):r.subItems.length>0&&e._setgroupitemsvisibility(e,r,!n||i)),i&&e._setrowvisibility(r.visibleindex,i,!1)}t.subItems&&t.subItems.length>0&&e._setgroupitemsvisibility(e,t,i)},_handlecolumnsdragdrop:function(){var t=this,i=-1,s=!1;if(t.groupable){var r="mousemove.grouping"+this.element.id,n=(this.element.id,"mouseup.grouping"+this.element.id),o=!1;this.isTouchDevice()&&!0!==this.touchmode&&(o=!0,r=e.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,e.jqx.mobile.getTouchEventName("touchstart")+".grouping"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){if(!t.showgroupsheader)return!0;if(null!=t.dragcolumn){var n=parseInt(r.pageX),a=parseInt(r.pageY);if(o){var l=t.getTouches(r)[0];n=parseInt(l.pageX),a=parseInt(l.pageY)}var h=t.host.coord(),d=parseInt(h.left),c=parseInt(h.top);null!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var u=parseInt(n)-parseInt(t.dragmousedownoffset.left),p=parseInt(a)-parseInt(t.dragmousedownoffset.top);if(t.dragcolumn.css({left:u+"px",top:p+"px"}),s=!1,n>=d&&n<=d+t.host.width()&&a>=c&&a<=c+t.host.height()&&(s=!0),i=-1,s){t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var f=t.groupsheader.coord(),m=f.top+t.groupsheader.height(),g=e.data(t.dragcolumn[0],"datarecord");if(g)var v=t.groups.indexOf(g.toString());else v=-1;var x=-1==v||t.groups.length>1&&v>-1;null!=t.dropline&&(a>=f.top&&a<=m?x&&(i=t._handlegroupdroplines(n)):t.dropline.fadeOut("slow"))}else null!=t.dropline&&t.dropline.fadeOut("slow"),t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(o)return r.preventDefault(),r.stopPropagation(),!1}}),this.removeHandler(e(document),n),this.addHandler(e(document),n,function(r){if(!t.showgroupsheader)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");parseInt(r.pageX);var n=parseInt(r.pageY);if(o){var a=t.getTouches(r)[0];parseInt(a.pageX),n=parseInt(a.pageY)}var l=t.host.coord(),h=(parseInt(l.left),parseInt(l.top)),d=t.groupsheader.height();if(t.showtoolbar&&(h+=t.toolbarheight),t.dragstarted=!1,t.dragmousedown=null,null!=t.dragcolumn){var c=e.data(t.dragcolumn[0],"datarecord");if(t.dragcolumn.remove(),t.dragcolumn=null,null!=c){if(!t.getcolumn(c).groupable)return void(null!=t.dropline&&(t.dropline.remove(),t.dropline=null));if(s)if(-1!=i){var u=i.index,p=t.groups[u];(f=t._getGroupIndexByDataField(c))!=u&&(null!=f&&f>=0&&t.groups.splice(f,1),"before"==i.position?t.rtl?t._insertaftergroup(p,c):t._insertbeforegroup(p,c):t.rtl?t._insertbeforegroup(p,c):t._insertaftergroup(p,c))}else if(0==t.groups.length)n>h&&n<=h+d&&t.addgroup(c);else if(n>h+d){var f=t._getGroupIndexByDataField(c);t.removegroupat(f)}null!=t.dropline&&(t.dropline.remove(),t.dropline=null)}}})}},_getGroupIndexByDataField:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return t;return-1},_isColumnInGroups:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return!0;return!1},_handlegroupdroplines:function(t){var i=this,s=-1;return e.each(i.groupheadersbounds,function(e){if(t<=this.left+this.width/2){var r=this.left-3;return e>0&&(r=this.left-1-i.groupindentwidth/6),i.dropline.css("left",r),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),s={index:e,position:"before"},i.rtl&&(s={index:i.groupheadersbounds.length-1-e,position:"before"}),!1}t>=this.left+this.width/2&&(i.dropline.css("left",1+this.left+this.width),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),s={index:e,position:"after"},i.rtl&&(s={index:i.groupheadersbounds.length-1-e,position:"after"}))}),s},_handlegroupstocolumnsdragdrop:function(t,i){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var s,r=this,n="mousedown",o="mousemove",a=!1;this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,n=e.jqx.mobile.getTouchEventName("touchstart"),o=e.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,n,function(t){if(!r.showgroupsheader)return!0;var i=t.pageX,s=t.pageY;if(r.__drag=!0,r.dragmousedown={left:i,top:s},a){var n=r.getTouches(t)[0];i=n.pageX,s=n.pageY,r.dragmousedown={left:i,top:s},t.preventDefault&&t.preventDefault()}var o=e(t.target).coord();r.dragmousedownoffset={left:parseInt(i)-parseInt(o.left),top:parseInt(s-o.top)}}),this.addHandler(i,o,function(n){if(!r.showgroupsheader)return!0;if(r.dragmousedown){if(s={left:n.pageX,top:n.pageY},a){var o=r.getTouches(n)[0];s={left:o.pageX,top:o.pageY}}if(!r.dragstarted&&null==r.dragcolumn){var l=Math.abs(s.left-r.dragmousedown.left),h=Math.abs(s.top-r.dragmousedown.top);(l>3||h>3)&&(r._createdragcolumn(i,s,!0),e(document.body).addClass("jqx-disableselect"),e.data(r.dragcolumn[0],"datarecord",t),n.preventDefault&&n.preventDefault())}}})},_createdragcolumn:function(t,i,s){var r=this,n=i;r.dragcolumn=e("<div></div>");var o=t.clone();r.dragcolumn.css("z-index",999999),o.css("border-width","1px"),o.css("opacity","0.4");var a=e(o.find("."+r.toThemeProperty("jqx-grid-column-menubutton")));a.length>0&&a.css("display","none");var l=e(o.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),r.dragcolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),r.dragcolumnicon.addClass(r.toThemeProperty("jqx-grid-drag-icon")),r.dragcolumn.css("float","left"),r.dragcolumn.css("position","absolute");r.host.coord();o.width(t.width()+16),r.dragcolumn.append(o),r.dragcolumn.height(t.height()),r.dragcolumn.width(o.width()),r.dragcolumn.append(r.dragcolumnicon),e(document.body).append(r.dragcolumn),o.css("margin-left",0),o.css("left",0),o.css("top",0),r.dragcolumn.css("left",n.left+r.dragmousedown.left),r.dragcolumn.css("top",n.top+r.dragmousedown.top),null!=s&&s&&(r.dropline=e('<div style="display: none; position: absolute;"></div>'),r.dropline.width(2),r.dropline.addClass(r.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(r.dropline))},iscolumngroupable:function(e){return this._getcolumnproperty(e,"groupable")},_handlecolumnstogroupsdragdrop:function(t,i){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var s=this,r=!1;this.isTouchDevice()&&!0!==this.touchmode&&(r=!0);var n="mousedown.drag",o="mousemove.drag";r?(n=e.jqx.mobile.getTouchEventName("touchstart")+".drag",o=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,n,function(n){if(!s.showgroupsheader)return!0;if(s.__drag=!0,s._isColumnInGroups(t.displayfield))return i.css("cursor"),!0;if(0==t.groupable)return!0;var o=n.pageX,a=n.pageY;if(r){var l=s.getTouches(n)[0];o=l.pageX,a=l.pageY}s.dragmousedown={left:o,top:a},r&&n.preventDefault&&n.preventDefault();var h=e(n.target).coord();s.dragmousedownoffset={left:parseInt(o)-parseInt(h.left),top:parseInt(a-h.top)}}),this.addHandler(i,o,function(n){if(!s.showgroupsheader)return!0;if(s._isColumnInGroups(t.displayfield))return i.css("cursor"),!0;if(s.dragmousedown){var a=n.pageX,l=n.pageY;if(r){var h=s.getTouches(n)[0];a=h.pageX,l=h.pageY}if(o={left:a,top:l},!s.dragstarted&&null==s.dragcolumn){var d=Math.abs(o.left-s.dragmousedown.left),c=Math.abs(o.top-s.dragmousedown.top);(d>3||c>3)&&(s._createdragcolumn(i,o,!0),e.data(s.dragcolumn[0],"datarecord",t.displayfield),n.preventDefault&&n.preventDefault())}}})},_rendergroupcolumn:function(t,i){var s=e('<div style="float: left; position: relative;"></div>');if(this.rtl&&s.css("float","right"),null!=this.groupcolumnrenderer&&(s[0].innerHTML=this.groupcolumnrenderer(t),s.addClass(this.toThemeProperty("jqx-grid-group-column")),s.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups){""==s[0].innerHTML&&(s[0].innerHTML='<a style="float: left;" href="#">'+t+"</a>"),this.rtl&&(s[0].innerHTML='<a style="float: right;" href="#">'+t+"</a>");var r=this.rtl?"left":"right",n='<div style="float: '+r+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(n='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl){n='<div style="float: '+r+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';e.jqx.browser.msie&&e.jqx.browser.version<8&&(n='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>')}s[0].innerHTML+=n}else""==s[0].innerHTML&&(s[0].innerHTML='<a href="#">'+t+"</a>");if(this.sortable){var o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.rtl){o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}o.css("display","none"),a.css("display","none"),e.jqx.browser.msie&&e.jqx.browser.version<8&&(o.css("float","left"),a.css("float","left")),s.append(o),s.append(a),e.data(document.body,"groupsortelements"+i,{sortasc:o,sortdesc:a})}return s.addClass(this.toThemeProperty("jqx-fill-state-normal")),s.addClass(this.toThemeProperty("jqx-grid-group-column")),s},_rendergroup:function(t,i,s,r,n,o,a){var l=i,h=i.cells[s.level];this.rtl&&(h=i.cells[i.cells.length-1-s.level]);var d=this._findgroupstate(s.uniqueid);if(s.bounddata.subGroups.length>0||s.bounddata.subItems.length>0){var c=this.rtl?"-rtl":"",u=this.toThemeProperty("jqx-icon-arrow-right");c&&(u=this.toThemeProperty("jqx-icon-arrow-left")),h.className+=d?" "+this.toThemeProperty("jqx-grid-group-expand"+c)+" "+this.toThemeProperty("jqx-icon-arrow-down"):" "+this.toThemeProperty("jqx-grid-group-collapse"+c)+" "+u}var p=this._getColumnText(this.groups[s.level]).label,f=this.groupindentwidth,m=a-(k=this.rowdetails&&this.showrowdetailscolumn?(1+t)*f:t*f),g=s.level+1;this.rtl&&(g=0);for(var v=l.cells[g],x=2;null!=v&&"none"==v.style.display&&x<l.cells.length-1;)v=l.cells[g+x-1],x++;var b=e(v);if(v){if(v.style.width=parseInt(m)+"px",-1!=v.className.indexOf("jqx-grid-cell-filter")&&b.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),-1!=v.className.indexOf("jqx-grid-cell-sort")&&b.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),-1!=v.className.indexOf("jqx-grid-cell-pinned")&&b.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),null!=this.groupsrenderer){var w={group:s.group,level:s.level,parent:s.bounddata.parentItem,subGroups:s.bounddata.subGroups,subItems:s.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[s.level]).column},y=this.groupsrenderer(p+": "+s.group,s.group,d,w);if(y)v.innerHTML=y;else{var _=s.bounddata.subItems.length>0?s.bounddata.subItems.length:s.bounddata.subGroups.length;if(this.showgroupaggregates){var j=s.bounddata.subItems.length>0?s.bounddata.subItems:s.bounddata.subGroups;_=0;for(var q=0;q<j.length;q++)j[q].totalsrow||_++}v.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+s.group+" ("+_+")</span></div>"}}else{var S=this._getcolumnbydatafield(this.groups[s.level]),T=s.group;if(null==S)throw new Error("jqxGrid: Unable to find '"+this.groups[s.level]+"' group in the Grid's columns collection.");S.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(T)?T=e.jqx.dataFormat.formatdate(T,S.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(T)&&(T=e.jqx.dataFormat.formatnumber(T,S.cellsformat,this.gridlocalization)));_=s.bounddata.subItems.length>0?s.bounddata.subItems.length:s.bounddata.subGroups.length;if(this.showgroupaggregates){j=s.bounddata.subItems.length>0?s.bounddata.subItems:s.bounddata.subGroups;_=0;for(q=0;q<j.length;q++)j[q].totalsrow||_++}v.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+T+" ("+_+")</span></div>"}if(this.rtl){S||(S=this._getcolumnbydatafield(this.groups[s.level]));var C="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max-this.hScrollInstance.value,I="hidden"==this.vScrollBar.css("visibility")?0:this.scrollbarsize+6,k=this.rowdetails&&this.showrowdetailscolumn?(2+s.level)*f:(1+s.level)*f;v.style.width=a+parseInt(C)-k-I+"px",b.addClass(this.toThemeProperty("jqx-rtl"));var P=e(i.cells[i.cells.length-1]).css("z-index");b.css("z-index",P);var M=b.find("div");m=M.width();M.css("left","100%");var N=null!=this.columns.records[i.cells.length-2-s.level]&&this.columns.records[i.cells.length-2-s.level].pinned;if(this.table.width()<a&&(a=this.table.width(),"hidden"!=this.vScrollBar.css("visibility")&&(a+=this.vScrollBar.outerWidth())),S.pinned||N)this.rowdetails&&this.showrowdetailscolumn&&(a+=30),M.css("margin-left",-m),v.style.width=a+C-k-I+"px";else{C="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max;v.style.width=a+C-k-I+"px";m=M.width();M.css("margin-left",-m)}}}}})}(jqxBaseFramework),function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.aggregates=null,this.aggregatesRenderer=null,this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"autoCellHeight")&&(this.autoCellHeight=e.jqx.get(i,"autoCellHeight")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsFormat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsRenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesRenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var s in i)if(!this.hasOwnProperty(s)&&!this.hasOwnProperty(s.toLowerCase()))throw t.host.remove(),new Error("jqxDataTable: Invalid property name - "+s+".")}},this._initfields(i),this}e.jqx.jqxWidget("jqxDataTable","",{}),e.extend(e.jqx._jqxDataTable.prototype,{defineInstance:function(){var t={altRows:!1,aggregatesHeight:34,autoShowLoadElement:!0,autoRowHeight:!0,columnsHeight:30,columns:[],columnGroups:null,columnsResize:!1,columnsReorder:!1,dataview:null,disabled:!1,editable:!1,editSettings:{saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!1,editOnDoubleClick:!0,editOnF2:!0},enableHover:!0,enableBrowserSelection:!1,filterHeight:30,filterable:!1,filterMode:"default",groupsRenderer:null,groups:new Array,headerZIndex:359,height:null,handleKeyboardNavigation:null,indentWidth:25,initRowDetails:!1,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerHeight:28,pageSize:10,pageSizeOptions:["5","10","20"],pageable:!1,pagerPosition:"bottom",pagerMode:"default",pageSizeMode:"default",pagerButtonsCount:5,pagerRenderer:null,ready:null,rendertoolbar:null,rowDetails:!1,renderStatusBar:null,rendered:null,rendering:null,rtl:!1,sortable:!1,showtoolbar:!1,showstatusbar:!1,statusBarHeight:34,serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showAggregates:!1,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,beginEdit:null,endEdit:null,autokoupdates:!0,columnsVirtualization:!1,exportSettings:{columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,recordsInView:!0,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarHeight:34,tableZIndex:369,_updating:!1,touchmode:"auto",width:null,that:this,incrementalSearch:!0,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]};return this===e.jqx._jqxDataTable.prototype?t:(e.extend(!0,this,t),this.that=this,t)},createInstance:function(t){var i=this;if(15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),"table"==i.element.nodeName.toLowerCase()||e(i.element).children("table").length>0){var s=i.host.find("tbody tr"),r=i.host.find("th"),n=new Array;0===r.length&&(r=s[0],s.splice(0,1)),i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1));for(var o=[],a=0;a<s.length;a++){for(var l=s[a],h={},d=0;d<r.length;d++){var c=e.trim(e(r[d]).text());if(0===a){var u={name:c};if(i.columns[d]&&i.columns[d].cellsFormat){var p=i.columns[d].cellsFormat.toLowerCase();-1==p.indexOf("p")&&-1==p.indexOf("c")&&-1==p.indexOf("n")&&-1==p.indexOf("f")||(u.type="number"),-1==p.indexOf("d")&&-1==p.indexOf("m")&&-1==p.indexOf("y")&&-1==p.indexOf("h")&&-1==p.indexOf("m")&&-1==p.indexOf("s")&&-1==p.indexOf("t")||(u.type="date")}n.push(u)}var f=e(l).find("td:eq("+d+")");if(n[d].type){var m=i.getvaluebytype(e.trim(f.text()),n[d]);h[c]=m}else h[c]=e.trim(f.text())}o[o.length]=h}i.host.wrap("<div></div>");var g=i.host.parent(),v=i.host.data();v.jqxDataTable.host=g,v.jqxDataTable.element=g[0],i.host.parent()[0].id=i.element.id;try{i.host.parent()[0].style=i.element.style}catch(e){}i.element=g[0],i.host=g,i.host.data(v);var x={dataFields:n,localdata:o,datatype:"array"},b=new e.jqx.dataAdapter(x);i.source=b}i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source));var w=i.source._source.datafields;w&&w.length>0&&(i._camelCase=void 0!==i.source._source.dataFields),i.selectionMode=i.selectionMode.toLowerCase(),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i._testmodules()||(i.render(!0),e.jqx.utilities.resize(i.host,function(){var t=e(window).width(),s=e(window).height(),r=i.host.width(),n=i.host.height();i._lastHostWidth==r&&i._lastHostHeight==n||i._updatesize(i._lastHostWidth!=r,i._lastHostHeight!=n),i._lastWidth=t,i._lastHeight=s,i._lastHostWidth=r,i._lastHostHeight=n}))},getvaluebytype:function(t,i){var s=t;if(null==t)return t;if(","==this.gridlocalization.decimalseparator&&t.indexOf(this.gridlocalization.decimalseparator)>=0&&(t=t.replace(this.gridlocalization.decimalseparator,".")),t.indexOf(this.gridlocalization.currencysymbol)>=0&&(t=t.replace(this.gridlocalization.currencysymbol,"")),t.indexOf(this.gridlocalization.percentagesymbol)>=0&&(t=t.replace(this.gridlocalization.percentagesymbol,"")),e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i);return t}if("date"==i.type)if("NaN"==t)t="";else{var n=new Date(t);if("string"==typeof t&&i.format){var o=e.jqx.dataFormat.parsedate(t,i.format);null!=o&&(n=o)}null==(t=("NaN"==n.toString()||"Invalid Date"==n.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):n)&&(t=s)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type||"integer"==i.type){t=parseInt(t);isNaN(t)&&(t=s)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&null!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"");return t},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var s=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(s=!0),s?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=this,s=function(){""!=t.length&&(t+=",")};if(this.host.jqxScrollBar||(s(),t+=" jqxscrollbar.js"),this.host.jqxButton||(s(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(s(),t+=" jqxdata.js"),""!=t||this.editable||this.filterable||this.pageable){var r=[];if((this.filterable&&"simple"!=this.filterMode||"advanced"==this.pagerMode&&this.pageable)&&function(e){switch(e){case"checkbox":i.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,s(),t+=" jqxcheckbox.js");break;case"dropdownlist":i.host.jqxDropDownList||r.dropdownlist?i.host.jqxListBox||r.listbox||(s(),r.listbox=!0,t+=" jqxlistbox.js"):(s(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}}("dropdownlist"),""!=t)throw new Error("jqxDataTable: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus(),this.host.focus();var e=this;setTimeout(function(){e.wrapper.focus(),e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},isBindingCompleted:function(){return!this._loading},_updatesize:function(t,i){if(!this._loading){var s=this,r=s.host.width(),n=s.host.height();s._oldWidth||(s._oldWidth=r),s._oldHeight||(s._oldHeight=n),null!=s._resizeTimer&&(clearTimeout(s._resizeTimer),s._resizeTimer=null);var o=function(){s._resizeTimer&&clearTimeout(s._resizeTimer),s.resizingGrid=!0,e.jqx.isHidden(s.host)||(s._updatecolumnwidths(),s.refresh(),s._oldWidth=r,s._oldHeight=n,s.resizingGrid=!1)};o(),s._resizeTimer=setTimeout(function(){var e=s.host.width(),t=s.host.height();s._oldWidth==e&&s._oldHeight==t||o()},300)}},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();return this.touchDevice=t,1==this.touchmode?(t=!0,e.jqx.mobile.setMobileSimulator(this.table[0]),this.touchDevice=t):0==this.touchmode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(null!=t){for(var s in t)s.toLowerCase()!==s&&(t[s.toLowerCase()]=t[s]);for(var r=["pagergotopagestring","pagershowrowsstring","pagerrangestring","pagernextbuttonstring","pagerpreviousbuttonstring","pagerfirstbuttonstring","pagerlastbuttonstring","toppagerstring","firstDay","days","months","AM","PM","patterns","percentsymbol","currencysymbol","currencysymbolposition","decimalseparator","thousandsseparator","filterapplystring","filteraddnew","filtercancelstring","filterclearstring","filterstring","filterstringcomparisonoperators","filternumericcomparisonoperators","filterdatecomparisonoperators","filterbooleancomparisonoperators","emptydatastring","filterselectstring","todaystring","clearstring","validationstring","loadtext","filtersearchstring","loadingErrorMessage"],n=0;n<r.length;n++){var o=r[n];void 0!==t[o]&&(this.gridlocalization[o]=t[o])}t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),!1!==i&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}},_updateScrollbars:function(e){var t=!1;("auto"===this.width||null===this.width||this.autowidth)&&999999==this.maxWidth&&(t=!0);var i=parseInt(this.scrollBarSize),s=this.table?this.table.height():0,r=0,n=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;if(e)o=e;else var o=this.host.height();this.columnGroups?o-=this.showHeader?this.columnsheader.height():0:o-=this.showHeader?this.columnsHeight:0,this.filterable&&(o-=this.filter.height()),this.pageable&&(o-=this.pagerHeight,"both"===this.pagerPosition&&(o-=this.pagerHeight)),this.showtoolbar&&(o-=this.toolbarHeight),this.showstatusbar&&(o-=this.statusBarHeight),this.showAggregates&&(o-=this.aggregatesHeight);var a=!1;if(("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(a=!0),!a&&s>o&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)?(this.vScrollBar[0].style.visibility="inherit",r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:s-o})):this.vScrollBar[0].style.visibility="hidden",n!=this.vScrollBar[0].style.visibility){this._updatecolumnwidths();var l=this.table.height();s!=l&&(s=l,!a&&s>o&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)&&(this.vScrollBar[0].style.visibility="inherit",r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:s-o})))}0==this.scrollBarSize&&(r=0);var h=this.table?this.table.width():0;h>3&&(h-=3);var d=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width")),c=d+this.host.width()-r;if(h>c&&!t){if(this.hScrollBar[0].style.visibility="inherit",this.hScrollBar.jqxScrollBar({max:h-c}),r=4+parseInt(i),0==i&&(r=0),!a){if(s>o-r+4&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)){this.hScrollBar.jqxScrollBar({max:d+h-c});var u="hidden"===this.vScrollBar[0].style.visibility;this.vScrollBar[0].style.visibility="inherit",this._updatecolumnwidths(),u&&this.hScrollBar.jqxScrollBar({max:h-c+r+d});var p=this.table?this.table.width():0;p>3&&(p-=3),p!=h&&p<c&&(this.hScrollBar.jqxScrollBar({max:d+p-c}),this.hScrollBar[0].style.visibility="hidden",r=0)}this.vScrollBar.jqxScrollBar({max:s-o+r})}}else this.hScrollBar[0].style.visibility="hidden";0===this.source.records.length&&this.source.hierarchy&&0===this.source.hierarchy.length&&(this.vScrollBar[0].style.visibility="hidden",this.bottomRight[0].style.visibility="hidden"),"hidden"==this.vScrollBar[0].style.visibility&&0!=this.vScrollInstance.value&&this.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var s=i.outerWidth()+20;return i.remove(),s},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(this.columnGroups?i+=this.showHeader?this.columnsheader.height():-1:i+=this.showHeader?this.columnsHeight:-1,i+=this.showstatusbar?this.statusBarHeight:0,i+=this.showAggregates?this.aggregatesHeight:0,i+=this.showtoolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var s=this.filter.find(".filterrow"),r=1;this.filter.find(".filterrow-hidden").length>0&&(r=0),i+=this.filterHeight-1+this.filterHeight*s.length*r}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){for(var t=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==s?s=this._measureElementWidth(this.columns.records[i].text):s)}return width=t,width+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(width+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;if(this.showtoolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.filterable){var i=this.filter.find(".filterrow"),s=1;this.filter.find(".filterrow-hidden").length>0&&(s=0),t+=this.filterHeight,e-=parseInt(this.filterHeight);var r=1==s?i.length:0;t+=this.filterHeight*r,e-=this.filterHeight*r}return this.pageable&&"bottom"!=this.pagerPosition&&(t+=parseInt(this.pagerHeight)+1,e>this.pagerHeight&&"both"===this.pagerPosition&&(e-=parseInt(this.pagerHeight))),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var t=this.host.width(),i=this.host.height(),s=i;this.pageable?"bottom"===this.pagerPosition?(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="inherit"):"both"===this.pagerPosition?(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="inherit"):"top"===this.pagerPosition&&(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="hidden"):(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="hidden");var r=0;if(this.showtoolbar?(this.toolbar.width(t),this.toolbar.height(this.toolbarHeight-1),this.toolbar.css("top",0),r+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.filterable){this.filter.width(t),this.filter.css("top",r);var n=this.filter.find(".filterrow"),o=1;this.filter.find(".filterrow-hidden").length>0&&(o=0),this.filter.height(this.filterHeight-1+this.filterHeight*n.length*o),r+=this.filterHeight,i-=parseInt(this.filterHeight);var a=1==o?n.length:0;r+=this.filterHeight*a,i-=this.filterHeight*a}if(this.showstatusbar?(this.statusbar.width(this.table?Math.max(t,this.table.width()):t),this.statusbar.height(this.statusBarHeight-1)):this.statusbar[0].style.height="0px",this.showAggregates?this.aggregates.height(this.aggregatesHeight-1):this.aggregates[0].style.height="0px",this.pageable&&"bottom"!=this.pagerPosition)this.toppager[0].style.width=t+"px",this.toppager[0].style.height=parseInt(this.pagerHeight)+"px",this.toppager[0].style.top=parseInt(r)+"px",r+=parseInt(this.pagerHeight)+1,i>this.pagerHeight&&(i-=parseInt(this.pagerHeight));else{this.toppager[0].style.width!=t+"px"&&(this.toppager[0].style.width=parseInt(t)+"px"),this.toppager[0].style.height!=this.pagerHeight+"px"&&(this.toppager[0].style.height=parseInt(this.pagerHeight)+"px"),this.toppager[0].style.top!=r+"px"&&(this.toppager[0].style.top=r+"px");var l=r+("bottom"!=this.pagerPosition?this.pagerHeight:0)+"px";this.content[0].style.top!=l&&(this.content[0].style.top=r+this.pagerHeight+"px")}this._updateScrollbars(s);var h=parseInt(this.scrollBarSize),d=2,c=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(c=h+4),"hidden"!=this.hScrollBar[0].style.visibility&&(d=h+4+2),0==h&&(c=0,d=0),this.showAggregates&&("hidden"===this.hScrollBar[0].style.visibility?this.aggregates.width(this.table?Math.max(t,this.table.width())+4:t):this.aggregates.width("auto")),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var u=this._arrangeAutoHeight(d-2),p=this._arrangeAutoWidth(c+1);if(u||p){t=this.host.width();this.toppager[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.statusbar[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"}if(u){var f=this._measureTopAndHeight();r=f.top,i=f.height}}var m=0;this.pageable&&(m=this.pagerHeight,"top"!=this.pagerPosition&&(d+=this.pagerHeight)),this.showAggregates&&(d+=this.aggregatesHeight,m+=this.aggregatesHeight),this.showstatusbar&&(d+=this.statusBarHeight,m+=this.statusBarHeight),this.hScrollBar[0].style.height!=h+"px"&&(this.hScrollBar[0].style.height=parseInt(h)+"px"),this.hScrollBar[0].style.top==r+i-4-h-m+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=r+i-4-h-m-1+"px",this.hScrollBar[0].style.left="0px");var g=this.hScrollBar[0].style.width,v=!1,x=!1;0==c?g!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",v=!0):g!=t-h-4+"px"&&(this.hScrollBar[0].style.width=t-h-4+"px",v=!0),this.vScrollBar[0].style.width!=h+"px"&&(this.vScrollBar[0].style.width=h+"px",x=!0),this.vScrollBar[0].style.height!=parseInt(i)-d+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-d+"px",x=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(h)-4+"px"&&this.vScrollBar[0].style.top==r+"px"||(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(h)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:h+2}));var b=this.vScrollInstance;b.disabled=this.disabled;var w=this.hScrollInstance;w.disabled=this.disabled,v&&w.refresh(),x&&b.refresh();var y=function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(h)+3+"px",e.bottomRight[0].style.height=parseInt(h)+4+"px",e.showAggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(h)+4+e.aggregatesHeight),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.aggregatesHeight}))):e.bottomRight[0].style.visibility="hidden"};if(y(this),this.content[0].style.width!=t-c+"px"&&(this.content[0].style.width=t-c+"px"),this.content[0].style.height!=i-d+3+"px"&&(this.content[0].style.height=i-d+3+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&(this.content.css("left",c),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",c),this.table)){var _=this.table.width();_<t-c&&(this.content.css("left",t-_+2),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",t-_+2))}this.showAggregates&&(this.aggregates.css("top",r+i-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0)),this.rtl&&this.aggregates.css("left","0px"),"hidden"!=this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:r+i-4-h-m+this.aggregatesHeight+"px"}),this.aggregates.css("top",1+r+i-h-5-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0))),y(this)),this.showstatusbar&&(this.statusbar.css("top",r+i-this.statusBarHeight-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager[0].style.width=t+"px",this.pager[0].style.height=this.pagerHeight+"px",this.pager[0].style.top=parseInt(r)+parseInt(i)-parseInt(this.pagerHeight)-1+"px"):this.pager[0].style.height="0px",this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=t}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)t=e.left,e=e.top;null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,!1!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(t,i,s){if(!0!==this.loadingstate){var r=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));var n=this;null==t&&(t={}),null!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),null!=t.filter&&null!=t.filter||(t.filter=null),null!=t.sort&&null!=t.sort||(t.sort=null),null!=t.data&&null!=t.data||(t.data=null);if(null!=t&&(null!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataView,this.dataview.pageable=this.pageable,this.dataview.grid=this,!n.initializedcall){if(t._source&&this.sortable&&(null!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),null!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var o=t._source.sortdirection;if("a"==o||"asc"==o||"ascending"==o||1==o)var a=!0;else a=!1;this.sortdirection=null!=o?{ascending:a,descending:!a}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(null!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),null!=t._source.pagesize?(this.pageSize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pageSize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection))}this._loading=!0,this.dataview.update=function(t){n._loading=!1,n.rowsByKey=new Array;var o=n.source._source.datafields;if(n.groups&&n.groups.length>0){var a=Object.prototype.toString,l=n.groups[0];if(Object.prototype.toString="function"==typeof l?l:function(){return this[l]},!n.source.records.sort){var h=new Array,d=0;e.each(data,function(){h[startindex+d++]=this}),data=h}n.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var s=0,r=0;if(t&&t.uid&&(s=t.uid),i&&i.uid&&(r=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}if("number"==typeof s){if(s<r)return-1;if(s>r)return 1}return 0}),Object.prototype.toString=a}for(var c=0;c<n.source.records.length;c++){var u=n.source.records[c];if(n.rowsByKey[u.uid]=u,u.records&&u.records.length>0){var p=function(e){for(var t=0;t<e.length;t++)e[t]&&(n.rowsByKey[e[t].uid]=e[t],e[t].records&&e[t].records.length>0&&p(e[t].records))};p(u.records)}if(0===c){var f=!1;if(o)for(var m=0;m<o.length;m++)if(o[m]&&!o[m].type){f=!0,o[m].type="string";var g=u[o[m].name];if(null==g)continue;if(!0!==g&&!1!==g||(o[m].type="boolean"),null!=g&&g.toString().indexOf(n.gridlocalization.currencysymbol)>-1||g.toString().indexOf(n.gridlocalization.percentsymbol)>-1){var v=g.toString().split(" ").length,x=new Number(n._toNumber(g.toString()));isNaN(x)||1!=v||(o[m].type="number")}(e.jqx.dataFormat.isNumber(g)||!isNaN(parseFloat(g))&&isFinite(g))&&(o[m].type="number"),e.jqx.dataFormat.isDate(g)&&(o[m].type="date")}if(f)for(m=0;m<o.length;m++){var b=n.source.getvaluebytype(u[o[m].name],o[m]);if(null!=b&&"number"==o[m].type){var w=b;w=new Number(n._toNumber(w.toString())),isNaN(w)||(b=w)}u[o[m].name]=b}}}if("pager"===i||"filter"===i||"sort"===i?n.refresh():n._render(),n.autoShowLoadElement&&!n._loading&&(e(n.dataloadelement).css("visibility","hidden"),e(n.dataloadelement).css("display","none")),n.pageable&&(n.disabled||n.pagernexttop&&(n.pagerfirsttop.jqxButton({disabled:!1}),n.pagerfirstbottom.jqxButton({disabled:!1}),n.pagerlasttop.jqxButton({disabled:!1}),n.pagerlastbottom.jqxButton({disabled:!1}),n.pagernexttop.jqxButton({disabled:!1}),n.pagerprevioustop.jqxButton({disabled:!1}),n.pagershowrowscombotop.jqxDropDownList&&"advanced"==n.pagerMode&&(n.pagershowrowscombotop.jqxDropDownList({disabled:!1}),n.pagershowrowscombobottom.jqxDropDownList({disabled:!1})),n.pagernextbottom.jqxButton({disabled:!1}),n.pagerpreviousbottom.jqxButton({disabled:!1}))),n._updateTouchScrolling(),n._raiseEvent("bindingComplete"),s&&s(),!n.initializedcall){if(n.initializedcall=!0,n.isInitialized=!0,n.ready&&n.ready(),(null!=n.width&&-1!=n.width.toString().indexOf("%")||null!=n.height&&-1!=n.height.toString().indexOf("%"))&&n._updatesize(!0),n._rendercelltexts&&n._rendercelltexts(),n._gridRenderElement){e(n._gridRenderElement).show("slow");var y=6e3+Math.floor(4e3*Math.random()+1),_=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();r[e.camelCase(_)](function(){e(n._gridRenderElement).hide("slow",function(){e(n._gridRenderElement).remove()})},y)}if("hidden"==n.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==n.vScrollBar.css("visibility")&&n.vScrollBar.css("visibility","inherit"),"visible"==n.hScrollBar.css("visibility")&&n.hScrollBar.css("visibility","inherit"),n._intervalTimer=setInterval(function(){"visible"==n.host.css("visibility")&&(n._updatesize(!0),clearInterval(n._intervalTimer))},100)}}},this.dataview.databind(t)}},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=t;args=i,args.owner=this;var r=new e.Event(s);r.owner=this,r.args=args;var n=this.host.trigger(r);return i=r.args,n},ensureColumnVisible:function(e){for(var t=0,i=0,s=0;s<this.columns.records.length;s++){if(this.columns.records[s].datafield==e){t+=this.columns.records[s].width,i=this.columns.records[s].width;break}t+=this.columns.records[s].width}if("hidden"!=this.hScrollBar.css("visibility")){var r=this.hScrollBar.jqxScrollBar("value"),n=r+this.host.width();r>t-i?this.hScrollBar.jqxScrollBar("setPosition",t-i):t>n&&this.hScrollBar.jqxScrollBar("setPosition",r+t-n)}},ensurerowvisiblebykey:function(t){if("hidden"===this.vScrollBar[0].style.visibility)return!1;var i=this._getuirow(t);if(i){var s=this.vScrollBar.jqxScrollBar("value"),r=this.host.height(),n=0;this.columnGroups?n+=this.showHeader?this.columnsheader.height():0:n+=this.showHeader?this.columnsHeight:0,this.filterable&&(n+=this.filter.height()),this.pageable&&"top"===this.pagerPosition&&(n+=this.pagerHeight),this.showtoolbar&&(n+=this.toolbarHeight),r-=n,this.pageable&&"top"!==this.pagerPosition&&(r-=this.pagerHeight),this.showstatusbar&&(r-=this.statusBarHeightt),this.showAggregates&&(r-=this.aggregatesHeight),"hidden"!=this.hScrollBar.css("visibility")&&(r-=20);var o=this.host.coord().top+n,a=s,l=r+a,h=i.coord().top+s-o,d=(h=Math.round(h))+i.outerHeight();if(d=Math.round(d),0===Math.round(i.position().top))return this.vScrollBar.jqxScrollBar("setPosition",0);var c=e(this._table.children()[1]).children().length-1,u=this._getuikey(c),p=this._getuirow(u);if(p&&p[0]===i[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(h<a){var f=h;return f<0&&(f=0),this.vScrollBar.jqxScrollBar("setPosition",f)}return d>l?this.vScrollBar.jqxScrollBar("setPosition",d-r):void 0}},ensureRowVisible:function(e){var t=this._getkey(e);this.ensurerowvisiblebykey(t)},getColumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;var s=t;t=t.toLowerCase();var r=this.getColumn(e);if(null!=r){r[t];r[t]=i,r[s]=i;var n=this.getColumn(e);switch(null!=n&&(n[t]=i),t){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?(this._rendercolumnheaders(),this.refresh()):"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;this.vScrollInstance.setPosition(0),this._renderrows(),this.updatepagerdetails(),this._arrange(),this._arrangeFilterRow&&this._arrangeFilterRow(),this._renderhorizontalscroll(),this._showicons(),this.showAggregates&&this._updateaggregates(),this._updateTouchScrolling()}},_rendercelltexts:function(){},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),s=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove");t.table&&(t.removeHandler(t.table,i+".touchScroll"),t.removeHandler(t.table,r+".touchScroll"),t.removeHandler(t.table,s+".touchScroll"),t.removeHandler(t.table,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.table[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i)}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e)}t.scrolled=new Date,t.vScrollInstance.thumbCapture=!0},this.element.id,this.hScrollBar,this.vScrollBar))}},_showicons:function(){if(this.table)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];if(e(i.filtericon).hide(),e(i.sortasc).hide(),e(i.sortdesc).hide(),"simple"!==this.filterMode)for(var s=0;s<this.dataview.filters.length;s++){if(this.dataview.filters[s].datafield===i.displayfield){e(i.filtericon).show();break}}if(null!==this.sortcolumn&&this.sortcolumn===i.displayfield&&null!=this.sortdirection&&(this.sortdirection.ascending?e(i.sortasc).show():e(i.sortdesc).show()),"left"!=i.align&&"center"!=i.align&&!this.rtl||this.rtl&&"right"!=i.align&&"center"!=i.align){var r=e.jqx.isHidden(e(i.filtericon))?0:16;r+=e.jqx.isHidden(e(i.sortasc))?0:16,r+=e.jqx.isHidden(e(i.sortdesc))?0:16;var n=e(e(e(i.element).children()[0]).children()[0]);this.rtl?r>0?n.css("margin-left",4+r+"px"):n.css("margin-left","4px"):r>0?n.css("margin-right",4+r+"px"):n.css("margin-right","4px")}}},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerText="",this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var s=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=s.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.filter=this.host.find("#filter"),this.filter[0].id="filter"+this.element.id,this.filter.addClass(this.toTP("jqx-widget-header")),this.filter.addClass(this.toTP("jqx-grid-toolbar")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.aggregates=this.host.find("#aggregates"),this.aggregates[0].id="aggregates"+this.element.id,this.aggregates.addClass(this.toTP("jqx-grid-statusbar")),this.aggregates.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.toppager=this.host.find("#toppager"),this.toppager.addClass(this.toTP("jqx-grid-pager-top")),this.toppager.addClass(this.toTP("jqx-widget-header")),this.gridtable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var n=this.source.datafields;if(null==n&&this.source._source&&(n=this.source._source.datafields),n)for(var o=0;o<this.columns.length;o++){var a=this.columns[o];if(a&&a.cellsFormat&&a.cellsFormat.length>2)for(var l=0;l<n.length;l++)if(n[l].name==a.datafield&&!n[l].format){n[l].format=a.cellsFormat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this.showAggregates&&this.aggregates.css("visibility","inherit"),this.tableheight=null;var h=this;this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return h.content&&(h.content[0].scrollTop=0,h.content[0].scrollLeft=0),h.gridcontent&&(h.gridcontent[0].scrollLeft=0,h.gridcontent[0].scrollTop=0),!1}),!0!==t&&this._render()},_render:function(){if(null!=this.dataview&&!this._loading){(25!=this.columnsHeight||this.columnGroups)&&this._measureElement("column"),this.filterable?this.filter[0].style.visibility="inherit":this.filter[0].style.visibility="hidden",this.rowinfo=new Array,this._removeHandlers(),null==this.columns?this.columns=new e.jqx.dataCollection(this.element):this._initializeColumns();var t=!1,i=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0),t?this.element.width=this.width:this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(i=!0),i?this.element.height=this.height:this.host.height(this.height),this._lastHostWidth=this.host.width(),this._lastHostHeight=this.host.height(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header")),this.showHeader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var s=this.columnsHeight;s=this._preparecolumnGroups(),this.columnsheader.height(s),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._rendercolumnheaders(),this.tableheight=null,this.gridcontent.find("#contenttable"+this.element.id).remove(),null!=this.table&&(this.table.remove(),this.table=null),this.table=e('<div id="contenttable'+this.element.id+'" style="overflow: hidden; position: relative;"></div>'),this.gridcontent.addClass(this.toTP("jqx-grid-content")),this.gridcontent.addClass(this.toTP("jqx-widget-content")),this.gridcontent.append(this.table),this._renderrows(),this.filterable&&this._renderfilter(),this.pageable&&this._initpager(),this._arrange(),this.renderStatusBar&&this.renderStatusBar(this.statusbar),this.rendertoolbar&&this.rendertoolbar(this.toolbar),this.showAggregates&&this._updateaggregates(),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._renderhorizontalscroll(),this._showicons(),this._addHandlers()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},_initpager:function(){var t=this.gridlocalization.pagergotopagestring,i=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),s=(this.pagerHeight-17)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),this.toppagerdiv=this.toppagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.toppagerdiv.remove();if(this.pagerRenderer){var r;this.pagerdiv.children().remove(),this.toppager.children().remove(),null!=(r=this.pagerRenderer())&&this.pagerdiv.append(e(r)),this.pager.append(this.pagerdiv),null!=(r=this.pagerRenderer())&&this.toppagerdiv.append(e(r)),this.toppager.append(this.toppagerdiv)}else{this.pagerdiv.css("top",s),this.toppagerdiv.css("top",s);var n=function(s,r){var n=this,o=e('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>'),a=e('<div style="float: right; margin-right: 7px;"></div>'),l=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),h=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),d=e('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),c=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),u=e('<div style="margin-right: 7px; float: right;"></div>'),p=e('<div style="margin-right: 7px; float: right;"></div>'),f=e('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>');o.attr("disabled",n.disabled);var m=e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');if(m[0].id="gridpagerlist"+r+n.element.id,n.removeHandler(l,"mousedown"),n.removeHandler(l,"mouseup"),n.removeHandler(l,"click"),n.removeHandler(h,"mousedown"),n.removeHandler(h,"mouseup"),n.removeHandler(h,"click"),n.removeHandler(d,"mousedown"),n.removeHandler(d,"mouseup"),n.removeHandler(d,"click"),n.removeHandler(c,"mousedown"),n.removeHandler(c,"mouseup"),n.removeHandler(c,"click"),n.rtl?(l.attr("title",n.gridlocalization.pagerpreviousbuttonstring),h.attr("title",n.gridlocalization.pagernextbuttonstring)):(h.attr("title",n.gridlocalization.pagerpreviousbuttonstring),l.attr("title",n.gridlocalization.pagernextbuttonstring)),e.jqx.browser.msie&&e.jqx.browser.version<8&&f.css("padding-top","3px"),this["pagerfirst"+r]=d,this["pagerlast"+r]=c,this["pagernext"+r]=l,this["pagerprevious"+r]=h,this["pagergotoinput"+r]=o,this["pagerdetails"+r]=u,this["pagershowrows"+r]=p,this["pagergotolabel"+r]=a,this["pagershowrowscombo"+r]=m,this["pagerbuttons"+r]=f,"default"==n.pagerMode){n.rtl?(c.attr("title",n.gridlocalization.pagerfirstbuttonstring),d.attr("title",n.gridlocalization.pagerlastbuttonstring)):(d.attr("title",n.gridlocalization.pagerfirstbuttonstring),c.attr("title",n.gridlocalization.pagerlastbuttonstring));var g=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");g.addClass(n.toThemeProperty("jqx-icon-arrow-first")),d.wrapInner(g);var v=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");v.addClass(n.toThemeProperty("jqx-icon-arrow-last")),c.wrapInner(v),n.rtl?(s.append(c),s.append(l),s.append(f),s.append(h),s.append(d)):(s.append(d),s.append(h),s.append(f),s.append(l),s.append(c)),c.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme}),d.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme});var x=n.rtl?"right":"left";f.css("float",x),c.css("float",x),d.css("float",x),l.css("float",x),h.css("float",x),u.css("float",n.rtl?"left":"right"),n.rtl?(u.css("margin-left","7px"),u.css("margin-right","0px")):(u.css("margin-left","0px"),u.css("margin-right","7px"))}else n.rtl||(s.append(l),s.append(h));l.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme}),h.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme});var b=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");b.addClass(n.toThemeProperty("jqx-icon-arrow-left")),h.wrapInner(b);var w=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(w.addClass(n.toThemeProperty("jqx-icon-arrow-right")),l.wrapInner(w),n.rtl||s.append(u),"default"!=n.pagerMode){n.rtl?(s.append(a),s.append(o),s.append(p),s.append(m),s.append(u),s.append(l),s.append(h)):(s.append(m),s.append(p),s.append(o),s.append(a));var y=n.pageSizeOptions;m.jqxDropDownList({_checkForHiddenParent:!1,rtl:n.rtl,disabled:n.disabled,source:y,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:44,height:16,theme:n.theme});for(var _=0,j=0;j<y.length;j++)this.pageSize>=y[j]&&(_=j);a[0].innerHTML=t,m.jqxDropDownList({selectedIndex:_});var q=o.find("input");q.addClass(n.toThemeProperty("jqx-input")),q.addClass(n.toThemeProperty("jqx-widget-content")),this.rtl&&q.css("direction","rtl");n=this;this.removeHandler(m,"select"),this.addHandler(m,"select",function(e){if(e.args){n.vScrollInstance&&n.vScrollInstance.setPosition(0);var t=e.args.index;n.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(t),n.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(t),n.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse"),n.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse");var i=n.dataview.pagenum*n.dataview.pagesize,s=y[t],r=n.pageSize;n.pageSize=parseInt(s),isNaN(n.pageSize)&&(n.pageSize=10),s>=100?(n.pagershowrowscombotop.jqxDropDownList({width:55}),n.pagershowrowscombobottom.jqxDropDownList({width:55})):(n.pagershowrowscombotop.jqxDropDownList({width:44}),n.pagershowrowscombobottom.jqxDropDownList({width:44})),n.dataview.pagesize=n.pageSize;var o=Math.floor(i/n.dataview.pagesize);if(o!==n.dataview.pagenum||parseInt(s)!==parseInt(r))n._raiseEvent("pageSizeChanged",{pagenum:o,oldpageSize:r,pageSize:n.dataview.pagesize}),n.goToPage(o)||(n.serverProcessing?n.updateBoundData("pager"):n.refresh())}}),(o=o.find("input")).addClass(n.toThemeProperty("jqx-grid-pager-input")),o.addClass(n.toThemeProperty("jqx-rc-all")),this.removeHandler(o,"keydown"),this.removeHandler(o,"change"),n.addHandler(o,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var t=o.val();return t=parseInt(t),isNaN(t)||n.goToPage(t-1),!1}}),n.addHandler(o,"change",function(){var e=o.val();e=parseInt(e),isNaN(e)||n.goToPage(e-1)})}p[0].innerHTML=i,n.addHandler(l,"mouseenter",function(){w.addClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))}),n.addHandler(h,"mouseenter",function(){b.addClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))}),n.addHandler(l,"mouseleave",function(){w.removeClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))}),n.addHandler(h,"mouseleave",function(){b.removeClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))}),n.addHandler(l,"mousedown",function(){w.addClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))}),n.addHandler(l,"mouseup",function(){w.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))}),n.addHandler(h,"mousedown",function(){b.addClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),n.addHandler(h,"mouseup",function(){b.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),"default"===n.pagerMode&&(n.addHandler(c,"mouseenter",function(){v.addClass(n.toThemeProperty("jqx-icon-arrow-last-hover"))}),n.addHandler(d,"mouseenter",function(){g.addClass(n.toThemeProperty("jqx-icon-arrow-first-hover"))}),n.addHandler(c,"mouseleave",function(){v.removeClass(n.toThemeProperty("jqx-icon-arrow-last-hover"))}),n.addHandler(d,"mouseleave",function(){g.removeClass(n.toThemeProperty("jqx-icon-arrow-first-hover"))}),n.addHandler(c,"mousedown",function(){v.addClass(n.toThemeProperty("jqx-icon-arrow-last-selected"))}),n.addHandler(d,"mousedown",function(){g.addClass(n.toThemeProperty("jqx-icon-arrow-first-selected"))}),n.addHandler(c,"mouseup",function(){v.removeClass(n.toThemeProperty("jqx-icon-arrow-last-selected"))}),n.addHandler(d,"mouseup",function(){g.removeClass(n.toThemeProperty("jqx-icon-arrow-first-selected"))})),n.addHandler(e(document),"mouseup.pagerbuttons"+r+this.element.id,function(){w.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected")),b.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected")),v&&(v.removeClass(n.toThemeProperty("jqx-icon-arrow-last-selected")),g.removeClass(n.toThemeProperty("jqx-icon-arrow-first-selected")))}),n.addHandler(l,"click",function(){l.jqxButton("disabled")||(n.rtl?n.goToPrevPage():n.goToNextPage())}),n.addHandler(h,"click",function(){h.jqxButton("disabled")||(n.rtl?n.goToNextPage():n.goToPrevPage())}),"default"===this.pagerMode&&(n.addHandler(d,"click",function(){if(!d.jqxButton("disabled"))if(n.rtl){var e=n.dataview.totalrecords,t=Math.ceil(e/n.pageSize);n.goToPage(t-1)}else n.goToPage(0)}),n.addHandler(c,"click",function(){if(!c.jqxButton("disabled"))if(n.rtl)n.goToPage(0);else{var e=n.dataview.totalrecords,t=Math.ceil(e/n.pageSize);n.goToPage(t-1)}}))};this.pagerdiv.children().remove(),this.toppagerdiv.children().remove(),n.call(this,this.pagerdiv,"bottom"),n.call(this,this.toppagerdiv,"top"),this.pager.append(this.pagerdiv),this.toppager.append(this.toppagerdiv),this.updatepagerdetails()}},_updatepagertheme:function(){},goToPage:function(t,i){if(this._loading)return!1;if(null!=this.editKey){if(!this.editSettings.saveOnPageChange)return!1;if(!this.endroweditbykey(this.editKey))return!1}if(null!=t&&null!=t||(t=0),-1==t&&(t=0),t<0)return!1;var s=this.dataview.totalrecords,r=this.dataview.pagenum,n=Math.ceil(s/this.pageSize);return t>=n&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),t>0&&(t=n-1)),this.dataview.pagenum!=t&&(this.pageable&&(this.dataview.pagenum=t,this._raiseEvent("pageChanged",{pagenum:t,oldpagenum:r,pageSize:this.dataview.pagesize})),this.serverProcessing?this.updateBoundData("pager",i):(this.refresh(),i&&e.isFunction(i)&&i()),!0)},goToPrevPage:function(e){if(this.dataview.pagenum>0)return this.goToPage(this.dataview.pagenum-1,e);if("default"!=this.pagerMode&&"advanced"!=this.pagerMode){var t=this.dataview.totalrecords,i=Math.ceil(t/this.pageSize);return this.goToPage(i-1,e)}return!1},goToNextPage:function(e){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=Math.ceil(t/this.pageSize);return this.dataview.pagenum<i-1?this.goToPage(this.dataview.pagenum+1,e):"default"!=this.pagerMode&&"advanced"!=this.pagerMode&&this.goToPage(0,e)},updatepagerdetails:function(){if(this.pageable){var t=this;if(!this.serverProcessing)if(this.source.hierarchy){var i=t._names(),s=0,r=function(n,o){for(var a=0;a<o.length;a++)0==t.dataview.filters.length&&(o[a]._visible=!0),!1!==o[a]._visible&&s++,t.treeGrid&&"root"==t.treeGrid.pageSizeMode||o[a].records&&(o[a][i.expanded]||o[a][i.leaf])&&!1!==o[a]._visible&&(r(n+1,o[a].records),this.treeGrid&&e(this.treeGrid).jqxTreeGrid("showSubAggregates")&&0!=n&&s--)};r(0,this.dataview.rows),this.dataview.totalrecords=s}else this.dataview.totalrecords=this.dataview.rows.length;var n=this.dataview.pagenum*this.pageSize,o=(this.dataview.pagenum+1)*this.pageSize;o>=this.dataview.totalrecords&&(o=this.dataview.totalrecords);var a=this.dataview.totalrecords;n++;var l=Math.ceil(a/this.dataview.pagesize);if(l>=1&&l--,l++,"root"==this.pageSizeMode&&((l=Math.ceil(this.rootRecordsLength/this.dataview.pagesize))>=1&&l--,l++,a=this.rootRecordsLength,this.dataview.totalrecords=this.rootRecordsLength),"default"!=this.pagerMode){if(this.pagergotoinputbottom){var h=this.pagergotoinputbottom.find("input");h.val(this.dataview.pagenum+1),h.attr("title","1 - "+l),(h=this.pagergotoinputtop.find("input")).val(this.dataview.pagenum+1),h.attr("title","1 - "+l)}}else{var d="",c=this.pagerButtonsCount;0!=c&&c||(c=5);var u=0;for(this.rtl&&(u=c-1);this.rtl&&u>=0||!this.rtl&&u<c;){var p=1+u,f=this.dataview.pagenum/c;p+=Math.floor(f)*c;var m=this.toTP("jqx-grid-pager-number");if(m+=" "+this.toTP("jqx-rc-all"),p>l&&!this.rtl)break;if(this.rtl&&p>l)u--;else{if(this.rtl||0==u&&p>c&&(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>"),this.dataview.pagenum===p-1&&(m+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(u===c-1){m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),l>=1+p&&(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}this.dataview.pagenum===p-1&&(m+=" "+this.toTP("jqx-fill-state-pressed")),d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>"}else if(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>",u===c-1){var m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),l>=1+p&&(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}if(this.rtl){m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),0==u&&p>c&&(d+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>")}this.rtl?u--:u++}}if(!this.pagerbuttonsbottom)return;var g=this.pagerbuttonsbottom.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave");g=this.pagerbuttonstop.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave"),this.pagerbuttonsbottom[0].innerHTML=d,this.pagerbuttonstop[0].innerHTML=d,this.disabled&&this.host.find(".jqx-grid-pager-number").css("cursor","default");var v=function(){g.click(function(i){if(!t.disabled){var s=e(i.target).attr("data-page");t.goToPage(parseInt(s)-1)}}),g.mouseenter(function(i){t.disabled||e(i.target).addClass(t.toTP("jqx-fill-state-hover"))}),g.mouseleave(function(i){t.disabled||e(i.target).removeClass(t.toTP("jqx-fill-state-hover"))})};if("both"===this.pagerPosition||"bottom"===this.pagerPosition){g=this.pagerbuttonsbottom.find("a");v()}if("both"===this.pagerPosition||"top"===this.pagerPosition){g=this.pagerbuttonstop.find("a");v()}}if(0==o&&o<n&&(n=0),this.pagerdetailsbottom&&(this.rtl?(this.pagerdetailsbottom[0].innerHTML=a+this.gridlocalization.pagerrangestring+o+"-"+n,this.pagerdetailstop[0].innerHTML=a+this.gridlocalization.pagerrangestring+o+"-"+n):(this.pagerdetailsbottom[0].innerHTML=n+"-"+o+this.gridlocalization.pagerrangestring+a,this.pagerdetailstop[0].innerHTML=n+"-"+o+this.gridlocalization.pagerrangestring+a)),"default"==this.pagerMode){var x=this.pagerbuttonsbottom.width()+e(this.pagerdetailsbottom).width()+160;this.pagerdiv.css("min-width",x),this.toppagerdiv.css("min-width",x)}n>o&&this.goToPrevPage()}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;var s=function(e){for(var i=0;i<t.columnGroups.length;i++){var s=t.columnGroups[i];if(s.name===e)return s}return null};for(i=0;i<this.columnGroups.length;i++){if((h=this.columnGroups[i]).groups||(h.groups=null),h.parentGroup&&(h.parentgroup=h.parentGroup),h.parentgroup)(r=s(h.parentgroup))&&(h.parent=r,r.groups||(r.groups=new Array),-1===r.groups.indexOf(h)&&r.groups.push(h))}for(i=0;i<this.columns.records.length;i++){var r;if((h=this.columns.records[i]).columngroup)(r=s(h.columngroup))&&(r.groups||(r.groups=new Array),h.parent=r,-1===r.groups.indexOf(h)&&r.groups.push(h))}var n=0;for(i=0;i<this.columns.records.length;i++){var o=h=this.columns.records[i];for(h.level=0;o.parent;)o=o.parent,h.level++;o=h;var a=h.level;for(n=Math.max(n,h.level);o.parent;)(o=o.parent)&&(o.level=--a)}var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=l(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t};for(i=0;i<this.columnGroups.length;i++){var h=this.columnGroups[i],d=l(h);h.columns=d;for(var c=new Array,u=0,p=0;p<d.length;p++)c.push(this.columns.records.indexOf(d[p])),d[p].pinned&&u++;if(0!=u)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e>t?1:0});for(var f=1;f<c.length;f++)if(c[f]!=c[f-1]+1)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+n,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){this.removeHandler(this.host,"focus"),this.removeHandler(e(window),"jqxReady."+this.element.id),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);var t="mousedown";this.isTouchDevice()&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown"),this.table&&(this.removeHandler(this.table,"mouseleave"),this.removeHandler(this.table,"mousemove"),this.removeHandler(this.table,t),this.removeHandler(this.table,"selectstart."+this.element.id),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.removeHandler(this.table,"dblclick"))},_addHandlers:function(){var t=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.table,"selectstart."+this.element.id,function(i){return!!t.enableBrowserSelection||(!(!t.filterable||!e(i.target).ischildof(t.filterrow))||(!!(t.rowDetails&&e(i.target).parents("[data-role=details]").length>0)||null!=t.editKey&&void 0))}),this.addHandler(e(window),"jqxReady."+this.element.id,function(){t._updatecolumnwidths(),t.refresh()}),this.editable&&this.addHandler(e(document),"mousedown.gridedit"+this.element.id,function(i){if(t.editable&&t.editSettings.saveOnBlur&&null!=t.editKey&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var s=t.host.coord(),r=t.host.width(),n=t.host.height(),o=!1,a=!1;if((i.pageY<s.top||i.pageY>s.top+n)&&(o=!0,a=!0),(i.pageX<s.left||i.pageX>s.left+r)&&(o=!0,!0),o){var l=function(t){var s=e(t.children()[0]).data();if(s&&!s.jqxWidget&&(s=t.data()),s||(s=t.data()),s.jqxWidget&&s.jqxWidget.container&&"block"==s.jqxWidget.container[0].style.display){var r=s.jqxWidget,n=r.container.coord().top,l=r.container.coord().top+r.container.height();return!(!a||!(i.pageY<n||i.pageY>l))&&(o=!0,r.close(),!0)}},h=t._editors;if(h)for(var d=0;d<h.length;d++){var c=h[d].editor,u=l(c),p=c.attr("aria-owns");if(p){if(p==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+p)))return!0}else if(p=c.children().attr("aria-owns")){if(p==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+p)))return!0}if(!1===u)return}}o&&t.endroweditbykey(t.editKey)}}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"focus",function(e){e.preventDefault});this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")},this.hScrollInstance.valueChanged=function(e){t.table&&t._renderhorizontalscroll()};var i="mousedown";this.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(i="mousedown"));var s=function(e,i){for(var s=null,r=t._table.coord(),n=r.top,o=r.left,a=t._table[0].rows,l=0;l<a.length;l++)for(var h=a[l].cells,d=0;d<h.length;d++){var c=h[d],u=c.offsetLeft+o,p=c.offsetTop+n,f=c.offsetWidth,m=c.offsetHeight;if(0!==f&&0!==m){if(!(p<=i&&i<p+m))break;if(u<=e&&e<u+f){s=c;break}}}return s},r=function(){if(t.hoveredRow){var e=t.hoveredRow[0].cells,i=function(e){for(var i=0;i<e.length;i++){var s=e[i],r=s.className;r=(r=r.replace(" "+t.toTP("jqx-fill-state-hover"),"")).replace(" "+t.toTP("jqx-grid-cell-hover"),""),s.className=r}};if(i(e),t._pinnedTable&&e.length>0)i(t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells)}t.hoveredRow=null};this.addHandler(this.table,"mouseleave",function(e){r(),t.wrapper&&(t.wrapper.parent().removeAttr("tabindex",0),t.wrapper.removeAttr("tabindex",1),t.content.removeAttr("tabindex",2))});var n=function(e){if(!t.enableHover)return!0;if(t.hoveredRow=e,!e)return!0;var i=e[0].cells,s=t.rowDetails&&!t.treeGrid&&!t.treeGrid?1:0,r=0;s>0&&t.rtl&&(s=0,r=1);for(var n=s;n<i.length-r;n++){i[n].className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}if(t._pinnedTable&&t._pinnedTable[0].rows.length){var o=t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells;for(n=s;n<o.length-r;n++){o[n].className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}}};t.isTouchDevice()&&(t.enableHover=!1),this.addHandler(this.table,"mousemove",function(i){var o=i.pageX,a=i.pageY;if(t.disabled)return!0;if(!t.enableHover)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;var l=s(o,a);if(!l)return!0;var h=e(l).parent();return r(),!(!t.rowDetails||!t.treeGrid||"row-details"!=h.attr("data-role"))||(!(!t.renderedRecords||0!==t.renderedRecords.length)||(null!=t.editKey&&t.editKey===h.attr("data-key")||(n(h),!0)))}),this.addHandler(this.host,"keydown",function(e){return t._handleKey(e)}),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){t.table.trigger("mousedown",e)}),this.addHandler(this.table,i,function(i){i.target;var r=null;if(t.disabled)return!0;if(!(t.touchmode&&i.originalEvent&&i.originalEvent._pageX)){t.table.coord();var o,a=i.pageX,l=i.pageY;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(a=arguments[1].pageX,l=arguments[1].pageY),t.isTouchDevice())if(a=(o=e.jqx.position(i)).left,l=o.top,isNaN(a)||isNaN(l))a=(o=e.jqx.position(i.originalEvent)).left,l=o.top;r=s(a,l);var h=e(r).parent(),d=h.attr("data-key");if(t.rowDetails&&t.treeGrid&&"row-details"==h.attr("data-role"))return!0;var c=function(){t.enableBrowserSelection||(i.preventDefault&&i.preventDefault(),i.stopPropagation()),t.host.focus()};if(void 0!==d){var u=e(r).index(),p=t.columns.records[u];if(d==t.editKey){if(!t.editSettings.editSingleCell)return!0;if(t.clickedTD==r)return!0;if(null!=t.editKey&&t.editSettings.saveOnSelectionChange&&!t.endroweditbykey(t.editKey))return!0}else if(null!=t.editKey&&t.editSettings.saveOnSelectionChange){if(!t.endroweditbykey(t.editKey))return!0}if(t.clickedTD=r,(x=t.rowinfo[d])&&x.group)return!0;var f=!1;if(x){var m=t.getrowdisplayindex(x.row),g=t.getrowindex(x.row);t._raiseEvent("rowClick",{index:m,boundIndex:g,key:d,row:x.row,originalEvent:i,dataField:p.datafield});var v=(new Date).getTime();t.clickTime||(t.clickTime=new Date),t._lastSelectedKey==d&&v-t.clickTime.getTime()<300&&(t._raiseEvent("rowDoubleClick",{index:m,boundIndex:g,key:d,row:x.row,originalEvent:i,dataField:p.datafield}),f=!0,i.preventDefault&&i.preventDefault())}if(t.clickTime=new Date,r.className.indexOf("jqx-grid-group")>=0)x.expanded?t.hidedetailsbykey(d):t.showdetailsbykey(d);else if(i.target&&i.target.className.indexOf&&i.target.className.indexOf("jqx-grid-group")>=0&&t.treeGrid)x.expanded?t.treeGrid.collapseRow(d):t.treeGrid.expandRow(d),n(t._getuirow(d)),i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();else{if(!(i.target&&i.target.className.indexOf&&i.target.className.indexOf("checkbox")>=0&&t.treeGrid)){u=e(r).index(),p=t.columns.records[u];if(i.stopPropagation&&i.stopPropagation(),t.editable&&null==t.editKey&&t._lastSelectedKey==d&&t.editSettings.editOnDoubleClick&&f){t.beginroweditbykey(d,p);return!0}if(t.isTouchDevice()&&t.scrolled&&new Date-t.scrolled<500)return t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!1;if("singlerow"===t.selectionMode&&"custom"!==t.selectionMode)return t.selectrowbykey(d,"mouse",!1),t._lastSelectedKey=d,t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0;if("custom"!==t.selectionMode&&(i.ctrlKey||i.metaKey||t.clearSelection(!1),i.shiftKey&&t._lastSelectedKey)){var x=t.rowinfo[t._lastSelectedKey];t._doSelection(t._lastSelectedKey,!0,!1);var b=e(t._table.children()[1]).children("[data-key="+t._lastSelectedKey+"]").index(),w=h.index();return t._selectRange(w,b),t.selectrowbykey(d,"mouse",!1),t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0}return t._lastSelectedKey=d,t.clickTime=new Date,"custom"===t.selectionMode||(x&&(x.selected?t.unselectrowbykey(d,"mouse",!1):t.selectrowbykey(d,"mouse",!1),c()),t._updateSelection(),t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!0)}x.checked?t.treeGrid.uncheckRow(d):t.treeGrid.checkRow(d),n(t._getuirow(d)),i.stopPropagation&&i.stopPropagation()}}}})},_updateSelection:function(){var t=e(this._table.children()[1]).children(),i=this._pinnedTable?e(this._pinnedTable.children()[1]).children():null,s=this.rowDetails&&!this.treeGrid?1:0,r=0;s>0&&this.rtl&&(s=0,r=1);for(var n=0;n<t.length;n++){var o=t[n].cells;if(i)var a=i[n].cells;var l=null;if(t[n].getAttribute&&(l=t[n].getAttribute("data-key")),this.rowinfo[l]&&"none"!==this.selectionMode)if(this.rowinfo[l].selected)for(var h=s;h<o.length-r;h++){var d=o[h];e(d).addClass(this.toTP("jqx-grid-cell-selected")+" "+this.toTP("jqx-fill-state-pressed")),a&&e(a[h]).addClass(this.toTP("jqx-grid-cell-selected")+" "+this.toTP("jqx-fill-state-pressed"))}else for(h=s;h<o.length-r;h++){d=o[h];if(a)var c=a[h];var u=d.className;u=(u=(u=(u=u.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+this.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+this.theme,""),d.className=u,c&&(c.className=u)}}},_selectRange:function(t,i){var s=e(e(this._table.children()[1]).children()[i]);if(t>i)for(var r=i,n=s;r<t;){var o=(n=n.next()).attr("data-key");this._doSelection(o,!0,!1),r++}else if(t<i)for(r=i,n=s;r>t;){o=(n=n.prev()).attr("data-key");this._doSelection(o,!0,!1),r--}},_getuikey:function(t,i){var s=null,r=e(this._table.children()[1]).children();if(s=e(r[t]).attr("data-key"),e(r[t]).attr("data-role")){var n=e(r[t]);if("next"==i)for(;n;){if(n=n.next())if(!n.attr("data-role"))return s=n.attr("data-key")}else if("prev"==i)for(;n;){if(n=n.prev())if(!n.attr("data-role"))return s=n.attr("data-key")}return null}return s},getRows:function(){return this.source.records},getView:function(){var t=this,i=this._names(),s=new Array,r=function(s,n){if(n)for(var o=0;o<n.length;o++)if(n[o]&&!1!==n[o]._visible){var a=e.extend({},n[o]);s.push(a),n[o][i.expanded]?(a.records=new Array,r(a.records,n[o].records)):t.dataview.filters.length>0&&(a.records=new Array,r(a.records,n[o].records))}};return r(s,this.dataViewRecords),s},getKeys:function(){for(var e=new Array,t=this.source.records,i=0;i<t.length;i++)e.push(t[i].uid);return e},getKey:function(e){var t=this.getRows();return t?t[e].uid:-1},_getkey:function(t){if(this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);var i=null,s=function(){var i=e(this._table.children()[1]).children(),s=null,r=0;if(this.pageable&&(r-=this.dataview.pagenum*this.dataview.pagesize),this.groups.length>0){for(var n=0,o=0;o<i.length;o++){var a=e(i[o]);if(!(a.children()[0].getAttribute("colspan")>0)){if(n===r+t)return s=a.attr("data-key");n++}}return s}if(this.rowDetails)for(n=0,o=0;o<i.length;o++){if(n===t+r)return s=e(i[o]).attr("data-key");o%2==1&&n++}else s=e(i[r+t]).attr("data-key");return s};if(null==(i=s.call(this))&&this.pageable){var r=Math.floor(t/this.dataview.pagesize);if(this.dataview.pagenum!=r){var n=this.getRows()[t];if(n&&null!=n.uid)return n.uid;if(isNaN(r))return null;this.goToPage(r),i=s.call(this)}}return i},_getuirow:function(t){try{var i=e(this._table.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(i){for(var s=e(this._table.children()[1]).children(),r=0;r<s.length;r++){var n=s[r];if(t==n.getAttribute("data-key"))return e(n)}return null}return null},_getpinneduirow:function(t){if(!this._pinnedTable)return null;try{var i=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(i){for(var s=e(this._pinnedTable.children()[1]).children(),r=0;r<s.length;r++){var n=s[r];if(t==n.getAttribute("data-key"))return e(n)}return null}return null},_names:function(){var e={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||this.source&&!this.source._source.hierarchy)return e;var t=this.source._source.hierarchy.reservedNames;return t||e},_getMatches:function(t,i){if(null==t||0==t.length)return-1;var s=this.renderedRecords;null!=i&&(s=s.slice(i));var r=0;if(this.rowDetails&&!this.treeGrid&&r++,r<this.columns.records.length)var n=this.columns.records[r].datafield;else new Array;var o=new Array;return e.each(s,function(i){var s=this[n];s||(s=""),e.jqx.string.startsWithIgnoreCase(s.toString(),t)&&o.push(this.uid)}),o},_handleKey:function(t){if(this._loading)return!0;if(e(t.target).ischildof(this.filter))return!0;if(e(t.target).ischildof(this.toolbar))return!0;if(e(t.target).ischildof(this.statusbar))return!0;var i=this._names(),s=this,r=t.charCode?t.charCode:t.keyCode?t.keyCode:0,n=this._lastSelectedKey,o=(this.rowinfo[n],this._getuirow(n)),a=t.shiftKey&&"singlerow"!=this.selectionMode,l=t.ctrlKey||t.metaKey;if(o){if(this.handleKeyboardNavigation)if(this.handleKeyboardNavigation(r))return!0;if(this.editable&&null==this.editKey&&113===r&&this.editSettings.editOnF2&&this.beginroweditbykey(o.attr("data-key")),null==this.editKey&&!l&&!a&&this.incrementalSearch&&!(r>=33&&r<=40)){this._searchString||(this._searchString=""),(8==r||46==r)&&this._searchString.length>=1&&(this._searchString=this._searchString.substr(0,this._searchString.length-1));var h=String.fromCharCode(r),d=!isNaN(parseInt(h));if(r>=65&&r<=97||d||8==r||32==r||46==r){if(t.shiftKey||(h=h.toLocaleLowerCase()),8!=r&&32!=r&&46!=r&&(this._searchString.length>0&&this._searchString.substr(0,1)==h||(this._searchString+=h)),32==r&&(this._searchString+=" "),this._searchTime=new Date,(n=this.getSelection()).length>=1){for(var c=n[0].uid,u=-1,p=0;p<this.renderedRecords.length;p++)if(this.renderedRecords[p].uid==c){u=p;break}if(0==(f=this._getMatches(this._searchString,u)).length||f.length>0&&f[0]==c)var f=this._getMatches(this._searchString)}else f=this._getMatches(this._searchString);if(f.length>0){if((n=this.getSelection()).length>=1){var m=f.indexOf(n[0].uid);if(-1==m)this.clearSelection(!1),this.selectrowbykey(f[0]);else{var g=m+1;g>=f.length&&(g=0),this.clearSelection(!1),this.selectrowbykey(f[g])}}else this.clearSelection(!1),this.selectrowbykey(f[0]);this._lastSearchString=this._searchString}}null!=this._searchTimer&&clearTimeout(this._searchTimer),27!=r&&13!=r||(this._searchString="",this._lastSearchString=""),this._searchTimer=setTimeout(function(){s._searchString="",s._lastSearchString=""},500)}if(null!=this.editKey){if(27===r&&this.editSettings.cancelOnEsc)this.endroweditbykey(this.editKey,!0);else if(13===r&&this.editSettings.saveOnEnter){if(t.target&&"div"!=t.target.nodeName.toLowerCase()&&"input"!=t.target.nodeName.toLowerCase())return!0;this.endroweditbykey(this.editKey,!1)}else if(this.editSettings.editSingleCell&&this.editColumn){var v=this.columns.records.indexOf(this.editColumn);if(9==r&&v<this.columns.records.length-1&&!t.shiftKey){var x=this.editKey,b=null;for(p=v+1;p<this.columns.records.length;p++)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){b=this.columns.records[p];break}b&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(x,b))}else if(9==r&&t.shiftKey&&v>0){x=this.editKey;var w=null;for(p=v-1;p>=0;p--)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){w=this.columns.records[p];break}w&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(x,w))}if(9==r){var y=this.rowinfo[this.editKey];u=this.getrowindex(y),o=this._getuirow(this.editKey);if(t.shiftKey||b){if(!w&&t.shiftKey){for(_=null,p=this.columns.records.length-1;p>=0;p--)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){_=this.columns.records[p];break}if(_){for(;o;){if(o=o.prev())if(!o.attr("data-role")){j=o.attr("data-key");break}}if(j){this.clearSelection(!1),this._lastSelectedKey=j;y=this.rowsByKey[j],u=this.getrowindex(y),q=this.getrowdisplayindex(y);this._raiseEvent("rowSelect",{key:j,index:q,boundIndex:u,row:this.rowsByKey[j]}),this.endroweditbykey(this.editKey,!1),this._doSelection(j,!0,!0),this.beginroweditbykey(j,_)}}}}else{for(var _=null,p=0;p<this.columns.records.length;p++)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){_=this.columns.records[p];break}if(_){for(;o;){if(o=o.next())if(!o.attr("data-role")){var j=o.attr("data-key");break}}if(j){this.clearSelection(!1),this._lastSelectedKey=j;var y=this.rowsByKey[j],u=this.getrowindex(y),q=this.getrowdisplayindex(y);this._raiseEvent("rowSelect",{key:j,index:q,boundIndex:u,row:this.rowsByKey[j]}),this.endroweditbykey(this.editKey,!1)?(this._doSelection(j,!0,!0),this.beginroweditbykey(j,_)):this.beginroweditbykey(this.editKey,_)}}}return!1}}return!0}if(t.ctrlKey||t.metaKey){var S=String.fromCharCode(r).toLowerCase();if("c"==S||"x"==S)if((n=this.getSelection()).length>=1){for(var T="",C=0;C<this.renderedRecords.length;C++){var I=this.renderedRecords[C];for(p=0;p<n.length;p++){if((y=n[p]).uid===I.uid){for(var k=0;k<this.columns.records.length;k++){T+=this.getCellTextByKey(y.uid,this.columns.records[k].displayfield),k<this.columns.records.length-1&&(T+="\t")}T+="\r\n";break}}}if(""!=T&&(T=T.substring(0,T.length-1)),window.clipboardData)window.clipboardData.setData("Text",T);else{var P=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');P.val(T),e("body").append(P),P.select(),setTimeout(function(){document.designMode="off",P.select(),P.remove()},100)}}}if(32===r&&this.treeGrid&&this.treeGrid.checkboxes){if((n=this.getSelection()).length>1){for(p=0;p<n.length;p++){var M=n[p].uid;this.rowinfo[M].checked?this.treeGrid.uncheckRow(M,!1):this.treeGrid.checkRow(M,!1)}return this._renderrows(),!1}if(c=o.attr("data-key"))return this.rowinfo[c].checked?this.treeGrid.uncheckRow(c):this.treeGrid.checkRow(c),!1}var N=o.index(),D=function(t){var i=null,r=e(s._table.children()[1]).children().length-1,n=e(e(s._table.children()[1]).children()[r]);if(n.attr("data-role"))for(;n;){if(n=n.prev())if(!n.attr("data-role")){i=n.attr("data-key");break}}else i=n.attr("data-key");return"all"==t?{row:n,key:i}:i},B=function(t){var i=null,r=e(e(s._table.children()[1]).children()[0]);if(r.attr("data-role"))for(;r;){if(r=r.next())if(!r.attr("data-role")){i=r.attr("data-key");break}}else i=r.attr("data-key");return"all"==t?{row:r,key:i}:i},O=(c=null,function(){if(l||a||s.clearSelection(!1),33==r||37==r){var e=N;(c=s._getuikey(e,"prev"))||(c=B())}else if(34==r||39==r){e=N;(c=s._getuikey(e,"next"))||(c=D())}else 38==r?c=D():40==r&&(c=B());s._lastSelectedKey=c;var t=s.rowsByKey[c],i=(e=s.getrowindex(t),s.getrowdisplayindex(t));s._raiseEvent("rowSelect",{key:c,index:i,boundIndex:e,row:s.rowsByKey[c]}),s._doSelection(c,!0,!0),s.host.focus()});if(this.treeGrid&&this.rtl&&(37==r?r=39:39==r&&(r=37)),36==r||l&&38==r)return function(){s.clearSelection(!1);var e=B();(a||l)&&"singlerow"!==s.selectionMode?s._selectRange(o.index(),0):s._lastSelectedKey=e,s.selectrowbykey(e,"keyboard")}(),!1;if(35==r||l&&40==r)return function(){s.clearSelection(!1);var e=D("all"),t=e.key;(a||l)&&"singlerow"!==s.selectionMode?s._selectRange(o.index(),e.row.index()):s._lastSelectedKey=t,s.selectrowbykey(t,"keyboard")}(),!1;if(33==r||37==r){c=o.attr("data-key");if(this.rowDetails&&37==r&&!this.treeGrid)return this.hidedetailsbykey(c),!1;if(this.treeGrid&&37==r){if(this.rowinfo[c].row&&!this.rowinfo[c].row[i.parent]&&!this.rowinfo[c][i.leaf]&&!this.rowinfo[c].expanded)return!1;if(this.rowinfo[c].expanded&&!this.rowinfo[c][i.leaf])return this.treeGrid.collapseRow(c),!1;if(this.rowinfo[c].row&&this.rowinfo[c].row[i.parent]&&(c=this.rowinfo[c].row[i.parent].uid),this.rowinfo[c][i.leaf])return!1}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToNextPage(O):this.goToPrevPage(O),!1;if(this.treeGrid&&this.pageable&&33==r)return this.goToPrevPage(O),!1}else if(34==r||39==r){c=o.attr("data-key");if(this.rowDetails&&39==r&&!this.treeGrid)return this.showdetailsbykey(c),!1;if(this.treeGrid&&39==r){if(this.rowinfo[c][i.leaf])return!1;if(!this.rowinfo[c].expanded)return this.treeGrid.expandRow(c),!1;if(this.rowinfo[c].row&&this.rowinfo[c].row.records&&this.rowinfo[c].row.records.length>0)if(this.dataview.filters.length>0){var A=this.rowinfo[c].row.records;for(p=0;p<A.length;p++)if(A[p]._visible){c=A[p].uid;break}}else c=this.rowinfo[c].row.records[0].uid}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToPrevPage(O):this.goToNextPage(O),!1;if(this.treeGrid&&this.pageable&&34==r)return this.goToNextPage(O),!1}else if(38==r){for(;o;){if(o=o.prev())if(!o.attr("data-role")){c=o.attr("data-key");break}}if(this.pageable&&null==c)return this.goToPrevPage(O),!1}else if(40==r){for(;o;){if(o=o.next())if(!o.attr("data-role")){c=o.attr("data-key");break}}if(this.pageable&&null==c)return this.goToNextPage(O),!1}if(null!=c){if(l||a||this.clearSelection(!1),this.rowinfo[c]&&this.rowinfo[c].selected&&(l||a)){this._doSelection(this._lastSelectedKey,!1,!1),this._lastSelectedKey=c;y=this.rowsByKey[c],u=this.getrowindex(y);s._updateSelection();q=this.getrowdisplayindex(y);return this._raiseEvent("rowUnselect",{key:c,index:q,boundIndex:u,row:y}),!1}this._lastSelectedKey=c;y=this.rowsByKey[c],u=this.getrowindex(y);this._doSelection(c,!0,!1),s._updateSelection();q=this.getrowdisplayindex(y);if(this._raiseEvent("rowSelect",{key:c,index:q,boundIndex:u,row:y}),this.treeGrid)if(37==r){var H=null;if(o=this._getuirow(c))o.attr("data-role")||(H=o.attr("data-key"));if(this.pageable&&null==H&&this.dataview.pagenum>0)for(;null==this._getuirow(c)&&this.dataview.pagenum>0;)this.goToPrevPage()}else if(39==r){H=null;if(o=this._getuirow(c))o.attr("data-role")||(H=o.attr("data-key"));this.pageable&&null==H&&this.goToNextPage()}return!1}}},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var s=document.selection.createRange();if(null==s)return{start:0,end:t.value.length,length:0};var r=e[0].createTextRange(),n=r.duplicate();r.moveToBookmark(s.getBookmark()),n.setEndPoint("EndToStart",r);i=s.text.length;return{start:n.text.length,end:n.text.length+s.text.length,length:i,text:s.text}},_doSelection:function(e,t,i){if(null!=e){var s;if("singlerow"===this.selectionMode&&this.clearSelection(!1),s=this.rowinfo[e])s.selected=t,this.ensurerowvisiblebykey(e);else this.ensurerowvisiblebykey(e),(s=this.rowinfo[e])?s.selected=t:this.rowinfo[e]={selected:t};"none"!=this.selectionMode&&!1!==i&&this._renderrows()}else this.clearSelection()},clearSelection:function(e){if(this.rowinfo){var t=this.getRows();for(var i in this.rowinfo){var s=this.rowinfo[i];if(s.selected){s.selected=!1;var r=t.indexOf(s.row),n=this.getrowdisplayindex(s.row);this._raiseEvent("rowUnselect",{key:i,index:n,boundIndex:r,row:s.row})}}}!1!==e&&this._renderrows()},exportData:function(i){if(!e.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid)throw"jqxDataTable: Missing reference to jqxdata.export.js!";throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var s=this.exportSettings.columnsHeader;null==s&&(s=!0);var r=this.exportSettings.hiddenColumns;null==r&&(r=!1);var n=this.exportSettings.serverURL,o=this.exportSettings.characterSet,a=this.exportSettings.collapsedRecords;null==a&&(a=!1);var l=this.exportSettings.fileName;void 0===l&&(l=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data");var h=this,d=this.getRows();if(1==this.exportSettings.recordsInView&&(d=this.getView()),this.treeGrid&&this.treeGrid.virtualModeCreateRecords)d=this.treeGrid.getRows();if(this.groups&&this.groups.length>0){var c=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",d),u=function(t,i){for(var s=0;s<t.length;s++){var r=e.extend({},t[s]);if(i.push(r),r.records&&r.records.length>0)for(var n=u(r.records,new Array),o=0;o<n.length;o++)n[o].leaf,i.push(n[o])}return i},p=u.call(this,c,new Array);d=p}if(0==d.length)throw"No data to export.";this.exporting=!0,this.altRows&&this._renderrows();for(var f=new Array,m=0;m<this.columns.records.length;m++)!r&&this.columns.records[m].hidden||f.push(e.extend({},this.columns.records[m]));if(this.groups&&this.groups.length>0&&f.length>0){var g=this._names();for(m=0;m<d.length;m++)d[m][g.leaf]||(h.rtl?d[m][f[f.length-1].displayfield]=d[m].label:d[m][f[0].displayfield]=d[m].label)}var v=0;if(this.treeGrid){var x=this.treeGrid.getRows();1==this.exportSettings.recordsInView&&(x=this.getView());g=this._names();var b=function(e){for(var t=0;t<e.length;t++){var i=e[t],s=i[g.expanded]||!i[g.expanded]&&a;v=Math.max(v,1+i[g.level]),i.records&&i.records.length>0&&s&&b(e[t].records)}};if(b(x),"xml"!=i&&"json"!=i){var w=f.length;for(m=0;m<v;m++){(L=new t(this,this)).width=this.indentWidth,L.datafield="Level"+m,L.displayfield="Level"+m,L.align="center",L.cellsalign="center",L.text="",this.rtl?f.splice(w,0,L):f.splice(m,0,L)}var y=new Array,_=!(!this.source._source.hierarchy||!this.source._source.hierarchy.groupingDataFields),j=function(t){for(var s=0;s<t.length;s++){for(var r=e.extend({},t[s]),n=0;n<r[g.level];n++)r["Level"+n]="";var o=r[g.expanded]||!r[g.expanded]&&a;("xls"==i||"html"==i||"pdf"==i)&&r.records&&r.records.length>0?r["Level"+r[g.level]]=o?"-":"+":r["Level"+r[g.level]]="",r[g.leaf]&&(r["Level"+r[g.level]]="");for(n=r[g.level]+1;n<v;n++)r["Level"+n]="";if(_&&!r[g.leaf]&&(h.rtl?r[f[f.length-v-1].displayfield]=r.label:r[f[v].displayfield]=r.label),r.aggregate){var l="xls"==i?"_AG":"";for(n=v;n<f.length;n++){var d=n;h.rtl&&(d=f.length-n-1),null!=r[f[d].displayfield]&&(r[f[d].displayfield]=l+r[f[d].displayfield])}}y.push(r),o&&!r[g.leaf]&&j(r.records)}};j(x),d=y}else d=x}var q=null!=r&&r,S={},T={},C=this.host.find(".jqx-grid-cell:first"),I=this.host.find(".jqx-grid-cell-alt:first"),k=this.toThemeProperty;C.removeClass(k("jqx-grid-cell-selected")),C.removeClass(k("jqx-fill-state-pressed")),I.removeClass(k("jqx-grid-cell-selected")),I.removeClass(k("jqx-fill-state-pressed")),C.removeClass(k("jqx-grid-cell-hover")),C.removeClass(k("jqx-fill-state-hover")),I.removeClass(k("jqx-grid-cell-hover")),I.removeClass(k("jqx-fill-state-hover"));for(var P="cell",M=1,N=1,D=[],B=0;B<f.length;B++){if(""!=(L=f[B]).cellclassname)if(L.customCellStyles=new Array,"string"==typeof L.cellclassname)L.customCellStyles.push(L.cellclassname);else for(m=0;m<d.length;m++){var O=m,A=L.cellclassname(O,L.displayfield,d[m][L.displayfield],d[m]);A&&(L.customCellStyles[m]=A)}}if(e.each(f,function(t){var r=t;h.treeGrid&&(t>=v?r=f.length-v-1:v>0&&t<v&&(r=0));var n=e(h._table[0].rows[0].cells[r]);if(h._table[0].rows.length>1&&0==(o=e(h._table[0].rows[1].cells[r])).length)var o=e(h._table[0].rows[1].cells[0]);if(0==n.length)n=e(h._table[0].rows[0].cells[0]);var a=this,l=function(e){var t=h.toThemeProperty;if(e.removeClass(t("jqx-cell")),e.removeClass(t("jqx-grid-cell-selected")),e.removeClass(t("jqx-fill-state-pressed")),e.removeClass(t("jqx-grid-cell-hover")),e.removeClass(t("jqx-fill-state-hover")),a.customCellStyles)for(var i in a.customCellStyles)e.removeClass(a.customCellStyles[i])};if(l(n),o&&l(o),null==this.displayfield)return!0;h.showAggregates&&h.getcolumnaggregateddata&&D.push(h.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,d));var c=h._getexportcolumntype(this);!this.exportable||this.hidden&&!q||(S[this.displayfield]={},S[this.displayfield].text=this.text,S[this.displayfield].width=parseInt(this.width),isNaN(S[this.displayfield].width)&&(S[this.displayfield].width=60),S[this.displayfield].width>500&&(S[this.displayfield].width=500),S[this.displayfield].formatString=this.cellsFormat,S[this.displayfield].localization=h.gridlocalization,S[this.displayfield].type=c,S[this.displayfield].cellsAlign=this.cellsalign,S[this.displayfield].hidden=!s,S[this.displayfield].index=r,S[this.displayfield].maxIndex=f.length),P="cell"+M;var u=this.element;if("json"!=i&&"xml"!=i){var p=function(e,t,s,r,n,o,a,l,h){T[e]={index:1+a,maxIndex:f.length},o.rtl&&(T[e].index=f.length-a),"html"!=i&&"xls"!=i&&"pdf"!=i||(t&&(T[e]["font-size"]=t.css("font-size"),T[e]["font-weight"]=t.css("font-weight"),T[e]["font-style"]=t.css("font-style"),T[e]["background-color"]=o._getexportcolor(t.css("background-color")),T[e].color=o._getexportcolor(t.css("color")),T[e]["border-color"]=o._getexportcolor(t.css("border-top-color"))),s?T[e]["text-align"]=n.align:(T[e]["text-align"]=n.cellsalign,T[e].formatString=n.cellsFormat,T[e].dataType=c),"html"!=i&&"pdf"!=i||(T[e]["border-top-width"]="0px",o.rtl?(T[e]["border-left-width"]="1px",T[e]["border-right-width"]="0px",a==f.length-v-1&&s&&(T[e]["border-right-width"]="1px")):(T[e]["border-left-width"]="0px",T[e]["border-right-width"]="1px"),T[e]["border-bottom-width"]="1px",t&&(T[e]["border-top-style"]=t.css("border-top-style"),T[e]["border-left-style"]=t.css("border-left-style"),T[e]["border-right-style"]=t.css("border-right-style"),T[e]["border-bottom-style"]=t.css("border-bottom-style")),s?(0!=a||o.rtl?a==f.length-1&&o.rtl&&(T[e]["border-right-width"]="1px"):T[e]["border-left-width"]="1px",t&&(T[e]["border-top-width"]="1px",T[e]["border-bottom-width"]=t.css("border-bottom-width"))):0!=a||o.rtl?a==f.length-1&&o.rtl&&(T[e]["border-right-width"]="1px"):T[e]["border-left-width"]="1px",t&&(T[e].height=t.css("height")),o.treeGrid&&!s&&(T[e].index-1<v?o.rtl?T[e]["border-left-width"]="0px":T[e]["border-right-width"]="0px":T[e].index-1==v&&(o.rtl?T[e]["border-right-width"]="0px":T[e]["border-left-width"]="0px")))),!n.exportable||n.hidden&&!q||(1==l?(S[n.displayfield].customCellStyles||(S[n.displayfield].customCellStyles=new Array),S[n.displayfield].customCellStyles[h]=e):s?S[n.displayfield].style=e:r?S[n.displayfield].cellAltStyle=e:S[n.displayfield].cellStyle=e)};if(p("column"+N,u,!0,!1,this,h,t),N++,p(P,n,!1,!1,this,h,t),h.altRows&&p(P="cellalt"+M,o,!1,!0,this,h,t),this.customCellStyles){for(var m in a.customCellStyles)n.removeClass(a.customCellStyles[m]);for(var m in a.customCellStyles)n.addClass(a.customCellStyles[m]),p(P+a.customCellStyles[m],n,!1,!1,this,h,t,!0,m),n.removeClass(a.customCellStyles[m])}M++}}),"json"!=i&&"xml"!=i&&v>0&&this.treeGrid){var H=v+1;if(this.rtl&&(H=f.length-v),T["column"+H]){var E=T["column"+H];E.merge=v,E["border-left-width"]="1px";for(T["cell"+H],m=0;m<f.length;m++){H=m+1;if(this.rtl&&(H=f.length-m),T["column"+H].level=m,T["column"+H].maxLevel=v,T["cell"+H].maxLevel=v,(L=f[m]).customCellStyles)for(var z in L.customCellStyles)T["cell"+H+L.customCellStyles[z]]&&(T["cell"+H+L.customCellStyles[z]].maxLevel=v);T["cellalt"+H]&&(T["cellalt"+H].maxLevel=v)}for(m=0;m<v;m++){H=m+1;var L,F=m;if(this.rtl&&(H=f.length-m),(R=T["column"+H]).disabled=!0,T["cell"+H].level=F,T["cell"+H].maxLevel=v,T["column"+H].level=F,T["cellalt"+H]&&(T["cellalt"+H].level=F,T["cellalt"+H].maxLevel=v),(L=f[m]).customCellStyles)for(var z in L.customCellStyles)T["cell"+H+L.customCellStyles[z]]&&(T["cell"+H+L.customCellStyles[z]].maxLevel=v,T["cell"+H+L.customCellStyles[z]].level=F);if(("html"==i||"pdf"==i||"xls"==i)&&(R["font-size"]=E["font-size"],R["font-weight"]=E["font-weight"],R["font-style"]=E["font-style"],R["background-color"]=E["background-color"],R.color=E.color,R["border-color"]=E["border-color"],"html"==i||"pdf"==i)){R["border-top-width"]=E["border-top-width"],R["border-left-width"]=E["border-left-width"],this.rtl&&(R["border-right-width"]=E["border-right-width"],0==m&&(R["border-right-width"]="1px")),0!=m||this.rtl?0==m&&this.rtl&&(R["border-left-width"]="0px"):R["border-left-width"]="0px",this.rtl?this.rtl&&(R["border-left-width"]="0px"):R["border-right-width"]="0px",R["border-bottom-width"]="0px";var R=T["cell"+H];this.rtl?this.rtl&&(R["border-left-width"]="0px"):R["border-right-width"]="0px"}}}}if(this.showAggregates){var V=[],W="xls"==i?"_AG":"",G=0;this.rowDetails&&!this.treeGrid&&G++,D.length>0&&(e.each(f,function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(V[t]||(V[t]={}),V[t]){var i=h._getaggregatename(this.aggregates[t]),s=h._getaggregatetype(this.aggregates[t]),r=D[e-G];r&&(V[t][this.displayfield]=W+i+": "+r[s])}}),e.each(f,function(e){for(var t=0;t<V.length;t++)null==V[t][this.displayfield]&&(V[t][this.displayfield]=W)})),e.each(V,function(){d.push(this)})}var U=this,X=e.jqx.dataAdapter.ArrayExporter(d,S,T,n,this.treeGrid&&("xml"==i||"json"==i));if(null==l){this._renderrows();var Y=this.treeGrid&&("xml"==i||"json"==i),K=X.exportTo(i,this.treeGrid&&("xml"==i||"json"==i));return this.showAggregates&&e.each(V,function(){d.pop(this)}),setTimeout(function(){U.exporting=!1},50),K}Y=this.treeGrid&&("xml"==i||"json"==i);X.exportToFile(i,l,n,o,Y),this.showAggregates&&e.each(V,function(){d.pop(this)}),this._renderrows(),setTimeout(function(){U.exporting=!1},50)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var s=parseInt(i[0].substring(5)),r=parseInt(i[1]),n=parseInt(i[2]),o=parseInt(i[3].substring(1,4)),a={r:s,g:r,b:n},l=this._rgbToHex(a);return 0==s&&0==r&&0==n&&0==o?"#ffffff":"#"+l}a={r:s=parseInt(i[0].substring(4)),g:r=parseInt(i[1]),b:n=parseInt(i[2].substring(1,4))};return"#"+(l=this._rgbToHex(a))}return-1!=t.toString().indexOf("#")&&4==t.toString().length&&(t+=t.toString().substring(1,4)),t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(t){var i="string",s=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(s){var r="";if(e.each(s,function(){if(this.name==t.displayfield)return this.type&&(r=this.type),!1}),r)return r}if(null!=t){if(null==this.dataview.cachedrecords)return i;var n=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return n=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return i;if(null!=(n=this.dataview.cachedrecords[0][t.displayfield])&&""==n.toString())return"string"}if(null!=n){if(-1!=t.cellsFormat.indexOf("c"))return"number";if(-1!=t.cellsFormat.indexOf("n"))return"number";if(-1!=t.cellsFormat.indexOf("p"))return"number";if(-1!=t.cellsFormat.indexOf("d"))return"date";if(-1!=t.cellsFormat.indexOf("y"))return"date";if(-1!=t.cellsFormat.indexOf("M"))return"date";if(-1!=t.cellsFormat.indexOf("m"))return"date";if(-1!=t.cellsFormat.indexOf("t"))return"date";if("boolean"==typeof n)i="boolean";else if(e.jqx.dataFormat.isNumber(n))i="number";else{var o=new Date(n);if("NaN"==o.toString()||"Invalid Date"==o.toString())if(e.jqx.dataFormat){if(null!=(o=e.jqx.dataFormat.tryparsedate(n))){if(o&&o.getFullYear()&&1970==o.getFullYear()&&0==o.getMonth()&&1==o.getDate()){var a=new Number(n);return isNaN(a)?"string":"number"}return"date"}i="string"}else i="string";else i="date"}}}return i},showDetails:function(e){var t=this._getkey(e);this.showdetailsbykey(t)},hideDetails:function(e){var t=this._getkey(e);this.hidedetailsbykey(t)},setCellValueByKey:function(t,i,s){var r=this.rowsByKey[t],n=this.getrowindex(r),o=r;if(null!=o&&o[i]==s)return!1;if(null==o||null!==o[i]||""!==s){var a="";if(null!=o&&o[i]!==s){var l,h=this.getColumn(i),d="string";if(g=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var c="";e.each(g,function(){if(this.name==h.displayfield)return this.type&&(c=this.type),!1}),c&&(d=c)}if(a=o[i],!h.nullable||null!=s&&""!==s&&h.nullable&&void 0===s.label){if(e.jqx.dataFormat.isNumber(a)||"number"==d||"float"==d||"int"==d||"decimal"==d&&"date"!=d)s=new Number(s),s=parseFloat(s),isNaN(s)&&(s=0);else if((e.jqx.dataFormat.isDate(a)||"date"==d)&&""!=s){var u=s;"Invalid Date"!=(u=new Date(u))&&null!=u?s=u:"Invalid Date"==u&&(s=u=new Date)}if(o[i]===s)return}if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,o[i]=s,this.treeGrid)(l=this.treeGrid.getRow(t))&&(l[i]=s);if(null!=s&&null!=s.label)if(o[(h=this.getColumn(i)).displayfield]=s.label,o[i]=s.value,this.treeGrid)(l=this.treeGrid.getRow(t))&&(l[h.displayfield]=s.label,l[i]=s.value)}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var p=n,f=this.source._source._localdata()[p];this.source.suspendKO=!0;var m=f;if(m[i]&&m[i].subscribe)null!=s&&null!=s.label?(m[h.displayfield](s.label),m[i](s.value)):m[i](s);else{var g=this.source._source.datafields,v=null;if(g&&e.each(g,function(){if(this.name==i)return v=this.map,!1}),null==v)null!=s&&null!=s.label?(m[i]=s.value,m[h.displayfield]=s.label):m[i]=s;else{var x=v.split(this.source.mapChar);if(x.length>0){for(var b=m,w=0;w<x.length-1;w++)b=b[x[w]];b[x[x.length-1]]=s}}this.source._source._localdata.replace(f,e.extend({},m))}this.source.suspendKO=!1}if(this.source.updaterow&&(null==sync||1==sync)){try{var y=t;null==this.source.updaterow(y,o,function(e){0==e&&this.setCellValue(r,i,a,!0,!1)})&&!0}catch(e){return!1,void this.setCellValue(r,i,a)}}var _=this.getrowdisplayindex(r);h=this.getColumn(i);this._raiseEvent("cellValueChanged",{value:s,oldValue:a,dataField:i,displayField:h.displayfield,key:t,boundIndex:n,index:_,row:this.rowsByKey[t]}),this.editable&&null!=this.editKey||this._renderrows()}},setCellValue:function(e,t,i){if(null==e||null==t)return!1;var s=parseInt(e),r=this._getkey(s);this.setCellValueByKey(r,t,i)},getCellText:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),s=this._getkey(i);return this.getCellTextByKey(s,t)},getCellTextByKey:function(t,i){if(null==t||null==i)return null;var s=this.getCellValueByKey(t,i),r=this.getColumn(i);return r&&""!=r.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?s=e.jqx.dataFormat.formatdate(s,r.cellsFormat,this.gridlocalization):(e.jqx.dataFormat.isNumber(s)||!isNaN(parseFloat(s))&&isFinite(s))&&(s=e.jqx.dataFormat.formatnumber(s,r.cellsFormat,this.gridlocalization))),s},getCellValue:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),s=this._getkey(i);return this.getCellValueByKey(s,t)},getCellValueByKey:function(e,t){var i=this.rowsByKey[e];!i&&this.treeGrid&&(i=this.treeGrid.getRow(e));this.getrowindex(i);return null!=i?i[t]:null},beginRowEdit:function(e){var t=this._getkey(e);this.beginroweditbykey(t)},beginCellEdit:function(e,t){var i=this._getkey(e),s=this.getColumn(t);this.beginroweditbykey(i,s)},endCellEdit:function(e,t,i){this.endRowEdit(e,i)},endRowEdit:function(e,t){var i=this._getkey(e);this.endroweditbykey(i,t)},getrowindex:function(e){var t=this.getRows().indexOf(e);if(-1!=t)return t;if(this.groups&&this.groups.length>0)for(var i=this.getRows(),s=0;s<i.length;s++)if(e.originalRecord){if(i[s].uid==e.originalRecord.uid){t=s;break}}else if(i[s].uid==e.uid){t=s;break}return t},getrowdisplayindex:function(e){if(this.treeGrid)return-1;var t=this.getView(),i=t.indexOf(e);if(-1!=i)return i;if(null==e)return i;for(var s=t,r=0;r<s.length;r++)if(s[r].uid==e.uid||e.originalRecord&&s[r].uid==e.originalRecord.uid){i=r;break}return i},beginroweditbykey:function(t,i){if(this.beginEdit&&!1===this.beginEdit(t,i))return!1;var s=this.treeGrid?this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0:this.groups.length;if(s>0){var r=this.rowsByKey[t];if(this.treeGrid)r=this.treeGrid.getRow(t);if(r.level<s)return!1}if(null==this._lastSelectedKey&&this.selectrowbykey(t),this.editKey===t&&null!=this.editKey)return!1;if(this.rowinfo[t]&&this.rowinfo[t].locked)return!1;if(null!=this.editKey)return this.endroweditbykey(t,!0),!1;var n=this.editSettings.editSingleCell;if(!i&&n&&this.columns.records&&this.columns.records.length>0){for(var o=0;o<this.columns.records.length&&(!(i=this.columns.records[o]).editable||i.hidden);o++);if(!i)return!1}if(n&&i&&!i.editable)return this.editKey=null,!1;n&&(this.editColumn=i);var a=this;r=this.rowsByKey[t];if(this.treeGrid)r=this.treeGrid.getRow(t);var l=this.getrowindex(r),h=this._getuirow(t),d=this._getpinneduirow(t);this._editors=new Array;var c=!1;if(h){var u=h[0].cells,p=0;for(o=0;o<u.length;o++){var f=this.columns.records[o],m=u[o];if(!f.rowDetailscolumn&&!(f.checkboxcolumn||(f.pinned&&(m=d[0].cells[o]),n&&i&&f.datafield!=i.datafield||(e(m).removeClass(this.toTP("jqx-grid-cell-selected")),e(m).removeClass(this.toTP("jqx-fill-state-pressed")),e(m).removeClass(this.toTP("jqx-grid-cell-hover")),e(m).removeClass(this.toTP("jqx-fill-state-hover")),"none"==f.columntype)))){var g=e(m).outerWidth(),v=e(m).width();0===p&&(p=e(m).outerHeight()-1),e(m).css("padding","0px"),cellContent="<div style='height:"+p+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>";var x=this.getCellTextByKey(t,f.displayfield);m.innerHTML=cellContent;var b=e(m.firstChild);switch(f.columntype){case"textbox":case"default":var w=e("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(b);if(this.rtl&&w.css("direction","rtl"),w.addClass(this.toThemeProperty("jqx-input")),w.addClass(this.toThemeProperty("jqx-widget-content")),w.addClass(this.toThemeProperty("jqx-cell-editor")),w[0].onfocus=function(t){setTimeout(function(){var i;t?(i=e(t.target).parent().parent().index())>=0&&a.ensureColumnVisible(a.columns.records[i].datafield):(i=e(document.activeElement).parent().parent().index())>=0&&a.ensureColumnVisible(a.columns.records[i].datafield);a.content&&(a.content[0].scrollTop=0,a.content[0].scrollLeft=0),a.gridcontent&&(a.gridcontent[0].scrollLeft=0,a.gridcontent[0].scrollTop=0)},10)},f.editable){if(!c){c=!0;var y=e.jqx.browser.msie&&e.jqx.browser.version>10;y||w.focus();var _=w;setTimeout(function(){var e=_.val().length;y||_.focus();try{if("selectionStart"in _[0])_[0].setSelectionRange(0,e);else{var t=_[0].createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",0),t.select()}}catch(e){}},10)}}else w.attr("disabled",!0),w.attr("readOnly",!0),w.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(w.width(v),w.height(p),e.jqx.browser.msie&&e.jqx.browser.version<9&&w.css("line-height",parseInt(p)+"px"),w.css("text-align",f.cellsalign),null===x&&(x=""),null==x&&(x=""),w.val(x),f.createeditor){var j=x;x=this.getCellValueByKey(t,f.displayfield);f.createeditor(this.treeGrid?t:l,x,w,j,v,p)}if(this._editors.push({column:f,editor:w}),""!=f.cellsFormat&&(-1==f.cellsFormat.indexOf("p")&&-1==f.cellsFormat.indexOf("c")&&-1==f.cellsFormat.indexOf("n")&&-1==f.cellsFormat.indexOf("f")||w.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,i=String.fromCharCode(t),s=parseInt(i);if(isNaN(s))return!0;if(a._selection(w).length>0)return!0;var r="",n=w.val();if(f.cellsFormat.length>1){var o=parseInt(f.cellsFormat.substring(1));isNaN(o)&&(o=0)}else o=0;if(o>0&&-1!=n.indexOf(a.gridlocalization.decimalseparator)&&a._selection(w).start>n.indexOf(a.gridlocalization.decimalseparator))return!0;for(var l=0;l<n.length-o;l++){var h=n.substring(l,l+1);null!=h.match(/^[0-9]+$/)&&(r+=h)}return!(r.length>=11)&&void 0})),f.initeditor){j=x,x=this.getCellValueByKey(t,f.displayfield);f.initeditor(this.treeGrid?t:l,x,w,j,v,p)}break;case"custom":case"template":this.editorsCache||(this.editorsCache=new Array);var q=e("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(b),S=e.trim(f.datafield).split(" ").join("");-1!=S.indexOf(".")&&(S=S.replace(".",""));var T=this.editorsCache["templateeditor_"+S];if("custom"==f.columntype)T=this.editorsCache["customeditor_"+S+"_"+t];j=x,x=this.getCellValueByKey(t,f.displayfield);if(T)(w=T).width(g),w.height(p),w.appendTo(q);else(w=e("<div style='border: none;'></div>")).width(g),w.height(p),T=w,null===x&&(x=""),"custom"!=f.columntype?this.editorsCache["templateeditor_"+S]=w:this.editorsCache["customeditor_"+S+"_"+t]=w,w.appendTo(q),f.createeditor&&f.createeditor(this.treeGrid?t:l,x,w,j,g,p);f.initeditor&&f.initeditor(this.treeGrid?t:l,x,w,j,g,p),this._editors.push({column:f,editor:w})}}}}this.editKey=t,this.beginUpdate();var C=this.getrowdisplayindex(r);if(this._raiseEvent("rowBeginEdit",{key:t,index:C,boundIndex:l,row:this.rowsByKey[t]}),n){var I=null,k=null;(r=this.rowsByKey[t])&&(I=r[i.datafield],k=r[i.displayfield]),this._raiseEvent("cellBeginEdit",{value:I,displayValue:k,key:t,index:C,dataField:i.datafield,displayField:i.displayfield,boundIndex:l,row:this.rowsByKey[t]})}this.endUpdate(!1)},_toNumber:function(e){e.indexOf||null==e||(e=e.toString()),e.indexOf(this.gridlocalization.currencysymbol)>-1&&(e=e.replace(this.gridlocalization.currencysymbol,""));(e=(e=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(e,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(e=e.replace(this.gridlocalization.percentsymbol,""));for(var t="",i=0;i<e.length;i++){var s=e.substring(i,i+1);"-"===s&&(t+="-"),"."===s&&(t+="."),null!=s.match(/^[0-9]+$/)&&(t+=s)}return e=(e=t).replace(/ /g,"")},_geteditorvalue:function(t,i,s,r){var n=new String;if(i){if(!t.geteditorvalue)switch(t.columntype){case"textbox":default:if(n=i.val(),""!=t.cellsFormat){var o="string",a=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(a){var l="";e.each(a,function(){if(this.name==t.displayfield)return this.type&&(l=this.type),!1}),l&&(o=l)}var h="date"===o||"time"===o;if("number"===o||"float"===o||"int"===o||"integer"===o||"string"===o&&(-1!=t.cellsFormat.indexOf("p")||-1!=t.cellsFormat.indexOf("c")||-1!=t.cellsFormat.indexOf("n")||-1!=t.cellsFormat.indexOf("f"))){if(""===n&&t.nullable)return"";n=this._toNumber(n),n=new Number(n),isNaN(n)&&(n="")}if(h||"string"===o&&(-1!=t.cellsFormat.indexOf("H")||-1!=t.cellsFormat.indexOf("m")||-1!=t.cellsFormat.indexOf("M")||-1!=t.cellsFormat.indexOf("y")||-1!=t.cellsFormat.indexOf("h")||-1!=t.cellsFormat.indexOf("d"))){if(""===n&&t.nullable)return"";var d=n;("Invalid Date"==(n=new Date(n))||null==n||t.cellsFormat.length>1)&&(e.jqx.dataFormat&&(n=e.jqx.dataFormat.parsedate(d,t.cellsFormat,this.gridlocalization)),"Invalid Date"!=n&&null!=n||(n=""))}}t.displayfield!=t.datafield&&(n={label:n,value:n})}if(t.geteditorvalue){var c=this.getCellValueByKey(r,t.displayfield);n=t.geteditorvalue(this.treeGrid?r:s,c,i)}}return n},_validateEditors:function(e){for(var t=!0,i=this.rowsByKey[e],s=this.getrowindex(i),r=this._editors,n=(e=this.editKey,this._getuirow(e)),o=0;o<r.length;o++){var a=r[o].editor,l=r[o].column,h=this._geteditorvalue(l,a,s,e);if(l.validation){a.removeClass(this.toThemeProperty("jqx-grid-validation-label"));var d=l.datafield;try{var c=l.validation({value:h,row:e,datafield:l.datafield,displayfield:l.displayfield,column:l},h),u=this.gridlocalization.validationstring;null!=c.message&&(u=c.message),("boolean"==typeof c?c:c.result)||(null!=c.showmessage&&1!=c.showmessage||this._showvalidationpopup(n,d,u,a),t=!1)}catch(e){this._showvalidationpopup(n,d,this.gridlocalization.validationstring,a),t=!1}}}return t},endroweditbykey:function(t,i){var s=this;if(null!==s.editKey){if(this.endEdit)if(!1===this.endEdit(t))return;var r=s.rowsByKey[t],n=s.getrowindex(r),o=s._editors,a=s.editKey;s._getuirow(a);if(!0!==i){var l=!0;if(o&&(l=s._validateEditors(a))){for(var h=e.extend({},r),d=e.extend({},r),c=0;c<o.length;c++){var u=o[c].editor,p=o[c].column,f=s._geteditorvalue(p,u,n,a);f&&null!=f.label?(h[p.displayfield]=f.label,h[p.datafield]=f.value):h[p.displayfield]=f}s.updaterowbykey(s.editKey,h,!1,function(){s.dataview._sortHierarchyData=null,s.dataview._sortData=null;for(var i=0;i<o.length;i++){var l=o[i].editor,h=o[i].column,c=s._geteditorvalue(h,l,n,a),u=d[h.displayfield];if(c&&null!=c.label?(r[h.displayfield]=c.label,r[h.datafield]=c.value):r[h.displayfield]=c,s.treeGrid){var p=s.treeGrid.getRow(a);p&&(p[h.displayfield]=c)}if(s.editorsCache){var f=function(e){if(e&&e.jqxWidget){var t=e.jqxWidget.element.className;(t.indexOf("dropdownlist")>=0||t.indexOf("datetimeinput")>=0||t.indexOf("combobox")>=0||t.indexOf("menu")>=0)&&e.jqxWidget.isOpened&&e.jqxWidget.isOpened()&&e.jqxWidget.close()}},m="customeditor_"+h.displayfield+"_"+t,g="templateeditor_"+h.displayfield;if(s.editorsCache[m]){var v=e(s.editorsCache[m]).data(),x=s.editorsCache[m];!v.jqxWidget&&e(x).children()[0]&&e(e(x).children()[0]).data().jqxWidget&&(v=e(e(x).children()[0]).data()),f(v),s.editorsCache[m].detach()}s.editorsCache[g]&&(s.editorsCache[g].detach(),v=e(s.editorsCache[g]).data(),x=s.editorsCache[g],!v.jqxWidget&&e(x).children()[0]&&e(e(x).children()[0]).data().jqxWidget&&(v=e(e(x).children()[0]).data()),f(v))}c!=u&&(s.beginUpdate(),s._raiseEvent("cellValueChanged",{value:c,oldValue:u,dataField:h.datafield,displayField:h.displayfield,key:t,index:n,row:r}),s.endUpdate(!1))}})}if(!l)return!1}return s._detachEditors(a),!0}},_detachEditors:function(t){var i=this,s=i.rowsByKey[t],r=i.getrowindex(s);if(i.editorsCache)for(var n in i.editorsCache){var o=e(i.editorsCache[n]).data();if(o&&o.jqxWidget){var a=o.jqxWidget.element.className;if(a.indexOf("dropdownlist")>=0||a.indexOf("datetimeinput")>=0||a.indexOf("combobox")>=0||a.indexOf("menu")>=0)if(o.jqxWidget.isOpened)o.jqxWidget.isOpened()&&o.jqxWidget.close()}e(i.editorsCache[n]).detach()}i.beginUpdate();var l=i.getrowdisplayindex(s);if(i.editSettings.editSingleCell){var h=null,d=null;(s=i.rowsByKey[t])&&(h=s[i.editColumn.datafield],d=s[i.editColumn.displayfield]),i._raiseEvent("cellEndEdit",{value:h,displayValue:d,key:t,index:l,dataField:i.editColumn.datafield,displayField:i.editColumn.displayfield,boundIndex:r,row:i.rowsByKey[t]})}i._raiseEvent("rowEndEdit",{key:t,index:l,boundIndex:r,row:i.rowsByKey[t]}),i.endUpdate(!1),i.editColumn=null,i.editKey=null,i._renderrows(),i._renderhorizontalscroll(),i.host.focus(),setTimeout(function(){i.host.focus()},10)},_showvalidationpopup:function(t,i,s,r){if(null==s)s=this.gridlocalization.validationstring;r.addClass(this.toThemeProperty("jqx-grid-validation-label"));var n=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),o=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");n.html(s),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),n.addClass(this.toThemeProperty("jqx-grid-validation")),n.addClass(this.toThemeProperty("jqx-rc-all")),n.hide(),o.hide(),n.prependTo(this.table),o.prependTo(this.table);var a=this.hScrollInstance.value,l=parseInt(a),h=this.getColumn(i).uielement;if(t){var d=t;n.css("top",parseInt(d.position().top)+30+"px");var c=parseInt(n.css("top"));o.css("top",c-11),o.removeClass(),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var u=!1;c>=this._table.height()&&(o.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(c=parseInt(d.position().top)-d.outerHeight()-5)<0&&(c=0,o.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),u=!0),n.css("top",c+"px"),o.css("top",c+n.outerHeight()-9));var p=-l+parseInt(e(h).position().left),f=parseInt(this._table.css("left"));isNaN(f)&&(f=0),0!=f&&(l=0),o.css("left",l+p+30);var m=n.width();if(m+p>this.host.width()-20)p-=m+p-this.host.width()+40;u?n.css("left",l+parseInt(e(h).position().left)-n.outerWidth()):n.css("left",l+p),r.mouseenter(function(){r.hasClass("jqx-grid-validation-label")&&(n.show(),o.show())}),r.mouseleave(function(){n.hide(),o.hide()}),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:n,validationrow:o}}},addRow:function(t,i,s,r){if(null!=i){this._datachanged=!0,null==s&&(s="last");var n=!1,o=this.that;if(null==t){var a=this.dataview.filters&&this.dataview.filters.length>0,l=a?this.source.records.length:this.dataview.totalrecords;if(!this.pageable){this.source._source.totalrecords?this.dataview.totalrecords=this.source._source.totalrecords:this.source._source.totalRecords?this.dataview.totalrecords=this.source._source.totalRecords:0!==this.source.hierarchy.length?this.dataview.totalrecords=this.source.hierarchy.length:this.dataview.totalrecords=this.source.records.length;l=a?this.source.records.length:this.dataview.totalrecords}if(e.isArray(i)){var h=new Array;e.each(i,function(e,t){var s=o.dataview.getid(o.dataview.source.id,i[e],l+e);h.push(s),o.getColumn(o.dataview.source.id)&&(i[e][o.dataview.source.id]=s)}),t=h}else t=this.dataview.getid(this.dataview.source.id,i,l),this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t)}else e.isArray(i)?e.each(i,function(e,s){var r=t[e];o.getColumn(o.dataview.source.id)&&(i[e][o.dataview.source.id]=r)}):this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t);var d=!!this.treeGrid&&!!this.treeGrid.virtualModeCreateRecords,c=function(t,i,s,n){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);var o=t.vScrollInstance.value,a=!1;if(e.isArray(s)?e.each(s,function(e,s){var o=null;null!=i&&null!=i[e]&&(o=i[e]),this.uid=o,t.rowsByKey[o]=this,i==r&&(r=null),a=t.source.addRecord(this,n,r,d)}):(s.uid=i,t.rowsByKey[i]=s,i==r&&(r=null),a=t.source.addRecord(s,n,r,d)),t.groups&&t.groups.length>0){var l=Object.prototype.toString,h=t.groups[0];if(Object.prototype.toString="function"==typeof h?h:function(){return this[h]},!t.source.records.sort){var c=new Array,u=0;e.each(data,function(){c[startindex+u++]=this}),data=c}t.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var s=0,r=0;if(t&&t.uid&&(s=t.uid),i&&i.uid&&(r=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}if("number"==typeof s){if(s<r)return-1;if(s>r)return 1}return 0}),Object.prototype.toString=l}return t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null,null!=t._updating&&0!=t._updating||t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(s),t.source.suspendKO=!1),t.vScrollInstance.setPosition(o),a};if(this.source.addrow){var u=function(e,r){1!=e&&null!=e||(null!=r&&(t=r),c(o,t,i,s))};try{null==(n=o.treeGrid?this.source.addrow(t,i,s,r,u):this.source.addrow(t,i,s,u))&&(n=!0)}catch(e){n=!1}if(0==n)return!1}else c(this,t,i,s);return n}return!1},deleteRow:function(e){var t=this._getkey(e);this.deleterowbykey(t)},deleterowbykey:function(t){if(null!=t){this._datachanged=!0;var i=!1,s=this.that,r=function(t,i){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var s=!1,r=t.vScrollInstance.value;if(e.isArray(i))e.each(i,function(){if(t.rowsByKey[this]){if(s=!0,t.rowinfo[this].selected&&t.unselectrowbykey(this,!1),t.treeGrid)var e=t._names(),i=t.rowsByKey[this][e.parent];if(delete t.rowsByKey[this],t.treeGrid&&t.rowinfo[this]){var r=t.rowinfo[this].row.records,n=function(e){for(var i=0;i<e.length;i++){var s=e[i].uid;delete t.rowsByKey[s],delete t.rowinfo[s],e[i].records&&n(e[i].records)}};r&&(n(r),delete t.rowinfo[this])}t.source.deleteRecord(this),i&&e&&i.records&&0==i.records.length&&(i[e.leaf]=!0,t.rowinfo[i.uid][e.leaf]=!0)}});else{s=!1;if(t.rowsByKey[i]){if(s=!0,t.rowinfo[i]&&t.rowinfo[i].selected&&t.unselectrowbykey(i,!1),t.treeGrid)var n=t._names(),o=t.rowsByKey[i][n.parent];if(delete t.rowsByKey[i],t.treeGrid&&t.rowinfo[i]){var a=t.rowinfo[i].row.records,l=function(e){for(var i=0;i<e.length;i++){var s=e[i].uid;delete t.rowsByKey[s],delete t.rowinfo[s],e[i].records&&l(e[i].records)}};a&&l(a)}delete t.rowinfo[i],t.source.deleteRecord(i),o&&n&&o.records&&0==o.records.length&&(o[n.leaf]=!0,t.rowinfo[o.uid][n.leaf]=!0)}}return t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(rowdata),t.source.suspendKO=!1),t.vScrollInstance.setPosition(r),s};if(this.source.deleterow){try{this.source.deleterow(t,function(e){1!=e&&null!=e||r(s,t)}),null==i&&(i=!0)}catch(e){i=!1}}else i=r(s,t);return i}return!1},updateRow:function(e,t){var i=this._getkey(e);this.updaterowbykey(i,t)},updaterowbykey:function(t,i,s,r){if(null!=t&&null!=i){var n=this.that,o=!1,a=function(t,i,r){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var n=!1;if(e.isArray(i))e.each(i,function(e,i){var s=t.rowsByKey[this],o=function(t,i){s?s[this]=r[e]:n=!1,n=!0};o(),t.treeGrid&&(s=t.treeGrid.getRow(this),o())});else{var o=function(e){if(e){for(var i=0;i<t.columns.records.length;i++)e[t.columns.records[i].datafield]=r[t.columns.records[i].datafield],t.groups.length>0&&e.originalRecord&&(e.originalRecord[t.columns.records[i].datafield]=r[t.columns.records[i].datafield]);n=!0}else n=!1};o(l=t.rowsByKey[i]),t.treeGrid&&o(l=t.treeGrid.getRow(i))}var a=t.vScrollInstance.value;if(null!=s&&1!=s||null!=t._updating&&0!=t._updating||t._renderrows(),t.showAggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var l=t.rowsByKey[i],h=t.getrowindex(l),d=t.source._source._localdata()[h];t.source.suspendKO=!0,t.source._source._localdata.replace(d,e.extend({},l)),t.source.suspendKO=!1}return t.vScrollInstance.setPosition(a),n};if(this.source.updaterow){try{null==(o=this.source.updaterow(t,i,function(e){1!=e&&null!=e||(a(n,t,i),r&&r(),n._renderrows(!1),n.autoRowHeight&&(n._updateScrollbars(),n._arrange()))}))&&(o=!0)}catch(e){o=!1}}else(o=a(n,t,i))&&r&&r(),n._renderrows(!1),n.autoRowHeight&&(n._updateScrollbars(),n._arrange());return o}return!1},lockRow:function(e){var t=this._getkey(e);this.lockrowbykey(t)},unlockRow:function(e){var t=this._getkey(e);this.unlockrowbykey(t)},lockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!0:this.rowinfo[e]={locked:!0},this._renderrows()},unlockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!1:this.rowinfo[e]={locked:!1},this._renderrows()},selectRow:function(e){var t=this._getkey(e);this.selectrowbykey(t)},unselectRow:function(e){var t=this._getkey(e);this.unselectrowbykey(t)},selectrowbykey:function(e,t,i){"keyboard"!=t&&"mouse"!=t&&(this._lastSelectedKey=e);var s=!1!==i;this._doSelection(e,!0,s);var r=this.rowsByKey[e],n=this.getrowindex(r),o=this.getrowdisplayindex(r);this._raiseEvent("rowSelect",{key:e,index:o,boundIndex:n,row:this.rowsByKey[e]})},unselectrowbykey:function(e,t){var i=!1!==t;this._doSelection(e,!1,i);var s=this.rowsByKey[e],r=this.getrowindex(s),n=this.getrowdisplayindex(s);this._raiseEvent("rowUnselect",{key:e,index:n,boundIndex:r,row:this.rowsByKey[e]})},getSelection:function(){var e=new Array;if(this.rowinfo)for(var t in this.rowinfo){var i=this.rowinfo[t];i.selected&&e.push(i.row)}return e},showdetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!0;var s=e(this._table.children()[1]).children("[data-key="+t+"]"),r=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(s){var n=r.children(),o=e(n[0]);if(this.rtl)o=e(n[n.length-1]);this.rtl?(o.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),o.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),o.addClass(this.toThemeProperty("jqx-icon-arrow-down"))):(o.removeClass(this.toThemeProperty("jqx-grid-group-collapse")),o.addClass(this.toThemeProperty("jqx-grid-group-expand")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),o.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),s.next().show();var a=r.next();if(a.show(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(s.next().children().show(),r.next().children().show()),!i.initialized){var l=i.detailsHeight,h=this.initRowDetails(t,i.row,e(e(a).children().children().children()[0]),i);i.details=e(a).children().children().children()[0],i.initialized=!0,!1!==h&&i.detailsHeight==l||(!1===h&&(i.expanded=!1,i.nodetails=!0,a.hide()),this._renderrows())}this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var d=this.getrowindex(i.row),c=this.getrowdisplayindex(i.row);this._raiseEvent("rowExpand",{row:i.row,index:c,boundIndex:d,rowKey:t})}}}},hidedetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!1;var s=e(this._table.children()[1]).children("[data-key="+t+"]"),r=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(s){var n=r.children(),o=e(n[0]);if(this.rtl)o=e(n[n.length-1]);this.rtl?(o.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),o.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),o.addClass(this.toThemeProperty("jqx-icon-arrow-left")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))):(o.addClass(this.toThemeProperty("jqx-grid-group-collapse")),o.removeClass(this.toThemeProperty("jqx-grid-group-expand")),o.addClass(this.toThemeProperty("jqx-icon-arrow-right")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))),s.next().hide(),r.next().hide(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(s.next().children().hide(),r.next().children().hide()),this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var a=this.getrowindex(i.row),l=this.getrowdisplayindex(i.row);this._raiseEvent("rowCollapse",{row:i.row,index:l,boundIndex:a,rowKey:t})}}}},_getvirtualcolumnsindexes:function(e,t,i,s,r){if(this.rowDetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+s};var n=0,o=-1,a=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var l=0;l<i+s;l++){if(this.columns.records[l].hidden||(n+=this.columns.records[l].width),n>=e&&-1==o&&(o=l),n>t+e){a=l;break}}return++a>i+s&&(a=i+s),-1==o&&(o=0),{start:o,end:a}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var s=this.columnsrow,r=this.columns.records.length-0,n=this.columns.records,o=0==this.source.records.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),o&&!this._haspinned)this.table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px";else{if(this._haspinned||null==this._haspinned){for(var a=0;a<0+r;a++){if(n[a].pinned){var l=null;if(this.showAggregates&&this.statusbar[0].cells&&(l=this.statusbar[0].cells[a]),this.filterrow&&this.filterrow[0].cells&&(filtercell=this.filterrow[0].cells[a]),this.rtl)s[0].cells[a].style.marginLeft=-parseInt(t)+"px",l&&(l.style.marginLeft=-parseInt(t)+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=-parseInt(t)+"px");else s[0].cells[a].style.marginLeft=i+"px",l&&(l.style.marginLeft=i+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=i+"px")}}if(this.columnsVirtualization){for(var h=(f=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,d=f.end,c=0;c<h;c++){var u=c,p=this.columns.records[u].element[0];if(!this.columns.records[u].pinned)if(p.parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0])(m=this.filterrow[0].cells[u]).parentNode&&m.parentNode.removeChild(m)}for(c=d;c<this.columns.records.length;c++){u=c,p=this.columns.records[u].element[0];if(!this.columns.records[u].pinned)if(p.parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0])(m=this.filterrow[0].cells[u]).parentNode&&m.parentNode.removeChild(m)}for(c=h;c<d;c++){u=c;if(p=this.columns.records[u].element[0],!this.columns.records[u].pinned)if(p.parentNode||this.columnsrow[0].appendChild(p),this.filterrow&&this.filterrow[0])(m=this.filterrow[0].cells[u]).parentNode||this.filterrow[0].appendChild(m)}}this._table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px"}else if(0==this._haspinned){if(this.columnsVirtualization){var f;for(h=(f=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,d=f.end,c=0;c<h;c++){u=c;if((p=this.columns.records[u].element[0]).parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0])(m=this.filterrow[0].cells[u]).parentNode&&m.parentNode.removeChild(m)}for(c=d;c<this.columns.records.length;c++){u=c;if((p=this.columns.records[u].element[0]).parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0])(m=this.filterrow[0].cells[u]).parentNode&&m.parentNode.removeChild(m)}for(c=h;c<d;c++){var m;u=c;if((p=this.columns.records[u].element[0]).parentNode||this.columnsrow[0].appendChild(p),this.filterrow&&this.filterrow[0])(m=this.filterrow[0].cells[u]).parentNode||this.filterrow[0].appendChild(m)}}this.table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px"}this.filterrow&&(this.filterrow[0].style.left=-i+"px",this.rtl&&(this.filterrow[0].style.left=-i+parseInt(this.content.css("left"))+"px"))}if(this.showAggregates&&this.aggregates[0].cells){var g=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(g="hidden"!=this.hScrollBar.css("visibility")?2+parseInt(this.hScrollBar.css("left")):3+parseInt(this.vScrollBar.width())),this.aggregates[0].style.marginLeft=-i+g+"px"}}},_initializeColumns:function(){var i=this.source.datafields;null==i&&this.source._source&&(i=this.source._source.datafields);var s=!!i&&i.length>0;if(this.columns&&this.columns.records)for(var r=0;r<this.columns.records.length;r++)this._removecolumnhandlers(this.columns.records[r]);var n,o=this,a=new e.jqx.dataCollection(this.element),l=0;(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,"checkbox"==this.selectionMode)&&((n=new t(o,this)).visibleindex=l++,n.width=o.indentWidth,n.checkboxcolumn=!0,n.editable=!1,n.columntype="checkbox",n.groupable=!1,n.draggable=!1,n.filterable=!1,n.resizable=!1,n.datafield="_checkboxcolumn",a.add(n));this.rowDetails&&!this.treeGrid&&((n=new t(o,this)).visibleindex=l++,n.width=o.indentWidth,n.editable=!1,n.rowDetailscolumn=!0,n.groupable=!1,n.draggable=!1,n.pinned=!0,n.filterable=!1,n.resizable=!1,n.text="",a.add(n));var h=new Array;e.each(this.columns,function(e){if(null!=o.columns[e]){var i=new t(o,this);if(i.visibleindex=l++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(o._haspinned=!0),null==this.datafield)o.source&&o.source._source&&"array"==o.source._source.datatype&&(s||(o.source._source.datafields?o.source._source.datafields.push({name:e.toString()}):(o.source._source.datafields=new Array,o.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(h[this.datafield])throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");h[this.datafield]=!0}a.add(i)}}),this.rtl&&a.records.reverse(),this.columns=a},addFilter:function(e,t){this.getColumn(e)&&this.dataview.addFilter(e,t)},removeFilter:function(e){this.getColumn(e)&&this.dataview.removeFilter(e)},clearFilters:function(e,t){this.dataview.filters=new Array,this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,!1!==t&&this.resetfilter(),!1!==e&&this.applyFilters()},resetfilter:function(){if(this.filterinput&&this.filterinput.val(""),this.filterrow)for(var t=0;t<this.filterrow[0].cells.length;t++){var i=this.filterrow[0].cells[t],s=e(i).find("input:first"),r=e(i).find(".filterconditions"),n=this.columns.records[t];if(n.filterable){s.val("");var o=this.getcolumntypebydatafield(n),a=new e.jqx.filter;switch(o){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=a.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=a.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=a.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=a.getoperatorsbyfiltertype("stringfilter")}r.length>0&&("stringfilter"===filtertype?r.jqxDropDownList({selectedIndex:2}):r.jqxDropDownList({selectedIndex:0}))}}},applyFilters:function(){if(this.editable&&null!=this.editKey)this.endroweditbykey(this.editKey);if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this.serverProcessing?(this.dataview.pagenum=0,this.updateBoundData("filter")):(this.goToPage(0),this.refresh()),arguments&&arguments.length>0){if(this._updateSimpleFilter&&this.filtercolumnsList){var e=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value;this._updateSimpleFilter(e)}this._updateFilterRow&&this._updateFilterRow()}this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(e,t){if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(this.editable&&null!=this.editKey)this.endroweditbykey(this.editKey);if(null==e&&(t=null,e=this.sortcolumn),e){ascending="a"==t||"asc"==t||"ascending"==t||1==t,this.sortdirection=null!=t?{ascending:ascending,descending:!ascending}:{ascending:!1,descending:!1},this.sortcolumn=null!=t?e:null,this.source.sort&&(this.dataview.sortfield=e,this.dataview.sortfielddirection=null==t?"":ascending?"asc":"desc",this.source.sort&&!this._loading&&this.source.sort(e,t)),this.dataview.sortBy(e,t),this._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})}this.serverProcessing?this.updateBoundData("sort"):this.refresh()},_togglesort:function(e){if(!this.disabled&&e.sortable&&this.sortable){var t={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection},i=null;i=null==t.sortcolumn||t.sortcolumn!=e.displayfield||1!=(i=t.sortdirection.ascending)&&null,this.sortBy(e.displayfield,i)}},_renderfilter:function(){var t=this,i=e("<div style='position: relative; margin: 4px;'><input style='height: 22px; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>");i.height(22);var s=i.find("input"),r=i.find("div:first");i.addClass(this.toThemeProperty("jqx-rc-all")),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-input-group")),s.addClass(this.toThemeProperty("jqx-input")),s.addClass(this.toThemeProperty("jqx-rc-l")),s.addClass(this.toThemeProperty("jqx-input-group-addon")),s.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-widget-content")),r.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-rc-r")),r.addClass(this.toThemeProperty("jqx-input-group-addon")),r.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(s.addClass(this.toThemeProperty("jqx-rtl")),s.css("direction","rtl")),this.filter.children().remove(),this.filterbutton=r;for(var n=new Array,o=0;o<t.columns.records.length;o++)t.columns.records[o].datafield&&t.columns.records[o].filterable&&n.push({label:t.columns.records[o].text,value:t.columns.records[o].displayfield});var a=n.length<10,l=e("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filter.append(l);var h=e("<div class='filtercolumns' style='position: relative; margin: 4px; float: left;'></div>");this.filter.append(h),h.jqxDropDownList&&h.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:a,rtl:t.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:n,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=h;var d=function(e){t.filterinput.val("");for(var i=0;i<t.dataview.filters.length;i++){var s=t.dataview.filters[i];s.datafield===e&&t.filterinput.val(s.filter.getfilterat(0).filtervalue)}};30!==t.filterHeight&&(t.filtercolumnsList.css("margin-top",t.filterHeight/2-10),i.css("margin-top",t.filterHeight/2-10)),t._updateSimpleFilter=d,this.addHandler(h,"select",function(e){var t=e.args.item.value;d(t)}),"simple"===this.filterMode?(this.filtercolumnsList.hide(),l.show(),l.css("margin-top",-this.filter.height()/2),i.css("float","left")):(this.filtercolumnsList.show(),l.hide());var c=function(){if(!r.hasClass("jqx-fill-state-disabled")){var i=s.val();if(h.jqxDropDownList)var n=h.jqxDropDownList("getSelectedItem");var o=function(i,s,r){var n=new e.jqx.filter,o=t.getcolumntypebydatafield(i),a=t._getfiltertype(o);if("datefilter"==a)var l=n.createfilter(a,s,"EQUAL",null,i.cellsFormat,t.gridlocalization);else if("numericfilter"==a||"booleanfilter"==a){"numericfilter"==a&&(","==t.gridlocalization.decimalseparator&&s.indexOf(t.gridlocalization.decimalseparator)>=0&&(s=s.replace(t.gridlocalization.decimalseparator,".")),s.indexOf(t.gridlocalization.currencysymbol)>=0&&(s=s.replace(t.gridlocalization.currencysymbol,"")),s.indexOf(t.gridlocalization.percentagesymbol)>=0&&(s=s.replace(t.gridlocalization.percentagesymbol,"")));l=n.createfilter(a,s,"EQUAL",null,i.cellsFormat,t.gridlocalization)}else l=n.createfilter(a,s,"CONTAINS");return n.operator=r,n.addfilter(0,l),n};if("simple"!==t.filterMode){if(n){var a=n.value,l=o(c=t.getColumn(a),i,"and");i.length>0?(t.removeFilter(a),t.addFilter(a,l),t.applyFilters()):(t.removeFilter(a),t.applyFilters()),"advanced"===t.filterMode&&t._updateFilterRow&&t._updateFilterRow(!0)}}else{if(t.clearFilters(!1,!1),i.length>0)for(var d=0;d<t.columns.records.length;d++){var c;l=o(c=t.columns.records[d],i,"or");t.addFilter(c.datafield,l)}t.applyFilters()}0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)}};if(s.keydown(function(e){if(13===e.keyCode)return c(),e.preventDefault&&e.preventDefault(),!1}),r.click(function(){c()}),this.filterinput=s,this.filter.append(i),"advanced"==this.filterMode){var u=e("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>");i.append(u),this.addHandler(u,"click",function(i){var s=function(i){if(t.filterrow)for(var s=0;s<t.filterrow[0].cells.length;s++){var r=t.filterrow[0].cells[s],n=e(r).find("input:first"),o=t.columns.records[s];if(o.filterable){!0===i&&n.val("");for(var a=0;a<t.dataview.filters.length;a++){var l=t.dataview.filters[a];if(l.datafield===o.displayfield){n.val(l.filter.getfilterat(0).filtervalue);break}}}}},r=function(i){if(t.filterrow)for(var s=0;s<t.filterrow[0].cells.length;s++){var r=t.filterrow[0].cells[s],n=e(r).find("input:first"),o=t.columns.records[s];o.hidden?r.style.visibility="hidden":r.style.visibility="inherit",o.filterable&&(r.style.left=parseInt(0)+parseInt(o.uielement[0].style.left)+"px",r.style.width=6+o.width+"px",n[0]&&(n[0].style.width=o.width-6-22+"px"))}};t._updateFilterRow=s,t._arrangeFilterRow=r;var n=function(){t.filtercolumnsList.jqxDropDownList({disabled:!0}),t.filterinput.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!0),t.filterbutton.addClass(t.toThemeProperty("jqx-fill-state-disabled"))};return 0===t.filter.find(".filterrow").length?(t._renderadvancedfilter(),n(),s(),t._arrange(),r()):("none"===t.filter.find(".filterrow").css("display")?(n(),t.filter.find(".filterrow").removeClass("filterrow-hidden"),s(),t.filter.find(".filterrow").show(),r()):(t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),d(t.filtercolumnsList.jqxDropDownList("getSelectedItem").value),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide()),t._arrange()),!1})}var p=e("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");p.attr("title",t.gridlocalization.filterclearstring),p.addClass(t.toThemeProperty("jqx-icon-close")),i.append(p),p.hide(),t.filtericon=p,p.click(function(){t.clearFilters(),t.filtericon.fadeOut(200)}),t.dataview.filters.length>0&&("advanced"!=t.filterMode?d(t.dataview.filters[0].datafield):t._updateFilterRow&&t._updateFilterRow())},_renderadvancedfilter:function(){var t=this,i=function(){t.clearFilters(!1,!1);for(var i=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,s=(t.filterinput.val(),0);s<t.filterrow[0].cells.length;s++){var r=t.filterrow[0].cells[s],n=e(r).find("input:first"),o=e(r).find(".filterconditions"),a=t.columns.records[s],l="";if(a.filterable){a.displayfield===i&&t.filterinput.val(n.val());var h=t.getcolumntypebydatafield(a),d=new e.jqx.filter;switch(h){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=d.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=d.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=d.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=d.getoperatorsbyfiltertype("stringfilter")}if(0==o.length)l="stringfilter"===filtertype?conditions[2]:conditions[0];else{var c=o.jqxDropDownList("getSelectedItem");l=c?conditions[c.index]:"stringfilter"===filtertype?conditions[2]:conditions[0]}var u=n.val();if(u.length>0||0==u.length&&"NOT_NULL"==l||0==u.length&&"NOT_EMPTY"==l||0==u.length&&"EMPTY"==l||0==u.length&&"NULL"==l){var p=a.displayfield,f=new e.jqx.filter;"numericfilter"==filtertype&&(","==t.gridlocalization.decimalseparator&&u.indexOf(t.gridlocalization.decimalseparator)>=0&&(u=u.replace(t.gridlocalization.decimalseparator,".")),u.indexOf(t.gridlocalization.currencysymbol)>=0&&(u=u.replace(t.gridlocalization.currencysymbol,"")),u.indexOf(t.gridlocalization.percentagesymbol)>=0&&(u=u.replace(t.gridlocalization.percentagesymbol,"")));d=f.createfilter(filtertype,u,l,null,a.cellsFormat,t.gridlocalization);f.addfilter(0,d),t.addFilter(p,f)}}}t.dataview.filters.length>0?t.applyFilters():t.clearFilters(),0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)};!function(){var s=e("<div style='position: relative;' class='filterrow'></div>").appendTo(t.filter);t.filterrow=s,s[0].cells=new Array,s.height(24),s.width(t.table.width());var r=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,n=t.filterinput.val();e.each(t.columns.records,function(){var o=this,a=e("<div></div>").appendTo(s);if(a.css("position","absolute"),a.css("left",0+parseInt(o.uielement[0].style.left)),o.pinned&&(a.css("z-index",t.tableZIndex+t.columns.records.length),a.addClass(t.toThemeProperty("jqx-widget-header"))),s[0].cells.push(a[0]),!this.filterable)return!0;var l=e("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(a);l.keydown(function(e){13===e.keyCode&&i()}),o.displayfield===r&&l.val(n),l.addClass(t.toThemeProperty("jqx-input")),l.addClass(t.toThemeProperty("jqx-rc-all")),l.addClass(t.toThemeProperty("jqx-widget")),l.addClass(t.toThemeProperty("jqx-widget-content"));var h=e("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(a);h.append(e("<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>")),l.focus(function(){t.ensureColumnVisible(o.displayfield),t.filter[0].scrollLeft=0,t.ensureColumnVisible(o.displayfield),setTimeout(function(){t.filter[0].scrollLeft=0,t.ensureColumnVisible(o.displayfield)},10)}),h.click(function(){var i=e("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>");i.insertAfter(h),h.remove();var s=t.getcolumntypebydatafield(o),r=t._getfiltersbytype(s);index="string"===s?2:0,i.jqxDropDownList({theme:t.theme,enableBrowserBoundsDetection:!0,renderMode:"simple",arrowSize:0,selectedIndex:index,rtl:t.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:r,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}}),t.addHandler(i,"close",function(e){l.focus(),setTimeout(function(){l.focus()},10)}),i.removeAttr("tabindex"),i.find("div").removeAttr("tabindex"),i.jqxDropDownList("open")}),l[0].style.width=o.width-6-22+"px"}),e("<div style='clear: both;'></div>").appendTo(s)}();var s=e("<div style='position:relative;' class='filterrow'></div>").appendTo(t.filter),r=e("<input type='button' style='position: relative; float: left; margin-top: 4px; margin-left: 4px;' value='"+t.gridlocalization.filterapplystring+"'/>").appendTo(s),n=e("<input type='button' style='position: relative; float: left; margin-top: 4px;  margin-left: 4px;' value='"+t.gridlocalization.filtercancelstring+"'/>").appendTo(s);r.css("left",0),n.css("left",0),r.jqxButton({theme:t.theme}),n.jqxButton({theme:t.theme}),n.click(function(){t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide(),t._arrange()}),r.click(function(){i()}),t._renderhorizontalscroll()},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":t="datefilter";break;case"string":t="stringfilter"}return t},getcolumntypebydatafield:function(t){var i=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(i){var s="";if(e.each(i,function(){if(this.name==t.displayfield)return this.type&&(s=this.type),!1}),s)return s}return"string"},_getfiltersbytype:function(e){var t="";switch(e){case"number":case"float":case"int":t=this.gridlocalization.filternumericcomparisonoperators;break;case"date":t=this.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":t=this.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:t=this.gridlocalization.filterstringcomparisonoperators}return t},_getcellvalue:function(e,t){var i=null;return i=t[e.datafield],null!=e.displayfield&&(i=t[e.displayfield]),null==i&&(i=""),i},_renderrows:function(t){if(this.editable&&null!=this.editKey&&!1!==t)this.endroweditbykey(this.editKey);if(this.treeGrid)this.treeGrid._renderrows();else if(!this._loading&&!this._updating){this.rendering&&this.rendering();var i=this,s=0;this.table[0].rows=new Array;var r=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content");this.rtl&&(r+=" "+this.toTP("jqx-cell-rtl"));var n=this.columns.records.length,o=e.jqx.browser.msie&&e.jqx.browser.version<8;o&&this.host.attr("hideFocus","true");var a=i.groups.length,l=new Array,h=this.source.records;if(h=this.dataview.evaluate(h),this.dataViewRecords=h,"all"==this.dataview.pagesize||!this.pageable||this.serverProcessing){var d=h;if(this.pageable&&this.serverProcessing&&h.length>this.dataview.pagesize)d=h.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}else d=h.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize);if(i.groups&&i.groups.length>0){var c=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0;if("root"===this.pageSizeMode){var u=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",h,0);i.rootRecordsLength=u.length,u=function(e){for(var t=0,s=new Array,r=0;r<e.length;r++){var n=e[r];if(0==n.level&&t++,t>i.dataview.pagesize*i.dataview.pagenum&&t<=i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize&&s.push(n),t>i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize)break}return s}(u)}else u=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",d,c);var p=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];if(t.push(s),s.records&&s.records.length>0)for(var r=p(s.records,new Array),n=0;n<r.length;n++)r[n].leaf,t.push(r[n])}return t};d=l=p.call(i,u,new Array),this.rowsByKey=new Array;for(var f=0;f<d.length;f++){var m=d[f];this.rowsByKey[m.uid]=m}}l=d;this.renderedRecords=l;var g=l.length,v=this.tableZIndex,x=0,b=0;if(o)for(var w=0;w<n;w++){(L=(C=this.columns.records[w]).width)<C.minwidth&&(L=C.minwidth),L>C.maxwidth&&(L=C.maxwidth);var y=e('<table><tr><td role="gridcell" style="max-width: '+L+"px; width:"+L+'px;" class="'+r+'"></td></tr></table>');e(document.body).append(y);var _=y.find("td");x=1+parseInt(_.css("padding-left"))+parseInt(_.css("padding-right")),y.remove();break}var j=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"",q="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+j+"' id='table"+this.element.id+"'><colgroup>",S="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+j+"' id='pinnedtable"+this.element.id+"'><colgroup>",T=0;for(w=0;w<n;w++){var C;if((C=this.columns.records[w]).hidden)T++,0;else{if((L=C.width)<C.minwidth&&(L=C.minwidth),L>C.maxwidth&&(L=C.maxwidth),(L-=x)<0&&(L=0),o){var I=L;if(w==T&&I++,C.rowDetailscolumn)S+="<col style='max-width: "+(I=I+4)+"px; width: "+I+"px;'>",q+="<col style='max-width: "+I+"px; width: "+I+"px;'>";else S+="<col style='max-width: "+I+"px; width: "+I+"px;'>",q+="<col style='max-width: "+I+"px; width: "+I+"px;'>"}else S+="<col style='max-width: "+L+"px; width: "+L+"px;'>",q+="<col style='max-width: "+L+"px; width: "+L+"px;'>";b+=L}}q+="</colgroup>",S+="</colgroup>",this._hiddencolumns=!1;var k=!1;if(this.rowDetails&&this._pinnedTable&&(this._pinnedTable.find("[data-role=details]").detach(),this._table.find("[data-role=details]").detach()),0===g){var P='<tr role="row">',M=this.host.height();if(this.pageable&&(M-=this.pagerHeight,"both"===this.pagerPosition&&(M-=this.pagerHeight)),M-=this.columnsHeight,this.filterable){var N=this.filter.find(".filterrow"),D=1;this.filter.find(".filterrow-hidden").length>0&&(D=0),M-=this.filterHeight+this.filterHeight*N.length*D}this.showstatusbar&&(M-=this.statusBarHeight),this.showAggregates&&(M-=this.aggregatesHeight),M<25&&(M=25),"hidden"!=this.hScrollBar[0].style.visibility&&(M-=this.hScrollBar.outerHeight()),("auto"===this.height||null===this.height||this.autoheight)&&(M=300);y='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+M+"px; height: "+M+"px; max-width:"+b+"px; width:"+b+"px;",r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");y+='" class="'+(r+=" "+this.toTP("jqx-center-align"))+'">',y+=this.gridlocalization.emptydatastring,q+=P+=y+="</td>",S+=P,this.table[0].style.width=b+2+"px",s=b}var B=this.getRows(),O=new Array;for(f=0;f<l.length;f++){var A=(m=l[f]).uid;void 0===m.uid&&(m.uid=this.dataview.generatekey());P='<tr data-key="'+A+'" role="row" id="row'+f+this.element.id+'">';var H='<tr data-key="'+A+'" role="row" id="row'+f+this.element.id+'">';if(a>0&&m.level<a)P='<tr data-role="row-group" data-key="'+A+'" role="row" id="row'+f+this.element.id+'">',H='<tr data-role="row-group" data-key="'+A+'" role="row" id="row'+f+this.element.id+'">';var E=0,z=0;for(w=0;w<n;w++){var L,F=this.columns.records[w];(F.pinned||this.rtl&&this.columns.records[n-1].pinned)&&(k=!0),(L=F.width)<F.minwidth&&(L=F.minwidth),L>F.maxwidth&&(L=F.maxwidth),(L-=x)<0&&(L=0);r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");F.pinned&&(r+=" "+this.toTP("jqx-grid-cell-pinned")),this.sortcolumn===F.displayfield&&(r+=" "+this.toTP("jqx-grid-cell-sort")),this.altRows&&f%2!=0&&(r+=" "+this.toTP("jqx-grid-cell-alt")),this.rtl&&(r+=" "+this.toTP("jqx-cell-rtl"));var R="";if(a>0&&m.level<a)if(o)r+=" "+this.toTP("jqx-grid-cell-pinned");else{r+=" "+this.toTP("jqx-grid-cell-pinned"),R+=' colspan="'+n+'"';I=0;for(var V=0;V<n;V++){var W=i.columns.records[V],G=W.width;G<W.minwidth&&(L=W.minwidth),G>W.maxwidth&&(L=W.maxwidth),(G-=x)<0&&(G=0),W.hidden||(I+=G)}L=I}y='<td role="gridcell" '+R+' style="max-width:'+L+"px; width:"+L+"px;";var U='<td role="gridcell" '+R+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+L+"px; width:"+L+"px;";w==n-1&&1==n&&(y+="border-right-color: transparent;",U+="border-right-color: transparent;");var X=!1;a>0&&m.level<a&&(X=!0),X?this.rtl&&(r+=" "+this.toTP("jqx-right-align")):"left"!=F.cellsalign&&("right"===F.cellsalign?r+=" "+this.toTP("jqx-right-align"):r+=" "+this.toTP("jqx-center-align")),this.rowinfo[m.uid]&&(this.rowinfo[m.uid].selected&&!F.rowDetailscolumn&&this.editKey!==m.uid&&"none"!==this.selectionMode&&(r+=" "+this.toTP("jqx-grid-cell-selected"),r+=" "+this.toTP("jqx-fill-state-pressed")),this.rowinfo[m.uid].locked&&(r+=" "+this.toTP("jqx-grid-cell-locked"))),F.hidden?X||(y+="display: none;",U+="display: none;",this._hiddencolumns=!0):(E+=x+L,0==z&&(y+="border-left-width: 0px;",U+="border-left-width: 0px;"),z++),a>0&&o&&X&&w>=a&&(y+="font-size: 1px; border-color: transparent;  color: transparent;",U+="font-size: 1px; border-color: transparent; color: transparent;"),F.pinned&&(y+="pointer-events: auto;",U+="pointer-events: auto;"),!X&&F.rowDetailscolumn&&(this.rowinfo[m.uid]?this.rowinfo[m.uid].nodetails||(this.rowinfo[m.uid].expanded?(this.rtl?r+=" "+this.toTP("jqx-grid-group-expand-rtl"):r+=" "+this.toTP("jqx-grid-group-expand"),r+=" "+this.toTP("jqx-icon-arrow-down")):this.rtl?(r+=" "+this.toTP("jqx-grid-group-collapse-rtl"),r+=" "+this.toTP("jqx-icon-arrow-left")):(r+=" "+this.toTP("jqx-grid-group-collapse"),r+=" "+this.toTP("jqx-icon-arrow-right"))):this.rtl?(r+=" "+this.toTP("jqx-grid-group-collapse-rtl"),r+=" "+this.toTP("jqx-icon-arrow-left")):(r+=" "+this.toTP("jqx-grid-group-collapse"),r+=" "+this.toTP("jqx-icon-arrow-right"))),(!this.autoRowHeight||this.autoRowHeight&&!F.autoCellHeight)&&(r+=" "+this.toTP("jqx-grid-cell-nowrap "));var Y=i._getcellvalue(F,m),K=F.cellsFormat;if(a>0&&m.level<a&&(Y=m.label,K=i.getColumn(i.groups[m.level]).cellsFormat),""!=K&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(Y)?Y=e.jqx.dataFormat.formatdate(Y,K,i.gridlocalization):(e.jqx.dataFormat.isNumber(Y)||!isNaN(parseFloat(Y))&&isFinite(Y))&&(Y=e.jqx.dataFormat.formatnumber(Y,K,i.gridlocalization))),X)this.groupsRenderer&&(Y=this.groupsRenderer(Y,m,m.level));else{if(""!=F.cellclassname&&F.cellclassname)if("string"==typeof F.cellclassname)r+=" "+F.cellclassname;else{var $=F.cellclassname(f,F.datafield,Y,m);$&&(r+=" "+$)}if(""!=F.cellsRenderer&&F.cellsRenderer){if(-1===(J=B.indexOf(m))&&m.originalRecord)var J=B.indexOf(m.originalRecord);(Y=F.cellsRenderer(J,F.datafield,Y,m))&&(Y.indexOf("<jqx-")>=0||Y.indexOf(" ng-")>=0)&&O.push({rowKey:m.uid,row:J,column:F.datafield,value:Y,columnIndex:w})}}if(y+='" class="'+r+'">',y+=Y,y+="</td>",U+='" class="'+r+'">',U+=Y,U+="</td>",F.pinned?(H+=y,P+=y):(P+=y,k&&(H+=U)),a>0&&!o&&m.level<a)break}if(0==s&&(this.table[0].style.width=E+2+"px",s=E),q+=P+="</tr>",S+=H+="</tr>",this.rowinfo[m.uid]?("group"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].group=X),"row"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].row=m),"details"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].details=null),"detailsHeight"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].detailsHeight=200),"initialized"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].initialized=!1),"expanded"in this.rowinfo[m.uid]||(this.rowinfo[m.uid].expanded=!1)):this.rowinfo[m.uid]={group:X,row:m,details:null,detailsHeight:200,initialized:!1,expanded:!1},this.serverProcessing&&(this.rowinfo[m.uid].row=m),this.rowDetails){var Z=this.rowinfo[m.uid].detailsHeight;if(this.rowinfo[m.uid])if(this.rowinfo[m.uid].expanded)var Q='<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+Z+"px; max-height: "+Z+"px; height: "+Z+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else Q='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+Z+"px; max-height: "+Z+"px; height: "+Z+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else Q='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+Z+"px; max-height: "+Z+"px; height: "+Z+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");r+=" "+this.toTP("jqx-details"),r+=" "+this.toTP("jqx-reset"),q+=Q+='" class="'+r+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+Z+"px; max-height: "+Z+"px; height: "+Z+'px;"><div data-role="details"></div></div></td></tr>',S+=Q}}if(q+="</table>",S+="</table>",k){i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(S+q)}):i.table[0].innerHTML=S+q;var ee=this.table.find("#table"+this.element.id),te=this.table.find("#pinnedtable"+this.element.id);if(te.css("float","left"),te.css("pointer-events","none"),ee.css("float","left"),te[0].style.position="absolute",ee[0].style.position="relative",ee[0].style.zIndex=v-10,te[0].style.zIndex=v+10,this._table=ee,this._table[0].style.left="0px",this._pinnedTable=te,this._pinnedTable[0].style.left="0px",this._pinnedTable[0].style.width=s+"px",this._table[0].style.width=s+"px",this.rtl&&s>parseInt(this.element.style.width)&&this._haspinned&&(this._pinnedTable[0].style.left=3-s+parseInt(this.element.style.width)+"px"),this.rowDetails)for(f=0;f<g;f++){A=(m=l[f]).uid;if(this.rowinfo[A].details){var ie=e(this._table.children()[1]).children("[data-key="+A+"]"),se=e(this._pinnedTable.children()[1]).children("[data-key="+A+"]");if(ie){var re=se.next(),ne=e(e(re).children().children());ne.children().detach(),ne.append(this.rowinfo[m.uid].details)}}}}else{i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(q)}):i.table[0].innerHTML=q;V=this.table.find("#table"+this.element.id);this._table=V,e.jqx.browser.msie&&e.jqx.browser.version<10&&(this._table[0].style.width=s+"px"),0===g&&(this._table[0].style.width=2+s+"px")}if(0===g&&(this._table[0].style.tableLayout="auto",this._pinnedTable&&(this._pinnedTable[0].style.tableLayout="auto")),O&&O.length>0){this._table[0].rows;e.each(O,function(){this.row;var t=this.rowKey,s=(this.column,this.columnIndex),r=i._getuirow(t);if(r){var n=r[0].cells[s];e.jqx.angularCompile&&e.jqx.angularCompile(n,"<div>"+n.innerHTML+"</div>")}})}this.rendered&&this.rendered()}},getcolumnindex:function(e){var t=this.getColumn(e);return this.columns.records.indexOf(t)},setcolumnindex:function(t,i,s){if(!((h=this.getColumn(t)).pinned||h.hidden||h.checkboxcolumn||h.grouped)){var r=this.columns.records.indexOf(h);this.columns.records.splice(r,1),this.columns.records.splice(i,0,h);var n=0,o=this.headerZIndex;this.columnsrow.children().detach();this.toThemeProperty("jqx-grid-cell");" "+this.toThemeProperty("jqx-grid-cell-pinned")," "+this.toThemeProperty("jqx-item");var a=this;if(null!=a.filterrow)e(a.filterrow.children()[0]);this.columnsrow[0].cells=[];if(e.each(this.columns.records,function(e,t){var i=this.uielement;a.columnsrow.append(i),a.rtl?i.css("z-index",o++):i.css("z-index",o--);var s=a.rtl?250+o+1:250+o-1;this.pinned&&i.css("z-index",s);var r=this.width;i.css("left",n),a.columnsrow[0].cells[a.columnsrow[0].cells.length]=i[0],this.hidden&&!0,this.hidden&&this.hideable||(n+=r)}),this.groupable){var l=this.groups.length;l>0&&r-l>=0&&(r-=l,i-=l)}this.rowDetails&&r-1>=0&&(r--,i--),"checkbox"==this.selectionMode&&r-1>=0&&(r--,i--);var h=this._columns[r];this._columns.splice(r,1),this._columns.splice(i,0,h),this.resize(),this._rendercolumnGroups(),this._raiseEvent("columnReordered",{dataField:h.datafield,oldIndex:r,newIndex:i})}},_pinnedColumnsLength:function(){var t=0;return e.each(this.columns.records,function(){this.pinned&&t++,this.grouped&&t++}),this.rowDetails&&t++,"checkbox"==this.selectionMode&&t++,t},_handlecolumnsReorder:function(){var t=this,i=-1,s=!1;if(t.columnsReorder){var r="mousemove.reorder"+this.element.id,n="mousedown.reorder"+this.element.id,o="mouseup.reorder"+this.element.id,a=!1;this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,r=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){if(t.resizing)return!0;if(null!=t.reordercolumn){var n=parseInt(r.pageX),o=parseInt(r.pageY);if(a){var l=t.getTouches(r)[0];null!=l&&(n=parseInt(l.pageX),o=parseInt(l.pageY))}var h=t.host.coord(),d=parseInt(h.left),c=parseInt(h.top);null!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var u=parseInt(n)-parseInt(t.dragmousedownoffset.left),p=parseInt(o)-parseInt(t.dragmousedownoffset.top);if(t.reordercolumn.css({left:u+"px",top:p+"px"}),s=!1,n>=d&&n<=d+t.host.width()&&o>=c&&o<=c+t.host.height()&&(s=!0),i=-1,s){t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var f=t.columnsheader.coord(),m=f.top+t.columnsheader.height();if(null!=t.columnsdropline)if(o>=f.top&&o<=m){if(i=t._handlereordercolumnsdroplines(n),t.columnGroups&&-1!=i){var g=0;g+=t._pinnedColumnsLength();var v=i.index;if(v>=g){var x=t.columns.records[v];if(null!=x){var b=t.columns.records.indexOf(t.getColumn(x.datafield));if(null==x.datafield)b=t.columns.records.indexOf(t.getcolumnbytext(x.text));var w=e.data(t.reordercolumn[0],"reorderrecord"),y=x;if(t.columns.records.indexOf(t.getColumn(w))<b&&"before"==i.position&&(y=t.columns.records[b-1]),y.columngroup!=t.getColumn(w).columngroup)return void t.columnsdropline.hide()}}}}else t.columnsdropline.fadeOut("slow")}else null!=t.columnsdropline&&t.columnsdropline.fadeOut("slow"),t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(r.preventDefault&&(r.preventDefault(),r.stopPropagation()),a)return r.preventDefault(),r.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(e(document),n),this.addHandler(e(document),n,function(i){if(t.resizing)return!0;t.columnsbounds=new Array;var s=t.host.coord().left,r=t.host.coord().top;t.showtoolbar&&(r+=t.toolbarHeight),t.filter&&(r+=t.filter.height());var n=0;e.each(t.columns.records,function(i){if(this.hidden)return t.columnsbounds[t.columnsbounds.length]={top:r,column:this,left:s,width:0,height:2},!0;0==n&&(s=t.rtl?parseInt(t.host.coord().left)-t.hScrollInstance.max+t.hScrollInstance.value:parseInt(t.host.coord().left)-t.hScrollInstance.value),n++;var o=2+t.columnsHeight;t.columnshierarchy&&(r=e(this.uielement).coord().top,o=e(this.uielement).height()),t.columnsbounds[t.columnsbounds.length]={top:r,column:this,left:s,width:this.width,height:o},s+=this.width})}),this.removeHandler(e(document),o),this.addHandler(e(document),o,function(r){if(t.resizing)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");parseInt(r.pageX),parseInt(r.pageY);if(a){var n=t.getTouches(r)[0];parseInt(n.pageX),parseInt(n.pageY)}var o=t.host.coord();parseInt(o.left),parseInt(o.top);if(t.showtoolbar&&t.toolbarHeight,t.columndragstarted=!1,t.dragmousedown=null,null!=t.reordercolumn){var l=e.data(t.reordercolumn[0],"reorderrecord"),h=t.columns.records.indexOf(t.getColumn(l));t.reordercolumn.remove(),t.reordercolumn=null;var d=0;if(d+=t._pinnedColumnsLength(),null!=l){if(s&&-1!=i){var c=i.index;if(c>=d){var u=t.columns.records[c];if(null!=u){var p=t.columns.records.indexOf(t.getColumn(u.datafield));if(null==u.datafield)p=t.columns.records.indexOf(t.getcolumnbytext(u.text));if(t.columnGroups){var f=u;if(h<p&&"before"==i.position&&(f=t.columns.records[p-1]),f.columngroup!=t.getColumn(l).columngroup)return void(null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null))}h<p?"before"==i.position?t.setcolumnindex(l,p-1):t.setcolumnindex(l,p):h>p&&t.setcolumnindex(l,p)}}}null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null)}}})}},getcolumnbytext:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){if(this.text==t)return i=this,!1}),i},_handlereordercolumnsdroplines:function(t){var i=this,s=-1,r=i._pinnedColumnsLength(),n=parseInt(i.host.coord().left)+i.host.width(),o="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(o=0),e.each(i.columnsbounds,function(e){if(e>=r){if(0==this.width)return!0;if(t<=this.left+this.width/2)return t>n?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",o+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),s={index:e,position:"before"},!1);if(t>=this.left+this.width/2){if(this.left+this.width>n)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",o+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),s={index:e,position:"after"}}}}),s},_createreordercolumn:function(t,i,s){var r=i;this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.reordercolumn=e("<div></div>");var n=t.clone();this.reordercolumn.css("z-index",999999),n.css("border-width","1px"),n.css("opacity","0.4");var o=e(n.find("."+this.toThemeProperty("jqx-grid-column-menubutton")));o.length>0&&o.css("display","none");var a=e(n.find(".jqx-icon-close"));a.length>0&&a.css("display","none"),this.reordercolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),this.reordercolumnicon.addClass(this.toThemeProperty("jqx-grid-drag-icon")),this.reordercolumn.css("float","left"),this.reordercolumn.css("position","absolute");this.host.coord();n.width(t.width()+16),this.reordercolumn.append(n),this.reordercolumn.height(t.height()),this.reordercolumn.width(n.width()),this.reordercolumn.append(this.reordercolumnicon),e(document.body).append(this.reordercolumn),n.css("margin-left",0),n.css("left",0),n.css("top",0),this.reordercolumn.css("left",r.left+this.dragmousedown.left),this.reordercolumn.css("top",r.top+this.dragmousedown.top),null!=s&&s&&(this.columnsdropline=e('<div style="z-index: 9999; display: none; position: absolute;"></div>'),this.columnsdropline.width(2),this.columnsdropline.addClass(this.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(this.columnsdropline))},_handlecolumnsdragreorder:function(t,i){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var s=this,r=!1;this.isTouchDevice()&&!0!==this.touchmode&&(r=!0);var n="mousedown.drag",o="mousemove.drag";r?(n=e.jqx.mobile.getTouchEventName("touchstart")+".drag",o=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,n,function(i){if(0==t.draggable)return!0;if(s.resizing)return!0;s.__drag=!0;var n=i.pageX,o=i.pageY;if(r){var a=s.getTouches(i)[0];n=a.pageX,o=a.pageY}s.dragmousedown={left:n,top:o};var l=e(i.target).coord();return s.dragmousedownoffset={left:parseInt(n)-parseInt(l.left),top:parseInt(o-l.top)},i.preventDefault&&i.preventDefault(),!0}),this.addHandler(i,o,function(n){if(!t.draggable)return!0;if(null==t.datafield)return!0;if(t.pinned)return!0;if(s.resizing)return!0;if(s.dragmousedown){var a=n.pageX,l=n.pageY;if(r){var h=s.getTouches(n)[0];null!=h&&(a=h.pageX,l=h.pageY)}if(o={left:a,top:l},!s.columndragstarted&&null==s.reordercolumn){var d=Math.abs(o.left-s.dragmousedown.left),c=Math.abs(o.top-s.dragmousedown.top);(d>3||c>3)&&(s._createreordercolumn(i,o,!0),e(document.body).addClass("jqx-disableselect"),e.data(s.reordercolumn[0],"reorderrecord",t.datafield))}}})},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_handlecolumnsResize:function(){var t=this;if(this.columnsResize){var i=!1;t.isTouchDevice()&&(i=!0);var s="mousemove.resize"+this.element.id,r="mousedown.resize"+this.element.id,n="mouseup.resize"+this.element.id;if(i)s=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,r=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),s),this.addHandler(e(document),s,function(s){if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){t.resizablecolumn.columnelement;var r=t.host.coord(),n=parseInt(t.resizestartline.coord().left),o=n-t._startcolumnwidth,a=t.resizablecolumn.column.minwidth;a="auto"==a?0:parseInt(a);var l=t.resizablecolumn.column.maxwidth;l="auto"==l?0:parseInt(l);var h=s.pageX;if(i)h=e.jqx.mobile.getTouches(s)[0].pageX;o+=a;var d=l>0?n+l:0,c=0==l||t._startcolumnwidth+h-n<l;if(t.rtl)c=!0;if(c)if(t.rtl){if(h>=r.left&&h<=r.left+t.host.width()&&(t.resizeline.css("left",h),i))return!1}else if(h>=r.left&&h>=o&&(0!=d&&s.pageX<d?t.resizeline.css("left",h):0==d&&t.resizeline.css("left",h),i))return!1}if(!i&&null!=t.resizablecolumn)return!1}),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(i){if(null!=t.resizablecolumn&&!t.disabled){var s=t.resizablecolumn.columnelement;if(s.coord().top+s.height()+5<i.pageY)return void(t.resizablecolumn=null);if(s.coord().top-5>i.pageY)return void(t.resizablecolumn=null);t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t._mouseDownResize=new Date,t.resizing=!0,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground);var r=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",999999999);var n=function(e){t.rtl?e.css("left",parseInt(r.left)):e.css("left",parseInt(r.left)+t._startcolumnwidth);var i=0;i+=t.showtoolbar?t.toolbarHeight:0,i+=t.showstatusbar?t.statusBarHeight:0,i+=t.showAggregates?t.aggregatesHeight:0,t.pageable&&"bottom"!=t.pagerPosition&&(i+=t.pagerHeight),t.filterable&&(i+=t.filter.height());var s=0;t.pageable&&"top"!=t.pagerPosition&&(s=t.pagerHeight);var n="hidden"!=t.hScrollBar.css("visibility")?t.scrollBarSize:0;e.css("top",parseInt(r.top)),e.css("z-index",9999999999),t.columnGroups?e.height(t.host.height()+t.resizablecolumn.columnelement.height()-s-i-n-t.columnGroupslevel*t.columnsHeight):e.height(t.host.height()-s-i-n),e.show("fast")};n(t.resizeline),n(t.resizestartline),t.dragmousedown=null}});var o=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),t.resizing){if(t._mouseUpResize=new Date,t._mouseUpResize-t._mouseDownResize<200)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()));if(t.resizing=!1,!t.disabled){var i=t.host.width();if("hidden"!=t.vScrollBar[0].style.visibility&&(i-=20),i<0&&(i=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var s=parseInt(t.resizeline.css("left")),r=parseInt(t.resizestartline.css("left")),n=t._startcolumnwidth+s-r;if(t.rtl)n=t._startcolumnwidth-s+r;var o=t._resizecolumn.width;t._resizecolumn.width=n,null!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=n/i*100);for(var a=0;a<t._columns.length;a++)if(t._columns[a].datafield===t._resizecolumn.datafield){t._columns[a].width=t._resizecolumn.width;break}t.hScrollBar[0].style.visibility;var l=t._resizecolumn.displayfield;t._updatecolumnwidths(),t.refresh(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t._raiseEvent("columnResized",{dataField:l,oldWidth:o,newWidth:n})}else t.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var a=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(a=document.referrer),a&&-1!=a.indexOf(document.location.host)){var l=function(e){o()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(e){}this.removeHandler(e(document),n),this.addHandler(e(document),n,function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;o()})}},_updatecolumnwidths:function(){var t=this.host.width(),i=t;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(t-=parseInt(this.scrollBarSize)+6,i=t);var s="";if(null!=this.columns&&null!=this.columns.records){var r=this,n=!1;e.each(this.columns.records,function(e,n){if(!this.hidden)if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){n=0,"hidden"==r.vScrollBar[0].style.visibility||r.scrollBarSize;0==r.scrollBarSize&&0,n=parseFloat(this.width)*i/100,null!=this._percentagewidth&&(n=parseFloat(this._percentagewidth)*i/100),n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth),t-=Math.round(n)}else"auto"==this.width||this._width?s+=this.text:t-=this.width});var o=this.columnsheader.find("#columntable"+this.element.id);if(0!=o.length){var a=0,l=o.find(".jqx-grid-column-header"),h=0;e.each(this.columns.records,function(o,d){var c=e(l[o]),u=!1,p=this.width,f=this.width;if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(p=null!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,p=Math.round(p),u=!0),"auto"==this.width||this._width||u)if(u)p<this.minwidth&&"auto"!=this.minwidth&&(p=this.minwidth,this.width=p),p>this.maxwidth&&"auto"!=this.maxwidth&&(p=this.maxwidth,this.width=p),parseInt(c[0].style.width)!=p&&(c.width(p),this.width=p);else{var m=Math.floor(t*(this.text.length/s.length));isNaN(m)&&(m=this.minwidth);var g=t*(this.text.length/s.length)-m;(a+=g)>=1&&(a-=1,m++),a>=.5&&o==r.columns.records.length-1&&m++,m<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),m=10+$element.width(),$element.remove()),m<this.minwidth&&(m=this.minwidth),m>this.maxwidth&&(m=this.maxwidth),this._width="auto",this.width=m,c.width(this.width)}else parseInt(c[0].style.width)!=this.width&&c.width(this.width);parseInt(c[0].style.left)!=h&&c.css("left",h),this.hidden||(h+=this.width),this._requirewidthupdate=!0,f!==this.width&&(n=!0)}),this.columnsheader.width(2+h),o.width(this.columnsheader.width()),this._resizecolumnGroups(),n&&this._renderrows(),this.showAggregates&&this._refreshcolumnsaggregates()}}},_rendercolumnheaders:function(){var t=this;if(!this._updating){this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var s=0,r="",n=this.host.width(),o=n,a=new Array,l=new Array;if(e.each(this.columns.records,function(e,i){if(!this.hidden)if("auto"==this.width||this._width)r+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)n-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)n-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){i=0;(i=parseFloat(this.width)*o/100)<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),n-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),n-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),a[a.length]=this):l[l.length]=this}),this.rtl){var h=0;a.reverse();for(d=this.columns.records.length-1;d>=this.columns.records.length-a.length;d--)this.columns.replace(d,a[h++]);for(c=0;c<l.length;c++)this.columns.replace(c,l[c])}else{for(var d=0;d<a.length;d++)this.columns.replace(d,a[d]);for(var c=0;c<l.length;c++)this.columns.replace(a.length+c,l[c])}var u=this.headerZIndex,p=t.columnsHeight,f=0;e.each(this.columns.records,function(a,l){this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=function(e,i){var s=t.columnGroupslevel*t.columnsHeight;return s-=i.level*t.columnsHeight}(this.datafield,this),p=this.height);var h=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(h+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(h+=" "+t.toTP("jqx-disableselect"));var d=self.rtl?250+u+1:250+u-1,c=t.rtl?u++:u--,m=e('<div role="columnheader" style="z-index: '+c+';position: absolute; height: 100%;" class="'+h+'"><div style="height: 100%; width: 100%;"></div></div>');t.rtl&&0===a&&(m[0].style.borderLeftColor="transparent"),t.columnGroups&&(m[0].style.height=p+"px",m[0].style.bottom="0px",this.pinned&&(m[0].style.zIndex=d)),this.uielement=m,this.element=m,""!=this.classname&&this.classname&&m.addClass(this.classname);var g=this.width,v=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(g=null!=this._percentagewidth?parseFloat(this._percentagewidth)*o/100:parseFloat(this.width)*o/100,g=Math.round(g),v=!0),"auto"==this.width||this._width||v)if(v)g<this.minwidth&&"auto"!=this.minwidth&&(g=this.minwidth),g>this.maxwidth&&"auto"!=this.maxwidth&&(g=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),m.width(g),this.width=g;else{var x=Math.floor(n*(this.text.length/r.length)),b=n*(this.text.length/r.length)-x;(f+=b)>=1&&(f-=1,x++),f>=.5&&a==t.columns.records.length-1&&x++,isNaN(x)&&(x=this.minwidth),x<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),x=10+$element.width(),$element.remove()),x<this.minwidth&&(x=this.minwidth),x>this.maxwidth&&(x=this.maxwidth),this._width="auto",this.width=parseInt(x),g=this.width,m.width(this.width)}else g<this.minwidth&&"auto"!=this.minwidth&&(g=this.minwidth),g>this.maxwidth&&"auto"!=this.maxwidth&&(g=this.maxwidth),m[0].style.width=parseInt(g)+"px";this.hidden&&m.css("display","none");var w=e(m.children()[0]);i[0].cells[a]=m[0];var y=null!=this.renderer?this.renderer(this.text,this.align,p):t._rendercolumnheader(this.text,this.align,p,t);if(null==y&&(y=t._rendercolumnheader(this.text,this.align,p,t)),null!=this.renderer&&(y=e(y)),!0,t.WinJS?MSApp.execUnsafeLocalFunction(function(){w.append(e(y))}):this.renderer?w.append(e(y)):y&&(w[0].innerHTML=y),null!=y){var _=e('<div class="iconscontainer" style="height: '+p+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>');w.append(_);var j=_.children();this.sortasc=j[1],this.sortdesc=j[2],this.filtericon=j[0],this.iconscontainer=_,t.rtl&&(_.css("margin-left","0px"),_.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left"))}i.append(m),t.columnsReorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,m);var q=this;if(t.addHandler(m,"click",function(e){if(q.checkboxcolumn)return!0;t._togglesort&&(t._loading||t._togglesort(q)),e.preventDefault()}),t.columnsResize){var S=!1,T="mousemove";t.isTouchDevice()&&(S=!0,T=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(m,T,function(i){if(!q.resizable)return t.resizablecolumn=null,!0;var s=parseInt(i.pageX),r=5,n=parseInt(m.coord().left);if(t.hasTransform&&(n=e.jqx.utilities.getOffset(m).left),t._handlecolumnsResize){if(S)return r=40,(s=e.jqx.mobile.getTouches(i)[0].pageX)>=n+q.width-r?(t.resizablecolumn={columnelement:m,column:q},m.css("cursor","col-resize")):(m.css("cursor",""),t.resizablecolumn=null),!0;var o=q.width;if(t.rtl&&(o=0),s>=n+o-r){if(s<=n+o+r)return t.resizablecolumn={columnelement:m,column:q},m.css("cursor","col-resize"),!1;m.css("cursor",""),t.resizablecolumn=null}else m.css("cursor",""),s<n+o-r&&(q._animating||q._menuvisible||m.mouseenter()),t.resizablecolumn=null}})}(m.css("left",s),this.hidden||(s+=g),q.rendered)&&(q.rendered(e(w[0].firstChild),q.align,p)&&null!=_&&_.hide())}),s>0?this.columnsheader.width(2+s):this.columnsheader.width(s),this.columnsrow=i,t.columnsheader.append(i),i.width(s),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsReorder&&this._handlecolumnsReorder(),this._handlecolumnsResize&&this._handlecolumnsResize(),this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var s=this.headerZIndex-t+this.columns.records.length,r=this.toTP("jqx-grid-column-header")+" "+this.toTP("jqx-grid-columngroup-header")+" "+this.toTP("jqx-widget-header");this.rtl&&(r+=" "+this.toTP("jqx-grid-columngroup-header-rtl"));var n=this.columnsheader.find("#columntable"+this.element.id);n.find("jqx-grid-columngroup-header").remove();for(var o=0;o<this.columnGroupslevel-1;o++)for(i=0;i<this.columnGroups.length;i++){var a=this.columnGroups[i],l=a.level;if(l===o){var h=l*this.columnsHeight,d=99999;if(a.groups){var c=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=c(s):s.hidden||(t+=s.width,d=Math.min(parseInt(s.element[0].style.left),d))}return t};a.width=c(a),a.left=d;var u=this.columnsHeight,p=s--,f=e('<div role="columnheader" style="z-index: '+p+';position: absolute;" class="'+r+'"></div>'),m=e(this._rendercolumnheader(a.text,a.align,this.columnsHeight,this));f.append(m),f[0].style.left=d+"px",0===d&&(f[0].style.borderLeftColor="transparent"),f[0].style.top=h+"px",f[0].style.height=u+"px",f[0].style.width=-1+a.width+"px",n.append(f),a.element=f}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level*this.columnsHeight,s=99999;if(t.groups){var r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var n=e.groups[i];n.groups?t+=r(n):n.hidden||(t+=n.width,s=Math.min(parseInt(n.element[0].style.left),s))}return t};t.width=r(t),t.left=s;var n=this.columnsHeight,o=t.element;o[0].style.left=s+"px",o[0].style.top=i+"px",o[0].style.height=n+"px",o[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=e(t.element);if(i.length>0){this.removeHandler(i,"mouseenter"),this.removeHandler(i,"mouseleave");var s=e(t.filtericon);this.removeHandler(s,"mousedown"),this.removeHandler(s,"click"),this.removeHandler(i,"click")}},_calculateaggregate:function(e,t,i,s){if(!e.datafield)return null;var r=e.aggregates;if(r||(r=t),r){for(var n=new Array,o=0;o<r.length;o++)"count"!=r[o]&&(n[n.length]=e.cellsFormat);if(this.source&&this.source.getAggregatedData){null==s&&(s=this.getRows(),this.dataViewRecords&&(s=this.dataViewRecords));var a=s,l=-1;if(this.treeGrid){var h=new Array,d=function(e){for(var t=0;t<e.length;t++)null!=e[t]&&(-1==l&&(l=e[t].level),e[t].aggregate||h.push(e[t]),!e[t].leaf&&e[t].records&&e[t].records.length>0&&d(e[t].records))};d(s),s=h}if(this.treeGrid&&this.filterable&&this.dataview.filters.length>0){var c=new Array;for(o=0;o<s.length;o++)s[o]&&!1!==s[o]._visible&&c.push(s[o]);s=c;var u=new Array;for(o=0;o<a.length;o++)a[o]&&!1!==a[o]._visible&&u.push(a[o]);a=u}if(null==i||1==i){var p=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:n}],this.gridlocalization,s,l);if(this.treeGrid)if((0==(m=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||l>=m)&&p&&(null!=p[e.datafield].sum||null!=p[e.datafield].avg)){var f=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:n}],this.gridlocalization,a,l);null!=p[e.datafield].sum&&(p[e.datafield].sum=f[e.datafield].sum),null!=p[e.datafield].avg&&(p[e.datafield].avg=f[e.datafield].avg)}return p}var m;p=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,s,l);if(this.treeGrid&&p&&(null!=p[e.datafield].sum||null!=p[e.datafield].avg)&&(0==(m=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||l>=m)){f=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,a,l);null!=p[e.datafield].sum&&(p[e.datafield].sum=f[e.datafield].sum),null!=p[e.datafield].avg&&(p[e.datafield].avg=f[e.datafield].avg)}return p}}return null},getcolumnaggregateddata:function(e,t,i,s){var r=this.getColumn(e);if(!r)return"";var n=null!=i&&0!=i&&i;if(null==t)return"";var o=r.aggregates;r.aggregates=null;var a=this._calculateaggregate(r,t,n,s),l={};return a&&(l=a[e],r.aggregates=o),l},_updatecolumnaggregates:function(t,i,s){var r=this;if(i)if(s.children().remove(),s.html(""),t.aggregatesRenderer){if(i){o=t.aggregatesRenderer(i[t.datafield],t,s,this.getcolumnaggregateddata(t.datafield,t.aggregates),"aggregates");s.html(o)}}else e.each(i,function(){for(n in this){var t=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),i=n;i=r._getaggregatename(i),t.html(i+":"+this[n]),r.rtl&&t.addClass(r.toThemeProperty("jqx-rtl")),s.append(t)}});else if(s.children().remove(),s.html(""),t.aggregatesRenderer){var n={};t.aggregates&&(n=this.getcolumnaggregateddata(t.datafield,t.aggregates));var o=t.aggregatesRenderer({},t,s,null);s.html(o)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var t=this.getRows();this.dataViewRecords&&(t=this.dataViewRecords);var i=this.columns.records.length;if(null!=this.aggregates[0].cells)for(var s=0;s<i;s++){var r=e(this.aggregates[0].cells[s]),n=this.columns.records[s],o=this._calculateaggregate(n,null,!0,t);this._updatecolumnaggregates(n,o,r)}},_refreshcolumnsaggregates:function(){var t=this.columns.records.length;if(null!=this.aggregates[0].cells)for(var i=0,s=0;s<t;s++){var r=e(this.aggregates[0].cells[s]),n=this.columns.records[s];r&&(r.width(n.width),r[0].style.left=i+"px",n.hidden&&n.hideable?r.css("display","none"):i+=n.width)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,s=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");this.rtl&&(r+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=0,t.css("border-left-width","0px"),this.aggregates.css("border-left-color","transparent")),r+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var n=s+10,o=new Array;this.aggregates[0].cells=o;for(var a=0;a<s;a++){var l=this.columns.records[a],h=this._calculateaggregate(l),d=l.width;d<l.minwidth&&(d=l.minwidth),d>l.maxwidth&&(d=l.maxwidth);var c=r;l.cellsalign&&(c+=" "+this.toThemeProperty("jqx-"+l.cellsalign+"-align"));var u=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+c+'"></div>');t.append(u),u.css("left",i),this.rtl?(u.css("z-index",n++),0==a&&u.css("border-left-width","0px")):u.css("z-index",n--),u.width(d),u[0].style.left=i+"px",l.hidden&&l.hideable?u.css("display","none"):i+=d,o[o.length]=u[0],this._updatecolumnaggregates(l,h,u)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",n--),t.width(parseInt(i)+2),t.height(this.aggregatesHeight),this.aggregates.children().remove(),this.aggregates.append(t),this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header")),this.aggregates.addClass(r),this.aggregates.css("border-bottom-color","transparent"),this.aggregates.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()},destroy:function(){if(this.columns&&this.columns.records)for(var t=0;t<this.columns.records.length;t++)this._removecolumnhandlers(this.columns.records[t]);this.removeHandler(e(document),"mouseup.pagerbuttonstop"),this.removeHandler(e(document),"mouseup.pagerbuttonsbottom"),this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.removeHandler(e(document),"mousedown.gridedit"+this.element.id);var i="mousemove.resize"+this.element.id,s="mousedown.resize"+this.element.id,r="mouseup.resize"+this.element.id;this.removeHandler(e(document),i),this.removeHandler(e(document),s),this.removeHandler(e(document),r);i="mousemove.reorder"+this.element.id,s="mousedown.reorder"+this.element.id,r="mouseup.reorder"+this.element.id;if(this.removeHandler(e(document),i),this.removeHandler(e(document),s),this.removeHandler(e(document),r),this.filterable){if(this.filterrow)for(t=0;t<this.filterrow[0].cells.length;t++){var n=this.filterrow[0].cells[t],o=e(n).find(".filterconditions");this.columns.records[t];o.length>0&&o.jqxDropDownList("destroy")}this.filtercolumnsList&&this.filtercolumnsList.jqxDropDownList("destroy")}if(this.pageable){this.pagershowrowscombotop&&this.pagershowrowscombotop.jqxDropDownList&&this.pagershowrowscombotop.jqxDropDownList("destroy"),this.pagershowrowscombobottom&&this.pagershowrowscombobottom.jqxDropDownList&&this.pagershowrowscombobottom.jqxDropDownList("destroy");var a=this.pagerbuttonsbottom.find("a");this.removeHandler(a,"click"),this.removeHandler(a,"mouseenter"),this.removeHandler(a,"mouseleave"),a.remove();a=this.pagerbuttonstop.find("a");this.removeHandler(a,"click"),this.removeHandler(a,"mouseenter"),this.removeHandler(a,"mouseleave"),a.remove(),this.pagernexttop&&(this.pagernexttop.jqxButton("destroy"),this.pagerprevioustop.jqxButton("destroy"),this.pagernextbottom.jqxButton("destroy"),this.pagerpreviousbottom.jqxButton("destroy"),this.pagerfirsttop.jqxButton("destroy"),this.pagerfirstbottom.jqxButton("destroy"),this.pagerlasttop.jqxButton("destroy"),this.pagerlastbottom.jqxButton("destroy"))}this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),delete this.vScrollBar,delete this.hScrollBar,delete this._mousewheelfunc,e.jqx.utilities.resize(this.host,null,!0),this.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&r!==s)if("filterable"==i)t._render();else if("height"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!1,!0);else if("width"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!0,!1);else if("source"===i)t.updateBoundData();else if("columns"===i||"columnGroups"===i)t._columns=null,t._render();else if("rtl"===i)t.content.css("left",""),t.columns=t._columns,t.vScrollBar.jqxScrollBar({rtl:r}),t.hScrollBar.jqxScrollBar({rtl:r}),t._render();else if("pagerMode"===i)t.pagerMode=r,t._initpager();else if("pageSizeOptions"==i){t._initpager();for(var n=!1,o=0;o<r.length;o++)if(parseInt(r[o])==t.pageSize){n=!0;break}n||e.jqx.set(t,[{pageSize:r[0]}])}else if("pageSize"==i){var a=t.dataview.pagenum*t.dataview.pagesize;t.dataview.pagesize=t.pageSize;var l=Math.floor(a/t.dataview.pagesize);if(l!==t.dataview.pagenum||parseInt(r)!==parseInt(s))t._raiseEvent("pageSizeChanged",{pagenum:r,oldpageSize:s,pageSize:t.dataview.pagesize}),t.goToPage(l)||(t.serverProcessing?t.updateBoundData("pager"):t.refresh())}else if("pagerPosition"===i)t.refresh();else if("selectionMode"===i)t.selectionMode=r.toLowerCase();else if("touchmode"==i)t.touchDevice=null,t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._renderrows(),t._addHandlers();else{if("enableHover"==i)return;if("disabled"==i)r?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.pageable&&(t.pagernexttop&&(t.pagernexttop.jqxButton({disabled:r}),t.pagerprevioustop.jqxButton({disabled:r}),t.pagernextbottom.jqxButton({disabled:r}),t.pagerpreviousbottom.jqxButton({disabled:r}),t.pagerfirsttop.jqxButton({disabled:r}),t.pagerfirstbottom.jqxButton({disabled:r}),t.pagerlasttop.jqxButton({disabled:r}),t.pagerlastbottom.jqxButton({disabled:r}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({disabled:!1}),t.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),t.host.find(".jqx-grid-pager-number").css("cursor",r?"default":"pointer")),t.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer");else if("columnsHeight"==i)t._render();else if("theme"==i){if(e.jqx.utilities.setTheme(s,r,t.host),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.pageable&&t.pagernexttop&&(t.pagernexttop.jqxButton({theme:t.theme}),t.pagerprevioustop.jqxButton({theme:t.theme}),t.pagernextbottom.jqxButton({theme:t.theme}),t.pagerpreviousbottom.jqxButton({theme:t.theme}),t.pagerfirsttop.jqxButton({theme:t.theme}),t.pagerfirstbottom.jqxButton({theme:t.theme}),t.pagerlasttop.jqxButton({theme:t.theme}),t.pagerlastbottom.jqxButton({theme:t.theme}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({theme:t.theme}),t.pagershowrowscombobottom.jqxDropDownList({theme:t.theme}))),t.filterable){var h=e(".filterconditions");h.length>0&&h.jqxDropDownList({theme:t.theme}),t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList({theme:t.theme})}t.refresh()}else t.refresh()}},_rendercolumnheader:function(e,t,i,s){var r="4px";return s.columnGroups?((r=i/2-this._columnheight/2)<0&&(r=4),r+="px"):25!=this.columnsHeight&&((r=this.columnsHeight/2-this._columnheight/2)<0&&(r=4),r+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>"}}),e.jqx.dataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e||null==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),!0)},this.removeAt=function(e){if(null==e||null==e)return!1;if(e<0)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},e.jqx.dataView=function(){return this.that=this,this.grid=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(t,i){var s=!!t._source,r=null;this._sortData=null,this._sortHierarchyData=null,s?(r=t,t=t._source):r=new e.jqx.dataAdapter(t,{autoBind:!1});var n=function(e){e.originaldata=r.originaldata,e.records=r.records,e.hierarchy=r.hierarchy,e.grid.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,r.hierarchy=new Array),r._source.totalrecords?e.totalrecords=r._source.totalrecords:r._source.totalRecords?e.totalrecords=r._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=r.cachedrecords};!function(e){r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.totalrecords=e.totalrecords,r._options.originaldata=e.originaldata,r._options.recordids=e.recordids,r._options.cachedrecords=new Array,r._options.pagenum=e.pagenum,r._options.pageable=e.pageable,null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async),null!=t.updaterow&&(r._options.updaterow=t.updaterow),null!=t.addrow&&(r._options.addrow=t.addrow),null!=t.deleterow&&(r._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),r._options.pagesize=e.pagesize}(this),this.source=t,void 0!==i&&(uniqueId=i);var o=this;switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata)r.unbindBindingUpdate(o.grid.element.id),(!o.grid.autoBind&&o.grid.isInitialized||o.grid.autoBind)&&r.dataBind(),(j=function(){n(o),o.update()})(),r.bindBindingUpdate(o.grid.element.id,j);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(o.grid.element.id),(!o.grid.autoBind&&o.grid.isInitialized||o.grid.autoBind)&&r.dataBind(),(j=function(e){n(o),o.update()})(),void r.bindBindingUpdate(o.grid.element.id,j);for(var a=[],l=0,h={},d=0;d<this.filters.length;d++){var c=this.filters[d].datafield,u=this.filters[d].filter;if(u.getfilters){var p=u.getfilters();h[c+"operator"]=u.operator;for(var f=0;f<p.length;f++){p[f].datafield=c;var m=p[f].value;if("datefilter"==p[f].type)if(p[f].value&&p[f].value.toLocaleString){var g=this.grid.getColumn(p[f].datafield);if(g&&g.cellsformat){var v=this.grid.source.formatDate(p[f].value,g.cellsformat,this.grid.gridlocalization);h["filtervalue"+l]=v||p[f].value.toLocaleString()}else h["filtervalue"+l]=m.toString()}else h["filtervalue"+l]=m.toString();else h["filtervalue"+l]=m.toString(),p[f].data&&(h["filterid"+l]=p[f].data.toString()),p[f].id&&(h["filterid"+l]=p[f].id.toString());h["filtercondition"+l]=p[f].condition,h["filteroperator"+l]=p[f].operator,h["filterdatafield"+l]=c;var x={label:m.toString()};p[f].data&&(x.value=p[f].data.toString()),p[f].id?x.value=p[f].id.toString():x.value=m.toString(),x.condition=p[f].condition,x.operator=0==p[f].operator?"and":"or",x.field=c,x.type=p[f].type;var b=!1;if(a.length>0)for(var w=0;w<a.length;w++){var y=a[w];if(y.field==c){y.filters.push(x),b=!0;break}}b||(a.push({field:c,filters:[]}),a[a.length-1].filters.push(x)),l++}}}h.filterGroups=a,h.filterslength=l,e.extend(h,{sortdatafield:o.sortfield,sortorder:o.sortfielddirection,pagenum:o.pagenum,pagesize:o.grid.pageSize});var _=r._options.data;r._options.data?e.extend(r._options.data,h):(t.data&&e.extend(h,t.data),r._options.data=h);var j=function(){var t=function(){n(o),o.update()};if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{t()}catch(e){}else t()};r.unbindDownloadComplete(o.grid.element.id),r.bindDownloadComplete(o.grid.element.id,j),r._source.loaderror=function(e,t,i){j()},(!o.grid.autoBind&&o.grid.isInitialized||o.grid.autoBind)&&r.dataBind(),r._options.data=_}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.sortBy=function(e,t){if(null==t)return this.sortfield="",void(this.sortfielddirection="");null==t&&(t=!0),t="a"==t||"asc"==t||"ascending"==t||1==t,"constructor"==e&&(e=""),this.sortfield=e,this.sortfielddirection=t?"asc":"desc"},this._sort=function(t){if(!this.sortfield||!this.sortfielddirection)return t;if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData)return this._sortData;var i=this,s=Object.prototype.toString;Object.prototype.toString="function"==typeof i.sortfield?i.sortfield:function(){return this[i.sortfield]};var r="";this.source.datafields&&e.each(this.source.datafields,function(){if(this.name==i.sortfield)return this.type&&(r=this.type),!1});for(var n=new Array,o=0;o<t.length;o++)n.push(e.extend({originalRecord:t[o]},t[o]));if(this._sortfield=this.sortfield,this._sortfielddirection=this.sortfielddirection,"desc"===this.sortfielddirection)var a=n.sort(function(e,t){return i._compare(e,t,r)}).reverse();else a=n.sort(function(e,t){return i._compare(e,t,r)});return this._sortData=a,Object.prototype.toString=s,a},this._compare=function(t,i,s){if(void 0===(t=t)&&(t=null),void 0===(i=i)&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return 1;if(t=t.toString(),i=i.toString(),e.jqx.dataFormat)if(s&&""!=s)switch(s){case"number":case"int":case"float":return t<i?-1:t>i?1:0;case"date":case"time":return t<i?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(t){if(this.grid.serverProcessing){if(t&&(""==this.grid.source._source.id||null==this.grid.source._source.id)&&this.grid.pageable){var i=this.grid.pageSize*this.pagenum;this.grid.rowsByKey=new Array;var s=this;e.each(t,function(e){this.uid=i,s.grid.rowsByKey[this.uid]=this,i++})}return t}var r=new Array;if(this.filters.length){var n=new Array,o=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];s._visible=!0;for(var r=void 0,o=0;o<this.filters.length;o++){var a=this.filters[o].filter,l=s[this.filters[o].datafield],h=a.evaluate(l);r=null==r?h:"or"==a.operator?r||h:r&&h}s._visible=!1,(r||s.aggregate)&&(s._visible=!0,t.push(s),n[s.uid]=s)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var a=new Array,l=function(e,t){for(var i=0;i<t.length;i++){var s=t[i];a.push(s),s.records&&s.records.length>0&&l(s,s.records)}};l(null,t),o.call(this,a,r);for(var h=0;h<r.length;h++)for(var d=r[h];d.parent;){var c=d.parent;n[c.uid]||(c._visible=!0,n[c.uid]=c),d=c}r=t}else o.call(this,t,r);this._filteredData=r,this.rows=r}}else this.rows=t;if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){s=this;var u=new Array;this._sortData=null;var p=function(t,i){s._sortData=null;var r=null;if(s.source.hierarchy.groupingDataFields)if(i&&i.length>0&&i[0].level<s.source.hierarchy.groupingDataFields.length){r=new Array;for(var n=0;n<i.length;n++)r.push(e.extend({originalRecord:i[n]},i[n]))}else r=s._sort(i);else r=s._sort(i);t.records?t.records=r:t=t.concat(r);for(n=0;n<r.length;n++)r[n].records&&r[n].records.length&&p(r[n],r[n].records);return t};(this.sortfield||this.sortfielddirection)&&(u=this._sortHierarchyData?this._sortHierarchyData:p(u,t),this.rows=u,this._sortHierarchyData=u)}else this.rows=this._sort(this.rows);return this.rows},this.getid=function(t,i,s){if(e(t,i).length>0)return e(t,i).text();if(this.rows&&""!=t&&null!=t&&this.rows.length>0){null==(o=this.rows[this.rows.length-1][t])&&(o=null);for(var r=1;r<=100;r++){if(!this.grid.rowsByKey[r+o]){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(this.grid.rowsByKey["jqx"+o+r])continue;return"jqx"+o+r}return o+r}}}if(null!=t&&t.toString().length>0){var n=e(i).attr(t);if(null!=n&&n.toString().length>0)return this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords?"jqx"+n:n}if(this.rows&&this.rows.length>0&&this.grid.rowsByKey[s]){var o;null==(o=this.rows[this.rows.length-1][t])&&(o="");for(r=1;r<=1e3;r++){if(!this.grid.rowsByKey[r+o]){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(this.grid.rowsByKey["jqx"+o+r])continue;return"jqx"+o+r}return o+r}}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(!this.grid.rowsByKey["jqx"+s])return"jqx"+s;for(r=s+1;r<=100;r++){if(!this.grid.rowsByKey["jqx"+r]){if(this.grid.rowsByKey["jqx"+r])continue;return"jqx"+r}}}return s},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTreeGrid","jqxDataTable",{}),e.extend(e.jqx._jqxTreeGrid.prototype,{defineInstance:function(){this.base&&(this.base.treeGrid=this,this.base.exportSettings={recordsInView:!1,columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,fileName:"jqxTreeGrid"});var t={pageSizeMode:"default",checkboxes:!1,hierarchicalCheckboxes:!1,icons:!1,showSubAggregates:!1,rowDetailsRenderer:null,virtualModeCreateRecords:null,virtualModeRecordCreating:null,loadingFailed:!1};return this===e.jqx._jqxTreeGrid.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.theme=this.base.theme},deleteRow:function(e){this.base.deleterowbykey(e)},updateRow:function(e,t){this.base.updaterowbykey(e,t)},setCellValue:function(e,t,i){this.base.setCellValueByKey(e,t,i)},getCellValue:function(e,t){return this.base.getCellValueByKey(e,t)},lockRow:function(e){this.base.lockrowbykey(e)},unlockRow:function(e){this.base.unlockrowbykey(e)},selectRow:function(e){this.base.selectrowbykey(e)},unselectRow:function(e){this.base.unselectrowbykey(e)},ensureRowVisible:function(e){this.base.ensurerowvisiblebykey(e)},beginCellEdit:function(e,t){var i=this.base,s=i.getColumn(t);i.beginroweditbykey(e,s)},beginRowEdit:function(e){this.base.beginroweditbykey(e)},endCellEdit:function(e,t,i){this.base.endroweditbykey(e,i)},endRowEdit:function(e,t){this.base.endroweditbykey(e,t)},_showLoadElement:function(){var t=this.base;"block"==t.host.css("display")&&t.autoShowLoadElement&&(e(t.dataloadelement).css("visibility","visible"),e(t.dataloadelement).css("display","block"),t.dataloadelement.width(t.host.width()),t.dataloadelement.height(t.host.height()))},_hideLoadElement:function(){var t=this.base;"block"==t.host.css("display")&&t.autoShowLoadElement&&(e(t.dataloadelement).css("visibility","hidden"),e(t.dataloadelement).css("display","none"),t.dataloadelement.width(t.host.width()),t.dataloadelement.height(t.host.height()))},getKey:function(e){if(e)return e.uid},getRows:function(){var e=this.base;return e.source.hierarchy&&0!=e.source.hierarchy.length?e.source.hierarchy:e.source.records},getCheckedRows:function(){var t=this.base,i=t._names(),s=new Array,r=function(n,o){if(o)for(var a=0;a<o.length;a++)if(o[a]){var l=e.extend({},o[a]),h=t.rowinfo[o[a].uid];h&&h[i.checked]?n.push(l):l[i.checked]&&n.push(l),r(s,o[a].records)}};return r(s,t.dataViewRecords),s},getRow:function(e){var t=this.base,i=t.source.records;if(t.source.hierarchy){var s=function(t){for(var i=0;i<t.length;i++)if(t[i]){if(t[i].uid==e)return t[i];if(t[i].records){var r=s(t[i].records);if(r)return r}}};return s(t.source.hierarchy)}for(var r=0;r<i.length;r++)if(i[r]&&i[r].uid==e)return i[r]},_renderrows:function(){var t=this.base,i=this;if(!t._loading&&!t._updating){var s=t._names();if(0===t.source.hierarchy.length&&!t.loadingFailed&&this.virtualModeCreateRecords){t._loading=!0,this.virtualModeCreateRecords(null,function(e){if(!1===e||e&&0==e.length)return t._loading=!1,t.loadingFailed=!0,t.source.hierarchy=new Array,i._hideLoadElement(),t._renderrows(),t._updateScrollbars(),void t._arrange();for(var s=0;s<e.length;s++)e[s].level=0,i.virtualModeRecordCreating(e[s]),t.rowsByKey[e[s].uid]=e[s];t.source.hierarchy=e,t.source._source.hierarchy||(t.source._source.hierarchy={}),t._loading=!1,i._hideLoadElement(),t._renderrows(),t._updateScrollbars(),t._arrange()}),this._showLoadElement()}t.rendering&&t.rendering();var r=0;t.table[0].rows=new Array;var n=t.toTP("jqx-cell")+" "+t.toTP("jqx-widget-content")+" "+t.toTP("jqx-item");t.rtl&&(n+=" "+t.toTP("jqx-cell-rtl"));var o=t.columns.records.length,a=e.jqx.browser.msie&&e.jqx.browser.version<8;a&&t.host.attr("hideFocus","true");var l=new Array,h=function(e,i){for(var r=0;r<e.length;r++){var n=e[r];if(n){var o=t.rowinfo[n.uid]?t.rowinfo[n.uid].expanded:n.expanded;if(0==t.dataview.filters.length&&(n._visible=!0),!1!==n._visible)if(o||n[s.leaf]){if(i.push(n),n.records&&n.records.length>0)for(var a=h(n.records,new Array),l=0;l<a.length;l++)i.push(a[l])}else i.push(n)}}return i},d=0===t.source.hierarchy.length?t.source.records:t.source.hierarchy;if(d=t.dataview.evaluate(d),t.dataViewRecords=d,this.showSubAggregates){var c=function(t,i){0!=t&&i.length>0&&(i[i.length-1]?i[i.length-1].aggregate||i.push({_visible:!0,level:t,siblings:i,aggregate:!0,leaf:!0}):e.jqx.browser.msie&&e.jqx.browser.version<9&&i[i.length-2]&&(i[i.length-2].aggregate||i.push({_visible:!0,level:t,siblings:i,aggregate:!0,leaf:!0})));for(var s=0;s<i.length;s++)i[s]&&i[s].records&&c(t+1,i[s].records)};c(0,d)}var u=function(e){for(var i=0,r=new Array,n=0;n<e.length;n++){var o=e[n];if(0==o[s.level]&&i++,i>t.dataview.pagesize*t.dataview.pagenum&&i<=t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize&&r.push(o),i>t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize)break}return r};if(0===t.source.hierarchy.length){if("all"==t.dataview.pagesize||!t.pageable||t.serverProcessing){var p=d;if(t.pageable&&t.serverProcessing&&d.length>t.dataview.pagesize)p=d.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize)}else p=d.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize);l=p}else{d=h.call(t,d,new Array);if("all"!=t.dataview.pagesize&&t.pageable){p=d.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize);"root"==this.pageSizeMode&&(p=u(d))}else var p=d;l=p;var f=t.dataview.pagenum;if(t.updatepagerdetails(),t.dataview.pagenum!=f){if("all"!=t.dataview.pagesize&&t.pageable){p=d.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize);"root"==this.pageSizeMode&&(p=u(d))}else p=d;l=p}}t.renderedRecords=l;var m=l.length,g=t.tableZIndex,v=0,x=0;if(a)for(var b=0;b<o;b++){(D=(T=t.columns.records[b]).width)<T.minwidth&&(D=T.minwidth),D>T.maxwidth&&(D=T.maxwidth);var w=e('<table><tr><td role="gridcell" style="max-width: '+D+"px; width:"+D+'px;" class="'+n+'"></td></tr></table>');e(document.body).append(w);var y=w.find("td");v=1+parseInt(y.css("padding-left"))+parseInt(y.css("padding-right")),w.remove();break}var _=t.rtl?" "+t.toTP("jqx-grid-table-rtl"):"",j="<table cellspacing='0' class='"+t.toTP("jqx-grid-table")+_+"' id='table"+t.element.id+"'><colgroup>",q="<table cellspacing='0' class='"+t.toTP("jqx-grid-table")+_+"' id='pinnedtable"+t.element.id+"'><colgroup>",S=null;for(b=0;b<o;b++){var T;if(!(T=t.columns.records[b]).hidden){if(S=T,(D=T.width)<T.minwidth&&(D=T.minwidth),D>T.maxwidth&&(D=T.maxwidth),(D-=v)<0&&(D=0),a){var C=D;0==b&&C++,q+="<col style='max-width: "+D+"px; width: "+C+"px;'>",j+="<col style='max-width: "+D+"px; width: "+C+"px;'>"}else q+="<col style='max-width: "+D+"px; width: "+D+"px;'>",j+="<col style='max-width: "+D+"px; width: "+D+"px;'>";x+=D}}j+="</colgroup>",q+="</colgroup>",t._hiddencolumns=!1;var I=!1;if(0===m){var k='<tr role="row">',P=t.host.height();if(t.pageable&&(P-=t.pagerHeight,"both"===t.pagerPosition&&(P-=t.pagerHeight)),P-=t.columnsHeight,t.filterable){var M=t.filter.find(".filterrow"),N=1;t.filter.find(".filterrow-hidden").length>0&&(N=0),P-=t.filterHeight+t.filterHeight*M.length*N}t.showstatusbar&&(P-=t.statusBarHeight),t.showAggregates&&(P-=t.aggregatesHeight),P<25&&(P=25),"hidden"!=t.hScrollBar[0].style.visibility&&(P-=t.hScrollBar.outerHeight()),("auto"===t.height||null===t.height||t.autoheight)&&(P=100);var D=t.host.width()+2;w='<td colspan="'+t.columns.records.length+'" role="gridcell" style="border-right-color: transparent; min-height: '+P+"px; height: "+P+"px;  min-width:"+x+"px; max-width:"+x+"px; width:"+x+"px;",n=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");w+='" class="'+(n+=" "+t.toTP("jqx-center-align"))+'">',t._loading||(w+=t.gridlocalization.emptydatastring),j+=k+=w+="</td>",q+=k,t.table[0].style.width=x+2+"px",r=x}for(var B=t.source._source.hierarchy&&t.source._source.hierarchy.groupingDataFields?t.source._source.hierarchy.groupingDataFields.length:0,O=0;O<l.length;O++){var A=l[O],H=A.uid;B>0&&A[s.level]<B&&(H=A.uid),void 0===A.uid&&(A.uid=t.dataview.generatekey());k='<tr data-key="'+H+'" role="row" id="row'+O+t.element.id+'">';var E='<tr data-key="'+H+'" role="row" id="row'+O+t.element.id+'">';if(A.aggregate)k='<tr data-role="summaryrow" role="row" id="row'+O+t.element.id+'">',E='<tr data-role="summaryrow" role="row" id="row'+O+t.element.id+'">';var z=0;if(t.rowinfo[H])void 0===t.rowinfo[H].checked&&(t.rowinfo[H].checked=A[s.checked]),void 0===t.rowinfo[H].icon&&(t.rowinfo[H].icon=A[s.icon]),void 0===t.rowinfo[H].aggregate&&(t.rowinfo[H].aggregate=A[s.aggregate]),void 0===t.rowinfo[H].row&&(t.rowinfo[H].row=A),void 0===t.rowinfo[H].leaf&&(t.rowinfo[H].leaf=A[s.leaf]),void 0===t.rowinfo[H].expanded&&(t.rowinfo[H].expanded=A[s.expanded]);else{var L=A[s.checked];void 0===L&&(L=!1),t.rowinfo[H]={selected:A[s.selected],checked:L,icon:A[s.icon],aggregate:A.aggregate,row:A,leaf:A[s.leaf],expanded:A[s.expanded]}}var F=t.rowinfo[H];F.row=A,A.originalRecord&&(F.originalRecord=A.originalRecord);var R=0;for(b=0;b<o;b++){var V=t.columns.records[b];(V.pinned||t.rtl&&t.columns.records[o-1].pinned)&&(I=!0),(D=V.width)<V.minwidth&&(D=V.minwidth),D>V.maxwidth&&(D=V.maxwidth),(D-=v)<0&&(D=0);n=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");V.pinned&&(n+=" "+t.toTP("jqx-grid-cell-pinned")),t.sortcolumn===V.displayfield&&(n+=" "+t.toTP("jqx-grid-cell-sort")),t.altRows&&O%2!=0&&(n+=" "+t.toTP("jqx-grid-cell-alt")),t.rtl&&(n+=" "+t.toTP("jqx-cell-rtl"));var W="";if(B>0&&!a&&!A.aggregate&&A[s.level]<B){W+=' colspan="'+o+'"';C=0;for(var G=0;G<o;G++){var U=t.columns.records[G];if(!U.hidden){var X=U.width;X<U.minwidth&&(D=U.minwidth),X>U.maxwidth&&(D=U.maxwidth),(X-=v)<0&&(X=0),C+=X}}D=C}w='<td role="gridcell"'+W+' style="max-width:'+D+"px; width:"+D+"px;";var Y='<td role="gridcell"'+W+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+D+"px; width:"+D+"px;";b==o-1&&1==o&&(w+="border-right-color: transparent;",Y+="border-right-color: transparent;"),B>0&&A[s.level]<B&&!A.aggregate?t.rtl&&(n+=" "+t.toTP("jqx-right-align")):"left"!=V.cellsalign&&("right"===V.cellsalign?n+=" "+t.toTP("jqx-right-align"):n+=" "+t.toTP("jqx-center-align")),F&&(F.selected&&t.editKey!==H&&"none"!==t.selectionMode&&(n+=" "+t.toTP("jqx-grid-cell-selected"),n+=" "+t.toTP("jqx-fill-state-pressed")),F.locked&&(n+=" "+t.toTP("jqx-grid-cell-locked")),F.aggregate&&(n+=" "+t.toTP("jqx-grid-cell-pinned"))),V.hidden?(w+="display: none;",Y+="display: none;",t._hiddencolumns=!0):(0!=R||t.rtl?(w+="border-right-width: 0px;",Y+="border-right-width: 0px;"):(w+="border-left-width: 0px;",Y+="border-left-width: 0px;"),R++,z+=v+D),V.pinned&&(w+="pointer-events: auto;",Y+="pointer-events: auto;");var K="";if(0!=t.source.hierarchy.length&&A.records&&(!A.records||0!==A.records.length)||this.virtualModeCreateRecords||(F.leaf=!0),A.records&&A.records.length>0&&(F.leaf=!1),t.dataview.filters.length>0&&A.records&&A.records.length>0){for(var $=!1,J=0;J<A.records.length;J++)if(!1!==A.records[J]._visible&&null==A.records[J].aggregate){$=!0;break}F.leaf=!$}F&&!F.leaf&&(F.expanded?(K+=t.toTP("jqx-tree-grid-expand-button")+" ",t.rtl?K+=t.toTP("jqx-grid-group-expand-rtl"):K+=t.toTP("jqx-grid-group-expand"),K+=" "+t.toTP("jqx-icon-arrow-down")):(K+=t.toTP("jqx-tree-grid-collapse-button")+" ",t.rtl?(K+=t.toTP("jqx-grid-group-collapse-rtl"),K+=" "+t.toTP("jqx-icon-arrow-left")):(K+=t.toTP("jqx-grid-group-collapse"),K+=" "+t.toTP("jqx-icon-arrow-right")))),(!t.autoRowHeight||1===R||t.autoRowHeight&&!V.autoCellHeight)&&(n+=" "+t.toTP("jqx-grid-cell-nowrap"));var Z=t._getcellvalue(V,F.row);if(B>0&&!A.aggregate&&A[s.level]<B&&(Z=A.label),""!=V.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(Z)?Z=e.jqx.dataFormat.formatdate(Z,V.cellsFormat,t.gridlocalization):(e.jqx.dataFormat.isNumber(Z)||!isNaN(parseFloat(Z))&&isFinite(Z))&&(Z=e.jqx.dataFormat.formatnumber(Z,V.cellsFormat,t.gridlocalization))),""!=V.cellclassname&&V.cellclassname)if("string"==typeof V.cellclassname)n+=" "+V.cellclassname;else{var Q=V.cellclassname(O,V.datafield,t._getcellvalue(V,F.row),F.row,Z);Q&&(n+=" "+Q)}if(""!=V.cellsRenderer&&V.cellsRenderer){var ee=V.cellsRenderer(H,V.datafield,t._getcellvalue(V,F.row),F.row,Z);void 0!==ee&&(Z=ee)}if(F.aggregate&&V.aggregates){var te=A.siblings.slice(0,A.siblings.length-1),ie=t._calculateaggregate(V,null,!0,te);if(A[V.displayfield]="",ie)if(V.aggregatesRenderer){if(ie){var se=V.aggregatesRenderer(ie[V.datafield],V,null,t.getcolumnaggregateddata(V.datafield,V.aggregates,!1,te),"subAggregates");Z=se,A[V.displayfield]+=name+":"+ie[V.datafield]+"\n"}}else Z="",A[V.displayfield]="",e.each(ie,function(){for(obj in this){var e=obj,i='<div style="position: relative; margin: 0px; overflow: hidden;">'+(e=t._getaggregatename(e))+":"+this[obj]+"</div>";Z+=i,A[V.displayfield]+=e+":"+this[obj]+"\n"}});else Z=""}if(1===R&&!t.rtl||V==S&&t.rtl||B>0&&A[s.level]<B){for(var re="",ne=t.toThemeProperty("jqx-tree-grid-indent"),oe=F.leaf?1:0,ae=0;ae<A[s.level]+oe;ae++)re+="<span class='"+ne+"'></span>";var le="<span class='"+K+"'></span>",he="",de="";if(this.checkboxes&&!A.aggregate){var ce=t.toThemeProperty("jqx-tree-grid-checkbox")+" "+ne+" "+t.toThemeProperty("jqx-checkbox-default")+" "+t.toThemeProperty("jqx-fill-state-normal")+" "+t.toThemeProperty("jqx-rc-all"),ue=!0;if(e.isFunction(this.checkboxes)&&null==(ue=this.checkboxes(H,A))&&(ue=!1),ue)if(F){var pe=F.checked;0==this.hierarchicalCheckboxes&&null===pe&&(pe=!1),he+=pe?"<span class='"+ce+"'><div class='"+t.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+t.toThemeProperty("jqx-checkbox-check-checked")+"'></div></span>":!1===pe?"<span class='"+ce+"'></span>":"<span class='"+ce+"'><div class='"+t.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+t.toThemeProperty("jqx-checkbox-check-indeterminate")+"'></div></span>"}else he+="<span class='"+ce+"'></span>"}if(this.icons&&!A.aggregate){var fe=t.toThemeProperty("jqx-tree-grid-icon")+" "+ne;if(t.rtl)fe=t.toThemeProperty("jqx-tree-grid-icon")+" "+t.toThemeProperty("jqx-tree-grid-icon-rtl")+" "+ne;var me=t.toThemeProperty("jqx-tree-grid-icon-size")+" "+ne,ge=F.icon;e.isFunction(this.icons)&&(F.icon=this.icons(H,A),F.icon&&(ge=!0)),ge&&(F.icon?de+="<span class='"+fe+"'><img class='"+me+"' src='"+F.icon+"'/></span>":de+="<span class='"+fe+"'></span>")}var ve=t.autoRowHeight&&1===R&&V.autoCellHeight?" "+t.toTP("jqx-grid-cell-wrap"):"",xe=re+le+he+de+"<span class='"+t.toThemeProperty("jqx-tree-grid-title")+ve+"'>"+Z+"</span>";Z=t.rtl?"<span class='"+t.toThemeProperty("jqx-tree-grid-title")+ve+"'>"+Z+"</span>"+de+he+le+re:xe}if(B>0&&a&&b>=B&&A[s.level]<B&&(w+="padding-left: 5px; border-left-width: 0px;",Y+="padding-left: 5px; border-left-width: 0px;",Z="<span style='visibility: hidden;'>-</span>"),w+='" class="'+n+'">',w+=Z,w+="</td>",Y+='" class="'+n+'">',Y+=Z,Y+="</td>",V.pinned?(E+=w,k+=w):(k+=w,I&&(E+=Y)),B>0&&!a&&A[s.level]<B&&!A.aggregate)break}if(0==r&&(t.table[0].style.width=z+2+"px",r=z),j+=k+="</tr>",q+=E+="</tr>",t.rowDetails&&!A.aggregate&&this.rowDetailsRenderer){var be='<tr data-role="row-details"><td valign="top" align="left" style="pointer-events: auto; max-width:'+D+"px; width:"+D+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+t.columns.records.length+'" role="gridcell"';n=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item");n+=" "+t.toTP("jqx-details"),n+=" "+t.toTP("jqx-reset");var we=this.rowDetailsRenderer(H,A);we&&(j+=be+='" class="'+n+'"><div style="pointer-events: auto; overflow: hidden;"><div data-role="details">'+we+"</div></div></td></tr>",q+=be)}}if(j+="</table>",q+="</table>",I){t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(q+j)}):t.table[0].innerHTML=q+j;var ye=t.table.find("#table"+t.element.id),_e=t.table.find("#pinnedtable"+t.element.id);_e.css("float","left"),_e.css("pointer-events","none"),ye.css("float","left"),_e[0].style.position="absolute",ye[0].style.position="relative",ye[0].style.zIndex=g-10,_e[0].style.zIndex=g+10,t._table=ye,t._table[0].style.left="0px",t._pinnedTable=_e,a&&(_e[0].style.left="0px"),t._table[0].style.width=r+"px",t._pinnedTable[0].style.width=r+"px",t.rtl&&t._haspinned&&(t._pinnedTable[0].style.left=3-r+parseInt(t.element.style.width)+"px")}else{t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(j)}):t.table[0].innerHTML=j;G=t.table.find("#table"+t.element.id);t._table=G,e.jqx.browser.msie&&e.jqx.browser.version<10&&(t._table[0].style.width=r+"px"),0===m&&(t._table[0].style.width=2+r+"px")}0===m&&(t._table[0].style.tableLayout="auto",t._pinnedTable&&(t._pinnedTable[0].style.tableLayout="auto")),t.showAggregates&&t._updatecolumnsaggregates(),t._loading&&0==m&&(t._arrange(),this._showLoadElement()),t.rendered&&t.rendered()}},propertyChangedHandler:function(t,i,s,r){if(null!=t.isInitialized&&0!=t.isInitialized){var n=t.base;if("pageSizeMode"==i||"hierarchicalCheckboxes"==i)t._renderrows();else if("filterable"==i)n._render();else if("height"===i)n.host.height(t.height),n.host.width(t.width),n._updatesize(!1,!0);else if("width"===i)n.host.height(t.height),n.host.width(t.width),n._updatesize(!0,!1);else if("source"===i)n.updateBoundData();else if("columns"===i||"columnGroups"===i)n._columns=null,n._render();else if("rtl"===i)n.content.css("left",""),t.columns=t._columns,n.vScrollBar.jqxScrollBar({rtl:r}),n.hScrollBar.jqxScrollBar({rtl:r}),n._render();else if("pagerMode"===i)t.pagerMode=r,n._initpager();else if("pageSizeOptions"==i){n._initpager();for(var o=!1,a=0;a<r.length;a++)if(parseInt(r[a])==t.pageSize){o=!0;break}o||e.jqx.set(t,[{pageSize:r[0]}])}else if("pageSize"==i){var l=n.dataview.pagenum*n.dataview.pagesize;n.dataview.pagesize=n.pageSize;var h=Math.floor(l/n.dataview.pagesize);if(h!==n.dataview.pagenum||parseInt(r)!==parseInt(s))t._raiseEvent("pageSizeChanged",{pagenum:r,oldpageSize:s,pageSize:n.dataview.pagesize}),t.goToPage(h)||n.refresh()}else if("pagerPosition"===i)n.refresh();else if("selectionMode"===i)n.selectionMode=r.toLowerCase();else if("touchmode"==i)n.touchDevice=null,n._removeHandlers(),n.touchDevice=null,n.vScrollBar.jqxScrollBar({touchMode:r}),n.hScrollBar.jqxScrollBar({touchMode:r}),n._updateTouchScrolling(),n._arrange(),n._updatecolumnwidths(),n._renderrows(),n._addHandlers();else{if("enableHover"==i)return;if("disabled"==i)r?n.base.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):n.base.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),n.pageable&&(n.pagernexttop&&(n.pagernexttop.jqxButton({disabled:r}),n.pagerprevioustop.jqxButton({disabled:r}),n.pagernextbottom.jqxButton({disabled:r}),n.pagerpreviousbottom.jqxButton({disabled:r}),n.pagerfirsttop.jqxButton({disabled:r}),n.pagerfirstbottom.jqxButton({disabled:r}),n.pagerlasttop.jqxButton({disabled:r}),n.pagerlastbottom.jqxButton({disabled:r}),n.pagershowrowscombotop.jqxDropDownList&&"advanced"==n.pagerMode&&(n.pagershowrowscombotop.jqxDropDownList({disabled:!1}),n.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),n.base.host.find(".jqx-grid-pager-number").css("cursor",r?"default":"pointer")),n.base.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),n.base.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer");else if("columnsHeight"==i)n._render();else if("theme"==i){if(e.jqx.utilities.setTheme(s,r,n.base.host),n.vScrollBar.jqxScrollBar({theme:n.theme}),n.hScrollBar.jqxScrollBar({theme:n.theme}),n.pageable&&n.pagernexttop&&(n.pagernexttop.jqxButton({theme:n.theme}),n.pagerprevioustop.jqxButton({theme:n.theme}),n.pagernextbottom.jqxButton({theme:n.theme}),n.pagerpreviousbottom.jqxButton({theme:n.theme}),n.pagerfirsttop.jqxButton({theme:n.theme}),n.pagerfirstbottom.jqxButton({theme:n.theme}),n.pagerlasttop.jqxButton({theme:n.theme}),n.pagerlastbottom.jqxButton({theme:n.theme}),n.pagershowrowscombotop.jqxDropDownList&&"advanced"==n.pagerMode&&(n.pagershowrowscombotop.jqxDropDownList({theme:n.theme}),n.pagershowrowscombobottom.jqxDropDownList({theme:n.theme}))),n.filterable){var d=e(".filterconditions");d.length>0&&d.jqxDropDownList({theme:n.theme}),n.filtercolumnsList&&n.filtercolumnsList.jqxDropDownList({theme:n.theme})}n.refresh()}else n.refresh()}}},checkRow:function(e,t,i){var s=this.base,r=s._names();if(!s._loading){var n=s.rowinfo[e];if(n)n.checked=!0,n.row[r.checked]=!0,n.originalRecord&&(n.originalRecord[r.checked]=!0),null==i&&this.hierarchicalCheckboxes&&this.checkRows(n.row,n.row),!1!==t&&s._renderrows(),s._raiseEvent("rowCheck",{key:e,row:n.row});else{var o=this.getRow(e);o&&(s.rowinfo[e]={row:o,checked:!0},s.rowinfo[e].row[r.checked]=!0,o.originalRecord&&(s.rowinfo[e].originalRecord=o.originalRecord),s._raiseEvent("rowCheck",{key:e,row:o}),null==i&&this.hierarchicalCheckboxes&&this.checkRows(o,o),!1!==t&&s._renderrows())}}},checkRows:function(t,i){var s=this.base,r=this,n=s._names(),o=function(e){var t=new Array,i=function(e){for(var s=0;s<e.length;s++)t.push(e[s]),e[s]&&e[s].records&&i(e[s].records)};return e.records&&i(e.records),t};if(null!=t){var a=0,l=0,h=function(e){for(var t=0;t<e.length;t++)if(e[t]){var i=e[t][n.checked];void 0===i&&(i=!1),0!=i&&(null==e[t][n.checked]&&!0,e[t].records&&h(e[t].records),a++),l++}};if(t.records&&h(t.records),t!=i)a==l?this.checkRow(t.uid,!1,"tree"):a>0?this.indeterminateRow(t.uid,!1,"tree"):this.uncheckRow(t.uid,!1,"tree");else{var d=i[n.checked],c=o(i);e.each(c,function(){!0===d?r.checkRow(this.uid,!1,"tree"):!1===d?r.uncheckRow(this.uid,!1,"tree"):r.indeterminateRow(this.uid,!1,"tree")})}var u=t[n.parent]?t[n.parent]:null;this.checkRows(u,i)}else{d=i[n.checked],c=o(i);e.each(c,function(){!0===d?r.checkRow(this.uid,!1,"tree"):!1===d?r.uncheckRow(this.uid,!1,"tree"):r.indeterminateRow(this.uid,!1,"tree")})}},indeterminateRow:function(e,t,i){var s=this.base,r=s._names();if(!s._loading){var n=s.rowinfo[e];if(n)n.checked=null,n.row[r.checked]=null,n.originalRecord&&(n.originalRecord[r.checked]=null),null==i&&this.hierarchicalCheckboxes&&this.checkRows(n.row,n.row),!1!==t&&s._renderrows();else{var o=this.getRow(e);o&&(s.rowinfo[e]={row:o,checked:null},s.rowinfo[e].row[r.checked]=null,o.originalRecord&&(s.rowinfo[e].originalRecord=o.originalRecord),null==i&&this.hierarchicalCheckboxes&&this.checkRows(o,o),!1!==t&&s._renderrows())}}},uncheckRow:function(e,t,i){var s=this.base,r=s._names();if(!s._loading){var n=s.rowinfo[e];if(n)n.checked=!1,n.row[r.checked]=!1,n.originalRecord&&(n.originalRecord[r.checked]=!1),null==i&&this.hierarchicalCheckboxes&&this.checkRows(n.row,n.row),!1!==t&&s._renderrows(),s._raiseEvent("rowUncheck",{key:e,row:n.row});else{var o=this.getRow(e);o&&(s.rowinfo[e]={row:o,checked:!1},s.rowinfo[e].row[r.checked]=!1,o.originalRecord&&(s.rowinfo[e].originalRecord=o.originalRecord),s._raiseEvent("rowUncheck",{key:e,row:o}),null==i&&this.hierarchicalCheckboxes&&this.checkRows(o,o),!1!==t&&s._renderrows())}}},expandRows:function(t){var i=this;if(t)if(i.virtualModeCreateRecords)e.each(t,function(){var e=this;i.base._loading=!1,i.expandRow(e.uid,function(){i.base._loading=!1,i.expandRows(e.records)})});else for(var s=0;s<t.length;s++){var r=t[s];i.expandRow(r.uid),i.expandRows(r.records)}},collapseRows:function(e){if(e)for(var t=0;t<e.length;t++)this.collapseRow(e[t].uid),this.collapseRows(e[t].records)},expandAll:function(){var e=this.base;e.beginUpdate(),this.expandRows(this.getRows()),e.endUpdate()},collapseAll:function(){var e=this.base;e.beginUpdate(),this.collapseRows(this.getRows()),e.endUpdate()},expandRow:function(e,t){var i=this.base;if(!i._loading){var s=i._names(),r=this,n=i.rowinfo[e];if(!n){var o=this.getRow(e);o&&(i.rowinfo[e]={row:o},o.originalRecord&&(i.rowinfo[e].originalRecord=o.originalRecord),n=i.rowinfo[e])}if(n){if(n.expanded)return void(n.row[s.expanded]=!0);if(n.expanded=!0,n.row[s.expanded]=!0,n.originalRecord&&(n.originalRecord[s.expanded]=!0),this.virtualModeCreateRecords&&!n.row._loadedOnDemand){if(!n.row[s.leaf])return i._loading=!0,this._showLoadElement(),void this.virtualModeCreateRecords(n.row,function(e){if(n.row._loadedOnDemand=!0,!1===e)return i._loading=!1,r._hideLoadElement(),n.leaf=!0,n.row[s.leaf]=!0,i._renderrows(),void(t&&t());for(var o=0;o<e.length;o++){if(e[o][s.level]=n.row[s.level]+1,e[o][s.parent]=n.row,i.rowsByKey[e[o].uid])throw i._loading=!1,r._hideLoadElement(),n.leaf=!0,n.row[s.leaf]=!0,i._renderrows(),t&&t(),new Error("Please, check whether you Add Records with unique ID/Key. ");i.rowsByKey[e[o].uid]=e[o],r.virtualModeRecordCreating(e[o])}n.row.records?n.row.records=n.row.records.concat(e):n.row.records=e,(!e||e&&0==e.length)&&(n.leaf=!0,n.row[s.leaf]=!0),n.originalRecord&&(n.originalRecord.records=e,n.originalRecord[s.expanded]=!0,0==e.length&&(n.originalRecord[s.leaf]=!0)),i._loading=!1,r._hideLoadElement();var a=i.vScrollBar.css("visibility");i._renderrows(),i._updateScrollbars();var l=a!=i.vScrollBar.css("visibility");("auto"===i.height||null===i.height||i.autoheight||l)&&i._arrange(),i._renderhorizontalscroll(),t&&t()})}if(!i.updating()){var a=i.vScrollBar.css("visibility");i._renderrows(),i._updateScrollbars();var l=a!=i.vScrollBar.css("visibility");("auto"===i.height||null===i.height||i.autoheight||l)&&i._arrange(),i._renderhorizontalscroll(),i._raiseEvent("rowExpand",{row:n.row,key:e})}}}},collapseRow:function(e){var t=this.base,i=t._names();if(!t._loading){var s=t.rowinfo[e];if(!s){var r=this.getRow(e);r&&(t.rowinfo[e]={row:r},r.originalRecord&&(t.rowinfo[e].originalRecord=r.originalRecord),s=t.rowinfo[e])}if(s){if(!s.expanded)return void(s.row[i.expanded]=!1);if(s.expanded=!1,s.row[i.expanded]=!1,s.originalRecord&&(s.originalRecord[i.expanded]=!1),!t.updating()){var n=t.vScrollBar.css("visibility");t._renderrows(),t._updateScrollbars();var o=n!=t.vScrollBar.css("visibility");("auto"===t.height||null===t.height||t.autoheight||o)&&t._arrange(),t._renderhorizontalscroll(),t._raiseEvent("rowCollapse",{row:s.row,key:e})}}}}})}(jqxBaseFramework),function(e){e.fn.drag=function(e,t,i){return t&&this.bind("dragstart",e),i&&this.bind("dragend",i),e?this.bind("drag",t||e):this.trigger("drag")};var t=e.event,i=t.special,s=i.drag={not:":input",distance:0,which:1,drop:!1,dragging:!1,setup:function(i){(i=e.extend({distance:s.distance,which:s.which,not:s.not,drop:s.drop},i||{})).distance=o(i.distance),t.add(this,"mousedown",r,i),this.attachEvent&&this.attachEvent("ondragstart",a)},teardown:function(){t.remove(this,"mousedown",r),this===s.dragging&&(s.dragging=s.proxy=!1),l(this,!0),this.detachEvent&&this.detachEvent("ondragstart",a)}};function r(a){var h,d=this,c=a.data||{};if(c.elem)d=a.dragTarget=c.elem,a.dragProxy=s.proxy||d,a.cursorOffsetX=c.pageX-c.left,a.cursorOffsetY=c.pageY-c.top,a.offsetX=a.pageX-a.cursorOffsetX,a.offsetY=a.pageY-a.cursorOffsetY;else if(s.dragging||c.which>0&&a.which!=c.which||e(a.target).is(c.not))return;switch(a.type){case"mousedown":e.extend(c,e(d).offset(),{elem:d,target:a.target,pageX:a.pageX,pageY:a.pageY}),t.add(document,"mousemove mouseup",r,c),l(d,!1),s.dragging=null;break;case!s.dragging&&"mousemove":if(o(a.pageX-c.pageX)+o(a.pageY-c.pageY)<c.distance)break;a.target=c.target,!1!==(h=n(a,"dragstart",d))&&(s.dragging=d,s.proxy=a.dragProxy=e(h||d)[0]);case"mousemove":if(s.dragging){if(h=n(a,"drag",d),c.drop&&i.drop&&(i.drop.allowed=!1!==h,i.drop.handler(a)),!1!==h)break;a.type="mouseup"}case"mouseup":t.remove(document,"mousemove mouseup",r),s.dragging&&(c.drop&&i.drop&&i.drop.handler(a),n(a,"dragend",d)),l(d,!0),s.dragging=s.proxy=c.elem=!1}}function n(t,i,s){t.type=i;var r=(e.event.dispatch||e.event.handle).call(s,t);return!1!==r&&(r||t.result)}function o(e){return Math.pow(e,2)}function a(){return!1===s.dragging}function l(t,i){t&&((t=t.ownerDocument?t.ownerDocument:t).unselectable=i?"off":"on",t.style&&(t.style.MozUserSelect=i?"":"none"),e.event[i?"remove":"add"](t,"selectstart mousedown",a))}i.dragstart=i.dragend={setup:function(){},teardown:function(){}}}(jQuery),
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 *
 * Requires: 1.2.2+
 */
function(e){var t=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var i=t.length;i;)e.event.fixHooks[t[--i]]=e.event.mouseHooks;function s(t){var i=t||window.event,s=[].slice.call(arguments,1),r=0,n=0,o=0;return(t=e.event.fix(i)).type="mousewheel",i.wheelDelta&&(r=i.wheelDelta/120),i.detail&&(r=-i.detail/3),o=r,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(o=0,n=-1*r),void 0!==i.wheelDeltaY&&(o=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(n=-1*i.wheelDeltaX/120),s.unshift(t,r,n,o),(e.event.dispatch||e.event.handle).apply(this,s)}e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],s,!1);else this.onmousewheel=s},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],s,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t=function(t,i){var s=i.getElementsByClassName(t)[0];if(!s&&((s=document.createElement("canvas")).className=t,s.style.direction="ltr",s.style.position="absolute",s.style.left="0px",s.style.top="0px",i.appendChild(s),!s.getContext))throw new Error("Canvas is not available.");this.element=s;var r=this.context=s.getContext("2d");this.pixelRatio=e.plot.browser.getPixelRatio(r);var n=i.getBoundingClientRect();this.resize(n.width,n.height),this.SVGContainer=null,this.SVG={},this._textCache={}};t.prototype.resize=function(e,t){e=e<10?10:e,t=t<10?10:t;var i=this.element,s=this.context,r=this.pixelRatio;this.width!==e&&(i.width=e*r,i.style.width=e+"px",this.width=e),this.height!==t&&(i.height=t*r,i.style.height=t+"px",this.height=t),s.restore(),s.save(),s.scale(r,r)},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t.prototype.render=function(){var e=this._textCache;for(var t in e)if(hasOwnProperty.call(e,t)){var i=this.getSVGLayer(t),s=e[t],r=i.style.display;for(var n in i.style.display="none",s)if(hasOwnProperty.call(s,n)){var o=s[n];for(var a in o)if(hasOwnProperty.call(o,a)){for(var l,h=o[a],d=h.positions,c=0;d[c];c++)if((l=d[c]).active)l.rendered||(i.appendChild(l.element),l.rendered=!0);else if(d.splice(c--,1),l.rendered){for(;l.element.firstChild;)l.element.removeChild(l.element.firstChild);l.element.parentNode.removeChild(l.element)}0===d.length&&(h.measured?h.measured=!1:delete o[a])}}i.style.display=r}},t.prototype.getSVGLayer=function(e){var t,i=this.SVG[e];i||(this.SVGContainer?t=this.SVGContainer.firstChild:(this.SVGContainer=document.createElement("div"),this.SVGContainer.className="flot-svg",this.SVGContainer.style.position="absolute",this.SVGContainer.style.top="0px",this.SVGContainer.style.left="0px",this.SVGContainer.style.bottom="0px",this.SVGContainer.style.right="0px",this.SVGContainer.style.pointerEvents="none",this.element.parentNode.appendChild(this.SVGContainer),(t=document.createElementNS("http://www.w3.org/2000/svg","svg")).style.width="100%",t.style.height="100%",this.SVGContainer.appendChild(t)),(i=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("class",e),i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.bottom="0px",i.style.right="0px",t.appendChild(i),this.SVG[e]=i);return i},t.prototype.getTextInfo=function(e,t,s,r,n){var o,a,l,h;t=""+t,o="object"===(void 0===s?"undefined":_typeof(s))?s.style+" "+s.variant+" "+s.weight+" "+s.size+"px/"+s.lineHeight+"px "+s.family:s,null==(a=this._textCache[e])&&(a=this._textCache[e]={}),null==(l=a[o])&&(l=a[o]={});var d=function(e){return e.replace(/0|1|2|3|4|5|6|7|8|9/g,"0")}(t);if(!(h=l[d])){var c=document.createElementNS("http://www.w3.org/2000/svg","text");if(-1!==t.indexOf("<br>"))i(t,c,-9999);else{var u=document.createTextNode(t);c.appendChild(u)}c.style.position="absolute",c.style.maxWidth=n,c.setAttributeNS(null,"x",-9999),c.setAttributeNS(null,"y",-9999),"object"===(void 0===s?"undefined":_typeof(s))?(c.style.font=o,c.style.fill=s.fill):"string"==typeof s&&c.setAttribute("class",s),this.getSVGLayer(e).appendChild(c);var p=c.getBBox();for(h=l[d]={width:p.width,height:p.height,measured:!0,element:c,positions:[]};c.firstChild;)c.removeChild(c.firstChild);c.parentNode.removeChild(c)}return h.measured=!0,h},t.prototype.addText=function(e,t,s,r,n,o,a,l,h,d){var c=this.getTextInfo(e,r,n,o,a),u=c.positions;"center"===l?t-=c.width/2:"right"===l&&(t-=c.width),"middle"===h?s-=c.height/2:"bottom"===h&&(s-=c.height),s+=.75*c.height;for(var p,f=0;u[f];f++){if((p=u[f]).x===t&&p.y===s&&p.text===r)return void(p.active=!0);if(!1===p.active)return p.active=!0,p.text=r,-1!==r.indexOf("<br>")?(s-=.25*c.height,i(r,p.element,t)):p.element.textContent=r,p.element.setAttributeNS(null,"x",t),p.element.setAttributeNS(null,"y",s),p.x=t,void(p.y=s)}p={active:!0,rendered:!1,element:u.length?c.element.cloneNode():c.element,text:r,x:t,y:s},u.push(p),-1!==r.indexOf("<br>")?(s-=.25*c.height,i(r,p.element,t)):p.element.textContent=r,p.element.setAttributeNS(null,"x",t),p.element.setAttributeNS(null,"y",s),p.element.style.textAlign=l,d&&d.forEach(function(e){c.element.transform.baseVal.appendItem(e)})};var i=function(e,t,i){var s,r,n,o=e.split("<br>");for(r=0;r<o.length;r++)t.childNodes[r]?s=t.childNodes[r]:(s=document.createElementNS("http://www.w3.org/2000/svg","tspan"),t.appendChild(s)),s.textContent=o[r],n=1*r+"em",s.setAttributeNS(null,"dy",n),s.setAttributeNS(null,"x",i)};t.prototype.removeText=function(e,t,i,s,r,n){var o,a;if(null==s){var l=this._textCache[e];if(null!=l)for(var h in l)if(hasOwnProperty.call(l,h)){var d=l[h];for(var c in d)if(hasOwnProperty.call(d,c)){var u=d[c].positions;u.forEach(function(e){e.active=!1})}}}else(u=(o=this.getTextInfo(e,s,r,n)).positions).forEach(function(e){a=i+.75*o.height,e.x===t&&e.y===a&&e.text===s&&(e.active=!1)})},t.prototype.clearCache=function(){var e=this._textCache;for(var t in e)if(hasOwnProperty.call(e,t))for(var i=this.getSVGLayer(t);i.firstChild;)i.removeChild(i.firstChild);this._textCache={}},window.Flot||(window.Flot={}),window.Flot.Canvas=t}(jQuery),function(e){e.color={},e.color.make=function(t,i,s,r){var n={};return n.r=t||0,n.g=i||0,n.b=s||0,n.a=null!=r?r:1,n.add=function(e,t){for(var i=0;i<e.length;++i)n[e.charAt(i)]+=t;return n.normalize()},n.scale=function(e,t){for(var i=0;i<e.length;++i)n[e.charAt(i)]*=t;return n.normalize()},n.toString=function(){return n.a>=1?"rgb("+[n.r,n.g,n.b].join(",")+")":"rgba("+[n.r,n.g,n.b,n.a].join(",")+")"},n.normalize=function(){function e(e,t,i){return t<e?e:t>i?i:t}return n.r=e(0,parseInt(n.r),255),n.g=e(0,parseInt(n.g),255),n.b=e(0,parseInt(n.b),255),n.a=e(0,n.a,1),n},n.clone=function(){return e.color.make(n.r,n.b,n.g,n.a)},n.normalize()},e.color.extract=function(t,i){var s;do{if(""!==(s=t.css(i).toLowerCase())&&"transparent"!==s)break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"===s&&(s="transparent"),e.color.parse(s)},e.color.parse=function(i){var s,r=e.color.make;if(s=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return r(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10));if(s=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return r(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),parseFloat(s[4]));if(s=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*\)/.exec(i))return r(2.55*parseFloat(s[1]),2.55*parseFloat(s[2]),2.55*parseFloat(s[3]));if(s=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return r(2.55*parseFloat(s[1]),2.55*parseFloat(s[2]),2.55*parseFloat(s[3]),parseFloat(s[4]));if(s=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return r(parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16));if(s=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return r(parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16));var n=e.trim(i).toLowerCase();return"transparent"===n?r(255,255,255,0):r((s=t[n]||[0,0,0])[0],s[1],s[2])};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/* Javascript plotting library for jQuery, version 1.0.3.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

*/
/* Javascript plotting library for jQuery, version 1.0.3.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

*/
!function(e){var t=window.Flot.Canvas;function i(t){var i,s=[],r=e.plot.saturated.saturate(e.plot.saturated.floorInBase(t.min,t.tickSize)),n=0,o=Number.NaN;r===-Number.MAX_VALUE&&(s.push(r),r=e.plot.saturated.floorInBase(t.min+t.tickSize,t.tickSize));do{i=o,o=e.plot.saturated.multiplyAdd(t.tickSize,n,r),s.push(o),++n}while(o<t.max&&o!==i);return s}function s(e,t,i){var s=t.tickDecimals;if(-1!==(""+e).indexOf("e"))return r(e,t,i);i>0&&(t.tickDecimals=i);var n=t.tickDecimals?Math.pow(10,t.tickDecimals):1,o=""+Math.round(e*n)/n;if(null!=t.tickDecimals){var a=o.indexOf("."),l=-1===a?0:o.length-a-1;if(l<t.tickDecimals)o=(l?o:o+".")+(""+n).substr(1,t.tickDecimals-l)}return t.tickDecimals=s,o}function r(e,t,i){var s=(""+e).indexOf("e"),r=parseInt((""+e).substr(s+1)),o=-1!==s?r:e>0?Math.floor(Math.log(e)/Math.LN10):0,a=Math.pow(10,o),l=e/a;if(i){var h=n(e,i);return(e/a).toFixed(h)+"e"+o}return t.tickDecimals>0?l.toFixed(n(e,t.tickDecimals))+"e"+o:l.toFixed()+"e"+o}function n(e,t){var i=Math.log(Math.abs(e))*Math.LOG10E,s=Math.abs(i+t);return s<=20?Math.floor(s):20}function o(r,n,o,a){var l=[],h={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoScaleMargin:null,autoScale:"exact",windowSize:null,growOnly:null,ticks:null,tickFormatter:null,showTickLabels:"major",labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,showMinorTicks:null,showTicks:null,gridLines:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,offset:{below:0,above:0},boxPosition:{centerX:0,centerY:0}},yaxis:{autoScaleMargin:.02,autoScale:"loose",growOnly:null,position:"left",showTickLabels:"major",offset:{below:0,above:0},boxPosition:{centerX:0,centerY:0}},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:1,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,horizontal:!1,barWidth:.8,fill:!0,fillColor:null,align:"left",zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:1,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:15},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},d=null,c=null,u=null,p=null,f=null,m=[],g=[],v={left:0,right:0,top:0,bottom:0},x=0,b=0,w={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],setupGrid:[],adjustSeriesDataRange:[],setRange:[],drawBackground:[],drawSeries:[],drawAxis:[],draw:[],axisReserveSpace:[],bindEvents:[],drawOverlay:[],resize:[],shutdown:[]},y=this,_={},j=null;y.setData=C,y.setupGrid=O,y.draw=F,y.getPlaceholder=function(){return r},y.getCanvas=function(){return d.element},y.getSurface=function(){return d},y.getEventHolder=function(){return u[0]},y.getPlotOffset=function(){return v},y.width=function(){return x},y.height=function(){return b},y.offset=function(){var e=u.offset();return e.left+=v.left,e.top+=v.top,e},y.getData=function(){return l},y.getAxes=function(){var t={};return e.each(m.concat(g),function(e,i){i&&(t[i.direction+(1!==i.n?i.n:"")+"axis"]=i)}),t},y.getXAxes=function(){return m},y.getYAxes=function(){return g},y.c2p=function(e){var t,i,s={};for(t=0;t<m.length;++t)(i=m[t])&&i.used&&(s["x"+i.n]=i.c2p(e.left));for(t=0;t<g.length;++t)(i=g[t])&&i.used&&(s["y"+i.n]=i.c2p(e.top));void 0!==s.x1&&(s.x=s.x1);void 0!==s.y1&&(s.y=s.y1);return s},y.p2c=function(e){var t,i,s,r={};for(t=0;t<m.length;++t)if((i=m[t])&&i.used&&(s="x"+i.n,null==e[s]&&1===i.n&&(s="x"),null!=e[s])){r.left=i.p2c(e[s]);break}for(t=0;t<g.length;++t)if((i=g[t])&&i.used&&(s="y"+i.n,null==e[s]&&1===i.n&&(s="y"),null!=e[s])){r.top=i.p2c(e[s]);break}return r},y.getOptions=function(){return h},y.triggerRedrawOverlay=$,y.pointOffset=function(e){return{left:parseInt(m[I(e,"x")-1].p2c(+e.x)+v.left,10),top:parseInt(g[I(e,"y")-1].p2c(+e.y)+v.top,10)}},y.shutdown=M,y.destroy=function(){M(),r.removeData("plot").empty(),l=[],h=null,d=null,c=null,u=null,p=null,f=null,m=[],g=[],w=null,y=null},y.resize=function(){var e=r.width(),t=r.height();d.resize(e,t),c.resize(e,t),T(w.resize,[e,t])},y.clearTextCache=function(){d.clearCache(),c.clearCache()},y.autoScaleAxis=A,y.computeRangeForDataSeries=function(e,t,i){for(var s=e.datapoints.points,r=e.datapoints.pointsize,n=e.datapoints.format,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l={xmin:o,ymin:o,xmax:a,ymax:a},h=0;h<s.length;h+=r)if(null!==s[h]&&("function"!=typeof i||i(s[h])))for(var d=0;d<r;++d){var c=s[h+d],u=n[d];null!=u&&(("function"!=typeof i||i(c))&&(t||u.computeRange)&&c!==1/0&&c!==-1/0&&(!0===u.x&&(c<l.xmin&&(l.xmin=c),c>l.xmax&&(l.xmax=c)),!0===u.y&&(c<l.ymin&&(l.ymin=c),c>l.ymax&&(l.ymax=c))))}return l},y.adjustSeriesDataRange=function(e,t){if(e.bars.show){var i,s=e.bars.barWidth[1];e.datapoints&&e.datapoints.points&&!s&&function(e){var t=e.datapoints.pointsize,i=Number.MAX_VALUE,s=e.datapoints.points[t]-e.datapoints.points[0]||1;isFinite(s)&&(i=s);for(var r=t;r<e.datapoints.points.length-t;r+=t)(s=Math.abs(e.datapoints.points[t+r]-e.datapoints.points[r]))<i&&isFinite(s)&&(i=s);"number"==typeof e.bars.barWidth?e.bars.barWidth=e.bars.barWidth*i:e.bars.barWidth[0]=e.bars.barWidth[0]*i}(e);var r=e.bars.barWidth[0]||e.bars.barWidth;switch(e.bars.align){case"left":i=0;break;case"right":i=-r;break;default:i=-r/2}e.bars.horizontal?(t.ymin+=i,t.ymax+=i+r):(t.xmin+=i,t.xmax+=i+r)}if(e.bars.show&&e.bars.zero||e.lines.show&&e.lines.zero){var n=e.datapoints.pointsize;n<=2&&(t.ymin=Math.min(0,t.ymin),t.ymax=Math.max(0,t.ymax))}return t},y.findNearbyItem=function(e,t,i,s,r){var n,o,a,h,d,c,u=s,p=u*u+1,f=null;for(h=l.length-1;h>=0;--h)if(i(h)){var m=l[h];if(!m.datapoints)return;var g,v,x=m.xaxis,b=m.yaxis,w=m.datapoints.points,y=x.c2p(e),_=b.c2p(t),j=u/x.scale,q=u/b.scale;for(c=m.datapoints.pointsize,x.options.inverseTransform&&(j=Number.MAX_VALUE),b.options.inverseTransform&&(q=Number.MAX_VALUE),d=0;d<w.length;d+=c)g=w[d],v=w[d+1],null!=g&&(g-y>j||g-y<-j||v-_>q||v-_<-q||(n=Math.abs(x.p2c(g)-e),o=Math.abs(b.p2c(v)-t),(a=r?r(n,o):n*n+o*o)<p&&(p=a,f=[h,d/c])))}if(f)return h=f[0],d=f[1],c=l[h].datapoints.pointsize,{datapoint:l[h].datapoints.points.slice(d*c,(d+1)*c),dataIndex:d,series:l[h],seriesIndex:h};return null},y.findNearbyInterpolationPoint=function(e,t,i){var s,r,n,o,a,h,d,c=Number.MAX_VALUE;for(s=0;s<l.length;++s)if(i(s)){var u=l[s].datapoints.points;h=l[s].datapoints.pointsize;var p=u[u.length-h]<u[0]?function(e,t){return e>t}:function(e,t){return t>e};if(!p(e,u[0])){for(r=h;r<u.length&&!p(e,u[r]);r+=h);var f=u[r-h],m=u[r-h+1],g=u[r],v=u[r+1];void 0!==f&&void 0!==g&&void 0!==m&&void 0!==v&&(t=f===g?v:m+(v-m)*(e-f)/(g-f),o=Math.abs(l[s].xaxis.p2c(g)-e),a=Math.abs(l[s].yaxis.p2c(v)-t),(n=o*o+a*a)<c&&(c=n,d=[e,t,s,r]))}}if(d)return s=d[2],r=d[3],h=l[s].datapoints.pointsize,u=l[s].datapoints.points,f=u[r-h],m=u[r-h+1],g=u[r],v=u[r+1],{datapoint:[d[0],d[1]],leftPoint:[f,m],rightPoint:[g,v],seriesIndex:s};return null},y.computeValuePrecision=H,y.computeTickSize=E,y.addEventHandler=function(e,t,i,s){var r=i+e,n=_[r]||[];n.push({event:e,handler:t,eventHolder:i,priority:s}),n.sort(function(e,t){return t.priority-e.priority}),n.forEach(function(e){e.eventHolder.unbind(e.event,e.handler),e.eventHolder.bind(e.event,e.handler)}),_[r]=n},y.hooks=w;var q=e.plot.uiConstants.MINOR_TICKS_COUNT_CONSTANT,S=e.plot.uiConstants.TICK_LENGTH_CONSTANT;function T(e,t){t=[y].concat(t);for(var i=0;i<e.length;++i)e[i].apply(this,t)}function C(t){var i=l;l=function(t){for(var i=[],s=0;s<t.length;++s){var r=e.extend(!0,{},h.series);null!=t[s].data?(r.data=t[s].data,delete t[s].data,e.extend(!0,r,t[s]),t[s].data=r.data):r.data=t[s],i.push(r)}return i}(t),function(){var t,i=l.length,s=-1;for(t=0;t<l.length;++t){var r=l[t].color;null!=r&&(i--,"number"==typeof r&&r>s&&(s=r))}i<=s&&(i=s+1);var n,o=[],a=h.colors,d=a.length,c=0,u=l.length-i;for(t=0;t<i;t++)n=e.color.parse(a[(u+t)%d]||"#666"),t%d==0&&t&&(c=c>=0?c<.5?-c-.2:0:-c),o[t]=n.scale("rgb",1+c);var p,f=0;for(t=0;t<l.length;++t){if(null==(p=l[t]).color?(p.color=o[f].toString(),++f):"number"==typeof p.color&&(p.color=o[p.color].toString()),null==p.lines.show){var v,x=!0;for(v in p)if(p[v]&&p[v].show){x=!1;break}x&&(p.lines.show=!0)}null==p.lines.zero&&(p.lines.zero=!!p.lines.fill),p.xaxis=P(m,I(p,"x")),p.yaxis=P(g,I(p,"y"))}}(),function(t){var i,s,r,n,o,a,h,d,c,u,p,f,m=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY;function v(e,t,i){t<e.datamin&&t!==-1/0&&(e.datamin=t),i>e.datamax&&i!==1/0&&(e.datamax=i)}function x(e,t){return e&&e[t]&&e[t].datapoints&&e[t].datapoints.points?e[t].datapoints.points:[]}for(e.each(k(),function(e,t){!0!==t.options.growOnly?(t.datamin=m,t.datamax=g):(void 0===t.datamin&&(t.datamin=m),void 0===t.datamax&&(t.datamax=g)),t.used=!1}),i=0;i<l.length;++i)(o=l[i]).datapoints={points:[]},0===o.datapoints.points.length&&(o.datapoints.points=x(t,i)),T(w.processRawData,[o,o.data,o.datapoints]);for(i=0;i<l.length;++i){if(o=l[i],p=o.data,!(f=o.datapoints.format)){if((f=[]).push({x:!0,y:!1,number:!0,required:!0,computeRange:"none"!==o.xaxis.options.autoScale,defaultValue:null}),f.push({x:!1,y:!0,number:!0,required:!0,computeRange:"none"!==o.yaxis.options.autoScale,defaultValue:null}),o.bars.show||o.lines.show&&o.lines.fill){var b=null!=o.datapoints.pointsize?o.datapoints.pointsize:o.data&&o.data[0]&&o.data[0].length?o.data[0].length:3;b>2&&f.push({x:!1,y:!0,number:!0,required:!1,computeRange:"none"!==o.yaxis.options.autoScale,defaultValue:0})}o.datapoints.format=f}if(o.xaxis.used=o.yaxis.used=!0,null==o.datapoints.pointsize){o.datapoints.pointsize=f.length,h=o.datapoints.pointsize,a=o.datapoints.points;var _=o.lines.show&&o.lines.steps;for(s=r=0;s<p.length;++s,r+=h){var j=null==(u=p[s]);if(!j)for(n=0;n<h;++n)d=u[n],(c=f[n])&&(c.number&&null!=d&&(d=+d,isNaN(d)&&(d=null)),null==d&&(c.required&&(j=!0),null!=c.defaultValue&&(d=c.defaultValue))),a[r+n]=d;if(j)for(n=0;n<h;++n)null!=(d=a[r+n])&&(c=f[n]).computeRange&&(c.x&&v(o.xaxis,d,d),c.y&&v(o.yaxis,d,d)),a[r+n]=null;else if(_&&r>0&&null!=a[r-h]&&a[r-h]!==a[r]&&a[r-h+1]!==a[r+1]){for(n=0;n<h;++n)a[r+h+n]=a[r+n];a[r+1]=a[r-h+1],r+=h}}a.length=r}}for(i=0;i<l.length;++i)o=l[i],T(w.processDatapoints,[o,o.datapoints]);for(i=0;i<l.length;++i)if(o=l[i],!(f=o.datapoints.format).every(function(e){return!e.computeRange})){var q=y.adjustSeriesDataRange(o,y.computeRangeForDataSeries(o));T(w.adjustSeriesDataRange,[o,q]),v(o.xaxis,q.xmin,q.xmax),v(o.yaxis,q.ymin,q.ymax)}e.each(k(),function(e,t){t.datamin===m&&(t.datamin=null),t.datamax===g&&(t.datamax=null)})}(i)}function I(e,t){var i=e[t+"axis"];return"object"===(void 0===i?"undefined":_typeof(i))&&(i=i.n),"number"!=typeof i&&(i=1),i}function k(){return m.concat(g).filter(function(e){return e})}function P(t,i){return t[i-1]||(t[i-1]={n:i,direction:t===m?"x":"y",options:e.extend(!0,{},t===m?h.xaxis:h.yaxis)}),t[i-1]}function M(){j&&clearTimeout(j),T(w.shutdown,[u])}function N(t){function i(e){return e}var s,r,n=t.options.transform||i,o=t.options.inverseTransform;"x"===t.direction?(s=isFinite(n(t.max)-n(t.min))?t.scale=x/Math.abs(n(t.max)-n(t.min)):t.scale=1/Math.abs(e.plot.saturated.delta(n(t.min),n(t.max),x)),r=Math.min(n(t.max),n(t.min))):(s=-(s=isFinite(n(t.max)-n(t.min))?t.scale=b/Math.abs(n(t.max)-n(t.min)):t.scale=1/Math.abs(e.plot.saturated.delta(n(t.min),n(t.max),b))),r=Math.max(n(t.max),n(t.min))),t.p2c=n===i?function(e){return isFinite(e-r)?(e-r)*s:(e/4-r/4)*s*4}:function(e){var t=n(e);return isFinite(t-r)?(t-r)*s:(t/4-r/4)*s*4},t.c2p=o?function(e){return o(r+e/s)}:function(e){return r+e/s}}function D(t){T(w.axisReserveSpace,[t]);var i=t.labelWidth,s=t.labelHeight,r=t.options.position,n="x"===t.direction,o=t.options.tickLength,a=t.options.showTicks,l=t.options.showMinorTicks,c=t.options.gridLines,u=h.grid.axisMargin,p=h.grid.labelMargin,f=!0,x=!0,b=!1;e.each(n?m:g,function(e,i){i&&(i.show||i.reserveSpace)&&(i===t?b=!0:i.options.position===r&&(b?x=!1:f=!1))}),x&&(u=0),null==o&&(o=S),null==a&&(a=!0),null==l&&(l=!0),null==c&&(c=!!f),isNaN(+o)||(p+=a?+o:0),n?(s+=p,"bottom"===r?(v.bottom+=s+u,t.box={top:d.height-v.bottom,height:s}):(t.box={top:v.top+u,height:s},v.top+=s+u)):(i+=p,"left"===r?(t.box={left:v.left+u,width:i},v.left+=i+u):(v.right+=i+u,t.box={left:d.width-v.right,width:i})),t.position=r,t.tickLength=o,t.showMinorTicks=l,t.showTicks=a,t.gridLines=c,t.box.padding=p,t.innermost=f}function B(e,t,i){"x"===e.direction?("bottom"===e.position&&i(t.bottom)&&(e.box.top-=Math.ceil(t.bottom)),"top"===e.position&&i(t.top)&&(e.box.top+=Math.ceil(t.top))):("left"===e.position&&i(t.left)&&(e.box.left+=Math.ceil(t.left)),"right"===e.position&&i(t.right)&&(e.box.left-=Math.ceil(t.right)))}function O(){var t,r,n=k(),o=h.grid.show;for(r in v)v[r]=0;for(r in T(w.processOffset,[v]),v)"object"===_typeof(h.grid.borderWidth)?v[r]+=o?h.grid.borderWidth[r]:0:v[r]+=o?h.grid.borderWidth:0;if(e.each(n,function(t,i){var r=i.options;i.show=null==r.show?i.used:r.show,i.reserveSpace=null==r.reserveSpace?i.show:r.reserveSpace,function(e){var t=e.options;e.tickFormatter||("function"==typeof t.tickFormatter?e.tickFormatter=function(){var e=Array.prototype.slice.call(arguments);return""+t.tickFormatter.apply(null,e)}:e.tickFormatter=s)}(i),T(w.setRange,[i]),function(t){A(t);var i=t.autoScaledMin,s=t.autoScaledMax,r=t.options.offset;if(i=(null!=i?i:-1)+(r.below||0),s=(null!=s?s:1)+(r.above||0),i>s){var n=i;i=s,s=n,t.options.offset={above:0,below:0}}t.min=e.plot.saturated.saturate(i),t.max=e.plot.saturated.saturate(s)}(i)}),o){x=d.width-v.left-v.right,b=d.height-v.bottom-v.top;var a=e.grep(n,function(e){return e.show||e.reserveSpace});for(e.each(a,function(t,s){!function(t){var s,r=t.options;s=z(t.direction,d,r.ticks),t.delta=e.plot.saturated.delta(t.min,t.max,s);var n=y.computeValuePrecision(t.min,t.max,t.direction,s,r.tickDecimals);t.tickDecimals=Math.max(0,null!=r.tickDecimals?r.tickDecimals:n),t.tickSize=function(e,t,i,s,r){var n;n="number"==typeof s.ticks&&s.ticks>0?s.ticks:.3*Math.sqrt("x"===i?d.width:d.height);var o=E(e,t,n,r);return null!=s.minTickSize&&o<s.minTickSize&&(o=s.minTickSize),s.tickSize||o}(t.min,t.max,t.direction,r,r.tickDecimals),t.tickGenerator||(t.tickGenerator=i);if(null!=r.alignTicksWithAxis){var o=("x"===t.direction?m:g)[r.alignTicksWithAxis-1];if(o&&o.used&&o!==t){var a=t.tickGenerator(t);if(a.length>0&&(null==r.min&&(t.min=Math.min(t.min,a[0])),null==r.max&&a.length>1&&(t.max=Math.max(t.max,a[a.length-1]))),t.tickGenerator=function(e){var t,i,s=[];for(i=0;i<o.ticks.length;++i)t=(o.ticks[i].v-o.min)/(o.max-o.min),t=e.min+t*(e.max-e.min),s.push(t);return s},!t.mode&&null==r.tickDecimals){var l=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),h=t.tickGenerator(t);h.length>1&&/\..*0$/.test((h[1]-h[0]).toFixed(l))||(t.tickDecimals=l)}}}}(s),function(t){var i,s,r=t.options.ticks,n=[];null==r||"number"==typeof r&&r>0?n=t.tickGenerator(t):r&&(n=e.isFunction(r)?r(t):r);for(t.ticks=[],i=0;i<n.length;++i){var o=null,a=n[i];"object"===(void 0===a?"undefined":_typeof(a))?(s=+a[0],a.length>1&&(o=a[1])):s=+a,isNaN(s)||t.ticks.push(L(s,o,t,"major"))}}(s),function(e,t){"loose"===e.options.autoScale&&t.length>0&&(e.min=Math.min(e.min,t[0].v),e.max=Math.max(e.max,t[t.length-1].v))}(s,s.ticks),N(s),function(e,t){(function(e,t){if("endpoints"===e.options.showTickLabels)return!0;if("all"===e.options.showTickLabels){var i=t.filter(function(t){return t.xaxis===e}),s=i.some(function(e){return!e.bars.show});return 0===i.length||s}if("major"===e.options.showTickLabels||"none"===e.options.showTickLabels)return!1})(e,t)&&(e.ticks.unshift(L(e.min,null,e,"min")),e.ticks.push(L(e.max,null,e,"max")))}(s,l),function(e){for(var t=e.options,i="none"!==t.showTickLabels&&e.ticks?e.ticks:[],s="major"===t.showTickLabels||"all"===t.showTickLabels,r="endpoints"===t.showTickLabels||"all"===t.showTickLabels,n=t.labelWidth||0,o=t.labelHeight||0,a=e.direction+"Axis "+e.direction+e.n+"Axis",l="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+a,h=t.font||"flot-tick-label tickLabel",c=0;c<i.length;++c){var u=i[c],p=u.label;if(u.label&&!(!1===s&&c>0&&c<i.length-1)&&(!1!==r||0!==c&&c!==i.length-1)){"object"===_typeof(u.label)&&(p=u.label.name);var f=d.getTextInfo(l,p,h);n=Math.max(n,f.width),o=Math.max(o,f.height)}}e.labelWidth=t.labelWidth||n,e.labelHeight=t.labelHeight||o}(s)}),t=a.length-1;t>=0;--t)D(a[t]);!function(){var t,i=h.grid.minBorderMargin;if(null==i)for(i=0,t=0;t<l.length;++t)i=Math.max(i,2*(l[t].points.radius+l[t].points.lineWidth/2));var s,r={},n={left:i,right:i,top:i,bottom:i};for(s in e.each(k(),function(e,t){t.reserveSpace&&t.ticks&&t.ticks.length&&("x"===t.direction?(n.left=Math.max(n.left,t.labelWidth/2),n.right=Math.max(n.right,t.labelWidth/2)):(n.bottom=Math.max(n.bottom,t.labelHeight/2),n.top=Math.max(n.top,t.labelHeight/2)))}),n)r[s]=n[s]-v[s];e.each(m.concat(g),function(e,t){B(t,r,function(e){return e>0})}),v.left=Math.ceil(Math.max(n.left,v.left)),v.right=Math.ceil(Math.max(n.right,v.right)),v.top=Math.ceil(Math.max(n.top,v.top)),v.bottom=Math.ceil(Math.max(n.bottom,v.bottom))}(),e.each(a,function(e,t){!function(e){"x"===e.direction?(e.box.left=v.left-e.labelWidth/2,e.box.width=d.width-v.left-v.right+e.labelWidth):(e.box.top=v.top-e.labelHeight/2,e.box.height=d.height-v.bottom-v.top+e.labelHeight)}(t)})}if(h.grid.margin){for(r in v){var c=h.grid.margin||0;v[r]+="number"==typeof c?c:c[r]||0}e.each(m.concat(g),function(e,t){B(t,h.grid.margin,function(e){return null!=e})})}x=d.width-v.left-v.right,b=d.height-v.bottom-v.top,e.each(n,function(e,t){N(t)}),o&&e.each(k(),function(e,t){var i,s,r,n,o,a,l,h=t.box,c=t.direction+"Axis "+t.direction+t.n+"Axis",u="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+c,p=t.options.font||"flot-tick-label tickLabel",f={x:NaN,y:NaN,width:NaN,height:NaN},m=[],g=function(e,i){return!e||!e.label||e.v<t.min||e.v>t.max?f:(a=d.getTextInfo(u,e.label,p),"x"===t.direction?(n="center",s=v.left+t.p2c(e.v),"bottom"===t.position?r=h.top+h.padding-t.boxPosition.centerY:(r=h.top+h.height-h.padding+t.boxPosition.centerY,o="bottom"),l={x:s-a.width/2-3,y:r-3,width:a.width+6,height:a.height+6}):(o="middle",r=v.top+t.p2c(e.v),"left"===t.position?(s=h.left+h.width-h.padding-t.boxPosition.centerX,n="right"):s=h.left+h.padding+t.boxPosition.centerX,l={x:s-a.width/2-3,y:r-3,width:a.width+6,height:a.height+6}),function(e,t){return t.some(function(t){return i=e.x,s=e.y,r=e.x+e.width,n=e.y+e.height,o=t.x,a=t.y,l=t.x+t.width,h=t.y+t.height,(i<=o&&o<=r||o<=i&&i<=l)&&(s<=a&&a<=n||a<=s&&s<=h);var i,s,r,n,o,a,l,h})}(l,i)?f:(d.addText(u,s,r,e.label,p,null,null,n,o),l))};if(d.removeText(u),T(w.drawAxis,[t,d]),t.show)switch(t.options.showTickLabels){case"none":break;case"endpoints":m.push(g(t.ticks[0],m)),m.push(g(t.ticks[t.ticks.length-1],m));break;case"major":for(m.push(g(t.ticks[0],m)),m.push(g(t.ticks[t.ticks.length-1],m)),i=1;i<t.ticks.length-1;++i)m.push(g(t.ticks[i],m));break;case"all":for(m.push(g(t.ticks[0],[])),m.push(g(t.ticks[t.ticks.length-1],m)),i=1;i<t.ticks.length-1;++i)m.push(g(t.ticks[i],m))}}),T(w.setupGrid,[])}function A(t){var i,s=t.options,r=s.min,n=s.max,o=t.datamin,a=t.datamax;switch(s.autoScale){case"none":r=+(null!=s.min?s.min:o),n=+(null!=s.max?s.max:a);break;case"loose":if(null!=o&&null!=a){r=o,n=a,i=e.plot.saturated.saturate(n-r);var l="number"==typeof s.autoScaleMargin?s.autoScaleMargin:.02;r=e.plot.saturated.saturate(r-i*l),n=e.plot.saturated.saturate(n+i*l),r<0&&o>=0&&(r=0)}else r=s.min,n=s.max;break;case"exact":r=null!=o?o:s.min,n=null!=a?a:s.max;break;case"sliding-window":a>n&&(n=a,r=Math.max(a-(s.windowSize||100),r))}var h=function(e,t){var i=void 0===e?null:e,s=void 0===t?null:t;if(0==s-i){var r=0===s?1:.01,n=null;null==i&&(n-=r),null!=s&&null==i||(s+=r),null!=n&&(i=n)}return{min:i,max:s}}(r,n);r=h.min,n=h.max,!0===s.growOnly&&"none"!==s.autoScale&&"sliding-window"!==s.autoScale&&(r=r<o?r:null!==o?o:r,n=n>a?n:null!==a?a:n),t.autoScaledMin=r,t.autoScaledMax=n}function H(t,i,s,r,n){var o=z(s,d,r),a=e.plot.saturated.delta(t,i,o),l=-Math.floor(Math.log(a)/Math.LN10);n&&l>n&&(l=n);var h=a/Math.pow(10,-l);return h>2.25&&h<3&&l+1<=n&&++l,isFinite(l)?l:0}function E(t,i,s,r){var n=e.plot.saturated.delta(t,i,s),o=-Math.floor(Math.log(n)/Math.LN10);r&&o>r&&(o=r);var a,l=Math.pow(10,-o),h=n/l;return h<1.5?a=1:h<3?(a=2,h>2.25&&(null==r||o+1<=r)&&(a=2.5)):a=h<7.5?5:10,a*=l}function z(e,t,i){return"number"==typeof i&&i>0?i:.3*Math.sqrt("x"===e?t.width:t.height)}function L(e,t,i,s){if(!t)switch(s){case"min":case"max":var r=function(e,t){var i=Math.floor(t.p2c(e)),s="x"===t.direction?i+1:i-1,r=t.c2p(i),n=t.c2p(s);return H(r,n,t.direction,1)}(e,i);isFinite(r),t=i.tickFormatter(e,i,r,y);break;case"major":t=i.tickFormatter(e,i,void 0,y)}return{v:e,label:t}}function F(){d.clear(),T(w.drawBackground,[p]);var e=h.grid;e.show&&e.backgroundColor&&(p.save(),p.translate(v.left,v.top),p.fillStyle=Z(h.grid.backgroundColor,b,0,"rgba(255, 255, 255, 0)"),p.fillRect(0,0,x,b),p.restore()),e.show&&!e.aboveData&&Y();for(var t=0;t<l.length;++t)T(w.drawSeries,[p,l[t],t,Z]),K(l[t]);T(w.draw,[p]),e.show&&e.aboveData&&Y(),d.render(),$()}function R(e,t){for(var i,s,r,n,o=k(),a=0;a<o.length;++a)if((i=o[a]).direction===t&&(e[n=t+i.n+"axis"]||1!==i.n||(n=t+"axis"),e[n])){s=e[n].from,r=e[n].to;break}if(e[n]||(i="x"===t?m[0]:g[0],s=e[t+"1"],r=e[t+"2"]),null!=s&&null!=r&&s>r){var l=s;s=r,r=l}return{from:s,to:r,axis:i}}function V(e){var t=e.box,i=0,s=0;return"x"===e.direction?(i=0,s=t.top-v.top+("top"===e.position?t.height:0)):(s=0,i=t.left-v.left+("left"===e.position?t.width:0)+e.boxPosition.centerX),{x:i,y:s}}function W(e,t){return e%2!=0?Math.floor(t)+.5:t}function G(e){p.lineWidth=1;var t=V(e),i=t.x,s=t.y;if(e.show){var r=0,n=0;p.strokeStyle=e.options.color,p.beginPath(),"x"===e.direction?r=x+1:n=b+1,"x"===e.direction?s=W(p.lineWidth,s):i=W(p.lineWidth,i),p.moveTo(i,s),p.lineTo(i+r,s+n),p.stroke()}}function U(e){var t=e.tickLength,i=e.showMinorTicks,s=q,r=V(e),n=r.x,o=r.y,a=0;for(p.strokeStyle=e.options.color,p.beginPath(),a=0;a<e.ticks.length;++a){var l,h=e.ticks[a].v,d=0,c=0,u=0,f=0;if(!isNaN(h)&&h>=e.min&&h<=e.max&&("x"===e.direction?(n=e.p2c(h),c=t,"top"===e.position&&(c=-c)):(o=e.p2c(h),d=t,"left"===e.position&&(d=-d)),"x"===e.direction?n=W(p.lineWidth,n):o=W(p.lineWidth,o),p.moveTo(n,o),p.lineTo(n+d,o+c)),!0===i&&a<e.ticks.length-1){var m=e.ticks[a].v,g=(e.ticks[a+1].v-m)/(s+1);for(l=1;l<=s;l++){if("x"===e.direction){if(f=t/2,n=W(p.lineWidth,e.p2c(m+l*g)),"top"===e.position&&(f=-f),n<0||n>x)continue}else if(u=t/2,o=W(p.lineWidth,e.p2c(m+l*g)),"left"===e.position&&(u=-u),o<0||o>b)continue;p.moveTo(n,o),p.lineTo(n+u,o+f)}}}p.stroke()}function X(e){var t,i,s;for(p.strokeStyle=h.grid.tickColor,p.beginPath(),t=0;t<e.ticks.length;++t){var r=e.ticks[t].v,n=0,o=0,a=0,l=0;isNaN(r)||r<e.min||r>e.max||(i=r,void 0,(!("object"===(void 0===(s=h.grid.borderWidth)?"undefined":_typeof(s))&&s[e.position]>0||s>0)||i!==e.min&&i!==e.max)&&("x"===e.direction?(a=e.p2c(r),l=b,o=-b):(a=0,l=e.p2c(r),n=x),"x"===e.direction?a=W(p.lineWidth,a):l=W(p.lineWidth,l),p.moveTo(a,l),p.lineTo(a+n,l+o)))}p.stroke()}function Y(){var t,i;p.save(),p.translate(v.left,v.top),function(){var t,i,s=h.grid.markings;if(s)for(e.isFunction(s)&&((t=y.getAxes()).xmin=t.xaxis.min,t.xmax=t.xaxis.max,t.ymin=t.yaxis.min,t.ymax=t.yaxis.max,s=s(t)),i=0;i<s.length;++i){var r=s[i],n=R(r,"x"),o=R(r,"y");if(null==n.from&&(n.from=n.axis.min),null==n.to&&(n.to=n.axis.max),null==o.from&&(o.from=o.axis.min),null==o.to&&(o.to=o.axis.max),!(n.to<n.axis.min||n.from>n.axis.max||o.to<o.axis.min||o.from>o.axis.max)){n.from=Math.max(n.from,n.axis.min),n.to=Math.min(n.to,n.axis.max),o.from=Math.max(o.from,o.axis.min),o.to=Math.min(o.to,o.axis.max);var a=n.from===n.to,l=o.from===o.to;if(!a||!l)if(n.from=Math.floor(n.axis.p2c(n.from)),n.to=Math.floor(n.axis.p2c(n.to)),o.from=Math.floor(o.axis.p2c(o.from)),o.to=Math.floor(o.axis.p2c(o.to)),a||l){var d=r.lineWidth||h.grid.markingsLineWidth,c=d%2?.5:0;p.beginPath(),p.strokeStyle=r.color||h.grid.markingsColor,p.lineWidth=d,a?(p.moveTo(n.to+c,o.from),p.lineTo(n.to+c,o.to)):(p.moveTo(n.from,o.to+c),p.lineTo(n.to,o.to+c)),p.stroke()}else p.fillStyle=r.color||h.grid.markingsColor,p.fillRect(n.from,o.to,n.to-n.from,o.from-o.to)}}}(),t=k(),i=h.grid.borderWidth;for(var s=0;s<t.length;++s){var r=t[s];r.show&&(G(r),!0===r.showTicks&&U(r),!0===r.gridLines&&X(r))}i&&function(){var e=h.grid.borderWidth,t=h.grid.borderColor;"object"===(void 0===e?"undefined":_typeof(e))||"object"===(void 0===t?"undefined":_typeof(t))?("object"!==(void 0===e?"undefined":_typeof(e))&&(e={top:e,right:e,bottom:e,left:e}),"object"!==(void 0===t?"undefined":_typeof(t))&&(t={top:t,right:t,bottom:t,left:t}),e.top>0&&(p.strokeStyle=t.top,p.lineWidth=e.top,p.beginPath(),p.moveTo(0-e.left,0-e.top/2),p.lineTo(x,0-e.top/2),p.stroke()),e.right>0&&(p.strokeStyle=t.right,p.lineWidth=e.right,p.beginPath(),p.moveTo(x+e.right/2,0-e.top),p.lineTo(x+e.right/2,b),p.stroke()),e.bottom>0&&(p.strokeStyle=t.bottom,p.lineWidth=e.bottom,p.beginPath(),p.moveTo(x+e.right,b+e.bottom/2),p.lineTo(0,b+e.bottom/2),p.stroke()),e.left>0&&(p.strokeStyle=t.left,p.lineWidth=e.left,p.beginPath(),p.moveTo(0-e.left/2,b+e.bottom),p.lineTo(0-e.left/2,0),p.stroke())):(p.lineWidth=e,p.strokeStyle=h.grid.borderColor,p.strokeRect(-e/2,-e/2,x+e,b+e))}(),p.restore()}function K(t){t.lines.show&&e.plot.drawSeries.drawSeriesLines(t,p,v,x,b,y.drawSymbol,Z),t.bars.show&&e.plot.drawSeries.drawSeriesBars(t,p,v,x,b,y.drawSymbol,Z),t.points.show&&e.plot.drawSeries.drawSeriesPoints(t,p,v,x,b,y.drawSymbol,Z)}function $(){var e=h.interaction.redrawOverlayInterval;-1!==e?j||(j=setTimeout(function(){J(y)},e)):J()}function J(e){if(j=null,f){c.clear(),T(w.drawOverlay,[f,c]);var t=new CustomEvent("onDrawingDone");e.getEventHolder().dispatchEvent(t)}}function Z(t,i,s,r){if("string"==typeof t)return t;for(var n=p.createLinearGradient(0,s,0,i),o=0,a=t.colors.length;o<a;++o){var l=t.colors[o];if("string"!=typeof l){var h=e.color.parse(r);null!=l.brightness&&(h=h.scale("rgb",l.brightness)),null!=l.opacity&&(h.a*=l.opacity),l=h.toString()}n.addColorStop(o/(a-1),l)}return n}!function(){for(var i={Canvas:t},s=0;s<a.length;++s){var r=a[s];r.init(y,i),r.options&&e.extend(!0,h,r.options)}}(),function(){r.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),"static"===r.css("position")&&r.css("position","relative");d=new t("flot-base",r[0]),c=new t("flot-overlay",r[0]),p=d.context,f=c.context,u=e(c.element).unbind();var i=r.data("plot");i&&(i.shutdown(),c.clear());r.data("plot",y)}(),function(t){e.extend(!0,h,t),t&&t.colors&&(h.colors=t.colors);null==h.xaxis.color&&(h.xaxis.color=e.color.parse(h.grid.color).scale("a",.22).toString());null==h.yaxis.color&&(h.yaxis.color=e.color.parse(h.grid.color).scale("a",.22).toString());null==h.xaxis.tickColor&&(h.xaxis.tickColor=h.grid.tickColor||h.xaxis.color);null==h.yaxis.tickColor&&(h.yaxis.tickColor=h.grid.tickColor||h.yaxis.color);null==h.grid.borderColor&&(h.grid.borderColor=h.grid.color);null==h.grid.tickColor&&(h.grid.tickColor=e.color.parse(h.grid.color).scale("a",.22).toString());var i,s,n,o=r.css("font-size"),a=o?+o.replace("px",""):13,l={style:r.css("font-style"),size:Math.round(.8*a),variant:r.css("font-variant"),weight:r.css("font-weight"),family:r.css("font-family")};for(n=h.xaxes.length||1,i=0;i<n;++i)(s=h.xaxes[i])&&!s.tickColor&&(s.tickColor=s.color),s=e.extend(!0,{},h.xaxis,s),h.xaxes[i]=s,s.font&&(s.font=e.extend({},l,s.font),s.font.color||(s.font.color=s.color),s.font.lineHeight||(s.font.lineHeight=Math.round(1.15*s.font.size)));for(n=h.yaxes.length||1,i=0;i<n;++i)(s=h.yaxes[i])&&!s.tickColor&&(s.tickColor=s.color),s=e.extend(!0,{},h.yaxis,s),h.yaxes[i]=s,s.font&&(s.font=e.extend({},l,s.font),s.font.color||(s.font.color=s.color),s.font.lineHeight||(s.font.lineHeight=Math.round(1.15*s.font.size)));for(i=0;i<h.xaxes.length;++i)P(m,i+1).options=h.xaxes[i];for(i=0;i<h.yaxes.length;++i)P(g,i+1).options=h.yaxes[i];for(var d in e.each(k(),function(e,t){t.boxPosition=t.options.boxPosition||{centerX:0,centerY:0}}),w)h.hooks[d]&&h.hooks[d].length&&(w[d]=w[d].concat(h.hooks[d]));T(w.processOptions,[h])}(o),C(n),O(),F(),T(w.bindEvents,[u])}e.plot=function(t,i,s){return new o(e(t),i,s,e.plot.plugins)},e.plot.version="1.0.3",e.plot.plugins=[],e.fn.plot=function(t,i){return this.each(function(){e.plot(this,t,i)})},e.plot.linearTickGenerator=i,e.plot.defaultTickFormatter=s,e.plot.expRepTickFormatter=r}(jQuery),function(e){var t={saturate:function(e){return e===1/0?Number.MAX_VALUE:e===-1/0?-Number.MAX_VALUE:e},delta:function(e,t,i){return(t-e)/i==1/0?t/i-e/i:(t-e)/i},multiply:function(e,i){return t.saturate(e*i)},multiplyAdd:function(e,i,s){if(isFinite(e*i))return t.saturate(e*i+s);for(var r=s,n=0;n<i;n++)r+=e;return t.saturate(r)},floorInBase:function(e,t){return t*Math.floor(e/t)}};e.plot.saturated=t}(jQuery),function(e){var t={getPageXY:function(e){var t=document.documentElement;return{X:e.clientX+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0),Y:e.clientY+(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}},getPixelRatio:function(e){return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},isSafari:function(){return/constructor/i.test(window.top.HTMLElement)||"[object SafariRemoteNotification]"===(!window.top.safari||void 0!==window.top.safari&&window.top.safari.pushNotification).toString()},isMobileSafari:function(){return navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&navigator.userAgent.match(/AppleWebKit/)},isOpera:function(){return!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0},isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return!!document.documentMode},isEdge:function(){return!t.isIE()&&!!window.StyleMedia},isChrome:function(){return!!window.chrome&&!!window.chrome.webstore},isBlink:function(){return(t.isChrome()||t.isOpera())&&!!window.CSS}};e.plot.browser=t}(jQuery),function(e){e.plot.drawSeries=new function(){function t(e,t,i,s,r,n,o,a,l,h,d){var c,u,p,f,m=e+s,g=e+r,v=i,x=t,b=!1;c=u=p=!0,h?(b=u=p=!0,c=!1,x=t+s,v=t+r,(g=e)<(m=i)&&(f=g,g=m,m=f,c=!0,u=!1)):(c=u=p=!0,b=!1,m=e+s,g=e+r,(x=t)<(v=i)&&(f=x,x=v,v=f,b=!0,p=!1)),g<o.min||m>o.max||x<a.min||v>a.max||(m<o.min&&(m=o.min,c=!1),g>o.max&&(g=o.max,u=!1),v<a.min&&(v=a.min,b=!1),x>a.max&&(x=a.max,p=!1),m=o.p2c(m),v=a.p2c(v),g=o.p2c(g),x=a.p2c(x),n&&(l.fillStyle=n(v,x),l.fillRect(m,x,g-m,v-x)),d>0&&(c||u||p||b)&&(l.beginPath(),l.moveTo(m,v),c?l.lineTo(m,x):l.moveTo(m,x),p?l.lineTo(g,x):l.moveTo(g,x),u?l.lineTo(g,v):l.moveTo(g,v),b?l.lineTo(m,v):l.moveTo(m,v),l.stroke()))}function i(t,i,s,r,n){var o=t.fill;if(!o)return null;if(t.fillColor)return n(t.fillColor,s,r,i);var a=e.color.parse(i);return a.a="number"==typeof o?o:.4,a.normalize(),a.toString()}this.drawSeriesLines=function(e,t,s,r,n,o,a){t.save(),t.translate(s.left,s.top),t.lineJoin="round",e.lines.dashes&&t.setLineDash&&t.setLineDash(e.lines.dashes);var l={format:e.datapoints.format,points:e.datapoints.points,pointsize:e.datapoints.pointsize};e.decimate&&(l.points=e.decimate(e,e.xaxis.min,e.xaxis.max,r,e.yaxis.min,e.yaxis.max,n));var h=e.lines.lineWidth;t.lineWidth=h,t.strokeStyle=e.color;var d=i(e.lines,e.color,0,n,a);d&&(t.fillStyle=d,function(e,t,i,s,r){for(var n=e.points,o=e.pointsize,a=s>i.min?Math.min(i.max,s):i.min,l=0,h=1,d=!1,c=0,u=0;!(o>0&&l>n.length+o);){var p=n[(l+=o)-o],f=n[l-o+h],m=n[l],g=n[l+h];if(-2===o&&(f=g=a),d){if(o>0&&null!=p&&null==m){u=l,o=-o,h=2;continue}if(o<0&&l===c+o){r.fill(),d=!1,l=c=u+(o=-o);continue}}if(null!=p&&null!=m){if(p<=m&&p<t.min){if(m<t.min)continue;f=(t.min-p)/(m-p)*(g-f)+f,p=t.min}else if(m<=p&&m<t.min){if(p<t.min)continue;g=(t.min-p)/(m-p)*(g-f)+f,m=t.min}if(p>=m&&p>t.max){if(m>t.max)continue;f=(t.max-p)/(m-p)*(g-f)+f,p=t.max}else if(m>=p&&m>t.max){if(p>t.max)continue;g=(t.max-p)/(m-p)*(g-f)+f,m=t.max}if(d||(r.beginPath(),r.moveTo(t.p2c(p),i.p2c(a)),d=!0),f>=i.max&&g>=i.max)r.lineTo(t.p2c(p),i.p2c(i.max)),r.lineTo(t.p2c(m),i.p2c(i.max));else if(f<=i.min&&g<=i.min)r.lineTo(t.p2c(p),i.p2c(i.min)),r.lineTo(t.p2c(m),i.p2c(i.min));else{var v=p,x=m;f<=g&&f<i.min&&g>=i.min?(p=(i.min-f)/(g-f)*(m-p)+p,f=i.min):g<=f&&g<i.min&&f>=i.min&&(m=(i.min-f)/(g-f)*(m-p)+p,g=i.min),f>=g&&f>i.max&&g<=i.max?(p=(i.max-f)/(g-f)*(m-p)+p,f=i.max):g>=f&&g>i.max&&f<=i.max&&(m=(i.max-f)/(g-f)*(m-p)+p,g=i.max),p!==v&&r.lineTo(t.p2c(v),i.p2c(f)),r.lineTo(t.p2c(p),i.p2c(f)),r.lineTo(t.p2c(m),i.p2c(g)),m!==x&&(r.lineTo(t.p2c(m),i.p2c(g)),r.lineTo(t.p2c(x),i.p2c(g)))}}}}(l,e.xaxis,e.yaxis,e.lines.fillTowards||0,t)),h>0&&function(e,t,i,s,r,n){var o=e.points,a=e.pointsize,l=null,h=null,d=0,c=0,u=0,p=0,f=0;for(n.beginPath(),f=a;f<o.length;f+=a)if(d=o[f-a],c=o[f-a+1],u=o[f],p=o[f+1],null!==d&&null!==u){if(c<=p&&c<r.min){if(p<r.min)continue;d=(r.min-c)/(p-c)*(u-d)+d,c=r.min}else if(p<=c&&p<r.min){if(c<r.min)continue;u=(r.min-c)/(p-c)*(u-d)+d,p=r.min}if(c>=p&&c>r.max){if(p>r.max)continue;d=(r.max-c)/(p-c)*(u-d)+d,c=r.max}else if(p>=c&&p>r.max){if(c>r.max)continue;u=(r.max-c)/(p-c)*(u-d)+d,p=r.max}if(d<=u&&d<s.min){if(u<s.min)continue;c=(s.min-d)/(u-d)*(p-c)+c,d=s.min}else if(u<=d&&u<s.min){if(d<s.min)continue;p=(s.min-d)/(u-d)*(p-c)+c,u=s.min}if(d>=u&&d>s.max){if(u>s.max)continue;c=(s.max-d)/(u-d)*(p-c)+c,d=s.max}else if(u>=d&&u>s.max){if(d>s.max)continue;p=(s.max-d)/(u-d)*(p-c)+c,u=s.max}d===l&&c===h||n.moveTo(s.p2c(d)+t,r.p2c(c)+i),l=u,h=p,n.lineTo(s.p2c(u)+t,r.p2c(p)+i)}n.stroke()}(l,0,0,e.xaxis,e.yaxis,t),t.restore()},this.drawSeriesPoints=function(e,t,s,r,n,o,a){function l(e,t,i,s,r,n){e.moveTo(t+s,i),e.arc(t,i,s,0,r?Math.PI:2*Math.PI,!1)}l.fill=!0,t.save(),t.translate(s.left,s.top);var h={format:e.datapoints.format,points:e.datapoints.points,pointsize:e.datapoints.pointsize};e.decimatePoints&&(h.points=e.decimatePoints(e,e.xaxis.min,e.xaxis.max,r,e.yaxis.min,e.yaxis.max,n));var d,c=e.points.lineWidth,u=e.points.radius,p=e.points.symbol;"circle"===p?d=l:"string"==typeof p&&o&&o[p]?d=o[p]:"function"==typeof o&&(d=o),0===c&&(c=1e-4),t.lineWidth=c,t.fillStyle=i(e.points,e.color,null,null,a),t.strokeStyle=e.color,function(e,i,s,r,n,o,a,l){var h=e.points,d=e.pointsize;t.beginPath();for(var c=0;c<h.length;c+=d){var u=h[c],p=h[c+1];null==u||u<o.min||u>o.max||p<a.min||p>a.max||(u=o.p2c(u),p=a.p2c(p)+r,l(t,u,p,i,n,s))}l.fill&&!n&&t.fill(),t.stroke()}(h,u,!0,0,!1,e.xaxis,e.yaxis,d),t.restore()},this.drawSeriesBars=function(e,s,r,n,o,a,l){s.save(),s.translate(r.left,r.top);var h,d={format:e.datapoints.format,points:e.datapoints.points,pointsize:e.datapoints.pointsize};e.decimate&&(d.points=e.decimate(e,e.xaxis.min,e.xaxis.max,n)),s.lineWidth=e.bars.lineWidth,s.strokeStyle=e.color;var c=e.bars.barWidth[0]||e.bars.barWidth;switch(e.bars.align){case"left":h=0;break;case"right":h=-c;break;default:h=-c/2}!function(i,r,n,o,a,l){for(var h=i.points,d=i.pointsize,c=e.bars.fillTowards||0,u=c>l.min?Math.min(l.max,c):l.min,p=0;p<h.length;p+=d)if(null!=h[p]){var f=3===d?h[p+2]:u;t(h[p],h[p+1],f,r,n,o,a,l,s,e.bars.horizontal,e.bars.lineWidth)}}(d,h,h+c,e.bars.fill?function(t,s){return i(e.bars,e.color,t,s,l)}:null,e.xaxis,e.yaxis),s.restore()},this.drawBar=t}}(jQuery),jQuery.plot.uiConstants={SNAPPING_CONSTANT:20,PANHINT_LENGTH_CONSTANT:10,MINOR_TICKS_COUNT_CONSTANT:4,TICK_LENGTH_CONSTANT:10,ZOOM_DISTANCE_MARGIN:25},
/* Pretty handling of log axes.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Copyright (c) 2015 Ciprian Ceteras cipix2000@gmail.com.
Copyright (c) 2017 Raluca Portase
Licensed under the MIT license.

Set axis.mode to "log" to enable.
*/
function(e){var t=s(Number.MAX_VALUE,10),i=s(Number.MAX_VALUE,4);function s(e,t){for(var i,s,r=Math.floor(Math.log(e)*Math.LOG10E)-1,n=[],o=-r;o<=r;o++){s=Math.pow(10,o);for(var a=1;a<9;a+=t)i=s*a,n.push(i)}return n}var r=function(s,r,o){var a=[],l=-1,h=-1,d=s.getCanvas(),c=t,u=n(r,s),p=r.max;o||(o=.3*Math.sqrt("x"===r.direction?d.width:d.height)),t.some(function(e,t){return e>=u&&(l=t,!0)}),t.some(function(e,t){return e>=p&&(h=t,!0)}),-1===h&&(h=t.length-1),h-l<=o/4&&c.length!==i.length&&(c=i,l*=2,h*=2);var f,m,g,v=null,x=1/o;if(h-l>=o/4){for(var b=h;b>=l;b--)f=c[b],m=(Math.log(f)-Math.log(u))/(Math.log(p)-Math.log(u)),g=f,null===v?v={pixelCoord:m,idealPixelCoord:m}:Math.abs(m-v.pixelCoord)>=x?v={pixelCoord:m,idealPixelCoord:v.idealPixelCoord-x}:g=null,g&&a.push(g);a.reverse()}else{var w=s.computeTickSize(u,p,o),y={min:u,max:p,tickSize:w};a=e.plot.linearTickGenerator(y)}return a},n=function(e,t){var i=e.min,s=e.max;return i<=0&&s<(i=null===e.datamin?e.min=.1:p(t,e))&&(e.max=null!==e.datamax?e.datamax:e.options.max,e.options.offset.below=0,e.options.offset.above=0),i},o=function(t,i,s){var r=t>0?Math.floor(Math.log(t)/Math.LN10):0;if(s)return r>=-4&&r<=7?e.plot.defaultTickFormatter(t,i,s):e.plot.expRepTickFormatter(t,i,s);if(r>=-4&&r<=7){var n=r<0?t.toFixed(-r):t.toFixed(r+2);if(-1!==n.indexOf(".")){for(var o=n.lastIndexOf("0");o===n.length-1;)o=(n=n.slice(0,-1)).lastIndexOf("0");n.indexOf(".")===n.length-1&&(n=n.slice(0,-1))}return n}return e.plot.expRepTickFormatter(t,i)},a=function(e){return e<t[0]&&(e=t[0]),Math.log(e)},l=function(e){return Math.exp(e)},h=function(e){return-e},d=function(e){return-a(e)},c=function(e){return l(-e)};function u(e,t){"log"===t.options.mode&&t.datamin<=0&&(null===t.datamin?t.datamin=.1:t.datamin=p(e,t))}function p(e,t){var i=e.getData().filter(function(e){return e.xaxis===t||e.yaxis===t}).map(function(t){return e.computeRangeForDataSeries(t,null,f)}),s="x"===t.direction?Math.min(.1,i&&i[0]?i[0].xmin:.1):Math.min(.1,i&&i[0]?i[0].ymin:.1);return t.min=s,s}function f(e){return e>0}e.plot.plugins.push({init:function(t){t.hooks.processOptions.push(function(t){e.each(t.getAxes(),function(e,i){var s=i.options;"log"===s.mode?(i.tickGenerator=function(e){return r(t,e,11)},"function"!=typeof i.options.tickFormatter&&(i.options.tickFormatter=o),i.options.transform=s.inverted?d:a,i.options.inverseTransform=s.inverted?c:l,i.options.autoScaleMargin=0,t.hooks.setRange.push(u)):s.inverted&&(i.options.transform=h,i.options.inverseTransform=h)})})},options:{xaxis:{}},name:"log",version:"0.1"}),e.plot.logTicksGenerator=r,e.plot.logTickFormatter=o}(jQuery),
/* Flot plugin that adds some extra symbols for plotting points.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

The symbols are accessed as strings through the standard symbol options:

    series: {
        points: {
            symbol: "square" // or "diamond", "triangle", "cross", "plus", "ellipse", "rectangle"
        }
    }

*/
function(e){var t=function(e,t,i,s,r){var n=s*Math.sqrt(Math.PI)/2;e.rect(t-n,i-n,n+n,n+n)},i=function(e,t,i,s,r){var n=s*Math.sqrt(Math.PI)/2;e.rect(t-n,i-n,n+n,n+n)},s=function(e,t,i,s,r){var n=s*Math.sqrt(Math.PI/2);e.moveTo(t-n,i),e.lineTo(t,i-n),e.lineTo(t+n,i),e.lineTo(t,i+n),e.lineTo(t-n,i),e.lineTo(t,i-n)},r=function(e,t,i,s,r){var n=s*Math.sqrt(2*Math.PI/Math.sin(Math.PI/3)),o=n*Math.sin(Math.PI/3);e.moveTo(t-n/2,i+o/2),e.lineTo(t+n/2,i+o/2),r||(e.lineTo(t,i-o/2),e.lineTo(t-n/2,i+o/2),e.lineTo(t+n/2,i+o/2))},n=function(e,t,i,s,r,n){r||(e.moveTo(t+s,i),e.arc(t,i,s,0,2*Math.PI,!1))},o={square:t,rectangle:i,diamond:s,triangle:r,cross:function(e,t,i,s,r){var n=s*Math.sqrt(Math.PI)/2;e.moveTo(t-n,i-n),e.lineTo(t+n,i+n),e.moveTo(t-n,i+n),e.lineTo(t+n,i-n)},ellipse:n,plus:function(e,t,i,s,r){var n=s*Math.sqrt(Math.PI/2);e.moveTo(t-n,i),e.lineTo(t+n,i),e.moveTo(t,i+n),e.lineTo(t,i-n)}};t.fill=!0,i.fill=!0,s.fill=!0,r.fill=!0,n.fill=!0,e.plot.plugins.push({init:function(e){e.drawSymbol=o},name:"symbols",version:"1.0"})}(jQuery),function(e){function t(e,t,i,s){if(!0===t.flatdata){var r=t.start||0,n="number"==typeof t.step?t.step:1;s.pointsize=2;for(var o=0,a=0;o<i.length;o++,a+=2)s.points[a]=r+o*n,s.points[a+1]=i[o];void 0!==s.points?s.points.length=2*i.length:s.points=[]}}jQuery.plot.plugins.push({init:function(e){e.hooks.processRawData.push(t)},name:"flatdata",version:"0.0.2"})}(),
/* Flot plugin for adding the ability to pan and zoom the plot.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Copyright (c) 2016 Ciprian Ceteras.
Copyright (c) 2017 Raluca Portase.
Licensed under the MIT license.

*/
function(e){var t=e.plot.saturated,i=e.plot.browser,s=e.plot.uiConstants.SNAPPING_CONSTANT,r=e.plot.uiConstants.PANHINT_LENGTH_CONSTANT;e.plot.plugins.push({init:function(n){var o,a=null,l=!1,h="default",d=null,c=null,u=!1;function p(e,t){var s=Math.abs(e.originalEvent.deltaY)<=1?1+Math.abs(e.originalEvent.deltaY)/50:null;if(u&&x(e),n.getOptions().zoom.active)return e.preventDefault(),function(e,t,s){var r=i.getPageXY(e),o=n.offset();o.left=r.X-o.left,o.top=r.Y-o.top;var a=n.getPlaceholder().offset();a.left=r.X-a.left,a.top=r.Y-a.top;var l=n.getXAxes().concat(n.getYAxes()).filter(function(e){var t=e.box;if(void 0!==t)return a.left>t.left&&a.left<t.left+t.width&&a.top>t.top&&a.top<t.top+t.height});0===l.length&&(l=void 0),t?n.zoomOut({center:o,axes:l,amount:s}):n.zoom({center:o,axes:l,amount:s})}(e,t<0,s),!1}function f(e){l=!0}function m(e){l=!1}function g(e){if(!l||!function(e){return 0===e.button}(e))return!1;u=!0;var t=i.getPageXY(e),s=n.getPlaceholder().offset();s.left=t.X-s.left,s.top=t.Y-s.top,0===(a=n.getXAxes().concat(n.getYAxes()).filter(function(e){var t=e.box;if(void 0!==t)return s.left>t.left&&s.left<t.left+t.width&&s.top>t.top&&s.top<t.top+t.height})).length&&(a=void 0);var r=n.getPlaceholder().css("cursor");r&&(h=r),n.getPlaceholder().css("cursor",n.getOptions().pan.cursor),o=n.navigationState(t.X,t.Y)}function v(e){if(u){var t=i.getPageXY(e),s=n.getOptions().pan.frameRate;-1!==s?!c&&s&&(c=setTimeout(function(){n.smartPan({x:o.startPageX-t.X,y:o.startPageY-t.Y},o,a),c=null},1/s*1e3)):n.smartPan({x:o.startPageX-t.X,y:o.startPageY-t.Y},o,a)}}function x(e){if(u){c&&(clearTimeout(c),c=null),u=!1;var t=i.getPageXY(e);n.getPlaceholder().css("cursor",h),n.smartPan({x:o.startPageX-t.X,y:o.startPageY-t.Y},o,a),d=null}}function b(t){n.activate();var i,s=n.getTouchedAxis(t.clientX,t.clientY);i=s[0]?new e.Event("re-center",{detail:{axisTouched:s[0]}}):new e.Event("re-center",{detail:t}),n.getPlaceholder().trigger(i)}function w(e){return n.activate(),u&&x(e),!1}n.navigationState=function(e,t){var i=this.getAxes(),s={};return Object.keys(i).forEach(function(e){var t=i[e];s[e]={navigationOffset:{below:t.options.offset.below||0,above:t.options.offset.above||0},axisMin:t.min,axisMax:t.max,diagMode:!1}}),s.startPageX=e||0,s.startPageY=t||0,s},n.activate=function(){var e=n.getOptions();e.pan.active&&e.zoom.active||(e.pan.active=!0,e.zoom.active=!0,n.getPlaceholder().trigger("plotactivated",[n]))},n.zoomOut=function(e){e||(e={}),e.amount||(e.amount=n.getOptions().zoom.amount),e.amount=1/e.amount,n.zoom(e)},n.zoom=function(t){t||(t={});var i=t.center,s=t.amount||n.getOptions().zoom.amount,r=n.width(),o=n.height(),a=t.axes||n.getAxes();i||(i={left:r/2,top:o/2});var l=i.left/r,h=i.top/o,d={x:{min:i.left-l*r/s,max:i.left+(1-l)*r/s},y:{min:i.top-h*o/s,max:i.top+(1-h)*o/s}};for(var c in a)if(a.hasOwnProperty(c)){var u=a[c],p=u.options,f=d[u.direction].min,m=d[u.direction].max,g=u.options.offset;if((p.axisZoom||!t.axes)&&(t.axes||p.plotZoom)){if((f=e.plot.saturated.saturate(u.c2p(f)))>(m=e.plot.saturated.saturate(u.c2p(m)))){var v=f;f=m,m=v}var x=e.plot.saturated.saturate(g.below-(u.min-f)),b=e.plot.saturated.saturate(g.above-(u.max-m));p.offset={below:x,above:b}}}n.setupGrid(),n.draw(),t.preventEvent||n.getPlaceholder().trigger("plotzoom",[n,t])},n.pan=function(i){var s={x:+i.left,y:+i.top};isNaN(s.x)&&(s.x=0),isNaN(s.y)&&(s.y=0),e.each(i.axes||n.getAxes(),function(e,r){var n=r.options,o=s[r.direction];if((n.axisPan||!i.axes)&&(n.plotPan||i.axes)&&0!==o){var a=t.saturate(r.c2p(r.p2c(r.min)-o)-r.c2p(r.p2c(r.min))),l=t.saturate(r.c2p(r.p2c(r.max)-o)-r.c2p(r.p2c(r.max)));isFinite(a)||(a=0),isFinite(l)||(l=0),n.offset={below:t.saturate(a+(n.offset.below||0)),above:t.saturate(l+(n.offset.above||0))}}}),n.setupGrid(),n.draw(),i.preventEvent||n.getPlaceholder().trigger("plotpan",[n,i])},n.recenter=function(t){e.each(t.axes||n.getAxes(),function(e,i){t.axes?"x"===this.direction?i.options.offset={below:0}:"y"===this.direction&&(i.options.offset={above:0}):i.options.offset={below:0,above:0}}),n.setupGrid(),n.draw()};var y={x:0,y:0};n.smartPan=function(e,i,r,o){var a,l,h,c,u,p,f=function(e){return Math.abs(e.y)<s&&Math.abs(e.x)>=s||Math.abs(e.x)<s&&Math.abs(e.y)>=s}(e),m=n.getAxes();(function(e){return Math.abs(e.x)>0&&Math.abs(e.y)>0})(e=function(e){return Math.abs(e.x)<s&&Math.abs(e.y)>=s?{x:0,y:e.y}:Math.abs(e.y)<s&&Math.abs(e.x)>=s?{x:e.x,y:0}:e}(e))&&(i.diagMode=!0),f&&!0===i.diagMode&&(i.diagMode=!1,function(e,t,i){var s;Object.keys(e).forEach(function(r){s=e[r],0===i[s.direction]&&(s.options.offset.below=t[r].navigationOffset.below,s.options.offset.above=t[r].navigationOffset.above)})}(m,i,e)),d=f?{start:{x:i.startPageX-n.offset().left+n.getPlotOffset().left,y:i.startPageY-n.offset().top+n.getPlotOffset().top},end:{x:i.startPageX-e.x-n.offset().left+n.getPlotOffset().left,y:i.startPageY-e.y-n.offset().top+n.getPlotOffset().top}}:{start:{x:i.startPageX-n.offset().left+n.getPlotOffset().left,y:i.startPageY-n.offset().top+n.getPlotOffset().top},end:!1},isNaN(e.x)&&(e.x=0),isNaN(e.y)&&(e.y=0),r&&(m=r),Object.keys(m).forEach(function(i){if(l=m[i],h=l.min,c=l.max,a=l.options,p=e[l.direction],u=y[l.direction],(a.axisPan||!r)&&(r||a.plotPan)&&0!==p){var s=t.saturate(l.c2p(l.p2c(h)-(u-p))-l.c2p(l.p2c(h))),n=t.saturate(l.c2p(l.p2c(c)-(u-p))-l.c2p(l.p2c(c)));isFinite(s)||(s=0),isFinite(n)||(n=0),l.options.offset.below=t.saturate(s+(l.options.offset.below||0)),l.options.offset.above=t.saturate(n+(l.options.offset.above||0))}}),y=e,n.setupGrid(),n.draw(),o||n.getPlaceholder().trigger("plotpan",[n,e,r,i])},n.getTouchedAxis=function(e,t){var i=n.getPlaceholder().offset();return i.left=e-i.left,i.top=t-i.top,n.getXAxes().concat(n.getYAxes()).filter(function(e){var t=e.box;if(void 0!==t)return i.left>t.left&&i.left<t.left+t.width&&i.top>t.top&&i.top<t.top+t.height})},n.hooks.drawOverlay.push(function(e,t){if(d){t.strokeStyle="rgba(96, 160, 208, 0.7)",t.lineWidth=2,t.lineJoin="round";var i,s,n=Math.round(d.start.x),o=Math.round(d.start.y);if(a?"x"===a[0].direction?(s=Math.round(d.start.y),i=Math.round(d.end.x)):"y"===a[0].direction&&(i=Math.round(d.start.x),s=Math.round(d.end.y)):(i=Math.round(d.end.x),s=Math.round(d.end.y)),t.beginPath(),!1===d.end)t.moveTo(n,o-r),t.lineTo(n,o+r),t.moveTo(n+r,o),t.lineTo(n-r,o);else{var l=o===s;t.moveTo(n-(l?0:r),o-(l?r:0)),t.lineTo(n+(l?0:r),o+(l?r:0)),t.moveTo(n,o),t.lineTo(i,s),t.moveTo(i-(l?0:r),s-(l?r:0)),t.lineTo(i+(l?0:r),s+(l?r:0))}t.stroke()}}),n.hooks.bindEvents.push(function(e,t){var i=e.getOptions();i.zoom.interactive&&t.mousewheel(p),i.pan.interactive&&(e.addEventHandler("dragstart",g,t,0),e.addEventHandler("drag",v,t,0),e.addEventHandler("dragend",x,t,0),t.bind("mousedown",f),t.bind("mouseup",m)),t.dblclick(b),t.click(w)}),n.hooks.shutdown.push(function(e,t){t.unbind("mousewheel",p),t.unbind("mousedown",f),t.unbind("mouseup",m),t.unbind("dragstart",g),t.unbind("drag",v),t.unbind("dragend",x),t.unbind("dblclick",b),t.unbind("click",w),c&&clearTimeout(c)})},options:{zoom:{interactive:!1,active:!1,amount:1.5},pan:{interactive:!1,active:!1,cursor:"move",frameRate:60},xaxis:{axisZoom:!0,plotZoom:!0,axisPan:!0,plotPan:!0},yaxis:{axisZoom:!0,plotZoom:!0,axisPan:!0,plotPan:!0}},name:"navigate",version:"1.3"})}(jQuery),
/* Flot plugin for stacking data sets rather than overlyaing them.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

The plugin assumes the data is sorted on x (or y if stacking horizontally).
For line charts, it is assumed that if a line has an undefined gap (from a
null point), then the line above it should have the same gap - insert zeros
instead of "null" if you want another behaviour. This also holds for the start
and end of the chart. Note that stacking a mix of positive and negative values
in most instances doesn't make sense (so it looks weird).

Two or more series are stacked when their "stack" attribute is set to the same
key (which can be any number or string or just "true"). To specify the default
stack, you can set the stack option like this:

    series: {
        stack: null/false, true, or a key (number/string)
    }

You can also specify it for a single series, like this:

    $.plot( $("#placeholder"), [{
        data: [ ... ],
        stack: true
    }])

The stacking order is determined by the order of the data series in the array
(later series end up on top of the previous).

Internally, the plugin modifies the datapoints in each series, adding an
offset to the y value. For line series, extra data points are inserted through
interpolation. If there's a second y value, it's also adjusted (e.g for bar
charts or filled areas).

*/
function(e){jQuery.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push(function(e,t,i){if(null!=t.stack&&!1!==t.stack){var s=t.bars.show||t.lines.show&&t.lines.fill,r=i.pointsize>2&&(w?i.format[2].x:i.format[2].y);s&&!r&&function(e,t){for(var i=[],s=0;s<t.points.length;s+=2)i.push(t.points[s]),i.push(t.points[s+1]),i.push(0);t.format.push({x:!1,y:!0,number:!0,required:!1,computeRange:"none"!==e.yaxis.options.autoScale,defaultValue:0}),t.points=i,t.pointsize=3}(t,i);var n=function(e,t){for(var i=null,s=0;s<t.length&&e!==t[s];++s)t[s].stack===e.stack&&(i=t[s]);return i}(t,e.getData());if(n){for(var o,a,l,h,d,c,u,p,f=i.pointsize,m=i.points,g=n.datapoints.pointsize,v=n.datapoints.points,x=[],b=t.lines.show,w=t.bars.horizontal,y=b&&t.lines.steps,_=!0,j=w?1:0,q=w?0:1,S=0,T=0;!(S>=m.length);){if(u=x.length,null==m[S]){for(p=0;p<f;++p)x.push(m[S+p]);S+=f}else if(T>=v.length){if(!b)for(p=0;p<f;++p)x.push(m[S+p]);S+=f}else if(null==v[T]){for(p=0;p<f;++p)x.push(null);_=!0,T+=g}else{if(o=m[S+j],a=m[S+q],h=v[T+j],d=v[T+q],c=0,o===h){for(p=0;p<f;++p)x.push(m[S+p]);x[u+q]+=d,c=d,S+=f,T+=g}else if(o>h){if(b&&S>0&&null!=m[S-f]){for(l=a+(m[S-f+q]-a)*(h-o)/(m[S-f+j]-o),x.push(h),x.push(l+d),p=2;p<f;++p)x.push(m[S+p]);c=d}T+=g}else{if(_&&b){S+=f;continue}for(p=0;p<f;++p)x.push(m[S+p]);b&&T>0&&null!=v[T-g]&&(c=d+(v[T-g+q]-d)*(o-h)/(v[T-g+j]-h)),x[u+q]+=c,S+=f}_=!1,u!==x.length&&s&&(x[u+2]+=c)}if(y&&u!==x.length&&u>0&&null!==x[u]&&x[u]!==x[u-f]&&x[u+1]!==x[u-f+1]){for(p=0;p<f;++p)x[u+f+p]=x[u+p];x[u+1]=x[u-f+1]}}i.points=x}}})},options:{series:{stack:null}},name:"stack",version:"1.2"})}(),function(e){var t=e.plot.uiConstants.ZOOM_DISTANCE_MARGIN;function i(e,i){var h,d,c,u,p={zoomEnable:!1,prevDistance:null,prevTapTime:0,prevPanPosition:{x:0,y:0},prevTapPosition:{x:0,y:0}},f={prevTouchedAxis:"none",currentTouchedAxis:"none",touchedAxis:null,navigationConstraint:"unconstrained"};function m(t,i,r){f.touchedAxis=function(e,t,i,s){if("pinchstart"!==t.type)return"panstart"===t.type?e.getTouchedAxis(t.detail.touches[0].pageX,t.detail.touches[0].pageY):"pinchend"===t.type?e.getTouchedAxis(t.detail.touches[0].pageX,t.detail.touches[0].pageY):s.touchedAxis;var r=e.getTouchedAxis(t.detail.touches[0].pageX,t.detail.touches[0].pageY),n=e.getTouchedAxis(t.detail.touches[1].pageX,t.detail.touches[1].pageY);if(r.length===n.length&&r.toString()===n.toString())return r}(e,t,0,f),s(f)?f.navigationConstraint="unconstrained":f.navigationConstraint="axisConstrained"}h={start:function(e){m(e,"pan",p),r(e,"pan",p,f)},drag:function(t){m(t,"pan",p),e.pan({left:a(t,"pan",p).x,top:a(t,"pan",p).y,axes:f.touchedAxis}),o(t,"pan",p,f)},end:function(e){m(e,"pan",p),function(e,t){return t.zoomEnable&&1===e.detail.touches.length}(e,p)&&updateprevPanPosition(e,"pan",p,f)}},d={start:function(e){u&&(clearTimeout(u),u=null),m(e,"pinch",p),function(e,t){t.prevDistance=n(e)}(e,p),r(e,"pinch",p,f)},drag:function(i){u||(u=setTimeout(function(){m(i,"pinch",p),e.pan({left:a(i,"pinch",p).x,top:a(i,"pinch",p).y,axes:f.touchedAxis}),o(i,"pinch",p,f);var s=n(i);(p.zoomEnable||Math.abs(s-p.prevDistance)>t)&&(!function(e,t,i,s){var r=e.offset(),o={left:0,top:0},a=n(t)/i.prevDistance,h=n(t);o.left=l(t,"pinch").x-r.left,o.top=l(t,"pinch").y-r.top,e.zoom({center:o,amount:a,axes:s.touchedAxis}),i.prevDistance=h}(e,i,p,f),p.zoomEnable=!0),u=null},1e3/60))},end:function(e){u&&(clearTimeout(u),u=null),m(e,"pinch",p),p.prevDistance=null}},c={recenterPlot:function(t){!function(e,t,i,r){(function(e,t,i){var r=e.getTouchedAxis(t.detail.firstTouch.x,t.detail.firstTouch.y);void 0!==r[0]&&(i.prevTouchedAxis=r[0].direction),void 0!==(r=e.getTouchedAxis(t.detail.secondTouch.x,t.detail.secondTouch.y))[0]&&(i.touchedAxis=r,i.currentTouchedAxis=r[0].direction),s(i)&&(i.touchedAxis=null,i.prevTouchedAxis="none",i.currentTouchedAxis="none")})(e,t,r),("x"===r.currentTouchedAxis&&"x"===r.prevTouchedAxis||"y"===r.currentTouchedAxis&&"y"===r.prevTouchedAxis||"none"===r.currentTouchedAxis&&"none"===r.prevTouchedAxis)&&e.recenter({axes:r.touchedAxis})}(e,t,0,f)}},!0===i.pan.enableTouch&&(e.hooks.bindEvents.push(function(e,t){e.getOptions().pan.interactive&&(t[0].addEventListener("panstart",h.start,!1),t[0].addEventListener("pandrag",h.drag,!1),t[0].addEventListener("panend",h.end,!1),t[0].addEventListener("pinchstart",d.start,!1),t[0].addEventListener("pinchdrag",d.drag,!1),t[0].addEventListener("pinchend",d.end,!1),t[0].addEventListener("doubletap",c.recenterPlot,!1))}),e.hooks.shutdown.push(function(e,t){t[0].removeEventListener("panstart",h.start),t[0].removeEventListener("pandrag",h.drag),t[0].removeEventListener("panend",h.end),t[0].removeEventListener("pinchstart",d.start),t[0].removeEventListener("pinchdrag",d.drag),t[0].removeEventListener("pinchend",d.end),t[0].removeEventListener("doubletap",c.recenterPlot)}))}function s(e){return!e.touchedAxis||0===e.touchedAxis.length}function r(e,t,i,s){var r,n=l(e,t);switch(s.navigationConstraint){case"unconstrained":s.touchedAxis=null,i.prevTapPosition={x:i.prevPanPosition.x,y:i.prevPanPosition.y},i.prevPanPosition={x:n.x,y:n.y};break;case"axisConstrained":r=s.touchedAxis[0].direction,s.currentTouchedAxis=r,i.prevTapPosition[r]=i.prevPanPosition[r],i.prevPanPosition[r]=n[r]}}function n(e){var t,i,s,r,n=e.detail.touches[0],o=e.detail.touches[1];return t=n.pageX,i=n.pageY,s=o.pageX,r=o.pageY,Math.sqrt((t-s)*(t-s)+(i-r)*(i-r))}function o(e,t,i,s){var r=l(e,t);switch(s.navigationConstraint){case"unconstrained":i.prevPanPosition.x=r.x,i.prevPanPosition.y=r.y;break;case"axisConstrained":i.prevPanPosition[s.currentTouchedAxis]=r[s.currentTouchedAxis]}}function a(e,t,i){var s=l(e,t);return{x:s.x-i.prevPanPosition.x,y:s.y-i.prevPanPosition.y}}function l(e,t){return"pinch"===t?{x:(e.detail.touches[0].pageX+e.detail.touches[1].pageX)/2,y:(e.detail.touches[0].pageY+e.detail.touches[1].pageY)/2}:{x:e.detail.touches[0].pageX,y:e.detail.touches[0].pageY}}e.plot.plugins.push({init:function(e){e.hooks.processOptions.push(i)},options:{pan:{enableTouch:!1}},name:"navigateTouch",version:"0.3"})}(jQuery),function(e){var t=e.plot.browser;function i(e,i){var n=[],o={click:"click",hover:"hover"},a=e.getPlaceholder()[0].lastMouseMoveEvent;function l(t,i,s){var r=e.getData();if(void 0!==t&&r.length>0&&void 0!==r[0].xaxis.c2p&&void 0!==r[0].yaxis.c2p){var n=i+"able";f("plot"+i,t,function(e){return!1!==r[e][n]},s)}}e.highlight=m,e.unhighlight=g;var h={generatePlothoverEvent:function(t){var i=e.getOptions(),s=new CustomEvent("mouseevent");return s.pageX=t.detail.changedTouches[0].pageX,s.pageY=t.detail.changedTouches[0].pageY,s.clientX=t.detail.changedTouches[0].clientX,s.clientY=t.detail.changedTouches[0].clientY,i.grid.hoverable&&l(s,o.hover,30),!1}};function d(t){a=t,e.getPlaceholder()[0].lastMouseMoveEvent=t,l(t,o.hover)}function c(t){a=void 0,e.getPlaceholder()[0].lastMouseMoveEvent=void 0,f("plothover",t,function(e){return!1})}function u(e){l(e,o.click)}function p(){e.unhighlight(),e.getPlaceholder().trigger("plothovercleanup")}function f(i,s,r,o){var a=e.getOptions(),l=e.offset(),h=t.getPageXY(s),d=h.X-l.left,c=h.Y-l.top,u=e.c2p({left:d,top:c}),p=void 0!==o?o:a.grid.mouseActiveRadius;u.pageX=h.X,u.pageY=h.Y;var f=e.findNearbyItem(d,c,r,p);if(f&&(f.pageX=parseInt(f.series.xaxis.p2c(f.datapoint[0])+l.left,10),f.pageY=parseInt(f.series.yaxis.p2c(f.datapoint[1])+l.top,10)),a.grid.autoHighlight){for(var v=0;v<n.length;++v){var x=n[v];(x.auto!==i||f&&x.series===f.series&&x.point[0]===f.datapoint[0]&&x.point[1]===f.datapoint[1])&&f||g(x.series,x.point)}f&&m(f.series,f.datapoint,i)}e.getPlaceholder().trigger(i,[u,f])}function m(t,i,s){if("number"==typeof t&&(t=e.getData()[t]),"number"==typeof i){var r=t.datapoints.pointsize;i=t.datapoints.points.slice(r*i,r*(i+1))}var o=v(t,i);-1===o?(n.push({series:t,point:i,auto:s}),e.triggerRedrawOverlay()):s||(n[o].auto=!1)}function g(t,i){if(null==t&&null==i)return n=[],void e.triggerRedrawOverlay();if("number"==typeof t&&(t=e.getData()[t]),"number"==typeof i){var s=t.datapoints.pointsize;i=t.datapoints.points.slice(s*i,s*(i+1))}var r=v(t,i);-1!==r&&(n.splice(r,1),e.triggerRedrawOverlay())}function v(e,t){for(var i=0;i<n.length;++i){var s=n[i];if(s.series===e&&s.point[0]===t[0]&&s.point[1]===t[1])return i}return-1}(i.grid.hoverable||i.grid.clickable)&&(e.hooks.bindEvents.push(function(e,t){var s=e.getOptions();(s.grid.hoverable||s.grid.clickable)&&(t[0].addEventListener("touchevent",p,!1),t[0].addEventListener("tap",h.generatePlothoverEvent,!1)),i.grid.clickable&&t.click(u),i.grid.hoverable&&(t.mousemove(d),t.bind("mouseleave",c))}),e.hooks.shutdown.push(function(e,t){t[0].removeEventListener("tap",h.generatePlothoverEvent),t[0].removeEventListener("tap",p),t.unbind("mousemove",d),t.unbind("mouseleave",c),t.unbind("click",u),n=[]}),e.hooks.drawOverlay.push(function(e,t,i){var o,a,l=e.getPlotOffset();for(t.save(),t.translate(l.left,l.top),o=0;o<n.length;++o)(a=n[o]).series.bars.show?r(a.series,a.point,t):s(a.series,a.point,t,e);t.restore()}),e.hooks.processRawData.push(function(){p(),l(a,o.hover)}))}function s(t,i,s,r){var n=i[0],o=i[1],a=t.xaxis,l=t.yaxis,h="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(n<a.min||n>a.max||o<l.min||o>l.max)){var d=t.points.radius+t.points.lineWidth/2;s.lineWidth=d,s.strokeStyle=h;var c=1.5*d;n=a.p2c(n),o=l.p2c(o),s.beginPath();var u=t.points.symbol;"circle"===u?s.arc(n,o,c,0,2*Math.PI,!1):"string"==typeof u&&r.drawSymbol&&r.drawSymbol[u]&&r.drawSymbol[u](s,n,o,c,!1),s.closePath(),s.stroke()}}function r(t,i,s){var r,n="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),o=n,a=t.bars.barWidth[0]||t.bars.barWidth;switch(t.bars.align){case"left":r=0;break;case"right":r=-a;break;default:r=-a/2}s.lineWidth=t.bars.lineWidth,s.strokeStyle=n;var l=t.bars.fillTowards||0,h=l>t.yaxis.min?Math.min(t.yaxis.max,l):t.yaxis.min;e.plot.drawSeries.drawBar(i[0],i[1],i[2]||h,r,r+a,function(){return o},t.xaxis,t.yaxis,s,t.bars.horizontal,t.bars.lineWidth)}e.plot.plugins.push({init:function(e){e.hooks.processOptions.push(i)},options:{grid:{hoverable:!1,clickable:!1}},name:"hover",version:"0.1"})}(jQuery),function(e){function t(e,t){var i,s={twoTouches:!1,currentTapStart:{x:0,y:0},currentTapEnd:{x:0,y:0},prevTap:{x:0,y:0},currentTap:{x:0,y:0},interceptedLongTap:!1,allowEventPropagation:!1,prevTapTime:null,tapStartTime:null,longTapTriggerId:null},r=20,n=500;function o(t){var o=e.getOptions();(o.pan.active||o.zoom.active)&&(!function(e){e.touches.length>=3?s.allowEventPropagation=!0:s.allowEventPropagation=!1}(t),i.dispatchEvent(new CustomEvent("touchevent",{detail:t})),v(t)?a(t,"pinch"):(a(t,"pan"),g(t)||(function(e){var t=(new Date).getTime(),i=t-s.prevTapTime;if(i>=0&&i<n&&m(s.prevTap.x,s.prevTap.y,s.currentTap.x,s.currentTap.y)<r)return e.firstTouch=s.prevTap,e.secondTouch=s.currentTap,!0;return s.prevTapTime=t,!1}(t)&&a(t,"doubleTap"),a(t,"tap"),a(t,"longTap"))))}function a(e,t){switch(t){case"pan":l[e.type](e);break;case"pinch":h[e.type](e);break;case"doubleTap":d.onDoubleTap(e);break;case"longTap":c[e.type](e);break;case"tap":u[e.type](e)}}var l={touchstart:function(e){s.prevTap={x:s.currentTap.x,y:s.currentTap.y},p(e),function(e){s.tapStartTime=(new Date).getTime(),s.interceptedLongTap=!1,s.currentTapStart={x:e.touches[0].pageX,y:e.touches[0].pageY},s.currentTapEnd={x:e.touches[0].pageX,y:e.touches[0].pageY}}(e),i.dispatchEvent(new CustomEvent("panstart",{detail:e}))},touchmove:function(e){f(e),p(e),function(e){s.currentTapEnd={x:e.touches[0].pageX,y:e.touches[0].pageY}}(e),s.allowEventPropagation||i.dispatchEvent(new CustomEvent("pandrag",{detail:e}))},touchend:function(e){f(e),g(e)?(i.dispatchEvent(new CustomEvent("pinchend",{detail:e})),i.dispatchEvent(new CustomEvent("panstart",{detail:e}))):function(e){return e.touches&&0===e.touches.length}(e)&&i.dispatchEvent(new CustomEvent("panend",{detail:e}))}},h={touchstart:function(e){i.dispatchEvent(new CustomEvent("pinchstart",{detail:e}))},touchmove:function(e){f(e),s.twoTouches=v(e),s.allowEventPropagation||i.dispatchEvent(new CustomEvent("pinchdrag",{detail:e}))},touchend:function(e){f(e)}},d={onDoubleTap:function(e){f(e),i.dispatchEvent(new CustomEvent("doubletap",{detail:e}))}},c={touchstart:function(e){c.waitForLongTap(e)},touchmove:function(e){},touchend:function(e){s.longTapTriggerId&&(clearTimeout(s.longTapTriggerId),s.longTapTriggerId=null)},isLongTap:function(e){return(new Date).getTime()-s.tapStartTime>=1500&&!s.interceptedLongTap&&m(s.currentTapStart.x,s.currentTapStart.y,s.currentTapEnd.x,s.currentTapEnd.y)<20&&(s.interceptedLongTap=!0,!0)},waitForLongTap:function(e){s.longTapTriggerId||(s.longTapTriggerId=setTimeout(function(){c.isLongTap(e)&&i.dispatchEvent(new CustomEvent("longtap",{detail:e})),s.longTapTriggerId=null},1500))}},u={touchstart:function(e){s.tapStartTime=(new Date).getTime()},touchmove:function(e){},touchend:function(e){u.isTap(e)&&(i.dispatchEvent(new CustomEvent("tap",{detail:e})),f(e))},isTap:function(e){return(new Date).getTime()-s.tapStartTime<=125&&m(s.currentTapStart.x,s.currentTapStart.y,s.currentTapEnd.x,s.currentTapEnd.y)<20}};function p(e){s.currentTap={x:e.touches[0].pageX,y:e.touches[0].pageY}}function f(e){s.allowEventPropagation||(e.preventDefault(),e.stopPropagation())}function m(e,t,i,s){return Math.sqrt((e-i)*(e-i)+(t-s)*(t-s))}function g(e){return s.twoTouches&&1===e.touches.length}function v(t){return!!(t.touches&&t.touches.length>=2&&t.touches[0].target===e.getEventHolder()&&t.touches[1].target===e.getEventHolder())}!0===t.pan.enableTouch&&(e.hooks.bindEvents.push(function(e,t){i=t[0],t[0].addEventListener("touchstart",o,!1),t[0].addEventListener("touchmove",o,!1),t[0].addEventListener("touchend",o,!1)}),e.hooks.shutdown.push(function(e,t){t[0].removeEventListener("touchstart",o),t[0].removeEventListener("touchmove",o),t[0].removeEventListener("touchend",o),s.longTapTriggerId&&(clearTimeout(s.longTapTriggerId),s.longTapTriggerId=null)}))}jQuery.plot.plugins.push({init:function(e){e.hooks.processOptions.push(t)},options:{pan:{enableTouch:!1}},name:"navigateTouch",version:"0.3"})}(),
/* Pretty handling of time axes.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

Set axis.format to "time" to enable. See the section "Time series data" in
API.txt for details.
*/
function(e){var t=e.plot.saturated.floorInBase;function i(e,t,i,r,n,o){if("function"==typeof e.strftime)return e.strftime(t);var a=function(e,t){return t=t?""+t:"0",1===(e=""+e).length?t+e:e},l=function(e,t,i,s){for(e=""+e,t=t?""+t:"0";e.length<i;)!0===s?e+=t:e=t+e;return e};function h(){return window.NIEmbeddedBrowser&&window.NIEmbeddedBrowser.formatLanguage?window.NIEmbeddedBrowser.formatLanguage:navigator.locale||"en-US"}function d(e,t,i){var s=t.indexOf(".S"),r=new RegExp(".S+","g"),n=i?3:0,o=s>0?r.exec(t)[0].length-1:n,a=l(e,"0",3);return a=l(a,"0",o,!0),a=o>0?a.substring(0,o):""}function c(e,t){var i=navigator.language||navigator.browserLanguage||navigator.languages[0],s=function(e){var t={};return null==e?t:(e.indexOf("#d")>=0?(t.year="numeric",t.month="numeric",t.day="numeric"):(e.indexOf("yyyy")>=0?t.year="numeric":e.indexOf("yy")>=0&&(t.year="2-digit"),t.month="numeric",t.day="numeric"),e.indexOf("#T")>=0?(t.hour="numeric",t.minute="numeric",t.second="numeric"):(t.hour="2-digit",t.minute="2-digit",e.indexOf("ss")>=0&&(t.second="2-digit"),t.hour12=e.indexOf("hh")>=0),t)}(t),r=function(e,t,i,s){var r=t.indexOf("yy")>=0||t.indexOf("#d")>=0;if(!(r||t.indexOf("MM")>=0))return"";if(t.indexOf("#d")>=0)return Intl.DateTimeFormat(s,{year:"numeric",month:"numeric",day:"numeric"}).format(e);var n=Intl.DateTimeFormat(s,i).formatToParts(e),o=n.map(function(e){var t=e.type;return e.value,t}),h=o.indexOf("day"),d=o.indexOf("month"),c=n[(d+h)/2].value,u=a(n[h].value),p=a(n[d].value),f=r?n[o.indexOf("year")].value:"";if(r){var m=t.indexOf("yyyy")>=0?4:2;f=l(f,"0",m)}return t.indexOf("dd")<t.indexOf("MM")?u+c+p+(r?c+f:""):p+c+u+(r?c+f:"")}(e,t,s,i),n=function(e,t,i,s){if(!(t.indexOf("hh")>=0||t.indexOf("HH")>=0||t.indexOf("#T")>=0))return"";var r=d(e.getMilliseconds(),t);if(t.indexOf("#T")>=0){var n=Intl.DateTimeFormat(s,{hour:"numeric",minute:"numeric",second:"numeric"}).format(e);if(""!==r){var o=new RegExp("[0-9](?!.*[0-9])","g");o.test(n),n=[n.slice(0,o.lastIndex),"."+r,n.slice(o.lastIndex)].join("")}return n}var l=Intl.DateTimeFormat(s,i).formatToParts(e),h=l.map(function(e){var t=e.type;return e.value,t.toLowerCase()}),c=h.indexOf("hour"),u=h.indexOf("minute"),p=l[(c+u)/2].value,f=a(l[c].value),m=a(l[u].value),g=t.indexOf("ss")>=0,v=g?a(l[h.indexOf("second")].value):"",x=!0===i.hour12?l[h.indexOf("dayperiod")].value:"";return f+p+m+(g?p+v:"")+(g&&r.length>0?"."+r:"")+(""!==x?" "+x:"")}(e,t,s,i);return n+(""!==r&&""!==n?"<br>":"")+r}function u(e,t,i){var s=t?"."+l(i,"0",3):"",r=Globalize.format(e,"T",h());return r=function(e,t){var i=e.split(" ");if(i.length>1){var s=i[i.length-1];return i.splice(i.length-1,1),i.join(" ")+t+" "+s}return e+t}(r,s)+"<br>"+Globalize.format(e,"d",h())}function p(e,t,i,r){var n=e.valueOf(),o=Math.floor(n%1e3);o<0&&(o=1e3+o),e<-85778644032e5&&(e=-85778644032e5);var a,l=s(new Date(e.valueOf()+r)).date;if(""!==i)try{a=c(l,i)}catch(e){a=u(l,t,o)}else a=u(l,t,o);return a}function f(e,t,i){var s="",r=e.valueOf()-(void 0===o.valueOfFirstData?0:o.valueOfFirstData);r<0&&(r=-r,s+="-");var n=Math.floor(r/1e3),l=Math.floor(r%1e3),h=n%60,c=Math.floor(n/60),u=c%60,p=Math.floor(c/60),f=p%24,m=Math.floor(p/24),g=""===i||i.indexOf("ss")>=0;if(m&&""===i&&(s+=m+"."),s+=a(f)+":",s+=a(u),g){s+=":"+a(h);var v=d(l,i,t);s+=t||v.length>0?"."+v:""}return s}var m=[],g=!1;i||(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),r||(r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);for(var v=0;v<t.length;++v){var x=t.charAt(v),b=e.date||e.getDate();if(g){var w=t.indexOf("<"),y=t.indexOf(">"),_=w>0?t.substring(w+1,y):"";switch(w>0&&(v+=_.length+2),x){case"r":x=f(b,n,_);break;case"A":x=p(b,n,_,o.options.timeEpoch)}m.push(x),g=!1}else"%"===x?g=!0:m.push(x)}return m.join("")}function s(e){function t(e,t,i,s){e[t]=function(){return i[s].apply(i,arguments)}}var i={date:e};void 0!==e.strftime&&t(i,"strftime",e,"strftime"),t(i,"getTime",e,"getTime"),t(i,"setTime",e,"setTime");for(var s=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],r=0;r<s.length;r++)t(i,"get"+s[r],e,"getUTC"+s[r]),t(i,"set"+s[r],e,"setUTC"+s[r]);return i}function r(e,t){if((e*=1e3)>864e13?e=864e13:e<-864e13&&(e=-864e13),"browser"===t.timezone)return new Date(e);if(t.timezone&&"utc"!==t.timezone){if("undefined"!=typeof timezoneJS&&void 0!==timezoneJS.Date){var i=new timezoneJS.Date;return i.setTimezone(t.timezone),i.setTime(e),i}return s(new Date(e))}return s(new Date(e))}var n={millisecond:.001,second:1,minute:60,hour:3600,day:86400,month:2592e3,quarter:7776e3,year:525949.2*60},o=[[1,"millisecond"],[2,"millisecond"],[5,"millisecond"],[10,"millisecond"],[25,"millisecond"],[50,"millisecond"],[100,"millisecond"],[250,"millisecond"],[500,"millisecond"],[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],a=o.concat([[3,"month"],[6,"month"],[1,"year"]]),l=o.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:function(s){s.hooks.processOptions.push(function(s){e.each(s.getAxes(),function(e,o){var h=o.options;"time"===h.format&&(o.tickGenerator=function(e){var i=[],o=r(e.min,h),d=0;void 0===e.valueOfFirstData&&function(e,t){var i=e.getData();if(i.length>0&&(i[0].data.length>0||i[0].datapoints.points.length>0)){var s,r,n,o=i[0].datapoints;for(n=0!==o.points.length?i[0].xaxis===t||i[0].yaxis===t?"x"===t.direction?o.points[0]:o.points[1]:t.max:t.min,s=1;s<i.length;s++)o=i[s].datapoints,i[s].xaxis!==t&&i[s].yaxis!==t||n>(r="x"===t.direction?o.points[0]:o.points[1])&&(n=r);t.valueOfFirstData=1e3*n}}(s,e);var c=h.tickSize&&"quarter"===h.tickSize[1]||h.minTickSize&&"quarter"===h.minTickSize[1]?l:a;null!==h.minTickSize&&void 0!==h.minTickSize&&(d="number"==typeof h.tickSize?h.tickSize:h.minTickSize[0]*n[h.minTickSize[1]]);for(var u=2*e.delta,p=0;p<c.length-1&&!(u<(c[p][0]*n[c[p][1]]+c[p+1][0]*n[c[p+1][1]])/2&&c[p][0]*n[c[p][1]]>=d);++p);var f=c[p][0],m=c[p][1];if("year"===m){if(null!==h.minTickSize&&void 0!==h.minTickSize&&"year"===h.minTickSize[1])f=Math.floor(h.minTickSize[0]);else{var g=Math.pow(10,Math.floor(Math.log(e.delta/n.year)/Math.LN10)),v=e.delta/n.year/g;f=v<1.5?1:v<3?2:v<7.5?5:10,f*=g}f<1&&(f=1)}e.tickSize=h.tickSize||[f,m];var x=e.tickSize[0];m=e.tickSize[1];var b=x*n[m];"millisecond"===m?o.setMilliseconds(t(o.getMilliseconds(),x)):"second"===m?o.setSeconds(t(o.getSeconds(),x)):"minute"===m?o.setMinutes(t(o.getMinutes(),x)):"hour"===m?o.setHours(t(o.getHours(),x)):"month"===m?o.setMonth(t(o.getMonth(),x)):"quarter"===m?o.setMonth(3*t(o.getMonth()/3,x)):"year"===m&&o.setFullYear(t(o.getFullYear(),x)),b>=n.second&&o.setMilliseconds(0),b>=n.minute&&o.setSeconds(0),b>=n.hour&&o.setMinutes(0),b>=n.day&&o.setHours(0),b>=4*n.day&&o.setDate(1),b>=2*n.month&&o.setMonth(t(o.getMonth(),3)),b>=2*n.quarter&&o.setMonth(t(o.getMonth(),6)),b>=n.year&&o.setMonth(0);var w,y=0,_=Number.NaN;do{if(w=_,_=o.getTime()/1e3,i.push(_),"month"===m||"quarter"===m)if(x<1){o.setDate(1);var j=o.getTime();o.setMonth(o.getMonth()+("quarter"===m?3:1));var q=o.getTime();o.setTime(_+y*n.hour+(q-j)*x),y=o.getHours(),o.setHours(0)}else o.setMonth(o.getMonth()+x*("quarter"===m?3:1));else"year"===m?o.setFullYear(o.getFullYear()+x):o.setTime(1e3*(_+b))}while(_<e.max&&_!==w);return i},o.tickFormatter=function(e,t){var s=r(e,t.options);if(null!==h.timeformat&&void 0!==h.timeformat)return i(s,h.timeformat,h.monthNames,h.dayNames,"millisecond"===t.tickSize[1],t)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null,timeEpoch:-621355968e5},yaxis:{timeEpoch:-621355968e5}},name:"time",version:"1.0"}),e.plot.formatDate=i,e.plot.dateGenerator=r}(jQuery),
/*
Axis label plugin for engineering-flot

Derived from:
Axis Labels Plugin for flot.
http://github.com/markrcote/flot-axislabels

Original code is Copyright (c) 2010 Xuan Luo.
Original code was released under the GPLv3 license by Xuan Luo, September 2010.
Original code was rereleased under the MIT license by Xuan Luo, April 2012.

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
function(e){function t(e,t,i,s,r,n){this.axisName=e,this.position=t,this.padding=i,this.placeholder=s,this.axisLabel=r,this.surface=n,this.width=0,this.height=0,this.elem=null}t.prototype.calculateSize=function(){var e=this.axisName+"Label",t=e+"Layer",i=e+" axisLabels",s=this.surface.getTextInfo(t,this.axisLabel,i);this.labelWidth=s.width,this.labelHeight=s.height,"left"===this.position||"right"===this.position?(this.width=this.labelHeight+this.padding,this.height=0):(this.width=0,this.height=this.labelHeight+this.padding)},t.prototype.transforms=function(e,t,i,s){var r,n,o=[];if(0===t&&0===i||((r=s.createSVGTransform()).setTranslate(t,i),o.push(r)),0!==e){n=s.createSVGTransform();var a=Math.round(this.labelWidth/2);n.setRotate(e,a,0),o.push(n)}return o},t.prototype.calculateOffsets=function(e){var t={x:0,y:0,degrees:0};return"bottom"===this.position?(t.x=e.left+e.width/2-this.labelWidth/2,t.y=e.top+e.height-this.labelHeight):"top"===this.position?(t.x=e.left+e.width/2-this.labelWidth/2,t.y=e.top):"left"===this.position?(t.degrees=-90,t.x=e.left-this.labelWidth/2,t.y=e.height/2+e.top):"right"===this.position&&(t.degrees=90,t.x=e.left+e.width-this.labelWidth/2,t.y=e.height/2+e.top),t.x=Math.round(t.x),t.y=Math.round(t.y),t},t.prototype.cleanup=function(){var e=this.axisName+"Label",t=e+"Layer",i=e+" axisLabels";this.surface.removeText(t,0,0,this.axisLabel,i)},t.prototype.draw=function(e){var t=this.axisName+"Label",i=t+"Layer",s=t+" axisLabels",r=this.calculateOffsets(e),n={position:"absolute",bottom:"",right:"",display:"inline-block","white-space":"nowrap"},o=this.surface.getSVGLayer(i),a=this.transforms(r.degrees,r.x,r.y,o.parentNode);this.surface.addText(i,0,0,this.axisLabel,s,void 0,void 0,void 0,void 0,a),this.surface.render(),Object.keys(n).forEach(function(e){o.style[e]=n[e]})},e.plot.plugins.push({init:function(i){i.hooks.processOptions.push(function(i,s){if(s.axisLabels.show){var r={};i.hooks.axisReserveSpace.push(function(e,i){var s=i.options,n=i.direction+i.n;if(i.labelHeight+=i.boxPosition.centerY,i.labelWidth+=i.boxPosition.centerX,s&&s.axisLabel&&i.show){var o=void 0===s.axisLabelPadding?2:s.axisLabelPadding,a=r[n];a||(a=new t(n,s.position,o,e.getPlaceholder()[0],s.axisLabel,e.getSurface()),r[n]=a),a.calculateSize(),i.labelHeight+=a.height,i.labelWidth+=a.width}}),i.hooks.draw.push(function(t,i){e.each(t.getAxes(),function(e,t){var i=t.options;if(i&&i.axisLabel&&t.show){var s=t.direction+t.n;r[s].draw(t.box)}})}),i.hooks.shutdown.push(function(e,t){for(var i in r)r[i].cleanup()})}})},options:{axisLabels:{show:!0}},name:"axisLabels",version:"3.0"})}(jQuery),
/* Flot plugin for selecting regions of a plot.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

The plugin supports these options:

selection: {
    mode: null or "x" or "y" or "xy" or "smart",
    color: color,
    shape: "round" or "miter" or "bevel",
    minSize: number of pixels
}

Selection support is enabled by setting the mode to one of "x", "y" or "xy".
In "x" mode, the user will only be able to specify the x range, similarly for
"y" mode. For "xy", the selection becomes a rectangle where both ranges can be
specified. "color" is color of the selection (if you need to change the color
later on, you can get to it with plot.getOptions().selection.color). "shape"
is the shape of the corners of the selection.

"minSize" is the minimum size a selection can be in pixels. This value can
be customized to determine the smallest size a selection can be and still
have the selection rectangle be displayed. When customizing this value, the
fact that it refers to pixels, not axis units must be taken into account.
Thus, for example, if there is a bar graph in time mode with BarWidth set to 1
minute, setting "minSize" to 1 will not make the minimum selection size 1
minute, but rather 1 pixel. Note also that setting "minSize" to 0 will prevent
"plotunselected" events from being fired when the user clicks the mouse without
dragging.

When selection support is enabled, a "plotselected" event will be emitted on
the DOM element you passed into the plot function. The event handler gets a
parameter with the ranges selected on the axes, like this:

    placeholder.bind( "plotselected", function( event, ranges ) {
        alert("You selected " + ranges.xaxis.from + " to " + ranges.xaxis.to)
        // similar for yaxis - with multiple axes, the extra ones are in
        // x2axis, x3axis, ...
    });

The "plotselected" event is only fired when the user has finished making the
selection. A "plotselecting" event is fired during the process with the same
parameters as the "plotselected" event, in case you want to know what's
happening while it's happening,

A "plotunselected" event with no arguments is emitted when the user clicks the
mouse to remove the selection. As stated above, setting "minSize" to 0 will
destroy this behavior.

The plugin allso adds the following methods to the plot object:

- setSelection( ranges, preventEvent )

  Set the selection rectangle. The passed in ranges is on the same form as
  returned in the "plotselected" event. If the selection mode is "x", you
  should put in either an xaxis range, if the mode is "y" you need to put in
  an yaxis range and both xaxis and yaxis if the selection mode is "xy", like
  this:

    setSelection({ xaxis: { from: 0, to: 10 }, yaxis: { from: 40, to: 60 } });

  setSelection will trigger the "plotselected" event when called. If you don't
  want that to happen, e.g. if you're inside a "plotselected" handler, pass
  true as the second parameter. If you are using multiple axes, you can
  specify the ranges on any of those, e.g. as x2axis/x3axis/... instead of
  xaxis, the plugin picks the first one it sees.

- clearSelection( preventEvent )

  Clear the selection rectangle. Pass in true to avoid getting a
  "plotunselected" event.

- getSelection()

  Returns the current selection in the same format as the "plotselected"
  event. If there's currently no selection, the function returns null.

*/
function(e){e.plot.plugins.push({init:function(t){var i={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,currentMode:"xy",active:!1},s=e.plot.uiConstants.SNAPPING_CONSTANT,r={},n=null;function o(e){i.active&&(f(e),t.getPlaceholder().trigger("plotselecting",[h()]))}function a(t){1===t.which&&(document.body.focus(),void 0!==document.onselectstart&&null==r.onselectstart&&(r.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==r.ondrag&&(r.ondrag=document.ondrag,document.ondrag=function(){return!1}),p(i.first,t),i.active=!0,n=function(e){l(e)},e(document).one("mouseup",n))}function l(e){return n=null,void 0!==document.onselectstart&&(document.onselectstart=r.onselectstart),void 0!==document.ondrag&&(document.ondrag=r.ondrag),i.active=!1,f(e),v()?d():(t.getPlaceholder().trigger("plotunselected",[]),t.getPlaceholder().trigger("plotselecting",[null])),!1}function h(){if(!v())return null;if(!i.show)return null;var s={},r={x:i.first.x,y:i.first.y},n={x:i.second.x,y:i.second.y};return"x"===u(t)&&(r.y=0,n.y=t.height()),"y"===u(t)&&(r.x=0,n.x=t.width()),e.each(t.getAxes(),function(e,t){if(t.used){var i=t.c2p(r[t.direction]),o=t.c2p(n[t.direction]);s[e]={from:Math.min(i,o),to:Math.max(i,o)}}}),s}function d(){var e=h();t.getPlaceholder().trigger("plotselected",[e]),e.xaxis&&e.yaxis&&t.getPlaceholder().trigger("selected",[{x1:e.xaxis.from,y1:e.yaxis.from,x2:e.xaxis.to,y2:e.yaxis.to}])}function c(e,t,i){return t<e?e:t>i?i:t}function u(e){var t=e.getOptions();return"smart"===t.selection.mode?i.currentMode:t.selection.mode}function p(e,r){var n=t.getPlaceholder().offset(),o=t.getPlotOffset();e.x=c(0,r.pageX-n.left-o.left,t.width()),e.y=c(0,r.pageY-n.top-o.top,t.height()),e!==i.first&&function(e){if(i.first){var t={x:e.x-i.first.x,y:e.y-i.first.y};Math.abs(t.x)<s?i.currentMode="y":Math.abs(t.y)<s?i.currentMode="x":i.currentMode="xy"}}(e),"y"===u(t)&&(e.x=e===i.first?0:t.width()),"x"===u(t)&&(e.y=e===i.first?0:t.height())}function f(e){null!=e.pageX&&(p(i.second,e),v()?(i.show=!0,t.triggerRedrawOverlay()):m(!0))}function m(e){i.show&&(i.show=!1,i.currentMode="",t.triggerRedrawOverlay(),e||t.getPlaceholder().trigger("plotunselected",[]))}function g(e,i){var s,r,n,o,a=t.getAxes();for(var l in a)if((s=a[l]).direction===i&&(e[o=i+s.n+"axis"]||1!==s.n||(o=i+"axis"),e[o])){r=e[o].from,n=e[o].to;break}if(e[o]||(s="x"===i?t.getXAxes()[0]:t.getYAxes()[0],r=e[i+"1"],n=e[i+"2"]),null!=r&&null!=n&&r>n){var h=r;r=n,n=h}return{from:r,to:n,axis:s}}function v(){var e=t.getOptions().selection.minSize;return Math.abs(i.second.x-i.first.x)>=e&&Math.abs(i.second.y-i.first.y)>=e}t.clearSelection=m,t.setSelection=function(e,s){var r;"y"===u(t)?(i.first.x=0,i.second.x=t.width()):(r=g(e,"x"),i.first.x=r.axis.p2c(r.from),i.second.x=r.axis.p2c(r.to)),"x"===u(t)?(i.first.y=0,i.second.y=t.height()):(r=g(e,"y"),i.first.y=r.axis.p2c(r.from),i.second.y=r.axis.p2c(r.to)),i.show=!0,t.triggerRedrawOverlay(),!s&&v()&&d()},t.getSelection=h,t.hooks.bindEvents.push(function(e,t){null!=e.getOptions().selection.mode&&(t.mousemove(o),t.mousedown(a))}),t.hooks.drawOverlay.push(function(t,s){if(i.show&&v()){var r=t.getPlotOffset(),n=t.getOptions();s.save(),s.translate(r.left,r.top);var o=e.color.parse(n.selection.color);s.strokeStyle=o.scale("a",1).toString(),s.lineWidth=1,s.lineJoin=n.selection.shape,s.fillStyle=o.scale("a",.4).toString();var a=Math.min(i.first.x,i.second.x)+.5,l=a,h=Math.min(i.first.y,i.second.y)+.5,d=h,c=Math.abs(i.second.x-i.first.x)-1,p=Math.abs(i.second.y-i.first.y)-1;"x"===u(t)&&(p+=h,h=0),"y"===u(t)&&(c+=a,a=0),s.fillRect(0,0,t.width(),t.height()),s.clearRect(a,h,c,p),function(e,t,i,s,r,n,o,a){var l=Math.max(0,Math.min(15,s/2-2,r/2-2));e.fillStyle="#ffffff","xy"===a&&(e.beginPath(),e.moveTo(t,i+l),e.lineTo(t-3,i+l),e.lineTo(t-3,i-3),e.lineTo(t+l,i-3),e.lineTo(t+l,i),e.lineTo(t,i),e.closePath(),e.moveTo(t,i+r-l),e.lineTo(t-3,i+r-l),e.lineTo(t-3,i+r+3),e.lineTo(t+l,i+r+3),e.lineTo(t+l,i+r),e.lineTo(t,i+r),e.closePath(),e.moveTo(t+s,i+l),e.lineTo(t+s+3,i+l),e.lineTo(t+s+3,i-3),e.lineTo(t+s-l,i-3),e.lineTo(t+s-l,i),e.lineTo(t+s,i),e.closePath(),e.moveTo(t+s,i+r-l),e.lineTo(t+s+3,i+r-l),e.lineTo(t+s+3,i+r+3),e.lineTo(t+s-l,i+r+3),e.lineTo(t+s-l,i+r),e.lineTo(t+s,i+r),e.closePath(),e.stroke(),e.fill()),t=n,i=o,"x"===a&&(e.beginPath(),e.moveTo(t,i+15),e.lineTo(t,i-15),e.lineTo(t-3,i-15),e.lineTo(t-3,i+15),e.closePath(),e.moveTo(t+s,i+15),e.lineTo(t+s,i-15),e.lineTo(t+s+3,i-15),e.lineTo(t+s+3,i+15),e.closePath(),e.stroke(),e.fill()),"y"===a&&(e.beginPath(),e.moveTo(t-15,i),e.lineTo(t+15,i),e.lineTo(t+15,i-3),e.lineTo(t-15,i-3),e.closePath(),e.moveTo(t-15,i+r),e.lineTo(t+15,i+r),e.lineTo(t+15,i+r+3),e.lineTo(t-15,i+r+3),e.closePath(),e.stroke(),e.fill())}(s,a,h,c,p,l,d,u(t)),s.restore()}}),t.hooks.shutdown.push(function(t,i){i.unbind("mousemove",o),i.unbind("mousedown",a),n&&e(document).unbind("mouseup",n)})},options:{selection:{mode:null,color:"#888888",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery),function(e){var t=-100,i=0,s=-1,r=-2,n=1,o=e.plot.browser,a=o.getPixelRatio;function l(e,t){var l=e.filter(h);n=a(t.getContext("2d"));var f=l.map(function(e){var t=new Image;return new Promise(function(e,t){return e.sourceDescription='<info className="'+t.className+'" tagName="'+t.tagName+'" id="'+t.id+'">',e.sourceComponent=t,function(i,s){var r,n,a,l,h;e.onload=function(t){e.successfullyLoaded=!0,i(e)},e.onabort=function(t){e.successfullyLoaded=!1,console.log("Can't generate temp image from "+e.sourceDescription+". It is possible that it is missing some properties or its content is not supported by this browser. Source component:",e.sourceComponent),i(e)},e.onerror=function(t){e.successfullyLoaded=!1,console.log("Can't generate temp image from "+e.sourceDescription+". It is possible that it is missing some properties or its content is not supported by this browser. Source component:",e.sourceComponent),i(e)},l=e,"CANVAS"===(a=t).tagName&&(h=a,l.src=h.toDataURL("image/png")),"svg"===a.tagName&&(r=a,n=l,o.isSafari()||o.isMobileSafari()?function(e,t){var i,s,r=c(d(document),e);r=u(r),s=function(e){for(var t="",i=new Uint8Array(e),s=0;s<i.length;s+=16384){var r=String.fromCharCode.apply(null,i.subarray(s,s+16384));t+=r}return t}(new(TextEncoder||TextEncoderLite)("utf-8").encode(r)),i="data:image/svg+xml;base64,"+btoa(s),t.src=i}(r,n):function(e,t){var i=c(d(document),e);i=u(i);var s=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),r=(self.URL||self.webkitURL||self).createObjectURL(s);t.src=r}(r,n)),l.srcImgTagName=a.tagName,function(e,t){t.genLeft=e.getBoundingClientRect().left,t.genTop=e.getBoundingClientRect().top,"CANVAS"===e.tagName&&(t.genRight=t.genLeft+e.width,t.genBottom=t.genTop+e.height),"svg"===e.tagName&&(t.genRight=e.getBoundingClientRect().right,t.genBottom=e.getBoundingClientRect().bottom)}(a,l)}}(t,e))});return Promise.all(f).then(function(e){return function(t){var o=function(e,t){var o=function(e,t){var o=i;if(0===e.length)o=s;else{var a=e[0].genLeft,l=e[0].genTop,h=e[0].genRight,d=e[0].genBottom,c=0;for(c=1;c<e.length;c++)a>e[c].genLeft&&(a=e[c].genLeft),l>e[c].genTop&&(l=e[c].genTop);for(c=1;c<e.length;c++)h<e[c].genRight&&(h=e[c].genRight),d<e[c].genBottom&&(d=e[c].genBottom);if(h-a<=0||d-l<=0)o=r;else{for(t.width=Math.round(h-a),t.height=Math.round(d-l),c=0;c<e.length;c++)e[c].xCompOffset=e[c].genLeft-a,e[c].yCompOffset=e[c].genTop-l;!function(e,t){void 0!==t.find(function(e){return"svg"===e.srcImgTagName})&&n<1&&(e.width=e.width*n,e.height=e.height*n)}(t,e)}}return o}(e,t);if(o===i)for(var a=t.getContext("2d"),l=0;l<e.length;l++)!0===e[l].successfullyLoaded&&a.drawImage(e[l],e[l].xCompOffset*n,e[l].yCompOffset*n);return o}(t,e);return o}}(t),p)}function h(e){var t=!0,i=!0;return null==e?i=!1:"CANVAS"===e.tagName&&(e.getBoundingClientRect().right!==e.getBoundingClientRect().left&&e.getBoundingClientRect().bottom!==e.getBoundingClientRect().top||(t=!1)),i&&t&&"visible"===window.getComputedStyle(e).visibility}function d(e){for(var t=e.styleSheets,i=[],s=0;s<t.length;s++)for(var r=t[s].cssRules||[],n=0;n<r.length;n++){var o=r[n];i.push(o.cssText)}return i}function c(e,t){return['<svg class="snapshot '+t.classList+'" width="'+t.width.baseVal.value*n+'" height="'+t.height.baseVal.value*n+'" viewBox="0 0 '+t.width.baseVal.value+" "+t.height.baseVal.value+'" xmlns="http://www.w3.org/2000/svg">',"<style>","/* <![CDATA[ */",e.join("\n"),"/* ]]> */","</style>",t.innerHTML,"</svg>"].join("\n")}function u(e){var t="";return e.match(/^<svg[^>]+xmlns="http:\/\/www\.w3\.org\/2000\/svg"/)||(t=e.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')),e.match(/^<svg[^>]+"http:\/\/www\.w3\.org\/1999\/xlink"/)||(t=e.replace(/^<svg/,'<svg xmlns:xlink="http://www.w3.org/1999/xlink"')),'<?xml version="1.0" standalone="no"?>\r\n'+t}function p(){return t}e.plot.composeImages=l,e.plot.plugins.push({init:function(e){e.composeImages=l},name:"composeImages",version:"1.0"})}(jQuery),function(e){function t(e){var t="",i=e.name,s=e.xPos,r=e.yPos,n=e.fillColor,o=e.strokeColor,a=e.strokeWidth;switch(i){case"circle":t='<use xlink:href="#circle" class="legendIcon" x="'+s+'" y="'+r+'" fill="'+n+'" stroke="'+o+'" stroke-width="'+a+'" width="1.5em" height="1.5em"/>';break;case"diamond":t='<use xlink:href="#diamond" class="legendIcon" x="'+s+'" y="'+r+'" fill="'+n+'" stroke="'+o+'" stroke-width="'+a+'" width="1.5em" height="1.5em"/>';break;case"cross":t='<use xlink:href="#cross" class="legendIcon" x="'+s+'" y="'+r+'" stroke="'+o+'" stroke-width="'+a+'" width="1.5em" height="1.5em"/>';break;case"rectangle":t='<use xlink:href="#rectangle" class="legendIcon" x="'+s+'" y="'+r+'" fill="'+n+'" stroke="'+o+'" stroke-width="'+a+'" width="1.5em" height="1.5em"/>';break;case"plus":t='<use xlink:href="#plus" class="legendIcon" x="'+s+'" y="'+r+'" stroke="'+o+'" stroke-width="'+a+'" width="1.5em" height="1.5em"/>';break;case"bar":t='<use xlink:href="#bars" class="legendIcon" x="'+s+'" y="'+r+'" fill="'+n+'" width="1.5em" height="1.5em"/>';break;case"area":t='<use xlink:href="#area" class="legendIcon" x="'+s+'" y="'+r+'" fill="'+n+'" width="1.5em" height="1.5em"/>';break;case"line":t='<use xlink:href="#line" class="legendIcon" x="'+s+'" y="'+r+'" stroke="'+o+'" stroke-width="'+a+'" width="1.5em" height="1.5em"/>';break;default:t='<use xlink:href="#circle" class="legendIcon" x="'+s+'" y="'+r+'" fill="'+n+'" stroke="'+o+'" stroke-width="'+a+'" width="1.5em" height="1.5em"/>'}return t}var i='<defs><symbol id="line" fill="none" viewBox="-5 -5 25 25"><polyline points="0,15 5,5 10,10 15,0"/></symbol><symbol id="area" stroke-width="1" viewBox="-5 -5 25 25"><polyline points="0,15 5,5 10,10 15,0, 15,15, 0,15"/></symbol><symbol id="bars" stroke-width="1" viewBox="-5 -5 25 25"><polyline points="1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5"/></symbol><symbol id="circle" viewBox="-5 -5 25 25"><circle cx="0" cy="15" r="2.5"/><circle cx="5" cy="5" r="2.5"/><circle cx="10" cy="10" r="2.5"/><circle cx="15" cy="0" r="2.5"/></symbol><symbol id="rectangle" viewBox="-5 -5 25 25"><rect x="-2.1" y="12.9" width="4.2" height="4.2"/><rect x="2.9" y="2.9" width="4.2" height="4.2"/><rect x="7.9" y="7.9" width="4.2" height="4.2"/><rect x="12.9" y="-2.1" width="4.2" height="4.2"/></symbol><symbol id="diamond" viewBox="-5 -5 25 25"><path d="M-3,15 L0,12 L3,15, L0,18 Z"/><path d="M2,5 L5,2 L8,5, L5,8 Z"/><path d="M7,10 L10,7 L13,10, L10,13 Z"/><path d="M12,0 L15,-3 L18,0, L15,3 Z"/></symbol><symbol id="cross" fill="none" viewBox="-5 -5 25 25"><path d="M-2.1,12.9 L2.1,17.1, M2.1,12.9 L-2.1,17.1 Z"/><path d="M2.9,2.9 L7.1,7.1 M7.1,2.9 L2.9,7.1 Z"/><path d="M7.9,7.9 L12.1,12.1 M12.1,7.9 L7.9,12.1 Z"/><path d="M12.9,-2.1 L17.1,2.1 M17.1,-2.1 L12.9,2.1 Z"/></symbol><symbol id="plus" fill="none" viewBox="-5 -5 25 25"><path d="M0,12 L0,18, M-3,15 L3,15 Z"/><path d="M5,2 L5,8 M2,5 L8,5 Z"/><path d="M10,7 L10,13 M7,10 L13,10 Z"/><path d="M15,-3 L15,3 M12,0 L18,0 Z"/></symbol></defs>';function s(e,t){for(var i in e)if(e.hasOwnProperty(i)&&e[i]!==t[i])return!0;return!1}e.plot.plugins.push({init:function(r){r.hooks.setupGrid.push(function(r){var n=r.getOptions(),o=r.getData(),a=n.legend.labelFormatter,l=n.legend.legendEntries,h=n.legend.plotOffset,d=function(t,i,s){var r=i,n=t.map(function(e,t){return{label:(r?r(e.label,e):e.label)||"Plot "+(t+1),color:e.color,options:{lines:e.lines,points:e.points,bars:e.bars}}});if(s)if(e.isFunction(s))n.sort(s);else if("reverse"===s)n.reverse();else{var o="descending"!==s;n.sort(function(e,t){return e.label===t.label?0:e.label<t.label!==o?1:-1})}return n}(o,a,n.legend.sorted),c=r.getPlotOffset();((function(e,t){if(!e||!t)return!0;if(e.length!==t.length)return!0;var i,r,n;for(i=0;i<t.length;i++){if(r=t[i],n=e[i],r.label!==n.label)return!0;if(r.color!==n.color)return!0;if(s(r.options.lines,n.options.lines))return!0;if(s(r.options.points,n.options.points))return!0;if(s(r.options.bars,n.options.bars))return!0}return!1})(l,d)||s(h,c))&&function(s,r,n,o){if(null!=r.legend.container?e(r.legend.container).html(""):n.find(".legend").remove(),r.legend.show){var a,l,h,d=r.legend.legendEntries=o,c=r.legend.plotOffset=s.getPlotOffset(),u=[],p=0,f=0,m="",g=r.legend.position,v=r.legend.margin,x={name:"",label:"",xPos:"",yPos:""};u[f++]='<svg class="legendLayer" style="width:inherit;height:inherit;">',u[f++]='<rect class="background" width="100%" height="100%"/>',u[f++]=i;for(var b=0;b<d.length;++b)a=d[b],h="",x.label=a.label,x.xPos="0em",x.yPos=1.5*b+"em",a.options.lines.show&&a.options.lines.fill&&(x.name="area",x.fillColor=a.color,h+=t(x)),a.options.bars.show&&(x.name="bar",x.fillColor=a.color,h+=t(x)),a.options.lines.show&&!a.options.lines.fill&&(x.name="line",x.strokeColor=a.color,x.strokeWidth=a.options.lines.lineWidth,h+=t(x)),a.options.points.show&&(x.name=a.options.points.symbol,x.strokeColor=a.color,x.fillColor=a.options.points.fillColor,x.strokeWidth=a.options.points.lineWidth,h+=t(x)),p=p<x.label.length?x.label.length:p,l='<text x="'+x.xPos+'" y="'+x.yPos+'" text-anchor="start"><tspan dx="2em" dy="1.2em">'+x.label+"</tspan></text>",u[f++]="<g>"+h+l+"</g>";u[f++]="</svg>",null==v[0]&&(v=[v,v]),"n"===g.charAt(0)?m+="top:"+(v[1]+c.top)+"px;":"s"===g.charAt(0)&&(m+="bottom:"+(v[1]+c.bottom)+"px;"),"e"===g.charAt(1)?m+="right:"+(v[0]+c.right)+"px;":"w"===g.charAt(1)&&(m+="left:"+(v[0]+c.left)+"px;");var w,y=3+p/2,_=1.6*d.length;r.legend.container?(w=e(u.join("")).appendTo(r.legend.container)[0],r.legend.container.style.width=y+"em",r.legend.container.style.height=_+"em"):((w=e('<div class="legend" style="position:absolute;'+m+'">'+u.join("")+"</div>").appendTo(n)).css("width",y+"em"),w.css("height",_+"em"),w.css("pointerEvents","none"))}}(r,n,r.getPlaceholder(),d)})},options:{legend:{show:!1,labelFormatter:null,container:null,position:"ne",margin:5,sorted:null}},name:"legend",version:"1.0"})}(jQuery),function(e){var t;function i(e){if(t)if(0!==e.buttons){var i=d(e),r=o(n(e)).eventHolder;if(t.selectedElement.constraintFunction){var a=t.selectedElement.constraintFunction(i.X,i.Y,t.x,t.y),c=babelHelpers.slicedToArray(a,2);i.X=c[0],i.Y=c[1]}var u=t.selectedElement.getCTM(),p=i.X-t.x,f=i.Y-t.y;u.e+=p,u.f+=f,t.selectedElement.transform.baseVal.getItem(0).setMatrix(u),t.x=i.X,t.y=i.Y,l(t.selectedElement),e.preventDefault(),e.stopPropagation(),h("thumbmove",e,r)}else s(e)}function s(e){var i=o(n(e)),s=i.eventHolder;t&&(t=null,i.style.pointerEvents="none",s.dispatchEvent(new CustomEvent("thumbmoveend",{detail:e})))}function r(e){var i=n(e),s=o(i),r=s.eventHolder;if(t=null,i&&-1!==i.getAttribute("class").indexOf("draggable")){var a=d(e),l=i.getBoundingClientRect(),c=document.documentElement,u=(window.pageXOffset||c.scrollLeft)-(c.clientLeft||0),p=(window.pageYOffset||c.scrollTop)-(c.clientTop||0);t={selectedElement:i,x:a.X,y:a.Y,deltaHandlingX:a.X-(l.left+l.right)/2-u,deltaHandlingY:a.Y-(l.top+l.bottom)/2-p},s.style.pointerEvents="all"}t&&h("thumbmovestart",e,r)}function n(e){var t=e.target,i=e.target.getAttribute("class");return i&&-1!==i.indexOf("thumbIcon")&&(i=(t=e.target.parentNode).getAttribute("class")),i&&-1!==i.indexOf("thumbLabel")&&(i=(t=e.target.parentNode).getAttribute("class")),t}function o(e){return"svg"===e.tagName?e:"g"===e.tagName?e.parentNode:null}function a(e){var t,i,s,r,o,a,h,d=n(e),c=[];d&&-1!==d.getAttribute("class").indexOf("thumb")&&(i=(t=d).getBoundingClientRect(),s=i.left,r=i.right,o=i.top,a=i.bottom,h=t.parentNode,(c=Array.prototype.slice.call(h.childNodes,0).filter(function(e){var t=e.getBoundingClientRect(),i=t.left,n=t.right,l=t.top,h=t.bottom;return t.width>0&&t.height>0&&s<n&&r>i&&o<h&&a>l})).length>0&&l(c[0]))}function l(e){e.parentNode.appendChild(e)}function h(e,i,s){var r=d(i),n=new CustomEvent(e,{detail:i});n.pageX=r.X-t.deltaHandlingX,n.pageY=r.Y-t.deltaHandlingY,s.dispatchEvent(n)}function d(t){return t.touches?{X:t.touches[0].pageX,Y:t.touches[0].pageY}:e.plot.browser.getPageXY(t)}e.thumb={},e.thumb.createSVGLayer=function(e,t){if(e&&e.find(".flot-thumbs")[0])return e.find(".flot-thumbs")[0].firstChild;var r=document.createElement("div");r.className="flot-thumbs",r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.bottom="0px",r.style.right="0px",r.style.pointerEvents="none";var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"width","100%"),n.setAttributeNS(null,"height","100%");var o,a=document.createElementNS("http://www.w3.org/2000/svg","defs");return a.innerHTML='<symbol id="round" viewBox="0 0 50 50"><polyline points="25,0 40,20 10,20 25,0"></polyline><circle cx="25" cy="25" r="20"/></symbol><symbol id="l_round" viewBox="0 0 50 50"><use xlink:href="#round" x="0" y="0" width="50" height="50" transform="rotate(90 25 25)"/></symbol><symbol id="r_round" viewBox="0 0 50 50"><use xlink:href="#round" x="0" y="0" width="50" height="50" transform="rotate(270 25 25)"/></symbol><symbol id="b_round" viewBox="0 0 50 50"><use xlink:href="#round" x="0" y="0" width="50" height="50" transform="rotate(0 25 25)"/></symbol><symbol id="t_round" viewBox="0 0 50 50"><use xlink:href="#round" x="0" y="0" width="50" height="50" transform="rotate(180 25 25)"/></symbol>',n.appendChild(a),r.appendChild(n),e?e.append(r):document.body.appendChild(r),n.eventHolder=t||document,(o=n).addEventListener("mousemove",i,!1),o.addEventListener("touchmove",i,!1),o.addEventListener("mouseup",s,!1),o.addEventListener("touchend",s,!1),n},e.thumb.createThumb=function(t){var i={size:t.size||20,x:t.x||0,y:t.y||0,svgRoot:t.svgRoot,shape:t.shape||"bottom",abbreviation:t.abbreviation||"",constraintFunction:t.constraintFunction,classList:t.classList||["draggable"]},s=document.createElementNS("http://www.w3.org/2000/svg","use"),n=document.createElementNS("http://www.w3.org/2000/svg","text"),o=document.createElementNS("http://www.w3.org/2000/svg","g"),l=i.svgRoot,h=i.size,d=i.x,c=i.y,u="";function p(e,t){e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t),e.setAttributeNS("http://www.w3.org/1999/xlink","href",t)}switch(i.shape){case"left":u="y",p(s,"#l_round");break;case"right":u="y",p(s,"#r_round");break;case"bottom":u="x",i.classList.push("bottom"),p(s,"#b_round");break;case"top":u="x",p(s,"#t_round")}if(s.setAttributeNS(null,"width",2*h),s.setAttributeNS(null,"height",2*h),s.setAttributeNS(null,"x",d-h),s.setAttributeNS(null,"y",c-h),s.setAttribute("class","thumbIcon"),n.setAttributeNS(null,"text-anchor","middle"),n.setAttributeNS(null,"dominant-baseline","middle"),n.setAttributeNS(null,"lengthAdjust","spacingAndGlyphs"),n.setAttributeNS(null,"x",d),n.setAttributeNS(null,"y",c),n.setAttributeNS(null,"dy",".1em"),n.setAttribute("class","thumbLabel"),n.setAttributeNS(null,"textLength",h),n.textContent=i.abbreviation,n.style.pointerEvents="all",o.appendChild(s),o.appendChild(n),o.setAttributeNS(null,"transform","matrix(1 0 0 1 0 0)"),o.setAttribute("class","thumb"),o.classList.add(u),i.classList)for(var f=0;f<i.classList.length;f++)""!==i.classList[f]&&o.classList.add(i.classList[f]);return o.style.pointerEvents="all",o.addEventListener("mousedown",r,!1),o.addEventListener("touchstart",r,!1),e(o).click(a),o.constraintFunction=i.constraintFunction,l.appendChild(o),o},e.thumb.updateComputedXPosition=function(e,t){var i=e.getCTM(),s=e.childNodes[0],r=e.childNodes[1],n=t-i.e,o=t-i.e-e.firstChild.height.baseVal.value/2;s.setAttributeNS(null,"x",o),r.setAttributeNS(null,"x",n)},e.thumb.updateComputedYPosition=function(e,t){var i=e.getCTM(),s=e.childNodes[0],r=e.childNodes[1],n=t-i.f,o=t-i.f-e.firstChild.width.baseVal.value/2;s.setAttributeNS(null,"y",o),r.setAttributeNS(null,"y",n)},e.thumb.setHidden=function(e,t){e.style.display=t?"none":"inline"},e.thumb.shutdown=function(e){t=null,function(e){Array.prototype.forEach.call(e.childNodes,function(e){e.classList.contains("thumb")&&(e.removeEventListener("mousedown",r),e.removeEventListener("touchstart",r))}),e.removeEventListener("mousemove",i),e.removeEventListener("touchmove",i),e.removeEventListener("mouseup",s),e.removeEventListener("touchend",s)}(e)}}(jQuery),
/* Flot plugin for adding cursors to the plot.

Copyright (c) cipix2000@gmail.com.
Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.
*/
function(e){var t={iRectSize:8,symbolSize:8,mouseGrabMargin:12,textHeight:10,labelPadding:10,thumbRadius:17},i=Object.freeze({axis:0,relative:1}),s=Object.freeze({xy:0,x:1});function r(e,t){return Object.keys(e).forEach(function(i){t[i]=e[i]}),t}function n(e,t,i){var s,r,n=u(e,t),o=p(e,t);s=void 0!==i.x&&n.p2c?n.p2c(i.x):i.relativeX*e.width(),r=void 0!==i.y&&o.p2c?o.p2c(i.y):i.relativeY*e.height(),t.x=s,t.y=r}function o(e,i,s,r){var n="left",o=Number(i.fontSize.substring(0,i.fontSize.length-2)),a=i.y,l=i.x;return"left"===i.halign?(l-=t.labelPadding,n="right"):l+=t.labelPadding,"above"===i.valign?a-=t.labelPadding*(r-s)+o*(r-1-s):a+=t.labelPadding*(s+1)+o*(s+1),{x:l,y:a,textAlign:n}}function a(e){return(e.showLabel?1:0)+(e.showValues?1:0)}function l(e,t){return t.x>=0&&Math.floor(t.x)<=e.width()}function h(e,t){return t.y>=0&&Math.floor(t.y)<=e.height()}function d(e,t){return l(e,t)&&h(e,t)}function c(e,t,i){var s="x"===t.direction?i+1:i-1,r=t.c2p(i),n=t.c2p(s);return e.computeValuePrecision(r,n,t.direction,1)}function u(e,t){var i=e.getData(),s=e.getXAxes(),r=t.defaultxaxis-1;if(t.snapToPlot>=-1){if(t.intersections&&t.intersections.points[0]){var n=i[t.intersections.points[0].seriesIndex];return n?n.xaxis:s[r]}return s[r]}return s[r]}function p(e,t){var i=e.getData(),s=e.getYAxes(),r=t.defaultyaxis-1;if(t.snapToPlot>=-1){if(t.intersections&&t.intersections.points[0]){var n=i[t.intersections.points[0].seriesIndex];return n?n.yaxis:s[r]}return s[r]}return s[r]}function f(e,t){var i=u(e,t),s=p(e,t),r=c(e,i,t.x),n=i.tickFormatter(i.c2p(t.x),i,r,e),o=c(e,s,t.y),a=s.tickFormatter(s.c2p(t.y),s,o,e);return{xTextValue:n=(n=n.replace("<br>"," ")).replace("&nbsp;"," "),yTextValue:a=(a=a.replace("<br>"," ")).replace("&nbsp;"," ")}}function m(e){return-1!==e.mode.indexOf("x")}function g(e,i,s,r){var n=s.offset(),o=Math.max(0,Math.min(e-n.left,s.width())),a=Math.max(0,Math.min(i-n.top,s.height())),l=t.symbolSize+t.mouseGrabMargin;return o>r.x-l&&o<r.x+l&&a>r.y-l&&a<r.y+l&&"none"!==r.symbol}function v(e,i,s,r){var n=s.offset(),o=Math.max(0,Math.min(e-n.left,s.width())),a=Math.max(0,Math.min(i-n.top,s.height()));return m(r)&&o>r.x-t.mouseGrabMargin&&o<r.x+t.mouseGrabMargin&&a>0&&a<s.height()}function x(e,i,s,r){var n=s.offset(),o=Math.max(0,Math.min(e-n.left,s.width())),a=Math.max(0,Math.min(i-n.top,s.height()));return function(e){return-1!==e.mode.indexOf("y")}(r)&&a>r.y-t.mouseGrabMargin&&a<r.y+t.mouseGrabMargin&&o>0&&o<s.width()}e.plot.plugins.push({init:function(c){var b=[],w=[],y=i.axis,_=s.xy;c.hooks.processOptions.push(function(e){e.getOptions().cursors.forEach(function(t){e.addCursor(t)})}),c.hooks.processOffset.push(function(e,t){j(b,e,t)}),c.getCursors=function(){return b},c.addCursor=function(e){var t=function(e){return r(e,{name:"unnamed "+b.length,position:e.position||{relativeX:.5,relativeY:.5,x:void 0,y:void 0},mousePosition:{relativeX:void 0,relativeY:void 0},x:0,y:0,valign:"below",halign:"right",show:!0,selected:!1,highlighted:!1,mode:"xy",showIntersections:!1,showLabel:!1,showValues:!0,color:"gray",fontSize:"10px",fontFamily:"sans-serif",fontStyle:"",fontWeight:"",lineWidth:1,movable:!0,dashes:1,intersectionColor:"darkgray",intersectionLabelPosition:"bottom-right",snapToPlot:void 0,interpolate:!1,defaultxaxis:1,defaultyaxis:1,showThumbs:"none",thumbAbbreviation:"C"+b.length,thumbClassList:["draggable"],thumbs:[]})}(e);n(c,t,t.position),b.push(t),c.triggerRedrawOverlay()},c.removeCursor=function(e){var t=b.indexOf(e);-1!==t&&b.splice(t,1),c.triggerRedrawOverlay()},c.setCursor=function(e,t){var i=b.indexOf(e);-1!==i&&(r(t,b[i]),n(c,b[i],b[i].position),c.triggerRedrawOverlay())},c.getIntersections=function(e){var t=b.indexOf(e);return-1!==t?b[t].intersections:[]},c.formatCursorPosition=f;var j=function(e,i,s){var r,n,o,a,l,h=0,d=2*t.thumbRadius;for(l in r=["left","right","top","bottom"].map(function(t,s){return n=e.some(function(e){return-1!==e.showThumbs.indexOf(t[0])}),a=s>1?i.getXAxes():i.getYAxes(),o=a.some(function(e){return e.options.position===t}),n&&!o?d:0}),s)s[l]+=r[h++]},q=function(e){var t;return e.forEach(function(e){e.selected&&(t||(t=e))}),t},S=function(e){return e.filter(function(e){return e.show})},T=function(e){F(e,V(e.detail.touches[0].pageX),W(e.detail.touches[0].pageY),e.detail.touches[0].pageX,e.detail.touches[0].pageY)},C=function(e){z(e,V(e.detail.touches[0].pageX),W(e.detail.touches[0].pageY),e.detail.touches[0].pageX,e.detail.touches[0].pageY)},I=function(e){var t=q(b);t&&(t.selected=!1)},k=function(e){F(e,V(e.detail.touches[0].pageX),W(e.detail.touches[0].pageY),e.detail.touches[0].pageX,e.detail.touches[0].pageY)},P=function(e){z(e,V(e.detail.touches[0].pageX),W(e.detail.touches[0].pageY),e.detail.touches[0].pageX,e.detail.touches[0].pageY)},M=function(e){var t=q(b);t&&(t.selected=!1)},N={start:function(e){!function(e){function t(e){return e.getAttribute("class").includes("draggable")}q(b)||S(b).filter(function(e){return!0===e.movable}).forEach(function(i){i.thumbs.filter(t).filter(function(t){return t===(i=e.detail.target,s=i,((r=i.getAttribute("class")).includes("thumbIcon")||r.includes("thumbLabel"))&&(s=i.parentNode,r=s.getAttribute("class")),r.includes("thumb")?s:null);var i,s,r}).forEach(function(t){var s=i;s&&(t.classList.contains("x")?s.dragmode="x":s.dragmode="y",s.selected=!0,s.thumbmove=!0,"x"===s.mode?c.getPlaceholder().css("cursor","ew-resize"):"y"===s.mode&&c.getPlaceholder().css("cursor","ns-resize"),c.getPlaceholder().css("cursor","move"),c.triggerRedrawOverlay(),e.stopImmediatePropagation(),e.preventDefault())})})}(e)},drag:function(e){z(e,V(e.pageX),W(e.pageY),e.pageX,e.pageY)},end:function(e){var t=q(b);t&&(t.selected=!1,t.thumbmove=!1,G(c,t,c.getPlotOffset()))}},D=function(t){var i=e.plot.browser.getPageXY(t);F(t,V(i.X),W(i.Y),i.X,i.Y)},B=function(t){var i=e.plot.browser.getPageXY(t);z(t,V(i.X),W(i.Y),i.X,i.Y)},O=function(t){var i=e.plot.browser.getPageXY(t);V(i.X),W(i.Y),function(e,t,i,s,r){var n=q(b);n&&0===e.buttons&&(n.selected=!1,c.triggerRedrawOverlay()),S(b).forEach(function(e){L(s,r,c,e)})}(t,0,0,i.X,i.Y)},A=function(t){var i=e.plot.browser.getPageXY(t);!function(e,t,i,s,r){var n=q(b);n&&(n.selected=!1,n.thumbmove=!1,R(n,t,i),c.getPlaceholder().css("cursor","default"),c.triggerRedrawOverlay(),e.stopImmediatePropagation(),e.preventDefault())}(t,V(i.X),W(i.Y),i.X,i.Y)};function H(e,t){y=i.axis,b.forEach(function(e){if(e.mousePosition={},!e.position.hasOwnProperty("x")){var i=u(t,e);e.position.x=i.c2p?i.c2p(e.x):void 0}if(!e.position.hasOwnProperty("y")){var s=p(t,e);e.position.y=s.c2p?s.c2p(e.y):void 0}e.position.relativeX=void 0,e.position.relativeY=void 0})}function E(e,t){var r={cursor:t.name,points:[]};return t.interpolate?function(e,t,i){var s=e.c2p({left:t.x,top:t.y}),r=e.getAxes();if(!(s.x<r.xaxis.min||s.x>r.xaxis.max||s.y<r.yaxis.min||s.y>r.yaxis.max)){var n=e.findNearbyInterpolationPoint(s.x,s.y,function(e){return-1===t.snapToPlot||e===t.snapToPlot});n&&i.points.push({x:n.datapoint[0],y:n.datapoint[1],leftPoint:n.leftPoint,rightPoint:n.rightPoint,seriesIndex:n.seriesIndex})}}(e,t,r):function(e,t,r){var n,o;y===i.axis?(n=t.x,o=t.y):(n=t.mousePosition.relativeX*e.width(),o=t.mousePosition.relativeY*e.height());var a=e.findNearbyItem(n,o,function(e){return-1===t.snapToPlot||e===t.snapToPlot},Number.MAX_VALUE,function(e,t){return _===s.x?e:e*e+t*t*.025});if(a){var l=e.getData(),h=l[a.seriesIndex].datapoints.pointsize,d=a.dataIndex*h;r.points.push({x:a.datapoint[0],y:a.datapoint[1],leftPoint:[d-h,d-h+1],rightPoint:[d,d+1],seriesIndex:a.seriesIndex})}}(e,t,r),r}function z(e,t,i,s,r){var n=q(b);n&&(R(n,t,i),c.triggerRedrawOverlay(),e.stopImmediatePropagation(),e.preventDefault())}function L(e,t,i,s){s.movable&&(g(e,t,i,s)?(s.highlighted||(s.highlighted=!0,i.triggerRedrawOverlay()),i.getPlaceholder().css("cursor","pointer")):v(e,t,i,s)?(s.highlighted||(s.highlighted=!0,i.triggerRedrawOverlay()),i.getPlaceholder().css("cursor","col-resize")):x(e,t,i,s)?(s.highlighted||(s.highlighted=!0,i.triggerRedrawOverlay()),i.getPlaceholder().css("cursor","row-resize")):s.highlighted&&(s.highlighted=!1,i.getPlaceholder().css("cursor","default"),i.triggerRedrawOverlay()))}function F(e,t,i,r,n){var o,a,l=q(b);_=s.xy,l?(c.getPlaceholder().css("cursor","default"),l.x=t,l.y=i,l.position.relativeX=t/c.width(),l.position.relativeY=i/c.height(),c.triggerRedrawOverlay()):(S(b).forEach(function(e){e.movable&&(g(r,n,c,e)?(o=e,a="xy"):x(r,n,c,e)?(o=e,a="y"):v(r,n,c,e)&&(o=e,a="x"),L(r,n,c,e))}),o&&(o.thumbmove=!1,o.selected=!0,o.dragmode=a,"x"===o.mode?c.getPlaceholder().css("cursor","ew-resize"):"y"===o.mode?c.getPlaceholder().css("cursor","ns-resize"):c.getPlaceholder().css("cursor","move"),c.getPlaceholder().css("cursor","move"),c.triggerRedrawOverlay(),e.stopImmediatePropagation(),e.preventDefault()))}function R(e,t,i){var s=u(c,e),r=p(c,e);-1!==e.dragmode.indexOf("x")&&(e.x=t,e.position.x=s.c2p?s.c2p(t):void 0,e.position.relativeX=t/c.width(),e.mousePosition.relativeX=t/c.width()),-1!==e.dragmode.indexOf("y")&&(e.y=i,e.position.y=r.c2p?r.c2p(i):void 0,e.position.relativeY=i/c.height(),e.mousePosition.relativeY=i/c.height())}function V(e){var t=c.offset();return Math.max(0,Math.min(e-t.left,c.width()))}function W(e){var t=c.offset();return Math.max(0,Math.min(e-t.top,c.height()))}function G(t,i,s){var r,n,o,a;U(i)&&(a=i.thumbs[0],l(t,i)?(r=i.x+s.left,e.thumb.setHidden(a,!1),e.thumb.updateComputedXPosition(a,r)):e.thumb.setHidden(a,!0)),X(i)&&(o=U(i)?1:0,a=i.thumbs[o],h(t,i)?(n=i.y+s.top,e.thumb.setHidden(a,!1),e.thumb.updateComputedYPosition(a,n)):e.thumb.setHidden(a,!0))}function U(e){return-1!==e.showThumbs.indexOf("b")||-1!==e.showThumbs.indexOf("t")}function X(e){return-1!==e.showThumbs.indexOf("l")||-1!==e.showThumbs.indexOf("r")}c.hooks.bindEvents.push(function(e,t){t[0].addEventListener("panstart",T,!1),t[0].addEventListener("pandrag",C,!1),t[0].addEventListener("panend",I,!1),t[0].addEventListener("pinchstart",k,!1),t[0].addEventListener("pinchdrag",P,!1),t[0].addEventListener("pinchend",M,!1),e.getPlaceholder().bind("plotpan",H),e.getPlaceholder().bind("plotzoom",H),t[0].addEventListener("thumbmovestart",N.start,!1),t[0].addEventListener("thumbmove",N.drag,!1),t[0].addEventListener("thumbmoveend",N.end,!1),e.addEventHandler("dragstart",D,t,10),e.addEventHandler("drag",B,t,10),e.addEventHandler("dragend",A,t,10),t.bind("mousemove",O)}),c.hooks.processRawData.push(function(e,t,r,n){t.historyBuffer&&(function(e){y=i.relative,b.forEach(function(t){if(!isNaN(t.x)&&!isNaN(t.y)){var i={relativeX:t.position.relativeX||t.x/e.width(),relativeY:t.position.relativeY||t.y/e.height(),x:void 0,y:void 0};isNaN(i.relativeX)||isNaN(i.relativeY)||(t.position=i)}})}(e),_=s.x)}),c.hooks.drawOverlay.push(function(i,s){w=[],b.forEach(function(r){var c,g;if(function(e,t){var i=u(e,t),s=p(e,t),r=t.position;void 0!==r.x&&void 0!==r.y||!i.c2p||!s.c2p||0===i.min&&1===i.max&&0===s.min&&1===s.max||(r.x=i.c2p(r.relativeX*e.width()),r.y=s.c2p(r.relativeY*e.height())),(void 0===r.relativeX||void 0===r.relativeY)&&i.p2c&&s.p2c&&void 0!==r.x&&void 0!==r.y&&(r.relativeX=i.p2c(r.x)/e.width(),r.relativeY=s.p2c(r.y)/e.height())}(i,r),n(i,r,r.position),(void 0===(g=r.mousePosition).relativeX||void 0===g.relativeY)&&(r.mousePosition.relativeX=r.x/i.width(),r.mousePosition.relativeY=r.y/i.height()),c=E(i,r),function(e,t,i){if(t.snapToPlot>=-1){var s=i.points[0];if(s){var r=e.getData()[s.seriesIndex],o=r.xaxis.p2c(s.x)/e.width(),a=r.yaxis.p2c(s.y)/e.height();n(e,t,{x:s.x,y:s.y}),t.position.x=s.x,t.position.y=s.y,t.position.relativeX=o,t.position.relativeY=a,i.x=s.x,i.y=s.y}}}(i,r,c),r.intersections=c,c.target=r,w.push(c),r.show){var v=i.getPlotOffset();s.save(),s.translate(v.left,v.top),function(e,i,s){var r=e.width(),n=e.height(),o=s.y,l=s.x,h=0,d=0,c=a(s),u=Number(s.fontSize.substring(0,s.fontSize.length-2));if(i.font=s.fontStyle+" "+s.fontWeight+" "+s.fontSize+" "+s.fontFamily,s.showLabel&&(h=Math.max(h,i.measureText(s.name).width)),s.showValues){var p=f(e,s),m=p.xTextValue+", "+p.yTextValue;h=Math.max(h,i.measureText(m).width)}"right"===s.halign&&l+h>.95*r?s.halign="left":"left"===s.halign&&l-h<.05*r&&(s.halign="right"),d=c*(u+t.labelPadding),"below"===s.valign&&o+d>.95*n?s.valign="above":"above"===s.valign&&o-d<.05*n&&(s.valign="below")}(i,s,r),function(e,t,i){if(0!==i.lineWidth){var s,r,n,o=i.lineWidth%2?.5:0;if(t.strokeStyle=i.color,t.lineWidth=i.lineWidth,t.lineJoin="round",t.beginPath(),-1!==i.mode.indexOf("x")&&l(e,i)){var a=Math.floor(i.x)+o;if(i.dashes<=0)t.moveTo(a,0),t.lineTo(a,e.height());else for(r=2*i.dashes-1,s=e.height()/r,n=0;n<r;n+=2)t.moveTo(a,s*n),t.lineTo(a,s*(n+1))}if(-1!==i.mode.indexOf("y")&&h(e,i)){var d=Math.floor(i.y)+o;if(i.dashes<=0)t.moveTo(0,d),t.lineTo(e.width(),d);else for(r=2*i.dashes-1,s=e.width()/r,n=0;n<r;n+=2)t.moveTo(s*n,d),t.lineTo(s*(n+1),d)}t.stroke()}}(i,s,r),function(e,t,i){if(i.showLabel&&d(e,i)){t.beginPath();var s=o(0,i,0,a(i));t.fillStyle=i.color,t.textAlign=s.textAlign,t.font=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+" "+i.fontFamily,t.fillText(i.name,s.x,s.y),t.textAlign="left",t.stroke()}}(i,s,r),function(e,i,s){if(s.showIntersections&&m(s)){if(i.beginPath(),void 0===s.intersections)return;s.intersections.points.forEach(function(r,n){if("object"!==babelHelpers.typeof(s.showIntersections)||-1!==s.showIntersections.indexOf(n)){var o,a=e.p2c(r);i.fillStyle=s.intersectionColor,i.fillRect(Math.floor(a.left)-t.iRectSize/2,Math.floor(a.top)-t.iRectSize/2,t.iRectSize,t.iRectSize),o="function"==typeof s.formatIntersectionData?s.formatIntersectionData(r):r.y.toFixed(2),function(e,i,s,r,n,o,a,l,h){var d,c=Number(l.substring(0,l.length-2));switch(n){case"left":d=e.measureText(i).width,s=s-d-t.iRectSize;break;case"bottom-left":d=e.measureText(i).width,s=s-d-t.iRectSize,r+=c;break;case"top-left":d=e.measureText(i).width,s=s-d-t.iRectSize,r-=t.iRectSize;break;case"top-right":s+=t.iRectSize,r-=t.iRectSize;break;case"right":s+=t.iRectSize;break;case"bottom-right":default:s+=t.iRectSize,r+=c}e.textBaseline="middle",e.font=o+" "+a+" "+l+" "+h,e.fillText(i,s,r)}(i,o,a.left,a.top,s.intersectionLabelPosition,s.fontStyle,s.fontWeight,s.fontSize,s.fontFamily)}}),i.stroke()}}(i,s,r),function(e,t,i){if(i.showValues&&d(e,i)){var s=f(e,i),r=s.xTextValue+", "+s.yTextValue,n=o(0,i,function(e){return e.showLabel?1:0}(i),a(i));t.fillStyle=i.color,t.textAlign=n.textAlign,t.font=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+" "+i.fontFamily,t.fillText(r,n.x,n.y)}}(i,s,r),"none"!==r.symbol&&function(e,i,s){if(d(e,s)){var r=s.lineWidth%2?.5:0;i.beginPath(),s.highlighted?i.strokeStyle="orange":i.strokeStyle=s.color,s.symbol&&e.drawSymbol&&e.drawSymbol[s.symbol]?(i.fillStyle="white",i.fillRect(Math.floor(s.x)+r-(t.symbolSize/2+1),Math.floor(s.y)+r-(t.symbolSize/2+1),t.symbolSize+2,t.symbolSize+2),e.drawSymbol[s.symbol](i,Math.floor(s.x)+r,Math.floor(s.y)+r,t.symbolSize/2,0)):i.fillRect(Math.floor(s.x)+r-t.symbolSize/2,Math.floor(s.y)+r-t.symbolSize/2,t.symbolSize,t.symbolSize),i.stroke()}}(i,s,r),s.restore(),"none"!==r.showThumbs&&(0===r.thumbs.length?function(i,s,r){var n,o,a,l,h=e.thumb.createSVGLayer(s.getPlaceholder(),s.getEventHolder()),d={size:t.thumbRadius,svgRoot:h,abbreviation:i.thumbAbbreviation||i.name[0],classList:i.thumbClassList};U(i)&&(o=i.x+r.left,a=-1!==i.showThumbs.indexOf("b")?s.height()+r.top+t.thumbRadius:r.top-t.thumbRadius,l=function(e,t,i,r){var n=s.offset().left,o=Math.max(n,Math.min(e,s.width()+n));return[o,r]},d.shape=-1!==i.showThumbs.indexOf("b")?"bottom":"top",d.x=o,d.y=a,d.constraintFunction=l,n=e.thumb.createThumb(d),i.thumbs.push(n)),X(i)&&(o=-1!==i.showThumbs.indexOf("l")?r.left-t.thumbRadius:r.left+s.width()+t.thumbRadius,a=i.y+r.top,l=function(e,t,i,r){var n=s.offset(),o=Math.max(n.top,Math.min(t,s.height()+n.top));return[i,o]},d.shape=-1!==i.showThumbs.indexOf("l")?"left":"right",d.x=o,d.y=a,d.constraintFunction=l,n=e.thumb.createThumb(d),i.thumbs.push(n))}(r,i,v):r.thumbmove||G(i,r,v))}}),w.length>0&&i.getPlaceholder().trigger("cursorupdates",[w])}),c.hooks.shutdown.push(function(t,i){i[0].removeEventListener("panstart",T),i[0].removeEventListener("pandrag",C),i[0].removeEventListener("panend",I),i[0].removeEventListener("pinchstart",k),i[0].removeEventListener("pinchdrag",P),i[0].removeEventListener("pinchend",M),i[0].removeEventListener("thumbmovestart",N.start),i[0].removeEventListener("thumbmove",N.drag),i[0].removeEventListener("thumbmoveend",N.end),i.unbind("dragstart",D),i.unbind("drag",B),i.unbind("dragend",A),i.unbind("mousemove",O),i.unbind("cursorupdates");var s=t.getPlaceholder();s.unbind("plotpan",H),s.unbind("plotzoom",H),s.css("cursor","default"),s.find(".flot-thumbs")[0]&&e.thumb.shutdown(s.find(".flot-thumbs")[0].firstChild)})},options:{cursors:[]},name:"cursors",version:"0.2"})}(jQuery),function(e){function t(){if(!(this instanceof t))return arguments.length>1||"number"!=typeof arguments[0]?t.apply(new t(arguments.length),arguments):new t(arguments[0]);if(0===arguments.length)throw new Error("Missing Argument: You must pass a valid buffer length");return this.size=this.start=0,this.overflow=null,arguments.length>1||"number"!=typeof arguments[0]?(this.data=new Array(arguments.length),this.end=(this.length=arguments.length)-1,this.push.apply(this,arguments)):(this.data=new Array(arguments[0]),this.end=(this.length=arguments[0])-1),this}function i(e,t){return e==t?0:e>t?1:-1}t.prototype={constructor:t,pop:function(){var e;if(0!==this.size)return e=this.data[this.end],delete this.data[this.end],this.end=(this.end-1+this.length)%this.length,this.size--,e},push:function(e){return this.data[(this.end+1)%this.length]=e,this.size<this.length&&this.size++,this.end=(this.end+1)%this.length,this.start=(this.length+this.end-this.size+1)%this.length,this.size},reverse:function(){for(var e,t=0;t<~~(this.size/2);t++)e=this.data[(this.start+t)%this.length],this.data[(this.start+t)%this.length]=this.data[(this.start+(this.size-t-1))%this.length],this.data[(this.start+(this.size-t-1))%this.length]=e;return this},rotateLeft:function(e){if(void 0===e&&(e=1),"number"!=typeof e)throw new Error("Argument must be a number");for(;--e>=0;)this.push(this.shift());return this},rotateRight:function(e){if(void 0===e&&(e=1),"number"!=typeof e)throw new Error("Argument must be a number");for(;--e>=0;)this.unshift(this.pop());return this},shift:function(){var e;if(0!==this.size)return e=this.data[this.start],this.start=(this.start+1)%this.length,this.size--,e},sort:function(e){return this.data.sort(e||i),this.start=0,this.end=this.size-1,this},unshift:function(){var e=0;if(this.overflow&&this.size+arguments.length>this.length)for(;e<this.size+arguments.length-this.length;e++)this.overflow(this.data[this.end-e%this.length],this);for(e=0;e<arguments.length;e++)this.data[(this.length+this.start-e%this.length-1)%this.length]=arguments[e];return this.length-this.size-e<0&&(this.end+=this.length-this.size-e,this.end<0&&(this.end=this.length+this.end%this.length)),this.size<this.length&&(this.size+e>this.length?this.size=this.length:this.size+=e),this.start-=arguments.length,this.start<0&&(this.start=this.length+this.start%this.length),this.size},indexOf:function(e,t){for(t||(t=0);t<this.size;t++)if(this.data[(this.start+t)%this.length]===e)return t;return-1},lastIndexOf:function(e,t){for(t||(t=this.size-1);t>=0;t--)if(this.data[(this.start+t)%this.length]===e)return t;return-1},sortedIndex:function(e,t,s){t=t||i;var r=this.start,n=this.size-1;for(r&&t.call(s,e,this.data[n])>0&&(r=0,n=this.end);r<n;){var o=r+n>>>1;t.call(s,e,this.data[o])>0?r=o+1:n=o}return((r-this.start)%this.size+this.size)%this.size},every:function(e,t){for(var i=0;i<this.size;i++)if(!e.call(t,this.data[(this.start+i)%this.length],i,this))return!1;return!0},forEach:function(e,t){for(var i=0;i<this.size;i++)e.call(t,this.data[(this.start+i)%this.length],i,this)},some:function(e,t){for(var i=0;i<this.size;i++)if(e.call(t,this.data[(this.start+i)%this.length],i,this))return!0;return!1},avg:function(){return 0==this.size?0:this.sum()/this.size},sum:function(){for(var e=this.size,t=0;e--;)t+=this.data[e];return t},median:function(){if(0===this.size)return 0;var e=this.slice().sort(i),t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2},empty:function(){return this.size=this.start=0,this.end=this.length-1,this},fill:function(e){var t=0;if("function"==typeof e)for(;this.data[t]=e(),++t<this.length;);else for(;this.data[t]=e,++t<this.length;);return this.start=0,this.end=this.length-1,this.size=this.length,this},first:function(){return this.data[this.start]},last:function(){return this.data[this.end]},get:function(e){return this.data[(this.start+e)%this.length]},isFull:function(e){return this.length===this.size},set:function(e,t){return this.data[(this.start+e)%this.length]=t},toArray:function(){return this.slice()},slice:function(e,t){var i=this.size;if((e=+e||0)<0){if(e>=t)return[];e=-e>i?0:i+e}null==t||t>i?t=i:t<0?t+=i:t=+t||0,i=e<t?t-e:0;for(var s=Array(i),r=0;r<i;r++)s[r]=this.data[(this.start+e+r)%this.length];return s}},"object"==typeof module&&module.exports?module.exports=t:e.CBuffer=t}(this),
/* Segment tree data structure for fast min/max queries

Copyright (c) 2007-2015 National Instruments
Licensed under the MIT license.
*/
function(e){var t=function(){this.init()},i=function(e,t){this.historyBuffer=e,this.cbuffer=t,this.tree=this.buildEmptySegmentTree()};t.prototype.init=function(){this.maxIndex=0,this.minIndex=0,this.max=Math.Nan,this.min=Math.Nan};var s=function(e,t){this.level=t,this.step=Math.pow(e.branchFactor,t),this.capacity=Math.ceil(e.capacity/Math.pow(e.branchFactor,t))+1,this.startIndex=0,this.nodes=new CBuffer(this.capacity)};function r(e,t,i){t<i.min&&(i.min=t,i.minIndex=e),t>i.max&&(i.max=t,i.maxIndex=e)}function n(e,t){e.min<t.min&&(t.min=e.min,t.minIndex=e.minIndex),e.max>t.max&&(t.max=e.max,t.maxIndex=e.maxIndex)}function o(e,t){return t*Math.floor(e/t)}s.prototype.rotate=function(){this.startIndex+=this.step;var e=this.nodes.shift();e.init(),this.nodes.push(e)},s.prototype.init=function(e){this.startIndex=e,this.nodes.forEach(function(e){e.init()})},i.prototype.get=function(e){return e-=this.historyBuffer.startIndex(),this.cbuffer.get(e)},i.prototype.getTreeNode=function(e,t){var i=this.tree.levels[e],s=i.step,r=Math.floor((t-i.startIndex)/s);return r<0||r>=i.capacity?null:i.nodes.get(r)},i.prototype.buildEmptySegmentTree=function(){var e=this.historyBuffer,i=Math.ceil(Math.log(e.capacity)/Math.log(e.branchFactor))-1;i<1&&(i=1);for(var r={depth:i,levels:[]},n=0;n<i;n++){var o=new s(e,n+1);r.levels.push(o);for(var a=0;a<o.capacity;a++){var l=new t;o.nodes.push(l)}}return r},i.prototype.populateTreeLevel=function(e,t){var i,s,r,n,a,l=this.historyBuffer,h=this.cbuffer,d=l.startIndex(),c=l.lastIndex(),u=0,p=0,f=!0,m=0===t?{step:1,startIndex:d}:this.tree.levels[t-1];for(e=o(e,this.tree.levels[t].step),m.startIndex>e&&(u=(e=m.startIndex)/m.step%l.branchFactor),p=e;p<c;p+=m.step){if(0===t){var g=h.get(p-d);f?(s=g,r=p,n=g,a=p,f=!1):(g>s&&(s=g,r=p),g<n&&(n=g,a=p))}else{var v=this.getTreeNode(t-1,p);f?(s=v.max,r=v.maxIndex,n=v.min,a=v.minIndex,f=!1):(v.max>s&&(s=v.max,r=v.maxIndex),v.min<n&&(n=v.min,a=v.minIndex))}++u===l.branchFactor&&(u=0,f=!0,(i=this.getTreeNode(t,p)).max=s,i.maxIndex=r,i.min=n,i.minIndex=a)}0!==u&&((i=this.getTreeNode(t,p)).max=s,i.maxIndex=r,i.min=n,i.minIndex=a)},i.prototype.rotateTreeLevel=function(e){var t=this.historyBuffer,i=t.startIndex(),s=this.tree.levels[e],a=o(i,s.step);if(a-s.startIndex>t.capacity)s.init(a);else for(;s.startIndex<a;)s.rotate();if(i!==a){var l,h={minIndex:i,min:this.get(i),maxIndex:i,max:this.get(i)},d=s.nodes.get(0);if(0===e)for(l=i;l<a+t.branchFactor;l++)r(l,this.get(l),h);else for(l=i;l<a+s.step;l+=s.step/t.branchFactor)n(this.getTreeNode(e-1,l),h);d.minIndex=h.minIndex,d.min=h.min,d.maxIndex=h.maxIndex,d.max=h.max}},i.prototype.updateSegmentTree=function(){var e;for(e=0;e<this.tree.depth;e++)this.rotateTreeLevel(e);for(e=0;e<this.tree.depth;e++)this.populateTreeLevel(this.historyBuffer.lastUpdatedIndex,e)},i.prototype.readMinMax=function(e,t,i){var s,a=t-e,l=this.historyBuffer,h=l.startIndex(),d=this.cbuffer,c=Math.floor(Math.log(a)/Math.log(l.branchFactor));if(c<=0){for(s=e;s<t;s++)r(s,d.get(s-h),i);return i}c>this.tree.levels.length&&(c=this.tree.levels.length);var u=Math.pow(l.branchFactor,c),p=Math.ceil(e/u)*u,f=o(t,u);e!==p&&this.readMinMax(e,p,i);var m=o(h,u),g=(f-m)/u;for(s=(p-m)/u;s<g;s++)n(this.tree.levels[c-1].nodes.get(s),i);return t!==f&&this.readMinMax(f,t,i),i},i.prototype.query=function(e,i,s){var r,n=this.historyBuffer;e=Math.floor(e),i=Math.ceil(i);var o=[],a=n.startIndex(),l=n.lastIndex();if(e<a&&(e=a),e>l&&(e=l),i<a&&(i=a-1),i>l-1&&(i=l-1),s<4)for(r=e;r<=i;r++)o.push(r),o.push(this.get(r));else{var h,d,c=new t;for(r=e;r<=i;r=Math.round(r+s)){var u=Math.min(i+1,Math.round(r+s));c.max=Number.NEGATIVE_INFINITY,c.min=Number.POSITIVE_INFINITY,c.minIndex=0,c.maxIndex=0,h=(c=this.readMinMax(r,u,c)).maxIndex,(d=c.minIndex)===h?(o.push(d),o.push(c.min)):d<h?(o.push(d),o.push(c.min),o.push(h),o.push(c.max)):(o.push(h),o.push(c.max),o.push(d),o.push(c.min))}}return o},"object"==typeof module&&module.exports?module.exports=i:e.SegmentTree=i}(this),
/* history buffer data structure for charting.

Copyright (c) 2007-2015 National Instruments
Licensed under the MIT license.
*/
function(e){var t=function(e,t){this.capacity=e||1024,this.width=t||1,this.lastUpdatedIndex=0,this.firstUpdatedIndex=0,this.branchFactor=32,this.buffers=[],this.trees=[];for(var i=0;i<this.width;i++)this.buffers.push(new CBuffer(e)),this.trees.push(new SegmentTree(this,this.buffers[i]));this.buffer=this.buffers[0],this.tree=this.trees[0],this.count=0,this.callbacks=new Map,this.changed=!1};t.prototype.callOnChange=function(e){this.callbacks.forEach(t=>{t(e)})},t.prototype.setBranchingFactor=function(e){this.branchFactor=e,this.rebuildSegmentTrees()},t.prototype.getDefaultBranchingFactor=function(){return 32},t.prototype.rebuildSegmentTrees=function(){this.trees=[];for(var e=0;e<this.width;e++)this.trees.push(new SegmentTree(this,this.buffers[e]));this.tree=this.trees[0],this.firstUpdatedIndex=this.startIndex(),this.lastUpdatedIndex=this.firstUpdatedIndex,this.updateSegmentTrees()},t.prototype.clear=function(){for(var e=0;e<this.width;e++)this.buffers[e].empty();this.count=0,this.rebuildSegmentTrees(),this.changed=!0,this.callOnChange&&this.callOnChange()},t.prototype.setCapacity=function(e){if(e!==this.capacity){this.capacity=e,this.buffers=[];for(var t=0;t<this.width;t++)this.buffers.push(new CBuffer(e));this.buffer=this.buffers[0],this.count=0,this.rebuildSegmentTrees(),this.changed=!0,this.callOnChange&&this.callOnChange()}},t.prototype.setWidth=function(e){if(e!==this.width){this.width=e,this.buffers=[];for(var t=0;t<this.width;t++)this.buffers.push(new CBuffer(this.capacity));this.buffer=this.buffers[0],this.count=0,this.rebuildSegmentTrees(),this.changed=!0,this.callOnChange&&this.callOnChange()}},t.prototype.getWidth=function(){return this.width},t.prototype.pushNoStatsUpdate=function(e){if("number"==typeof e&&1===this.width)this.buffer.push(e);else if(Array.isArray(e)&&e.length===this.width)for(var t=0;t<this.width;t++)this.buffers[t].push(e[t])},t.prototype.push=function(e){this.pushNoStatsUpdate(e),this.count++,this.changed=!0,this.callOnChange&&this.callOnChange()},t.prototype.startIndex=function(){return Math.max(0,this.count-this.capacity)},t.prototype.lastIndex=function(){return this.startIndex()+this.buffer.size},t.prototype.get=function(e){if(e-=this.startIndex(),1===this.width)return this.buffer.get(e);for(var t=[],i=0;i<this.width;i++)t.push(this.buffers[i].get(e));return t},t.prototype.appendArray=function(e){for(var t=0;t<e.length;t++)this.pushNoStatsUpdate(e[t]);this.count+=e.length,this.changed=!0,this.callOnChange&&this.callOnChange()},t.prototype.toArray=function(){if(1===this.width)return this.buffer.toArray();for(var e=this.startIndex(),t=this.lastIndex(),i=[],s=e;s<t;s++)i.push(this.get(s));return i},t.prototype.updateSegmentTrees=function(){var e=this.buffer;this.trees.forEach(function(e){e.updateSegmentTree()}),this.firstUpdatedIndex=this.startIndex(),this.lastUpdatedIndex=this.firstUpdatedIndex+e.size},t.prototype.toDataSeries=function(e){for(var t=this.buffer,i=[],s=this.startIndex(),r=0;r<t.size;r++)i.push([r+s,this.buffers[e||0].get(r)]);return i},t.prototype.registerOnChange=function(e,t){this.callbacks.has(e)?console.log("Callback with the given key has already been registered."):this.callbacks.set(e,t)},t.prototype.deregisterOnChange=function(e){this.callbacks.delete(e)},t.prototype.query=function(e,t,i,s){return void 0===s&&(s=0),this.changed&&(this.updateSegmentTrees(),this.changed=!1),this.trees[s].query(e,t,i)},t.prototype.rangeX=function(e){var t=this.startIndex(),i=this.lastIndex()-1;return i===t-1?{}:{xmin:t,xmax:i,deltamin:1}},t.prototype.rangeY=function(e,t,i){null==e&&(e=this.startIndex()),null==t&&(t=this.lastIndex()-1),null==i&&(i=0),this.changed&&(this.updateSegmentTrees(),this.changed=!1);var s=this.query(e,t,t-e,i),r=s.length;if(r>0){for(var n={ymin:1/0,ymax:-1/0},o=0;o<r;o+=2)null==s[o+1]||s[o+1]===1/0||s[o+1]===-1/0||isNaN(s[o+1])||(n.ymin=Math.min(n.ymin,s[o+1]),n.ymax=Math.max(n.ymax,s[o+1]));return n}return{}},t.prototype.toJSON=function(){var e={data:[],width:this.width,capacity:this.capacity,valueType:"HistoryBuffer",startIndex:this.startIndex(),count:this.count};if(1===this.width)e.data=this.buffer.toArray();else for(var t=0;t<this.width;t++)e.data.push(this.buffers[t].toArray());return e},"object"==typeof module&&module.exports?module.exports=t:e.HistoryBufferNumeric=t}(this),
/* history buffer data structure for charting.

Copyright (c) 2007-2015 National Instruments
Licensed under the MIT license.
*/
function(e){var t=function(e,t){this.capacity=e||1024,this.width=t||1,this.buffers=[];for(var i=0;i<this.width;i++)this.buffers.push(new CBuffer(e));this.buffer=this.buffers[0],this.count=0,this.callbacks=new Map,this.changed=!1};function i(e,t){if(1==e.Y.length||1==t.Y.length)return!1;var i=new NITimestamp(e.t0).add(e.dt*(e.Y.length-1)).valueOf();return new NITimestamp(t.t0).valueOf()-i>=2*e.dt}t.prototype.__proto__=HistoryBufferNumeric.prototype,t.prototype.rebuildSegmentTrees=function(){},t.prototype.pushNoStatsUpdate=function(e){if(1===this.width)this.buffer.push(e);else if(Array.isArray(e)&&e.length===this.width)for(var t=0;t<this.width;t++)this.buffers[t].push(e[t])},t.prototype.getTreeNodes=function(e,t,i){},t.prototype.updateSegmentTrees=function(){},t.prototype.query=function(e,t,s,r){void 0===r&&(r=0);var n=[],o=this.buffers[r].toArray(),a=o[0];return o.forEach(function(s){(function(e,t,i){if(0===e.Y.length)return!1;var s=new NITimestamp(e.t0),r=s.valueOf(),n=s.valueOf()+e.Y.length*e.dt;return!(r<t&&n<t||r>i&&n>i)})(s,e,t)&&(i(a,s)&&(n.push(null),n.push(null)),a=s,function(e,t,i,s){for(var r,n=e.Y,o=e.t0,a=new NITimestamp(o),l=0;l<n.length;l++)(r=a.valueOf())>=t-e.dt&&r<=i+e.dt&&(s.push(r),s.push(n[l])),a.add(e.dt)}(s,e,t,n))}),n},t.prototype.toDataSeries=function(e){void 0===e&&(e=0);var t=[],s=this.buffers[e].toArray(),r=s[0];return s.forEach(function(e){i(r,e)&&t.push([null,null]),r=e,function(e,t){for(var i,s=e.Y,r=e.t0,n=new NITimestamp(r),o=0;o<s.length;o++)i=n.valueOf(),t.push([i,s[o]]),n.add(e.dt)}(e,t)}),t},t.prototype.rangeX=function(e){var t,i,s,r=1/0,n=-1/0,o=1/0;void 0===e&&(e=0);var a=this.buffers[e].toArray();if(0===a.length)return{};if(a.forEach(function(e){t=new NITimestamp(e.t0),i=t.valueOf(),s=new NITimestamp(t).add(e.dt*(e.Y.length-1)).valueOf(),i<r&&(r=i),s>n&&(n=s),o>Math.abs(e.dt)&&(o=Math.abs(e.dt))}),0===o&&(o=1),r>n){var l=r;r=n,n=l}return{xmin:r,xmax:n,deltamin:o}},t.prototype.rangeY=function(e,t,i){var s={min:1/0,max:-1/0};null==i&&(i=0);var r=this.buffers[i].toArray();if(0===r.length)return{};if(null==e&&(e=new NITimestamp(r[0].t0).valueOf()),null==t){var n=r[r.length-1];t=new NITimestamp(n.t0).add(n.dt*n.Y.length).valueOf()}return r.forEach(function(i){!function(e,t,i,s){var r,n,o,a=e.Y,l=new NITimestamp(e.t0);if(0===a.length)return;if(r=l.valueOf(),n=new NITimestamp(l).add(e.dt*e.Y.length).valueOf(),r>s||n<i)return;for(var h=0;h<a.length;h++)(o=new NITimestamp(l).add(e.dt*h).valueOf())<i||o>s||null==a[h]||a[h]===1/0||a[h]===-1/0||isNaN(a[h])||(a[h]>t.max&&(t.max=a[h]),a[h]<t.min&&(t.min=a[h]))}(i,s,e,t)}),{ymin:s.min,ymax:s.max}},t.prototype.toJSON=function(){return{data:this.toArray(),width:this.width,capacity:this.capacity,valueType:"HistoryBuffer",startIndex:this.startIndex(),count:this.count}},"object"==typeof module&&module.exports?module.exports=t:e.HistoryBufferWaveform=t}(this),
/* history buffer data structure for charting, supporting numeric and waveform data

Copyright (c) 2007-2015 National Instruments
Licensed under the MIT license.
*/
function(e){var t=function(e,t){this.hb=new HistoryBufferNumeric(e,t),this.hbType="numeric"};t.prototype.setType=function(e){if(e!==this.hbType){if("numeric"===e){var t=this.hb.callbacks;this.hb.callbacks=void 0,this.hb=new HistoryBufferNumeric(this.capacity,this.width),t.forEach((e,t)=>{this.hb.registerOnChange(t,e)}),this.hbType="numeric",this.hb.callOnChange()}if("analogWaveform"===e){t=this.hb.callbacks;this.hb.callbacks=void 0,this.hb=new HistoryBufferWaveform(this.capacity,this.width),t.forEach((e,t)=>{this.hb.registerOnChange(t,e)}),this.hbType="analogWaveform",this.hb.callOnChange()}}},t.prototype.clear=function(){this.hb.clear()},t.prototype.setCapacity=function(e){this.hb.setCapacity(e)},t.prototype.setWidth=function(e){this.hb.setWidth(e)},t.prototype.push=function(e){this.hb.push(e)},t.prototype.startIndex=function(){return this.hb.startIndex()},t.prototype.lastIndex=function(){return this.hb.lastIndex()},t.prototype.get=function(e){return this.hb.get(e)},t.prototype.appendArray=function(e){this.hb.appendArray(e)},t.prototype.toArray=function(){return this.hb.toArray()},t.prototype.toDataSeries=function(e){return this.hb.toDataSeries(e)},t.prototype.registerOnChange=function(e,t){this.hb.registerOnChange(e,t)},t.prototype.deregisterOnChange=function(e,t){this.hb.deregisterOnChange(e,t)},t.prototype.query=function(e,t,i,s){return this.hb.query(e,t,i,s)},t.prototype.rangeX=function(e){return this.hb.rangeX(e)},t.prototype.rangeY=function(e,t,i){return this.hb.rangeY(e,t,i)},t.prototype.toJSON=function(){return this.hb.toJSON()},Object.defineProperty(t.prototype,"width",{get:function(){return this.hb.width}}),Object.defineProperty(t.prototype,"count",{get:function(){return this.hb.count},set:function(e){this.hb.count=e}}),Object.defineProperty(t.prototype,"capacity",{get:function(){return this.hb.capacity}}),"object"==typeof module&&module.exports?module.exports=t:e.HistoryBuffer=t}(this),
/* Flot plugin that makes charting easier and more efficient.

Copyright (c) 2007-2015 National Instruments
Licensed under the MIT license.
*/
function(e){function t(e,t,s,r){var n;if(t.historyBuffer){var o,a=t.historyBuffer;n=a.indexMap;var l=e.getData().indexOf(t);l<a.width?(o=function(e,t){var i=e.rangeX(t),s=[];if(void 0===i.xmin||void 0===i.xmax||void 0===i.deltamin)return[];return s[0]=i.xmin,s[2]=i.xmax,s[4]=i.xmax-i.deltamin,s[1]=0,s[3]=1,s[5]=2,s}(a,l),t.index=l):o=[];for(var h=r.points,d=0;d<o.length;d+=2)h[d]=n?n[o[d]]:o[d],h[d+1]=o[d+1];h.length=o.length,r.pointsize=2,t.decimate=i,t.decimatePoints=i}}function i(e,t,i,s){var r=e.historyBuffer,n=i-t,o=r.indexMap,a=e.datapoints,l=Math.floor(n/s),h=e.index;if(h<r.width)var d=e.historyBuffer.query(t,i,l,h);else d=[];for(var c=a.points,u=0;u<d.length;u+=2)c[u]=o?o[d[u]]:d[u],c[u+1]=d[u+1];return c.length=d.length,a.pointsize=2,c}function s(e,t){for(var i=e.getData(),s=0;s<t.width;s++)"object"==typeof i[s]?(i[s].data=[],i[s].datapoints=void 0):i[s]={data:[]};e.setData(i)}function r(e,t,i){t.datapoints.points&&(i.xmin=t.datapoints.points[0])}function n(e,t){if("y"===t.direction&&"none"!==t.options.autoScale){var i,s,r,n,o,a=e.getData().filter(function(e){return e.yaxis===t}),l=a.length;for(i=0;i<l;i++)o=a[i].index,s=a[i].xaxis.min?a[i].xaxis.min:a[i].xaxis.options.min,r=a[i].xaxis.max?a[i].xaxis.max:a[i].xaxis.options.max,i<a[i].historyBuffer.width&&(n=a[i].historyBuffer.rangeY(s,r,o),0===i?(t.datamin=n.ymin,t.datamax=n.ymax):(t.datamin=Math.min(t.datamin,n.ymin)||void 0,t.datamax=Math.max(t.datamax,n.ymax)||void 0))}}jQuery.plot.plugins.push({init:function(e){var i=!1;e.hooks.processOptions.push(function(e){var o=e.getOptions().series.historyBuffer;o&&(e.hooks.processRawData.push(t),o.registerOnChange("setDataCallback",function(){!function(e,t){e.dataUpdateTriggered||(e.dataUpdateTriggered=requestAnimationFrame(function(){i||(s(e,t),function(e){e.setupGrid(!0),e.draw()}(e)),e.dataUpdateTriggered=null}))}(e,o)}),s(e,o),e.hooks.adjustSeriesDataRange.push(r),e.hooks.setRange.push(n),e.hooks.shutdown.push(function(){o.deregisterOnChange("setDataCallback"),i=!0}))})},name:"charting",version:"0.3"})}(),
/* * The MIT License
Copyright (c) 2010, 2011, 2012, 2013 by Juergen Marsch
Copyright (c) 2015 by Andrew Dove & Ciprian Ceteras
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the 'Software'), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/
function(e,t){function i(e){return e.options.type===s.ColorScaleType}function s(){this.pluginName="intensitygraph",this.pluginVersion="0.2",this.defaultOptions={series:{intensitygraph:{data:[],show:!1,lowColor:"rgba(0,0,0,1)",highColor:"rgba(255,255,255,1)",min:0,max:1}}};var e=[{value:0,color:"#3182bd"},{value:.5,color:"#9ecae1"},{value:1,color:"#deebf7"}],r={centerX:20,centerY:0};function n(e,t,i,s){!0===e.getOptions().series.intensitygraph.show&&i[0].length>0&&(s.pointsize=2,s.points.length=0,s.points.push(0,0),s.points.push(i.length||0,i[0]?i[0].length:0))}this.init=function(o){var a,l,h,d=null;function c(e,t,r){var n=e.getPlotOffset(),o=e.getSurface().pixelRatio,c=e.getYAxes().filter(function(e){return i(e)})[0],u=c&&"none"!==c.options.autoScale?c.min:r.intensitygraph.min,p=c&&"none"!==c.options.autoScale?c.max:r.intensitygraph.max;function f(e,t,i){return a&&a.width===t&&a.height===i||(a=e.createImageData(t,i)),a}r.data.length>0&&r.data[0].length>0&&(t.save(),t.beginPath(),t.rect(n.left,n.top,e.width(),e.height()),t.clip(),r.xaxis.options.mode&&"linear"!==r.xaxis.options.mode||r.yaxis.options.mode&&"linear"!==r.yaxis.options.mode?function(e,t){var i=Math.max(e.xaxis.min,0),s=Math.min(e.data.length,e.xaxis.max),r=Math.max(e.yaxis.min,0),a=Math.min(e.data[0].length,e.yaxis.max),l=e.xaxis.p2c(i),h=e.xaxis.p2c(s),d=e.yaxis.p2c(r),c=e.yaxis.p2c(a),m=Math.floor(l*o),g=Math.floor(h*o),v=Math.floor(c*o),x=Math.floor(d*o),b=g-m,w=x-v;if(b>0&&w>0){var y=f(t,b,w);!function(e,t,i,s,r,n,o,a,l,h,d,c,u,p){var f,m,g,v,x,b,w,y,_,j,q,S,T=u-c;for(f=0;f<n;f++)for(g=0|a(t+f/p),m=o-1;m>=0;m--){for(v=0|l(s-m/p),_=d[g][v],w=0|Math.min(a(t+f/p+1),d.length),y=0|Math.min(l(s-m/p-1),d[0].length),x=g;x<w;x++)for(b=v;b<y;b++)(j=d[x][b])>_&&(_=j);for(x=g;x<w;x++)(j=d[x][v])>_&&(_=j);for(b=v;b<y;b++)(j=d[g][b])>_&&(_=j);q=_<c?1024:_>u?1028:4*Math.round(255*(_-c)/T),S=4*(o-m-1)*n+4*f,e.data[S+0]=h[q+0],e.data[S+1]=h[q+1],e.data[S+2]=h[q+2],e.data[S+3]=h[q+3]}}(y,l,0,d,0,b,w,e.xaxis.c2p,e.yaxis.c2p,e.intensitygraph.palette,e.data,u,p,o),t.putImageData(y,Math.ceil((l+n.left)*o),Math.ceil((c+n.top)*o))}}(r,t):function(t,i){var r,a,d=0|Math.floor(Math.max(t.xaxis.min,0)),c=0|Math.ceil(Math.min(t.data.length,t.xaxis.max)),m=0|Math.floor(Math.max(t.yaxis.min,0)),g=0|Math.ceil(Math.min(t.data[0].length,t.yaxis.max)),v=t.xaxis.p2c(d),x=t.xaxis.p2c(c),b=t.yaxis.p2c(m),w=t.yaxis.p2c(g),y=Math.abs((c-d)/(x-v))/o,_=Math.abs((g-m)/(w-b))/o,j=y>1&&_>1;e.getYAxes().filter(function(e){return s.prototype.isColorScale(e)})[0];if(j){var q=Math.floor(v*o),S=Math.floor(x*o),T=Math.floor(w*o),C=Math.floor(b*o);a=C-T,(r=S-q)>0&&a>0&&(imgData=f(i,r,a),function(e,t,i,s,r,n,o,a,l,h,d,c,u){var p,f,m,g,v,x,b,w,y,_,j,q,S=u-c;for(p=0;p<n;p++)for(m=t+p*a|0,f=0;f<o;f++){for(g=s+f*l|0,y=d[m][g],b=0|Math.floor(Math.min(m+a,d.length)),w=0|Math.floor(Math.min(g+l,d[0].length)),v=m;v<b;v++)for(x=g;x<w;x++)(_=d[v][x])>y&&(y=_);j=y<c?1024:y>u?1028:4*Math.round(255*(y-c)/S),q=4*(o-f-1)*n+4*p,e.data[q+0]=h[j+0],e.data[q+1]=h[j+1],e.data[q+2]=h[j+2],e.data[q+3]=h[j+3]}}(imgData,d,0,m,0,r,a,y,_,t.intensitygraph.palette,t.data,u,p),i.putImageData(imgData,Math.ceil((v+n.left)*o),Math.ceil((w+n.top)*o)))}else a=g-m,(r=c-d)>0&&a>0&&(imgData=function(e,t){l||((l=document.createElement("canvas")).className="tempCanvas",l.style.visibility="hidden",h=null);h&&l.width===e&&l.height===t||(l.width=e,l.style.width=e+"px",l.height=t,l.style.height=t+"px",h=l.getContext("2d").createImageData(e,t));return h}(r,a),function(e,t,i,s,r,n,o,a,l,h,d){var c,u,p,f,m,g=d-h;for(c=t;c<i;c++)for(u=s;u<r;u++)p=l[c][u],f=p<h?1024:p>d?1028:4*Math.round(255*(p-h)/g),m=4*(r-u-1)*n+4*(c-t),e.data[m+0]=a[f+0],e.data[m+1]=a[f+1],e.data[m+2]=a[f+2],e.data[m+3]=a[f+3]}(imgData,d,c,m,g,r,0,t.intensitygraph.palette,t.data,u,p),l.getContext("2d").putImageData(imgData,0,0),i.imageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.msImageSmoothingEnabled=!1,i.drawImage(l,0,0,r,a,v+n.left,w+n.top,Math.max(x-v,1),Math.max(b-w,1)))}(r,t),t.restore()),function(e,t,i){var r=i&&i.show?i.box.left+10:n.left+e.width()+20,o=d.series.intensitygraph.gradient,a=d.series.intensitygraph.lowColor,l=d.series.intensitygraph.highColor;i&&i.show&&s.prototype.drawLegend(t,r,n.top,10,e.height(),o,a,l)}(e,t,c)}o.hooks.processOptions.push(function(i,o){if(o.series.intensitygraph.show){o.series.intensitygraph.gradient||(o.series.intensitygraph.gradient=e);var a=i.getYAxes(),l=a.filter(function(e){return s.prototype.isColorScale(e)})[0];!l||l.boxPosition&&0!==l.boxPosition.centerX||(l.boxPosition=r),i.hooks.drawSeries.push(c),i.hooks.processRawData.push(n),d=o,o.series.intensitygraph.palette=function(e){var i,s,r=document.createElement("canvas");r.width="1",r.height="256";var n,o=r.getContext("2d"),a=o.createLinearGradient(0,0,0,256),l=e.series.intensitygraph.gradient,h=l[0].value,d=l[l.length-1].value;if(d===h)a.addColorStop(0,l[0].color),a.addColorStop(1,l[0].color);else for(i=0;i<l.length;i++)s=l[i].value,(n=(s-h)/(d-h))>=0&&n<=1&&a.addColorStop(n,l[i].color);o.fillStyle=a,o.fillRect(0,0,1,256);var c=[],u=o.getImageData(0,0,1,256).data;for(i=0;i<u.length;i++)c[i]=u[i];var p=e.series.intensitygraph.lowColor,f=e.series.intensitygraph.highColor,m=t.color.parse(p),g=t.color.parse(f);return c.push(0|m.r),c.push(0|m.g),c.push(0|m.b),c.push(255*m.a|0),c.push(0|g.r),c.push(0|g.g),c.push(0|g.b),c.push(255*g.a|0),c}(o)}})}}s.ColorScaleType="colorScale",s.prototype.drawLegend=function(e,t,i,s,r,n,o,a){var l,h,d=e.createLinearGradient(0,i+r,0,i),c=n[0].value,u=n[n.length-1].value;for(h=0;h<n.length;h++)(l=(n[h].value-c)/(u-c))>=0&&l<=1&&d.addColorStop(l,n[h].color);e.fillStyle=d,e.fillRect(t,i,s,r),e.fillStyle=o,e.fillRect(t,i+r,s,7),e.strokeStyle="#000000",e.lineWidth=1,e.strokeRect(t-.5,i+r+.5,s+1,7),e.fillStyle=a,e.fillRect(t,i-7,s,7),e.strokeStyle="#000000",e.lineWidth=1,e.strokeRect(t-.5,i-7+.5,s+1,7)},s.prototype.isColorScale=i;var r=new s;t.plot.plugins.push({init:r.init,options:r.defaultOptions,name:r.pluginName,version:r.pluginVersion}),t.plot.IntensityGraph=s}(0,jQuery),NationalInstruments.Globals={},NationalInstruments.Globals.jQuery=$.noConflict(!0);